{"list_string": ["Is there an existing application or library in Java which will allow me to convert a CSV data file to XML file?  \nThe XML tags would be provided through possibly the first row containing column headings.\n", "What is the \"purist\" or \"correct\" way to access an object's properties from within an object method that is not a getter/setter method?\nI know that from outside of the object you should use a getter/setter, but from within would you just do:\nJava:\nString property = this.property;\n\nPHP:\n$property = $this->property;\n\nor would you do:\nJava:\nString property = this.getProperty();\n\nPHP:\n$property = $this->getProperty();\n\nForgive me if my Java is a little off, it's been a year since I programmed in Java...\nEDIT:\nIt seems people are assuming I am talking about private or protected variables/properties only. When I learned OO I was taught to use getters/setters for every single property even if it was public (and actually I was told never to make any variable/property public). So, I may be starting off from a false assumption from the get go. It appears that people answering this question are maybe saying that you should have public properties and that those don't need getters and setters, which goes against what I was taught, and what I was talking about, although maybe that needs to be discussed as well. That's probably a good topic for a different question though...\n", "What is the meaning of the Java warning?\n\nType safety: The cast from Object to List is actually checking against the erased type List\n\nI get this warning when I try to cast an Object to a type with generic information, such as in the following code:\nObject object = getMyList();\nList<Integer> list = (List<Integer>) object;\n\n", "I was reading More Joel on Software when I came across Joel Spolsky saying something about a particular type of programmer knowing the difference between an int and an Integer in Java/C# (Object Oriented Programming Languages).\nSo, what is the difference?\n", "Is there a way to create a JButton with your own button graphic and not just with an image inside the button? \nIf not, is there another way to create a custom button in java?\n", "For parsing player commands, I've most often used the split method to split a string by delimiters and then to then just figure out the rest by a series of ifs or switches. What are some different ways of parsing strings in Java?\n", "I need to send and receive data over serial connections (RS-232 and RS-422).\nHow do I set up and communicate with such a connection?  How do I figure out what the configuration settings (e.g. baud rate) should be and how do I set them?\nIn particular I am looking to do this in Java, C/C++, or one of the major Unix shells but I also have some interest in serial programming using Windows/Hyperterminal.\n", "I have a simple setter method for a property and null is not appropriate for this particular property. I have always been torn in this situation: should I throw an IllegalArgumentException, or a NullPointerException? From the javadocs, both seem appropriate. Is there some kind of an understood standard?  Or is this just one of those things that you should do whatever you prefer and both are really correct?\n", "What code analysis tools do you use on your Java projects?\nI am interested in all kinds\n\nstatic code analysis tools (FindBugs, PMD, and any others)\ncode coverage tools (Cobertura, Emma, and any others)\nany other instrumentation-based tools \nanything else, if I'm missing something\n\nIf applicable, also state what build tools you use and how well these tools integrate with both your IDEs and build tools. \nIf a tool is only available a specific way (as an IDE plugin, or, say, a build tool plugin) that information is also worth noting.\n", "I have an application that writes information to file. This information is used post-execution to determine pass/failure/correctness of the application. I'd like to be able to read the file as it is being written so that I can do these pass/failure/correctness checks in realtime.\nI assume it is possible to do this, but what are the gotchas involved when using Java? If the reading catches up to the writing, will it just wait for more writes up until the file is closed, or will the read throw an exception at this point? If the latter, what do I do then? \nMy intuition is currently pushing me towards BufferedStreams. Is this the way to go?\n", "I want to convert a primitive to a string, and I tried:\nmyInt.toString();\n\nThis fails with the error:\nint cannot be dereferenced\n\nNow, I get that primitives are not reference types (ie, not an Object) and so cannot have methods.  However, Java 5 introduced autoboxing and unboxing (a la C#... which I never liked in C#, but that's beside the point).  So with autoboxing, I would expect the above to convert myInt to an Integer and then call toString() on that.\nFurthermore, I believe C# allows such a call, unless I remember incorrectly.  Is this just an unfortunate shortcoming of Java's autoboxing/unboxing specification, or is there a good reason for this?\n", "Example: I have two shared objects (same should apply to .dlls). The first shared object is from a third-party library, we'll call it libA.so. I have wrapped some of this with JNI and created my own library, libB.so. Now libB depends on libA.\nWhen webstarting, both libraries are places in some webstart working area. My java code attempts to load libB. At this point the system loader will attempt to load libA which is not in the system library path (java.library.path won't help this). The end result is that libB has an unsatisfied link and cannot be used. \nI have tried loading libA before libB, but that still does not work. Seems the OS wants to do that loading for me. Is there any way I can make this work other than statically  compiling?\n", "I saw this in an answer to another question, in reference to shortcomings of the java spec:\n\nThere are more shortcomings and this is a subtle topic. Check this out:\npublic class methodOverloading{\n     public static void hello(Integer x){\n          System.out.println(\"Integer\");\n     }\n\n     public static void hello(long x){\n          System.out.println(\"long\");\n     }\n\n     public static void main(String[] args){\n         int i = 5;\n         hello(i);\n     }\n}\n\nHere \"long\" would be printed (haven't checked it myself), because the compiler choses >widening over autoboxing. Be careful when using autoboxing or don't use it at all!\n\nAre we sure that this is actually an example of widening instead of autoboxing, or is it something else entirely?\nOn my initial scanning, I would agree with the statement that the output would be \"long\" on the basis of i being declared as a primitive and not an object.  However, if you changed \nhello(long x)\n\nto\nhello(Long x)\n\nthe output would print \"Integer\"\nWhat's really going on here?  I know nothing about the compilers/bytecode interpreters for java...\n", "What is the Java equivalent of PHP's $_POST? After searching the web for an hour, I'm still nowhere closer.\n", "So, in Java, the first line of your constructor HAS to be a call to super... be it implicitly calling super(), or explicitly calling another constructor.  What I want to know is, why can't I put a try block around that?\nMy specific case is that I have a mock class for a test.  There is no default constructor, but I want one to make the tests simpler to read.  I also want to wrap the exceptions thrown from the constructor into a RuntimeException.\nSo, what I want to do is effectively this:\npublic class MyClassMock extends MyClass {\n    public MyClassMock() {\n        try {\n            super(0);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    // Mocked methods\n}\n\nBut Java complains that super isn't the first statement.\nMy workaround:\npublic class MyClassMock extends MyClass {\n    public static MyClassMock construct() {\n        try {\n            return new MyClassMock();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public MyClassMock() throws Exception {\n        super(0);\n    }\n\n    // Mocked methods\n}\n\nIs this the best workaround?  Why doesn't Java let me do the former?\n\nMy best guess as to the \"why\" is that Java doesn't want to let me have a constructed object in a potentially inconsistent state... however, in doing a mock, I don't care about that.  It seems I should be able to do the above... or at least I know that the above is safe for my case... or seems as though it should be anyways.\nI am overriding any methods I use from the tested class, so there is no risk that I am using uninitialized variables.\n", "I just saw a comment of suggesting J#, and it made me wonder... is there a real, beneficial use of J# over Java?  So, my feeling is that the only reason you would even consider using J# is that management has decreed that the company should jump on the Java bandwagon... and the .NET bandwagon.  If you use J#, you are effectively losing the biggest benefit of picking Java... rich cross platform support.  Sure there is Mono, but it's not as richly supported or as full featured right?  I remember hearing Forms are not fully (perhaps at all) supported.\nI'm not trying to bash .NET here, I'm just saying, if you are going to go the Microsoft route, why not just use C#?  If you are going to go the Java route, why would J# enter the picture?\nI'm hoping to find some real world cases here, so please especially respond if you've ACTUALLY used J# in a REAL project, and why.\n", "I've found many sources that talk about the automated Eclipse PDE process.  I feel these sources don't do a good job explaining what's going on.\nI can create the deployable package, in a semi-manual process via the Feature Export.  \nThe automated process requires knowledge of how the org.eclipse.pde.build scripts work.  I have gotten a build created, but not for JNLP.\nQuestions:\n\nHas anyone ever deployed RCP through JNLP?\nWere you able to automate the builds?\n\n", "Is anyone successfully using the latest 64-bit Ganymede release of Eclipse on Windows XP or Vista 64-bit?\nCurrently I run the normal Eclipse 3.4 distribution on a 32bit JDK and launch & compile my apps with a 64bit JDK. Our previous experience has been that the 64bit Eclipse distro is unstable for us, so I'm curious if anyone is using it successfully.\nWe are using JDK 1.6.0_05.\n", "I am running a Tomcat application, and I need to display some time values.  Unfortunately, the time is coming up an hour off.  I looked into it and discovered that my default TimeZone is being set to:\nsun.util.calendar.ZoneInfo[id=\"GMT-08:00\",\n                           offset=-28800000,\n                           dstSavings=0,\n                           useDaylight=false,\n                           transitions=0,\n                           lastRule=null]\n\nRather than the Pacific time zone.  This is further indicated when I try to print the default time zone's display name, and it comes up \"GMT-08:00\", which seems to indicate to me that it is not correctly set to the US Pacific time zone.  I am running on Ubuntu Hardy Heron, upgraded from Gutsy Gibbon.\nIs there a configuration file I can update to tell the JRE to use Pacific with all the associated daylight savings time information?  The time on my machine shows correctly, so it doesn't seem to be an OS-wide misconfiguration.\n\nOk, here's an update. A coworker suggested I update JAVA_OPTS in my /etc/profile to include \"-Duser.timezone=US/Pacific\", which worked (I also saw CATALINA_OPTS, which I updated as well). Actually, I just exported the change into the variables rather than use the new /etc/profile (a reboot later will pick up the changes and I will be golden).\nHowever, I still think there is a better solution... there should be a configuration for Java somewhere that says what timezone it is using, or how it is grabbing the timezone. If someone knows such a setting, that would be awesome, but for now this is a decent workaround.\n\nI am using 1.5, and it is most definitely a DST problem.  As you can see, the time zone is set to not use daylight savings.  My belief is it is generically set to -8 offset rather than the specific Pacific timezone.  Since the generic -8 offset has no daylight savings info, it's of course not using it, but the question is, where do I tell Java to use Pacific time zone when it starts up?  I'm NOT looking for a programmatic solution, it should be a configuration solution.\n", "On a recent Java project, we needed a free Java based real-time data plotting utility.  After much searching, we found this tool called the Scientific Graphics Toolkit or SGT from NOAA.  It seemed pretty robust, but we found out that it wasn't terribly configurable.  Or at least not configurable enough to meet our needs.  We ended up digging very deeply into the Java code and reverse engineering the code and changing it all around to make the plot tool look and act the way we wanted it to look and act.  Of course, this killed any chance for future upgrades from NOAA.  \nSo what free or cheap Java based data plotting tools or libraries do you use?\nFollowup:  Thanks for the JFreeChart suggestions.  I checked out their website and it looks like a very nice data charting and plotting utility.  I should have made it clear in my original question that I was looking specifically to plot real-time data.  I corrected my question above to make that point clear.  It appears that JFreeChart support for live data is marginal at best, though.  Any other suggestions out there?\n", "At work we are currently still using JUnit 3 to run our tests. We have been considering switching over to JUnit 4 for new tests being written but I have been keeping an eye on TestNG for a while now. What experiences have you all had with either JUnit 4 or TestNG, and which seems to work better for very large numbers of tests? Having flexibility in writing tests is also important to us since our functional tests cover a wide aspect and need to be written in a variety of ways to get results.\nOld tests will not be re-written as they do their job just fine. What I would like to see in new tests though is flexibility in the way the test can be written, natural assertions, grouping, and easily distributed test executions.\n", "I'm going to start a new project - rewriting an existing system (PHP + SQL Server) from scratch because of some very serious limitations by design.\nWe have some quite good knowledge of SQL Server (currently we're using SQL Server 2000 in existing system) and we would like to employ its newer version (2008 I guess) in our new project.\nI am really fond of technologies that Java offers - particularly Spring Framework and Wicket and I am quite familiar with Java from others projects and assignments before.\nTherefore, we consider using Java and Microsoft SQL Server.\nThere are two JDBC drivers for SQL Server - jTDS and Microsoft's one - http://msdn.microsoft.com/en-us/data/aa937724.aspx. I think we should test both of them.\nAre there any limitations in such solution I should know of? Has someone experience with such a technology combination?\n", "I was hoping someone could help me out with a problem I'm having using the java search function in Eclipse on a particular project.\nWhen using the java search on one particular project, I get an error message saying Class file name must end with .class (see stack trace below). This does not seem to be happening on all projects, just one particular one, so perhaps there's something I should try to get rebuilt?\nI have already tried Project -> Clean... and Closing Eclipse, deleting all the built class files and restarting Eclipse to no avail.\nThe only reference I've been able to find on Google for the problem is at http://www.crazysquirrel.com/computing/java/eclipse/error-during-java-search.jspx, but unfortunately his solution (closing, deleting class files, restarting) did not work for me.\nIf anyone can suggest something to try, or there's any more info I can gather which might help track it's down, I'd greatly appreciate the pointers.\nVersion: 3.4.0\nBuild id: I20080617-2000\n\nAlso just found this thread - http://www.myeclipseide.com/PNphpBB2-viewtopic-t-20067.html - which indicates the same problem may occur when the project name contains a period. Unfortunately, that's not the case in my setup, so I'm still stuck.\nCaused by: java.lang.IllegalArgumentException: Class file name must end with .class\nat org.eclipse.jdt.internal.core.PackageFragment.getClassFile(PackageFragment.java:182)\nat org.eclipse.jdt.internal.core.util.HandleFactory.createOpenable(HandleFactory.java:109)\nat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1177)\nat org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)\nat org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:223)\nat org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:506)\nat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:551)\nat org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.internalSearch(RefactoringSearchEngine.java:142)\nat org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.search(RefactoringSearchEngine.java:129)\nat org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.initializeReferences(RenameTypeProcessor.java:594)\nat org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.doCheckFinalConditions(RenameTypeProcessor.java:522)\nat org.eclipse.jdt.internal.corext.refactoring.rename.JavaRenameProcessor.checkFinalConditions(JavaRenameProcessor.java:45)\nat org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:225)\nat org.eclipse.ltk.core.refactoring.Refactoring.checkAllConditions(Refactoring.java:160)\nat org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper$Operation.run(RefactoringExecutionHelper.java:77)\nat org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39)\nat org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:709)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800)\nat org.eclipse.jdt.core.JavaCore.run(JavaCore.java:4650)\nat org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:92)\nat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)\n\nThanks McDowell, closing and opening the project seems to have fixed it (at least for now).\n", "I'm part of a team that develops a pretty big Swing Java Applet. Most of our code are legacy and there are tons of singleton references. We've bunched all of them to a single \"Application Context\" singleton. What we now need is to create some way to separate the shared context (shared across all applets currently showing) and non-shared context (specific to each applet currently showing). \nHowever, we don't have an ID at each of the locations that call to the singleton, nor do we want to propagate the ID to all locations. What's the easiest way to identify in which applet context we're running? (I've tried messing with classloaders, thread groups, thread ids... so far I could find nothing that will enable me to ID the origin of the call).\n", "Recently I tried understanding the use of java.math.MathContext but failed to understand properly. Is it used for rounding in java.math.BigDecimal, if yes why does not it round the decimal digits but even mentissa part.\nFrom API docs, I came to know that it follows the standard specified in ANSI X3.274-1996 and ANSI X3.274-1996/AM 1-2000 specifications but I did not get them to read online.\nPlease let me know if you have any idea on this.\n", "First of all, I know how to build a Java application. But I have always been puzzled about where to put my classes. There are proponents for organizing the packages in a strictly domain oriented fashion, others separate by tier.\nI myself have always had problems with a) with naming, b) with placing\n\nWhere do you put your domain specific constants (and what is the best name for such a class)?\nWhere do you put classes for stuff which is both infrastructural and domain specific (for instance I have a FileStorageStrategy class, which stores the files either in the database, or alternatively in database)?\nWhere to put Exceptions?\nAre there any standards to which I can refer?\n\n", "Searching for some sample code for converting a point in WGS84 coordinate system to a map position in Google Maps (pixel position), also supporting zoom levels. \nIf the codes is well commented, then it can also be in some other language.\nYou can also point me to a open source Java project :)\nSome resources found:\nOpenLayer implementation. \nJOSM project\nExcellent Java Map Projection Library  from JH LABS. This is a pure java PROJ.4 port. Does projection from WGS84 to meters. From there it's quite straightforward to convert meters to tile pixels.\n", "What is the best way to verify/test that a text string is serialized to a byte array with a certain encoding?\nIn my case, I want to verify that an XML structure is serialized to a byte array with the UTF-8 encoding which is of variable character length. As an example, my current ugly procedure is to inject a character known to require two bytes into the structure before serializing, then replacing the two-byte character with an ASCII character and comparing the serialized array lengths. This should yield two serialized arrays where the array containing the two-byte characters should have length +1.\nPlus if the solution is elegant for Java. \nI can't think of any elegant way to seek for a byte sequence in a byte array. (Could be used to seek for a known byte sequence representing the desired character representation in UTF-8.)\n", "I am writing an application in Java for the desktop using the Eclipse SWT library for GUI rendering.  I think SWT helps Java get over the biggest hurdle for acceptance on the desktop: namely providing a Java application with a consistent, responsive interface that looks like that belonging to any other app on your desktop.  However, I feel that packaging an application is still an issue.  \nOS X natively provides an easy mechanism for wrapping Java apps in native application bundles, but producing an app for Windows/Linux that doesn't require the user to run an ugly batch file or click on a .jar is still a hassle.  Possibly that's not such an issue on Linux, where the user is likely to be a little more tech-savvy, but on Windows I'd like to have a regular .exe for him/her to run.\nHas anyone had any experience with any of the .exe generation tools for Java that are out there?  I've tried JSmooth but had various issues with it.  Is there a better solution before I crack out Visual Studio and roll my own?\nEdit:  I should perhaps mention that I am unable to spend a lot of money on a commercial solution.\n", "I have read through several reviews on Amazon and some books seem outdated.  I am currently using MyEclipse 6.5 which is using Eclipse 3.3.  I'm interested in hearing from people that have experience learning RCP and what reference material they used to get started.\n", "At my work we are running a group of tests that consist of about 3,000 separate test cases. Previously we were running this entire test suite on one machine, which took about 24-72 hours to complete the entire test run. We now have created our own system for grouping and distributing the tests among about three separate machines and the tests are prioritized so that the core tests get run first for more immediate results and the extra tests run when there is an available machine.\nI am curious if anyone has found a good way to distribute their tests among several machines to reduce total test time for a complete run and what tools were used to achieve that. I've done some research and it looks like TestNG is moving in this direction, but it looks like it is still under quite a bit of development. \nWe don't plan on rewriting any of our tests, but as we add new tests and test new products or add-ons I'd like to be able to deal with the fact that we are working with very large numbers of tests. On the other hand, if we can find a tool that would help distribute our Junit 3.x tests even in a very basic fashion, that would be helpful since we wouldn't have to maintain our own tooling to do that.\n", "I need to prevent Session Fixation, a particular type of session hijacking, in a Java web application running in JBoss. However, it appears that the standard idiom doesn't work in JBoss. Can this be worked around?\n", "I'm currently trying to get into the Java EE development with the Spring framework. As I'm new to Spring, it is hard to imaging how a good running project should start off.\nDo you have any best practices, tipps or major DO NOTs for a starter? How did you start with Spring - big project or small tutorial-like applications? Which technology did you use right away: AOP, complex Hibernate...\n", "Can anyone recommend a good binary XML format? It's for a JavaME application, so it needs to be a) Easy to implement on the server, and b) Easy to write a low-footprint parser for on a low-end JavaME client device.\nAnd it goes without saying that it needs to be smaller than XML, and faster to parse.\n\nThe data would be something akin to SVG.\n", "We need to add WorkFlow to our Spring managed application. Does anyone have any useful experience in using any of the myriad of OSS Work Flow solutions? Which one is best? Which one integrates with Spring best? Which ones should we avoid?\n", "I have a base class that represents a database test in TestNG, and I want to specify that all classes extending from this class are of a group \"db-test\", however I have found that this doesn't seem possible.  I have tried the @Test annotation:\n@Test(groups = { \"db-test\" })\npublic class DBTestBase {\n}\n\nHowever, this doesn't work because the @Test annotation will try to make a bunch of methods into tests, and warnings/errors pop up in eclipse when the tests are run.\nSo I tried disabling the test, so at least the groups are assigned:\n@Test(enabled = false, groups = { \"db-test\" })\npublic class DBTestBase {\n}\n\nbut then any @BeforeTest (and other similar annotations) ALSO get disabled... which is of course not what I want.\nI would like some way to annotate a class as being of a particular type of group, but it doesn't quite seem possible in TestNG.  Does anyone have any other ideas?\n", "I'd like to utilize an ICE Faces fileInput control to fill in the file path & file name for the input to an input field on a web page based on file that the user selects. How can I capture these properties without actually performing any file transfer operations?\n", "What's the best way to make a linked list in Java?\n", "I am having a strange DB2 issue when I run DBUnit tests.  My DBUnit tests are highly customized, but I don't think it is the issue.  When I run the tests, I get a failure: \n\nSQLCODE: -1084, SQLSTATE: 57019\n\nwhich translates to \n\nSQL1084C Shared memory segments cannot be allocated.\n\nIt sounds like a weird memory issue, though here's the big strange thing.  If I ssh to the test database server, then go in to db2 and do \"connect to MY_DB\", the tests start succeeding!  This seems to have no relation to the supposed memory error that is being reported.\nI have 2 tests, and the first one actually succeeds, the second one is the one that fails.  However, it fails in the DBUnit setup code, when it is obtaining the connection to the DB server to load my xml dataset.\nAny ideas what might be going on?\n", "I'm currently trying to read in an XML file, make some minor changes (alter the value of some attributes), and write it back out again.\nI have intended to use a StAX parser (javax.xml.stream.XMLStreamReader) to read in each event, see if it was one I wanted to change, and then pass it straight on to the StAX writer (javax.xml.stream.XMLStreamReader) if no changes were required.\nUnfortunately, that doesn't look to be so simple - The writer has no way to take an event type and a parser object, only methods like writeAttribute and writeStartElement. Obviously I could write a big switch statement with a case for every possible type of element which can occur in an XML document, and just write it back out again, but it seems like a lot of trouble for something which seems like it should be simple.\nIs there something I'm missing that makes it easy to write out a very similar XML document to the one you read in with StAX?\n", "I have been looking into IKVMing Apache's FOP project to use with our .NET app.  It's a commercial product, and looking into licensing, IKVM runs into some sticky areas because of its use of GNU Classpath.  From what I've seen, no one can say for sure if this stuff can be used in a commercial product.  Has anyone used IKVM, or an IKVM'd product, in a commercial product?  Here's what I've found so far:\nIKVM license page, which notes that one dll contains code from other projects, their license GPLv2 + Classpath Exception\nSaxon for .NET is generated with IKVM, but released under the Apache license...\nAnyone have experience with this?\n", "In Java, there is no such thing as an unsigned byte.\nWorking with some low level code, occasionally you need to work with bytes that have unsigned values greater than 128, which causes Java to interpret them as a negative number due to the MSB being used for sign.\nWhat's a good way to work around this? (Saying don't use Java is not an option)\n", "I would like to automatically generate PDF documents from WebObjects based on mulitpage forms. Assuming I have a class which can assemble the related forms (java/wod files) is there a good way to then parse the individaul forms into a PDF instead of going to the screen?\n", "I've used Apache CXF to expose about ten java classes as web services.\nI've generated clients using CXF, Axis, and .NET.\nIn Axis and CXF a \"Service\" or \"Locator\" is generated. \nFrom this service you can get a \"Port\".\nThe \"Port\" is used to make individual calls to the methods exposed by the web service.\nIn .NET the \"Service\" directly exposes the calls to the web service.\nCan someone explain the difference between a port, a service, a locator, and an endpoint when it comes to web services?\nAxis:\nPatientServiceImplServiceLocator locator = \n    new PatientServiceImplServiceLocator();\nPatientService service = locator.getPatientServiceImplPort();\n\nCXF:\nPatientServiceImplService locator = new PatientServiceImplService();\nPatientService service = locator.getPatientServiceImplPort();\n\n.net:\nPatientServiceImplService service = new PatientServiceImplService();\n\n", "How can I determine the IP of my router/gateway in Java? I can get my IP easily enough. I can get my internet IP using a service on a website. But how can I determine my gateway's IP?\nThis is somewhat easy in .NET if you know your way around. But how do you do it in Java?\n", "I wonder if anyone uses commercial/free java obfuscators on his own commercial product. I know only about one project that actually had an obfuscating step in the ant build step for releases.\nDo you obfuscate? And if so, why do you obfuscate?\nIs it really a way to protect the code or is it just a better feeling for the developers/managers?\nedit: Ok, I to be exact about my point: Do you obfuscate to protect your IP (your algorithms, the work you've put into your product)? I won't obfuscate for security reasons, that doesn't feel right. So I'm only talking about protecting your applications code against competitors.\n@staffan has a good point:\n\nThe reason to stay away from chaining code flow is that some of those changes makes it impossible for the JVM to efficiently optimize the code. In effect it will actually degrade the performance of your application.\n\n", "OK, so I don't want to start a holy-war here, but we're in the process of trying to consolidate the way we handle our application configuration files and we're struggling to make a decision on the best approach to take. At the moment, every application we distribute is using it's own ad-hoc configuration files, whether it's property files (ini style), XML or JSON (internal use only at the moment!).\nMost of our code is Java at the moment, so we've been looking at Apache Commons Config, but we've found it to be quite verbose. We've also looked at XMLBeans, but it seems like a lot of faffing around. I also feel as though I'm being pushed towards XML as a format, but my clients and colleagues are apprehensive about trying something else. I can understand it from the client's perspective, everybody's heard of XML, but at the end of the day, shouldn't be using the right tool for the job?\nWhat formats and libraries are people using in production systems these days, is anyone else trying to avoid the angle bracket tax?\nEdit: really needs to be a cross platform solution: Linux, Windows, Solaris etc. and the choice of library used to interface with configuration files is just as important as the choice of format.\n", "This is a nasty one for me...  I'm a PHP guy working in Java on a JSP project.  I know how to do what I'm attempting through too much code and a complete lack of finesse.   I'd prefer to do it RIGHT. :) Here is the situation:\nI'm writing a small display to show customers what days they can water their lawns based on their watering group (ABCDE) and what time of year it is.  Our seasons look like this:\nSummer (5-1 to 8-31) \nSpring  (3-1 to 4-30) \nFall (9-1 to 10-31)\nWinter (11-1 to 2-28) \nAn example might be:\nIf I'm in group A, here would be my allowed times:\nWinter: Mondays only\nSpring: Tues, Thurs, Sat\nSummer: Any Day\nFall: Tues, Thurs, Sat\nIf I was writing this in PHP I would use arrays like this:\n//M=Monday,t=Tuesday,T=Thursday.... etc\n$schedule[\"A\"][\"Winter\"]='M';\n$schedule[\"A\"][\"Spring\"]='tTS';\n$schedule[\"A\"][\"Summer\"]='Any';\n$schedule[\"A\"][\"Fall\"]='tTS';\n$schedule[\"B\"][\"Winter\"]='t';\n\nI COULD make the days arrays (array(\"Tuesday\",\"Thursday\",\"Saturday\")) etc, but it is not necessary for what I'm really trying to accomplish.\nI will also need to setup arrays to determine what season I'm in:\n$seasons[\"Summer\"][\"start\"]=0501;\n$seasons[\"Summer\"][\"end\"]=0801;\n\nCan anyone suggest a really cool way to do this? I will have today's date and the group letter.  I will need to get out of my function a day (M) or a series of days (tTS), (Any).\nThanks, folks!\n", "I just get the beach ball all day long (it's been doing nothing for hours). It's not taking CPU, not reading from disk, not using the network.\nI'm using Java 1.6 on Mac OS X 10.5.4. It worked once, now even restarts of the computer won't help. Activity Monitor says it's \"(Not Responding)\". Only thing that I can do is kill -9 that sucker.\nWhen I sample the process I see this:\n    mach_msg_trap        16620\n    read        831\n    semaphore_wait_trap        831\n\nAn acceptable answer that doesn't fix this would include a url for a decent free Oracle client for the Mac.\nEdit:\n@Mark Harrison sadly this happens every time I start it up, it's not an old connection. I'll like to avoid running Windows on my laptop. I'm giving some plugins for my IDE a whirl, but still no solution for me.\n@Matthew Schinckel Navicat seems to only have a non-commercial Oracle product...I need a commercial friendly one (even if it costs money).\n", "I am calling a vendor's Java API, and on some servers it appears that the JVM goes into a low priority polling loop after logging into the API (CPU at 100% usage).  The same app on other servers does not exhibit this behavior. This happens on WebSphere and Tomcat.  The environment is tricky to set up so it is difficult to try to do something like profiling within Eclipse.\nIs there a way to profile (or some other method of inspecting) an existing Java app running in Tomcat to find out what methods are being executed while it's in this spinwait kind of state?  The app is only executing one method when it gets in this state (vendor's method). Vendor can't replicate the behavior (of course).\n\nUpdate:  \nUsing JConsole I was able to determine who was running and what they were doing.  It took me a few hours to then figure out why it was doing it.  The problem ended up being that the vendor's API jar that was being used did not match exactly to the the database configuration that it was using.  It was defaulting to having tracing and performance monitoring enabled on the servers that had the slight mis-match in configuration.  I used a different jar and all is well.\nSo thanks, Joshua, for your answer. JConsole was extremely easy to setup and use to monitor an existing application. \n@Cringe - I did some experimenting with some of the options you suggested.  I had some problems with getting JProfiler set up, it looks good (but pricey).  Going forward I went ahead and added the Eclipse Profiler plugin and I'll be looking over the different open source profilers to compare functionality.\n", "I've recently inherited a internationalized and text-heavy Struts 1.1 web application. Many of the JSP files look like:\n<p>\n    <bean:message key=\"alert\" />\n</p>\n\nand the properties files look like:\nmessages.properties\nalert=Please update your <a href=\"/address.do\">address</a> and <a href=\"/contact.do\">contact information</a>.\n\nwith the appropriate translations in N other languages (messages_fr.properties, etc).\nProblems:\n\nDRY violation - I have N references to my Struts action URLs instead of 1, which makes refactoring action URLs error-prone.\nMixed concerns - My application's markup is now in more than just my JSP files, making it difficult for a web specialist to tweak the markup (using CSS, etc).\nPost-translation markup - Anytime I receive newly-translated text, I must decide what to surround with the <a>...</a> markup. Easy for English but less so for unfamiliar languages.\n\nI've considered adding placeholders in the messages file, like:\nalert=Please update your {0} and {1}.\n\nbut then the words \"address\" and \"contact information\" would somehow need to be localized, wrapped with markup, and passed to my message tag - and I can't see an easy way to do it.\nWhat can I do to improve this?\n", "Currently we have a project with a standard subversion repository layout of:\n./trunk\n./branches\n./tags\nHowever, as we're moving down the road of OSGi and a modular project, we've ended up with:\n./trunk/bundle/main\n./trunk/bundle/modulea\n./trunk/bundle/moduleb\n./tags/bundle/main-1.0.0\n./tags/bundle/main-1.0.1\n./tags/bundle/modulea-1.0.0\nThe 'build' is still quite monolithic in that it builds all modules in sequence, though I'm starting to wonder if we should refactor the build/repository to something more like:\n./bundle/main/trunk\n./bundle/main/tags/main-1.0.0\n./bundle/main/tags/main-1.0.1\n./bundle/modulea/trunk\n./bundle/modulea/tags/modulea-1.0.0  \nIn this pattern I would imagine each module building itself, and storing its binary in a repository (maven, ivy, or another path of the subversion repository itself).\nAre there guidelines or 'best-practices' over project layouts once one goes modular?\n", "I'm trying to retrieve a file from a server using SFTP (as opposed to FTPS) using Java. How can I do this?\n", "Suppose you have the following EJB 3 interfaces/classes:\npublic interface Repository<E>\n{\n   public void delete(E entity);\n}\n\npublic abstract class AbstractRepository<E>  implements Repository<E>\n{\n   public void delete(E entity){\n      //...\n   }\n}\n\npublic interface FooRepository<Foo>\n{\n   //other methods\n}\n\n@Local(FooRepository.class)\n@Stateless\npublic class FooRepositoryImpl extends\n    AbstractRepository<Foo> implements FooRepository\n{\n   @Override\n   public void delete(Foo entity){\n      //do something before deleting the entity\n      super.delete(entity);\n   }\n   //other methods\n}\n\nAnd then another bean that accesses the FooRepository bean :\n//...\n@EJB\nprivate FooRepository fooRepository;\n\npublic void someMethod(Foo foo)\n{\n    fooRepository.delete(foo);\n}\n//...\n\nHowever, the overriding method is never executed when the delete method of the FooRepository bean is called. Instead, only the implementation of the delete method that is defined in AbstractRepository is executed. \nWhat am I doing wrong or is it simply a limitation of Java/EJB 3 that generics and inheritance don't play well together yet ?\n", "I'm just about to make my first trip into the world of JNI (Java Native Interface) to provide file system change notifications from platform specific C/C++ code to Java. That is unless someone suggest some brilliant library for doing this that I've missed.\nBeing new to JNI I've managed to find much documentation on the interface side of it and library generation side of it, but I've not found much on building the native library.\nI've got an existing build based on ant for the pre-existing Java source, so I'm trying to work out if I should get ant to call make  to create the library or if it's best to get make to call ant after creating the library?\nNeither option jumps out as being terribly nice, but both seem better than trying to get ant to call a compiler to compile the code and generate the library directly.\n", "Sometimes a labeled break or continue can make code a lot more readable. \nOUTERLOOP: for ( ;/*stuff*/; ) {\n    //...lots of code\n\n    if ( isEnough() ) break OUTERLOOP;\n    //...more code\n}\n\nI was wondering what the common convention for the labels was. All caps? first cap? \n", "The Gang of Four's Design Patterns uses a word processor as an example for at least a few of their patterns, particularly Composite and Flyweight.\nOther than by using C or C++, could you really use those patterns and the object-oriented overhead they entail to write a high-performing fully featured word processor? \nI know that Eclipse is written in Java but I haven't used it much so I don't know if it's all that fast or as polished as something like Visual Studio, which has a C++ based text editing system.\n\nI only used C++ and Java as examples. The question has more to do with the overhead of having a lot of in-memory objects like you would in an application such as a word processor or even a game. \nDesign patterns promote abstraction at the expense of parsimony even though they usually point out when you might take some kind of performance hit. Word processors and especially games get the most benefit from being as close to the metal as possible. \nI was just wondering if anyone knew of an fast object-oriented word processor or text editor that wasn't written in C++, and whether they'd build one using patterns or would they forgoe a lot of the abstracting away of things?\n", "It's been mentioned to me that I'll be the sole developer behind a large new system.  Among other things I'll be designing a UI and database schema.\nI'm sure I'll receive some guidance, but I'd like to be able to knock their socks off.  What can I do in the meantime to prepare, and what will I need to keep in mind when I sit down at my computer with the spec?\nA few things to keep in mind: I'm a college student at my first real programming job.  I'll be using Java.  We already have SCM set up with automated testing, etc...so tools are not an issue.\n", "The company I just started working for is using Stripes for parts of its web page development these days, and while it seems to be a nice enough web framework it no one really uses it-- it is almost non existent on the 'net. It's not even first in it's google search and the result you do get is for its old home page.\nSo, do any of you people use Stripes? Of your own volition? Do you know of any good tutorials / examples?\n", "I'm generating some xml files that needs to conform to an xsd file that was given to me.  What's the best way to verify they conform?\n", "After I was convinced that labeled breaks/continues are a total \"nono\" over here, I need help to remove the label out of my code.\nI have a square matrix and a vector that has the same length. The vector has already some values in it an depending on the values in the matrix the vector is changed in the loop.\nI hope, the code-fragment is basically understandable\u2026 \nvectorLoop:\nfor( int idx = 0; idx < vectorLength; idx++) {\n    if( conditionAtVectorPosition( v, idx ) ) continue vectorLoop;\n\n    matrixLoop:\n    for( rowIdx = 0; rowIdx < n; rowIdx++ ) {\n        if( anotherConditionAtVector( v, rowIdx ) ) continue matrixLoop;\n        if( conditionAtMatrixRowCol( m, rowIdx, idx ) ) continue vectorLoop;\n    }\n    setValueInVector( v, idx );\n}     \n\nPlease convince me, that there is a more readable/better version without the labels.\n", "I have a XmlDocument in java, created with the Weblogic XmlDocument parser.\nI want to replace the content of a tag in this XMLDocument with my own data, or insert the tag if it isn't there.\n<customdata>\n   <tag1 />\n   <tag2>mfkdslmlfkm</tag2>\n   <location />\n   <tag3 />\n</customdata>\n\nI for example want to insert some URL in the location tag:\n<location>http://something</location>\n\nbut otherwise leave the XML as is.\nCurrently I use a XMLCursor:\n    XmlObject xmlobj = XmlObject.Factory.parse(a.getCustomData(), options);\n    XmlCursor xmlcur = xmlobj.newCursor();\n\n    while (xmlcur.hasNextToken()) {\n      boolean found = false;\n      if (xmlcur.isStart() && \"schema-location\".equals(xmlcur.getName().toString())) {\n        xmlcur.setTextValue(\"http://replaced\");\n        System.out.println(\"replaced\");\n        found = true;\n      } else if (xmlcur.isStart() && \"customdata\".equals(xmlcur.getName().toString())) {\n        xmlcur.push();\n      } else if (xmlcur.isEnddoc()) {\n        if (!found) {\n          xmlcur.pop();\n          xmlcur.toEndToken();\n          xmlcur.insertElementWithText(\"schema-location\", \"http://inserted\");\n          System.out.println(\"inserted\");\n        }\n\n      }\n      xmlcur.toNextToken();\n    }\n\nI tried to find a \"quick\" xquery way to do this since the XmlDocument has an execQuery method, but didn't find it very easy. \nDo anyone have a better way than this? It seems a bit elaborate.\n", "I have a tomcat instance setup but the database connection I have configured in context.xml keeps dying after periods of inactivity.\nWhen I check the logs I get the following error:\ncom.mysql.jdbc.exceptions.jdbc4.CommunicationsException: \nThe last packet successfully received from the server was68051 seconds \nago. The last packet sent successfully to the server was 68051 seconds \nago, which is longer than the server configured value of \n'wait_timeout'. You should consider either expiring and/or testing \nconnection validity before use in your application, increasing the \nserver configured values for client timeouts, or using the Connector/J \nconnection property 'autoReconnect=true' to avoid this problem.\nHere is the configuration in context.xml:\n<Resource name=\"dataSourceName\" \n        auth=\"Container\" \n        type=\"javax.sql.DataSource\"\n        maxActive=\"100\" \n        maxIdle=\"30\" \n        maxWait=\"10000\" \n        username=\"username\" \n        password=\"********\"\n        removeAbandoned = \"true\"\n        logAbandoned = \"true\"\n        driverClassName=\"com.mysql.jdbc.Driver\" \n        url=\"jdbc:mysql://127.0.0.1:3306/databasename?autoReconnect=true&amp;useEncoding=true&amp;characterEncoding=UTF-8\"  />\n\nI am using autoReconnect=ture like the error says to do, but the connection keeps dying. I have never seen this happen before.\nI have also verified that all database connections are being closed properly.\n", "What makes a module/service/bit of application functionality a particularly good candidate for an OSGi module? \nI'm interested in using OSGi in my applications. We're a Java shop and we use Spring pretty extensively, so I'm leaning toward using Spring Dynamic Modules for OSGi(tm) Service Platforms. I'm looking for a good way to incorporate a little bit of OSGi into an application as a trial. Has anyone here used this or a similar OSGi technology? Are there any pitfalls? \n@Nicolas - Thanks, I've seen that one. It's a good tutorial, but I'm looking more for ideas on how to do my first \"real\" OSGi bundle, as opposed to a Hello World example.\n@david - Thanks for the link! Ideally, with a greenfield app, I'd design the whole thing to be dynamic. What I'm looking for right now, though, is to introduce it in a small piece of an existing application. Assuming I can pick any piece of the app, what are some factors to consider that would make that piece better or worse as an OSGi guinea pig?\n", "I need to call a web service written in .NET from Java.  The web service implements the WS-Security stack (either WSE 2 or WSE 3, it's not clear from the information I have).  \nThe information that I received from the service provider included WSDL, a policyCache.config file, some sample C# code, and a sample application that can successfully call the service.\nThis isn't as useful as it sounds because it's not clear how I'm supposed to use this information to write a Java client.  If the web service request isn't signed according to the policy then it is rejected by the service.  I'm trying to use Apache Axis2 and I can't find any instructions on how I'm supposed to use the policyCahce.config file and the WSDL to generate a client.\nThere are several examples that I have found on the Web but in all cases the authors of the examples had control of both the service and the client and so were able to make tweaks on both sides in order to get it to work.  I'm not in that position.\nHas anyone done this successfully?\n", "I am using SourceForge for some Open Source projects and I want to automate the deployment of releases to the SourceForge File Release System. I use Maven for my builds and the standard SFTP deployment mechanism doesn't seem to work unless you do some manual preparation work. I have come across some old postings on other forums suggesting that the only approach is to write a Wagon specifically for SourceForge.\nHas anybody had any recent experience with this?\n", "I have always thought that the .equals() method in java should be overridden to be made specific to the class you have created. In other words to look for equivalence of two different instances rather than two references to the same instance. However I have encountered other programmers who seem to think that the default object behavior should be left alone and a new method created for testing equivalence of two objects of the same class. \nWhat are the argument for and against overriding the equals method?\n", "I'm trying to compile over 100 java classes from different packages from a clean\ndirectory (no incremental compiles) using the following ant tasks:\n<target name=\"-main-src-depend\">\n    <depend srcdir=\"${src.dir}\" \n            destdir=\"${bin.dir}\" \n            cache=\"${cache.dir}\"\n            closure=\"true\"/>\n</target>   \n\n<target name=\"compile\" depends=\"-main-src-depend\"\n        description=\"Compiles the project.\">\n\n    <echo>Compiling</echo>\n\n    <javac  target=\"${javac.target}\"\n            source=\"${javac.source}\"\n            debug=\"${javac.debug}\"\n            srcdir=\"${src.dir}\"\n            destdir=\"${bin.dir}\">\n        <classpath>\n            <path refid=\"runtime.classpath\"/>\n            <path refid=\"compile.classpath\"/>\n        </classpath>\n    </javac>\n</target>\n\nHowever, the first time I run the compile task I always get a StackOverflowException. If I run the task again the compiler does an incremental build and everything works fine. This is undesirable since we are using CruiseControl to do an automatic daily build and this is causing false build failures.\nAs a quick-and-dirty solution I have created 2 separate tasks, compiling portions of the project in each. I really don't think this solution will hold as more classes are added in the future, and I don't want to be adding new compile tasks every time we hit the \"compile limit\".\n", "How do I open the default mail program with a Subject and Body in a cross-platform way?\nUnfortunately, this is for a a client app written in Java, not a website.\nI would like this to work in a cross-platform way (which means Windows and Mac, sorry Linux). I am happy to execute a VBScript in Windows, or AppleScript in OS X. But I have no idea what those scripts should contain. I would love to execute the user's default program vs. just searching for Outlook or whatever.\nIn OS X, I have tried executing the command:\nopen mailto:?subject=MySubject&body=TheBody\n\nURL escaping is needed to replace spaces with %20.\nUpdated On Windows, you have to play all sorts of games to get start to run correctly. Here is the proper Java incantation:\nclass Win32 extends OS {\n    public void email(String subject, String body) throws Exception {\n        String cmd = \"cmd.exe /c start \\\"\\\" \\\"\" + formatMailto(subject, body) + \"\\\"\";\n        Runtime.getRuntime().exec(cmd);\n    }\n}\n\n", "Am I correct in assuming that the only difference between \"windows files\" and \"unix files\" is the linebreak? \nWe have a system that has been moved from a windows machine to a unix machine and are having troubles with the format.\nI need to automate the translation between unix/windows before the files get delivered to the system in our \"transportsystem\". I'll probably need something to determine the current format and something to transform it into the other format.\nIf it's just the newline thats the big difference then I'm considering just reading the files with the java.io. As far as I know, they are able to handle both with readLine. And then just write each line back with \nwhile (line = readline)\n    print(line + NewlineInOtherFormat)\n....\n\n\nSummary:\n\nsamjudson:\n\nThis is only a difference in text files, where UNIX uses a single Line Feed (LF) to signify a new line, Windows uses a Carriage Return/Line Feed (CRLF) and Mac uses just a CR.\n\nto which Cebjyre elaborates: \n\nOS X uses LF, the same as UNIX - MacOS 9 and below did use CR though\n\nMo\n\nThere could also be a difference in character encoding for national characters. There is no \"unix-encoding\" but many linux-variants use UTF-8 as the default encoding. Mac OS (which is also a unix) uses its own encoding (macroman). I am not sure, what windows default encoding is.\n\nMcDowell\n\nIn addition to the new-line differences, the byte-order mark can cause problems if files are treated as Unicode on Windows.\n\nCheekysoft\n\nHowever, another set of problems that you may come across can be related to single/multi-byte character encodings. If you see strange unexpected chars (not at end-of-line) then this could be the reason. Especially if you see square boxes, question marks, upside-down question marks, extra characters or unexpected accented characters.\n\nSadie\n\nOn unix, files that start with a . are hidden. On windows, it's a filesystem flag that you probably don't have easy access to. This may result in files that are supposed to be hidden now becoming visible on the client machines.\nFile permissions vary between the two. You will probably find, when you copy files onto a unix system, that the files now belong to the user that did the copying and have limited rights. You'll need to use chown/chmod to make sure the correct users have access to them.\n\n\nThere exists tools to help with the problem:\n\npauldoo\n\nIf you are just interested in the content of text files, then yes the line endings are different. Take a look at something like dos2unix, it may be of help here.\n\nCheekysoft\n\nAs pauldoo suggests, tools like dos2unix can be very useful. Note that these may be on your linux/unix system as fromdos or tofrodos, or perhaps even as the general purpose toolbox recode.\n\n\nHelp for java coding\n\nCheekysoft\n\nWhen writing to files or reading from files (that you are in control of), it is often worth specifying the encoding to use, as most Java methods allow this. However, also ensuring that the system locale matches can save a lot of pain\n\n\n", "I'm thinking in particular of how to display pagination controls, when using a language such as C# or Java.\nIf I have x items which I want to display in chunks of y per page, how many pages will be needed?\n", "I have a list of integers, List<Integer> and I'd like to convert all the integer objects into Strings, thus finishing up with a new List<String>.\nNaturally, I could create a new List<String> and loop through the list calling String.valueOf() for each integer, but I was wondering if there was a better (read: more automatic) way of doing it?\n", "I'd like some sorthand for this:\nMap rowToMap(row) {\n    def rowMap = [:];\n    row.columns.each{ rowMap[it.name] = it.val }\n    return rowMap;\n}\n\ngiven the way the GDK stuff is, I'd expect to be able to do something like:\nMap rowToMap(row) {\n    row.columns.collectMap{ [it.name,it.val] }\n}\n\nbut I haven't seen anything in the docs... am I missing something? or am I just way too lazy?\n", "I am developing a J2ME application that has a large amount of data to store on the device (in the region of 1MB but variable). I can't rely on the file system so I'm stuck the Record Management System (RMS), which allows multiple record stores but each have a limited size. My initial target platform, Blackberry, limits each to 64KB.\nI'm wondering if anyone else has had to tackle the problem of storing a large amount of data in the RMS and how they managed it? I'm thinking of having to calculate record sizes and split one data set accross multiple stores if its too large, but that adds a lot of complexity to keep it intact.\nThere is lots of different types of data being stored but only one set in particular will exceed the 64KB limit.\n", "I'd like to use a database to store i18n key/value pairs so we can modify / reload the i18n data at runtime. Has anyone done this? Or does anyone have an idea of how to implement this? I've read several threads on this, but I haven't seen a workable solution.\nI'm specifically refering to something that would work with the jstl tags such as\n<fmt:setlocale>\n<fmt:bundle>\n<fmt:setBundle>\n<fmt:message>\n\nI think this will involve extending ResourceBundle, but when I tried this I ran into problems that had to do with the way the jstl tags get the resource bundle.\n", "At my university most of my classes have been in Java.  I have also recently learned C# (and the Visual Studio environment) at a summer internship.  Now I'm taking an Intro to Computer Graphics class and the grad student teaching the class prefers us to use C++ to access the OpenGL bindings via GLUT.\nDoes anyone have any good resources on how to make a good transition from Java/C# to C++?  Obviously pointers are going to be a big issue, but any other things I should be looking out for?  Any tutorials, guides, etc. would be very helpful!\nThanks!\n", "What would be the best way to have a list of items with a checkbox each in Java Swing?\nI.e. a JList with items that have some text and a checkbox each?\n", "I've been trying to understand how Ruby blocks work, and to do that I've been trying to implement them in C.\nOne easy way to implement closures is to pass a void* to the enclosing stack to the closure/function but Ruby blocks also seem to handle returns and break statements from the scope that uses the block.\nloop do\n  break i if (i >= 4000)\n  i *= 2\nend\n\nI think one of the closures proposals for Java works like this also.\nSo, how would you implement Ruby-blocks/Java-closures in C?\n", "I have two applications written in Java that communicate with each other using XML messages over the network.  I'm using a SAX parser at the receiving end to get the data back out of the messages.  One of the requirements is to embed binary data in an XML message, but SAX doesn't like this.  Does anyone know how to do this?\nUPDATE:  I got this working with the Base64 class from the apache commons codec library, in case anyone else is trying something similar.\n", "The RFC for a Java class is set of all methods that can be invoked in response to a message to an object of the class or by some method in the class. \nRFC = M + R where \nM = Number of methods in the class.\nR = Total number of other methods directly invoked from the M.\nThinking C is the .class and J is the .java file of which we need to calculate RFC.\n\nclass J{\n\n a(){}\n b(){}\n c(){\n   e1.e();\n   e1.f();\n   e1.g();\n }\n h(){\n   i.k();\n   i.j();\n  }\n  m(){}\n  n(){\n   i.o();\n   i.p();\n   i.p();\n   i.p();\n  }\n}\n\nhere M=6\nand R=9  (Don't worry about call inside a loop. It's considered as a single call)\nCalculating M is easy. Load C using classloader and use reflection to get the count of methods.\nCalculating R is not direct. We need to count the number of method calls from the class. First level only. \nFor calculating R I must use regex. Usually format would be (calls without using . are not counted)\n\n[variable_name].[method_name]([zero or more parameters]);\n\nor\n\n[variable_name].[method_name]([zero or more parameters])\n\nwith out semicolon when call return is directly becomes parameter to another method.\nor  \n\n[variable_name].[method_name]([zero or more parameters]).method2();\n\nthis becomes two method calls\nWhat other patterns of the method call can you think of?  Is there any other way other than using RegEx that can be used to calculate R.\n\nUPDATE:\n@McDowell\nLooks like using BCEL I can simplify the whole process. Let me try it.\n", "I have a large application (~50 modules) using a structure similar to the following:\n\nApplication  \n\n\nCommunication modules\n\n\nColor communication module\nSSN communication module\netc. communication module\n\nRouter module\nService modules\n\n\nVoting service module\n\n\nWeb interface submodule for voting\nVote collector submodule for voting\netc. for voting\n\nQuiz service module\netc. module\n\n\n\nI would like to import the application to Maven and Subversion. After some research I found that two practical approaches exists for this.\nOne is using a tree structure just as the previous one. The drawback of this structure is that you need a ton of tweaking/hacks to get the multi-module reporting work well with Maven. Another downside is that in Subversion the standard trunk/tags/branches approach add even more complexity to the repository.\nThe other approach uses a flat structure, where there are only one parent project and all the modules, submodules and parts-of-the-submodules are a direct child of the parent project. This approach works well for reporting and is easier in Subversion, however I feel I lose a bit of the structure this way.\nWhich way would you choose in the long term and why?\n", "Project Darkstar was the topic of the monthly JavaSIG meeting down at the Google offices in NYC last night.  For those that don't know (probably everyone), Project Darkstar is a framework for massively multiplayer online games that attempts to take care of all of the \"hard stuff.\"  The basic idea is that you write your game server logic in such a way that all operations are broken up into tiny tasks.  You pass these tasks to the Project Darkstar framework which handles distributing them to a specific node in the cluster, any concurrency issues, and finally persisting the data.\nApparently doing this kind of thing is a much different problem for video games than it is for enterprise applications.  Jim Waldo, who gave the lecture, claims that MMO games have a DB read/write ratio of 50/50, whereas enterprise apps are more like 90% read, 10% write.  He also claims that most existing MMOs keep everything in memory exlcusively, and only dump to a DB every 6 hours of so.  This means if a server goes down, you would lose all of the work since the last DB dump.\nNow, the project itself sounds really cool, but I don't think the industry will accept it.  First, you have to write your server code in Java.  The client code can be written in anything (Jim claims ActionScript 3 is the most popular, follow by C++), but the server stuff has to be Java.  Sounds good to me, but I really get the impression that everyone in the games industry hates Java.\nSecond, unlike other industries where developers prefer to use existing frameworks and libraries, the guys in the games industry seem to like to write everything themselves.  Not only that, they like to rewrite everything for every new game they produce.  Things are starting to change where developers are using Havok for physics, Unreal Engine 3 as their platform, etc., but for the most part it looks like everything is still proprietary.\nSo, are the guys at Project Darkstar just wasting their time?  Can a general framework like this really work for complex games with the performance that is required?  Even if it does work, are game companies willing to use it?\n", "I am messing around with a toy interpreter in Java and I was considering trying to write a simple compiler that can generate bytecode for the Java Virtual Machine. Which got me thinking, how much optimization needs to be done by compilers that target virtual machines such as JVM and CLI?\nDo Just In Time (JIT) compilers do constant folding, peephole optimizations etc?\n", "Every method I write to encode a string in Java using 3DES can't be decrypted back to the original string.  Does anyone have a simple code snippet that can just encode and then decode the string back to the original string?\nI know I'm making a very silly mistake somewhere in this code. Here's what I've been working with so far:\n** note, I am not returning the BASE64 text from the encrypt method, and I am not base64 un-encoding in the decrypt method because I was trying to see if I was making a mistake in the BASE64 part of the puzzle.\npublic class TripleDESTest {\n\n    public static void main(String[] args) {\n\n        String text = \"kyle boon\";\n\n        byte[] codedtext = new TripleDESTest().encrypt(text);\n        String decodedtext  = new TripleDESTest().decrypt(codedtext);\n\n        System.out.println(codedtext);\n        System.out.println(decodedtext);\n    }\n\n    public byte[] encrypt(String message) {\n        try {\n            final MessageDigest md = MessageDigest.getInstance(\"md5\");\n            final byte[] digestOfPassword = md.digest(\"HG58YZ3CR9\".getBytes(\"utf-8\"));\n            final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n            for (int j = 0,  k = 16; j < 8;)\n            {\n                keyBytes[k++] = keyBytes[j++];\n            }\n\n            final SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n            final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n            final Cipher cipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n            cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n\n            final byte[] plainTextBytes = message.getBytes(\"utf-8\");\n            final byte[] cipherText = cipher.doFinal(plainTextBytes);\n            final String encodedCipherText = new sun.misc.BASE64Encoder().encode(cipherText);\n\n            return cipherText;    \n        }\n        catch (java.security.InvalidAlgorithmParameterException e) { System.out.println(\"Invalid Algorithm\"); }\n        catch (javax.crypto.NoSuchPaddingException e) { System.out.println(\"No Such Padding\"); }\n        catch (java.security.NoSuchAlgorithmException e) { System.out.println(\"No Such Algorithm\"); }\n        catch (java.security.InvalidKeyException e) { System.out.println(\"Invalid Key\"); }\n        catch (BadPaddingException e) { System.out.println(\"Invalid Key\");}\n        catch (IllegalBlockSizeException e) { System.out.println(\"Invalid Key\");}\n        catch (UnsupportedEncodingException e) { System.out.println(\"Invalid Key\");}\n\n        return null;\n    }\n\n    public String decrypt(byte[] message) {\n        try\n        {\n            final MessageDigest md = MessageDigest.getInstance(\"md5\");\n            final byte[] digestOfPassword = md.digest(\"HG58YZ3CR9\".getBytes(\"utf-8\"));\n            final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n            for (int j = 0,  k = 16; j < 8;)\n            {\n                keyBytes[k++] = keyBytes[j++];\n            }\n\n            final SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n            final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n            final Cipher decipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n            decipher.init(Cipher.DECRYPT_MODE, key, iv);\n\n            //final byte[] encData = new sun.misc.BASE64Decoder().decodeBuffer(message);\n            final byte[] plainText = decipher.doFinal(message);\n\n            return plainText.toString();            \n        }\n        catch (java.security.InvalidAlgorithmParameterException e) { System.out.println(\"Invalid Algorithm\"); }\n        catch (javax.crypto.NoSuchPaddingException e) { System.out.println(\"No Such Padding\"); }\n        catch (java.security.NoSuchAlgorithmException e) { System.out.println(\"No Such Algorithm\"); }\n        catch (java.security.InvalidKeyException e) { System.out.println(\"Invalid Key\"); }\n        catch (BadPaddingException e) { System.out.println(\"Invalid Key\");}\n        catch (IllegalBlockSizeException e) { System.out.println(\"Invalid Key\");}\n        catch (UnsupportedEncodingException e) { System.out.println(\"Invalid Key\");}     \n        catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n}\n\n", "I have binary data in a file that I can read into a byte array and process with no problem.  Now I need to send parts of the data over a network connection as elements in an XML document.  My problem is that when I convert the data from an array of bytes to a String and back to an array of bytes, the data is getting corrupted.  I've tested this on one machine to isolate the problem to the String conversion, so I now know that it isn't getting corrupted by the XML parser or the network transport.\nWhat I've got right now is\nbyte[] buffer = ...; // read from file\n// a few lines that prove I can process the data successfully\nString element = new String(buffer);\nbyte[] newBuffer = element.getBytes();\n// a few lines that try to process newBuffer and fail because it is not the same data anymore\n\nDoes anyone know how to convert binary to String and back without data loss?\nAnswered:  Thanks Sam.  I feel like an idiot.  I had this answered yesterday because my SAX parser was complaining.  For some reason when I ran into this seemingly separate issue, it didn't occur to me that it was a new symptom of the same problem.\nEDIT:  Just for the sake of completeness, I used the Base64 class from the Apache Commons Codec package to solve this problem.\n", "I have a Java swing application with a panel that contains three JComboBoxes that do not draw properly.\nThe combox boxes just show up as the down arrow on the right side, but without the label of the currently selected value.\nThe boxes will redraw correctly if the window is resized either bigger or smaller by even one pixel.\nAll of my googling has pointed to calling revalidate() on the JPanel to fix this, but that hasn't worked for me.\nCalling updateUI() on the JPanel has changed it from always displaying incorrectly to displaying incorrectly half of the time.  \nHas anyone else seen this and found a different way to force a redraw of the combo boxes?\n", "I'm currently trying out db4o (the java version) and I pretty much like what I see. But I cannot help wondering how it does perform in a real live (web-)environment. Does anyone have any experiences (good or bad) to share about running db4o?  \n", "This is a bit of a long shot, but if anyone can figure it out, you guys can...\nIn Windows XP, is there any meta-data that comes with a cut and paste action, from which I can ascertain the application that provided the clipboard contents?\nBonus question... if there is such information, is there any way I can access it through a Java app?\n", "I have some code that gives a user id to a utility that then send email to that user.\nemailUtil.sendEmail(userId, \"foo\");\n\npublic void sendEmail(String userId, String message) throws MailException {\n    /* ... logic that could throw a MailException */\n}\n\nMailException could be thrown for a number of reasons, problems with the email address, problems with the mail template etc.\nMy question is this: do you create a new Exception type for every one of these exceptions and then deal with them individually or do you create one MailException and then store something in the exception (something computer-readable, not the description text) that allows us to do different things based on what actually happened.\nEdit: As a clarification, the exceptions aren't for logs and what-not, this relates to how code reacts to them. To keep going with the mail example, let's say that when we send mail it could fail because you don't have an email address, or it could because you don't have a valid email address, or it could fail.. etc.\nMy code would want to react differently to each of these issues (mostly by changing the message returned to the client, but actual logic as well).\nWould it be best to have an exception implementation for each one of these issues or one umbrella exception that had something internal to it (an enum say) that let the code distinguish what kind of issue it was.\n", "Is anyone else having trouble running Swing applications from IntelliJ IDEA 8 Milestone 1?  Even the simplest application of showing an empty JFrame seems to crash the JVM.  I don't get a stack trace or anything, it looks like the JVM itself crashes and Windows shows me a pop-up that says the usual \"This process is no longer responding\" message.\nConsole applications work fine, and my Swing code works fine when launching from Netbeans or from the command line. I'm running Windows Vista x64 with the JDK 1.6 Update 10 beta, which may be a configuration the Jetbrains guys haven't run into yet.\n", "The topic says the most of it - what is the reason for the fact that static methods can't be declared in an interface?\npublic interface ITest {\n    public static String test();\n}\n\nThe code above gives me the following error (in Eclipse, at least): \"Illegal modifier for the interface method ITest.test(); only public & abstract are permitted\".\n", "Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed.\nBut, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time.\nWhy does Java choose this strategy and what is the benefit from this?\nIs this better than the Python approach?\n", "I am writing a Java utility which helps me to generate loads of data for performance testing.  It would be really cool to be able to specify a regex for Strings so that my generator spits out things which match this.  Is there something out there already baked which I can use to do this?  Or is there a library which gets me most of the way there?\nThanks\n", "I have a need to convert images from CMYK to RGB - not necessarily back again, but hey, if it can be done...\nWith the release of ColdFusion 8, we got the CFImage tag, but it doesn't support this conversion; and nor does Image.cfc, or Alagad's Image Component.\nHowever, it should be possible in Java; which we can leverage through CF. For example, here's how you might create a Java thread to sleep a process:\n<cfset jthread = createObject(\"java\", \"java.lang.Thread\")/>\n<cfset jthread.sleep(5000)/>\n\nI would guess a similar method could be used to leverage java to do this image conversion, but not being a Java developer, I don't have a clue where to start. Can anyone lend a hand here?\n", "What's the best framework for creating mock objects in Java? Why? What are the pros and cons of each framework?\n", "I have a listening port on my server that I'm connecting to using a Java class and the Socket interface, i.e.\nSocket mySocket = new Socket(host,port);\n\nI then grab an OutputStream, decorate with a PrintWriter in autoflush mode and I'm laughing - except if the listening port closes. Then I get \ntcp4       0      0  *.9999                 *.*                    LISTEN\ntcp        0      0  127.0.0.1.45737        127.0.0.1.9999         CLOSE_WAIT\n\nand I can't seem to detect the problem in the program - I've tried using the isConnected() method on the socket but it doesn't seem to know that the connection is closed.\nI want to be aware of the problem the next time I try and write to the Socket so that I can try and reconnect and report the issue.\nAny advice please?\nThanks all\n", "Has anyone got a working solution without some Java/COM-bridge? E.g. process the Email as a file (.msg) rather than locating the data that is referenced in the Clipboard?\n", "I know the following libraries for drawing charts in an SWT/Eclipse RCP application:\n\nEclipse BIRT Chart Engine (Links to an article on how to use it)\nJFreeChart\n\nWhich other libraries are there for drawing pretty charts with SWT? Or charts in Java generally? After all, you can always display an image...\n", "What is the best method to parse multiple, discrete, custom XML documents with Java?\n", "Anything thats as good and as stable and as feature-rich as gigaspaces?\n", "I'm working on some code to colorize an image in Java. Basically what I'd like to do is something along the lines of GIMP's colorize command, so that if I have a BufferedImage and a Color, I can colorize the Image with the given color. Anyone got any ideas? My current best guess at doing something like this is to get the rgb value of each pixel in the BufferedImage and add the RGB value of the Color to it with some scaling factor.\n", "I am using Struts + Velocity in a Java application, but after I submit a form, the confirmation page (Velocity template) shows the variable names instead an empty label, like the Age in following example:\n\nName: Fernando\nAge: {person.age}\nSex: Male\n\nI would like to know how to hide it!\n", "What is the best method to get objects out of a BlockingQueue, in a concurrent program, without hitting a race condition?  I'm currently doing the following and I'm not convinced it is the best method:\nBlockingQueue<Violation> vQueue;\n/* \nin the constructor I pass in a BlockingQueue object \nfull of violations that need to be processed - cut out for brevity\n*/\n\nViolation v;\nwhile ( ( v = vQueue.poll(500, TimeUnit.MILLISECONDS) ) != null ) {\n    // do stuff with the violation\n}\n\nI have yet to hit a race condition... but, I'm none too sure if this is truly safe.\n", "What is the purpose of annotations in Java? I have this fuzzy idea of them as somewhere in between a comment and actual code. Do they affect the program at run time?\nWhat are their typical usages?\nAre they unique to Java? Is there a C++ equivalent?\n", "I have a Struts + Velocity structure like for example, a Person class, whose one property is a Car object (with its own getter/setter methods) and it is mapped to a Velocity form that submits to an Action, using ModelDriven and getModel structure.\nI what to put a button on the form that shows \"View Car\" if car property is not null or car.id != 0 or show another button \"Choose Car\" if car is null or car.id = 0.\nHow do I code this. I tried something like that in the template file:\n#if($car != null)\n  #ssubmit(\"name=view\" \"value=View Car\")\n#else\n  #ssubmit(\"name=new\" \"value=Choose Car\")\n#end\n\nBut I keep getting error about Null value in the #if line. \nI also created a boolean method hasCar() in Person to try, but I can't access it and I don't know why.\nAnd Velocity + Struts tutorials are difficult to find or have good information.\nThanks\n", "I've been programming in C# and Java recently and I am curious where the best place is to initialize my class fields.\nShould I do it at declaration?:\npublic class Dice\n{\n    private int topFace = 1;\n    private Random myRand = new Random();\n\n    public void Roll()\n    {\n       // ......\n    }\n}\n\nor in a constructor?:\npublic class Dice\n{\n    private int topFace;\n    private Random myRand;\n\n    public Dice()\n    {\n        topFace = 1;\n        myRand = new Random();\n    }\n\n    public void Roll()\n    {\n        // .....\n    }\n}\n\nI'm really curious what some of you veterans think is the best practice. I want to be consistent and stick to one approach.\n", "I am considering creating my own website using Java and am trying to decide what framework to use. However, doing a quick search for Java frameworks returns more than 50 to choose from!\nMy website is just going to be for my own enjoyment of building it in the beginning, but if it becomes popular, it would be good for it to have some scalability, or to at least be able to redesign for that.\nWhat are the main differences between the more popular frameworks? Are there instances where one significantly outperforms the others? For example, high-traffic enterprise applications versus low-traffic small applications. I'm also wondering if some are much easier to learn and use than others.\nIs there anyone who has experience with some of these frameworks and can make a recommendation? Does the sheer number of choices just serve as an early warning to avoid Java-based web development where possible?\n", "Jeff actually posted about this in Sanitize HTML. But his example is in C# and I'm actually more interested in a Java version. Does anyone have a better version for Java? Is his example good enough to just convert directly from C# to Java? \n[Update] I have put a bounty on this question because SO wasn't as popular when I asked the question as it is today (*). As for anything related to security, the more people look into it, the better it is! \n(*) In fact, I think it was still in closed beta\n", "I am using Java back end for creating an XML string which is passed to the browser. Currently I am using simple string manipulation to produce this XML. Is it essential that I use some XML library in Java to produce the XML string?\nI find the libraries very difficult to use compared to what I need.\n", "I have defined a Java function:\nstatic <T> List<T> createEmptyList() {\n    return new ArrayList<T>();\n}\n\nOne way to call it is like so:\nList<Integer> myList = createEmptyList(); // Compiles\n\nWhy can't I call it by explicitly passing the generic type argument? :\nObject myObject = createEmtpyList<Integer>(); // Doesn't compile. Why?\n\nI get the error Illegal start of expression from the compiler.\n", "I am using the code snippet below, however it's not working quite as I understand it should.    \npublic static void main(String[] args) {\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n    String line;\n    try {\n        line = br.readLine();\n        while(line != null) {\n            System.out.println(line);\n            line = br.readLine();\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nFrom reading the Javadoc about readLine() it says: \nReads a line of text. A line is considered to be terminated by any one of a line feed (\\n), a carriage return (\\r), or a carriage return followed immediately by a linefeed. \nReturns:\nA String containing the contents of the line, not including any line-termination characters, or null if the end of the stream has been reached \nThrows: \nIOException - If an I/O error occurs\nFrom my understanding of this, readLine should return null the first time no input is entered other than a line termination, like \\r. However, this code just ends up looping infinitely. After debugging, I have found that instead of null being returned when just a termination character is entered, it actually returns an empty string (\"\"). This doesn't make sense to me. What am I not understanding correctly?\n", "I'm looking for a Java library for SWIFT messages. I want to\n\nparse SWIFT messages into an object model\nvalidate SWIFT messages (including SWIFT network validation rules)\nbuild / change SWIFT messages by using an object model\n\nTheoretically, I need to support all SWIFT message types. But at the moment I need MT103+, MT199, MT502, MT509, MT515 and MT535.\nSo far I've looked at two libraries\n\nAnaSys Message Objects (link text)\nDatamation SWIFT Message Suite (link text)\n\nBoth libraries allow to accomplish the tasks mentioned above but in both cases I'm not really happy. \nAnaSys uses a internal XML representation for all SWIFT messages which you need to know in order to access the fields of a message. And you need to operate on the DOM of the XML representation, there is no way to say \"get the contents of field '50K' of the SWIFT message\".\nAnd the Datamation library seems to have the nicer API but does not find all errors.\nSo does anyone know other SWIFT libraries to use? \n", "I want to create a Java program that can be extended with plugins. How can I do that and where should I look for?\nI have a set of interfaces that the plugin must implement, and it should be in a jar. The program should watch for new jars in a relative (to the program) folder and registered them somehow.\n\nAlthough I do like Eclipse RCP, I think it's too much for my simple needs.\nSame thing goes for Spring, but since I was going to look at it anyway, I might as well try it.\nBut still, I'd prefer to find a way to create my own plugin \"framework\" as simple as possible.\n", "I am looking for the best method to run a Java Application as a *NIX daemon or a Windows Service.  I've looked in to the Java Service Wrapper, the Apache Commons project 'jsvc', and the Apache Commons project 'procrun'.  So far, the Java Service Wrapper looks like it's the best option... but, I'm wondering if there are any other \"Open Source friendly\" licensed products out there.\n", "What would be the Master Pages equivalent in the Java web development world?  I've heard of Tiles, Tapestry and Velocity but don't know anything about them.  Are they as easy to use as Master Pages?  \nI want something as easy as set up one template and subsequent pages derive from the template and override content regions, similar to Master Pages.\nAny examples would be great!!\n", "I'm currently building a Java app that could end up being run on many different platforms, but primarily variants of Solaris, Linux and Windows.\nHas anyone been able to successfully extract information such as the current disk space used, CPU utilisation and memory used in the underlying OS? What about just what the Java app itself is consuming?\nPreferrably I'd like to get this information without using JNI.\n", "I've used jdom in the past, and have looked briefly at XOM and DOM4j. Each seems to provide essentially the same thing, as they each provide a simplified wrapper over the (very obtuse) standard W3C DOM APIs.  \nI know that JDOM went through some effort to develop a JSR and standardization process at one point, but as far as I know that effort never went anywhere.  All of the project appear to be in stasis with little new development in the past several years.\nIs there a consensus as to which is the best?  Also what are the pros and cons of each ?\n", "Is there a way to shutdown a computer using a built-in Java method?\n", "I'm in the process of weeding out all hardcoded values in a Java library and was wondering what framework would be the best (in terms of zero- or close-to-zero configuration) to handle run-time configuration? I would prefer XML-based configuration files, but it's not essential. \nPlease do only reply if you have practical experience with a framework. I'm not looking for examples, but experience...\n", "I want to be able to play sound files in my program. Where should I look?\n", "Let's say that you want to create a dead simple BlogEditor and, one of your ideas, is to do what Live Writer does and ask only the URL of the persons Blog. How can you detect what type of blog is it?\nBasic detection can be done with the URL itself, such as \u201chttp://myblog.blogger.com\u201d etc. But what if it's self hosted?\nI'm mostly interested on how to do this in Java, but this question could be also used as a reference for any other language.\n", "What libraries/methods that you know of can do some basic HTML representation in Swing? Can you comment on your experience?\n", "I want to parse some HTML in order to find the values of some attributes/tags etc.\nWhat HTML parsers do you recommend? Any pros and cons?\n", "I have been in both situations: \n\nCreating too many custom Exceptions\nUsing too many general Exception class\n\nIn both cases the project started OK but soon became an overhead to maintain (and refactor).\nSo what is the best practice regarding the creation of your own Exception classes?\n", "Can anyone recommend a library for chart generation (bar charts, pie charts etc.) which runs on both Java and .Net?\n", "In Java 5 and above you have the foreach loop, which works magically on anything that implements Iterable:\nfor (Object o : list) {\n  doStuff(o);\n}\n\nHowever, Enumerable still does not implement Iterable, meaning that to iterate over an Enumeration you must do the following:\nfor(; e.hasMoreElements() ;) {\n  doStuff(e.nextElement());\n}\n\nDoes anyone know if there is a reason why Enumeration still does not implement Iterable?\nEdit: As a clarification, I'm not talking about the language concept of an enum, I'm talking a Java-specific class in the Java API called 'Enumeration'. \n", "Given 2 rgb colors and a rectangular area, I'd like to generate a basic linear gradient between the colors. I've done a quick search and the only thing I've been able to find is this blog entry, but the example code seems to be missing, or at least it was as of this posting. Anything helps, algorithms, code examples, whatever. This will be written in Java, but the display layer is already taken care of, I just need to figure out how to figure out what to display.\n", "We've been using the 32bit linux version of the JavaServiceWrapper for quite a while now and it's working perfectly. We are now considering also using it on 64bit linux systems. There are downloads for 64bit binaries on the website, but looking into Makefile for the 64bit version I found the following comment, though: \n    # This makefile is in progess. It builds, but the resulting libwrapper.so does not yet work.\n    # If you know how to fix it then please help out.\nCan anyone confirm, that this comment is just outdated and the resulting wrapper will work without flaws?\n", "In Java (or any other language with checked exceptions), when creating your own exception class, how do you decide whether it should be checked or unchecked?\nMy instinct is to say that a checked exception would be called for in cases where the caller might be able to recover in some productive way, where as an unchecked exception would be more for unrecoverable cases, but I'd be interested in other's thoughts.\n", "What issues / pitfalls must be considered when overriding equals and hashCode?\n", "I've deployed some Managed Beans on WebSphere 6.1 and I've managed to invoke them through a standalone client, but when I try to use the application \"jconsole\" distributed with the standard JDK can can't make it works.\nHas anyone achieved to connect the jconsole with WAS 6.1?\nIBM WebSphere 6.1 it's supossed to support JSR 160 JavaTM Management Extensions (JMX) Remote API. Furthermore, it uses the MX4J implementation (http://mx4j.sourceforge.net). But I can't make it works with neither \"jconsole\" nor \"MC4J\".\nI have the Classpath and the JAVA_HOME correctly setted, so the issue it's not there.\n", "Every time I create a new project I copy the last project's ant file to the new one and make the appropriate changes (trying at the same time to make it more flexible for the next project). But since I didn't really thought about it at the beginning, the file started to look really ugly.\nDo you have an Ant template that can be easily ported in a new project? Any tips/sites for making one?\nThank you.\n", "I am merging a CVS branch and one of the larger changes is the replacement wherever it occurs of a Singleton pattern with abstract classes that have a static initialisation block and all static methods.\nIs this something that's worth keeping since it will require merging a lot of conflicts, what sort of situation would I be looking at for this refactoring to be worthwhile?\nWe are running this app under Weblogic 8.1 (so JDK 1.4.2)\n\nsorry Thomas, let me clarify..\nthe HEAD version has the traditional singleton pattern (private constructor, getInstance() etc)\nthe branch version has no constructor, is a 'public abstract class' and modified all the methods on the object to be 'static'. The code that used to exist in the private constructor is moved into a static block.\nThen all usages of the class are changed which causes multiple conflicts in the merge.\nThere are a few cases where this change was made.\n", "I'm unsure whether the following code would ensure all conditions given in Comparator's Javadoc. \nclass TotalOrder<T> implements Comparator<T> {\n\n    public boolean compare(T o1, T o2) {\n        if (o1 == o2 || equal(o1, o2)) return 0;\n\n        int h1 = System.identityHashCode(o1);\n        int h2 = System.identityHashCode(o2);\n\n        if (h1 != h2) {\n            return h1 < h2 ? -1 : 1;\n        }\n\n        // equals returned false but identity hash code was same, assume o1 == o2\n        return 0;\n    }\n\n    boolean equal(Object o1, Object o2) {\n        return o1 == null ? o2 == null : o1.equals(o2);\n    }\n}\n\nWill the code above impose a total ordering on all instances of any class, even if that class does not implement Comparable?\n", "I want to bring up a file dialog in Java that defaults to the application installation directory.\nWhat's the best way to get that information programmatically?\n", "I'm trying to find a way to list the (static) dependency requirements of a jar file, in terms of which symbols are required at run time.\nI can see that the methods exported by classes can be listed using \"javap\", but there doesn't seem to be an opposite facility to list the 'imports'. Is it possible to do this?\nThis would be similar to the dumpbin utility in Windows development which can be used to list the exports and imports of a DLL.\nEDIT : Thanks for the responses; I checked out all of the suggestions; accepted DependencyFinder as it most closely meets what I was looking for.\n", "I'm using ByteBuffers and FileChannels to write binary data to a file. When doing that for big files or successively for multiple files, I get an OutOfMemoryError exception.\nI've read elsewhere that using Bytebuffers with NIO is broken and should be avoided. Does any of you already faced this kind of problem and found a solution to efficiently save large amounts of binary data in a file in java?\nIs the jvm option -XX:MaxDirectMemorySize the way to go?\n", "If I call finalize() on an object from my program code, will the JVM still run the method again when the garbage collector processes this object?\nThis would be an approximate example:\nMyObject m = new MyObject();\n\nm.finalize();\n\nm = null;\n\nSystem.gc()\n\nWould the explicit call to finalize() make the JVM's garbage collector not to run the finalize() method on object m?\n", "After reading this question, I was reminded of when I was taught Java and told never to call finalize() or run the garbage collector because \"it's a big black box that you never need to worry about\". Can someone boil the reasoning for this down to a few sentences? I'm sure I could read a technical report from Sun on this matter, but I think a nice, short, simple answer would satisfy my curiosity.\n", "What is the most straightforward way to create a hash table (or associative array...) in Java?  My google-fu has turned up a couple examples, but is there a standard way to do this?\nAnd is there a way to populate the table with a list of key->value pairs without individually calling an add method on the object for each pair?\n", "I'm looking for a good GUI designer for swing in eclipse. My preference is for a free/open-source plugin.\n", "I'm working on getting an Introduction to Groovy presentation ready for my local Java User's Group and I've pretty much got it together.  What I'd like to see is what you all think I just have to cover.  \nRemember, this is an introductory presentation.  Most of the people are experienced Java developers, but I'm pretty sure they have little to no Groovy knowledge.  I won't poison the well by mentioning what I've already got down to cover as I want to see what the community has to offer.\nWhat are the best things I can cover (in a 1 hour time frame) that will help me effectively communicate to these Java developers how useful Groovy could be to them?\np.s. I'll share my presentation here later for anyone interested.\nas promised now that my presentation has been presented here it is\n", "The log4j network adapter sends events as a serialised java object. I would like to be able to capture this object and deserialise it in a different language (python). Is this possible?\nNOTE The network capturing is easy; its just a TCP socket and reading in a stream. The difficulty is the deserialising part\n", "I have a large codebase without Javadoc, and I want to run a program to write a skeleton with the basic Javadoc information (e.g., for each method's parameter write @param...), so I just have to fill the gaps left.\nAnyone know a good solution for this?\nEdit:\nJAutodoc is what I was looking for.  It has Ant tasks, an Eclipse plugin, and uses Velocity for the template definition.\n", "As per my understanding stateless session beans are used to code the business logic. They can not store data in their instance variables because their instance is shared by multiple requests. So they seem to be more like Singleton classes. However the difference is contain creates (or reuses from pool) the separate instance of stateless session beans for every request.\nAfter googling I could find the reasoning that the Java EE specification says they are suppose to be single threaded. But I can't get the reason why the are specified to be SINGLE THREADED?\n", "In Java, say you have a class that wraps an ArrayList (or any collection) of objects. \nHow would you return one of those objects such that the caller will not see any future changes to the object made in the ArrayList? \ni.e. you want to return a deep copy of the object, but you don't know if it is cloneable.\n", "I'm giving a presentation to a Java User's Group on Groovy and I'm going to be doing some coding during the presentation to show some side-by-side Java/Groovy.  I really like the GroovyConsole as it's simple and I can resize the text easily.  \nI'm wondering if there is anything similar for Java?  I know I could just use Eclipse but I'd rather have a smaller app to use without having to customize a view.  What's the community got?\nScreen shot of GroovyConsole:\n\n", "Help!  I have an Axis web service that is being consumed by a C# application.  Everything works great, except that arrays of long values always come across as [0,0,0,0] - the right length, but the values aren't deserialized.  I have tried with other primitives (ints, doubles) and the same thing happens.  What do I do?  I don't want to change the semantics of my service.\n", "I'm using JBoss Seam Framework, but it's seems to me isn't very popular among java developers. \nI want to know how many java programmers here are using it, and in what kind of projects.\nIs as good as django, or RoR?\n", "In Maven, dependencies are usually set up like this:\n<dependency>\n  <groupId>wonderful-inc</groupId>\n  <artifactId>dream-library</artifactId>\n  <version>1.2.3</version>\n</dependency>\n\nNow, if you are working with libraries that have frequent releases, constantly updating the <version> tag can be somewhat annoying. Is there any way to tell Maven to always use the latest available version (from the repository)? \n", "I'm looking for the best method to parse various XML documents using a Java application.  I'm currently doing this with SAX and a custom content handler and it works great - zippy and stable. \nI've decided to explore the option having the same program, that currently recieves a single format XML document, receive two additional XML document formats, with various XML element changes.  I was hoping to just swap out the ContentHandler with an appropriate one based on the first \"startElement\" in the document... but, uh-duh, the ContentHandler is set and then the document is parsed!\n... constructor ...\n{\nSAXParserFactory spf = SAXParserFactory.newInstance();\n\ntry {\nSAXParser sp = spf.newSAXParser();\nparser = sp.getXMLReader();\nparser.setErrorHandler(new MyErrorHandler());\n} catch (Exception e) {} \n\n... parse StringBuffer ...\ntry {\nparser.setContentHandler(pP);\nparser.parse(new InputSource(new StringReader(xml.toString())));\nreturn true;\n} catch (IOException e) {\n    e.printStackTrace();\n} catch (SAXException e) {\n    e.printStackTrace();\n}\n...\n\nSo, it doesn't appear that I can do this in the way I initially thought I could.\nThat being said, am I looking at this entirely wrong?  What is the best method to parse multiple, discrete XML documents with the same XML handling code?  I tried to ask in a more general post earlier... but, I think I was being too vague.  For speed and efficiency purposes I never really looked at DOM because these XML documents are fairly large and the system receives about 1200 every few minutes.  It's just a one way send of information\nTo make this question too long and add to my confusion; following is a mockup of some various XML documents that I would like to have a single SAX, StAX, or ?? parser cleanly deal with. \nproducts.xml:\n<products>\n<product>\n  <id>1</id>\n  <name>Foo</name>\n<product>\n  <id>2</id>\n  <name>bar</name>\n</product>\n</products>\n\nstores.xml:\n<stores>\n<store>\n  <id>1</id>\n  <name>S1A</name>\n  <location>CA</location>\n</store>\n<store>\n  <id>2</id>\n  <name>A1S</name>\n  <location>NY</location>\n</store>\n</stores>\n\nmanagers.xml:\n<managers>\n<manager>\n  <id>1</id>\n  <name>Fen</name>\n  <store>1</store>\n</manager>\n<manager>\n  <id>2</id>\n  <name>Diz</name>\n  <store>2</store>\n</manager>\n</managers>\n\n", "When running a Java app from eclipse my ImageIcon shows up just fine.\nBut after creating a jar the path to the image obviously gets screwed up.\nIs there a way to extract an image from the jar at runtime so I can then open it up?  Or, is there a better way to do this?\nI'd like to distribute a single jar file if possible.\n", "I'm currently creating an explicit reference to this in the outer class so that I have a name to refer to in the anonymous inner class.  Is there a better way to do this?\n", "I currently use the following function to do a simple HTTP GET.\npublic static String download(String url) throws java.io.IOException {\n    java.io.InputStream s = null;\n    java.io.InputStreamReader r = null;\n    //java.io.BufferedReader b = null;\n    StringBuilder content = new StringBuilder();\n    try {\n        s = (java.io.InputStream)new URL(url).getContent();\n\n        r = new java.io.InputStreamReader(s);\n        //b = new java.io.BufferedReader(r);\n\n        char[] buffer = new char[4*1024];\n        int n = 0;\n        while (n >= 0) {\n            n = r.read(buffer, 0, buffer.length);\n            if (n > 0) {\n                content.append(buffer, 0, n);\n            }\n        }\n    }\n    finally {\n        //if (b != null) b.close();\n        if (r != null) r.close();\n        if (s != null) s.close();\n    }\n    return content.toString();\n}\n\nI see no reason to use the BufferedReader since I am just going to download everything in sequence. Am I right in thinking there is no use for the BufferedReader in this case?\n", "I see many similar questions, however I want to find the Username of the currently logged in user using Java.\nIts probably something like:\nSystem.getProperty(current.user);\n\nBut, I'm not quite sure.\n", "Using regex, how is the simplest way to fetch a websites HTML and find the value inside this tag (or any attribute's value for that matter):\n<html>\n  <head>\n  [snip]\n  <meta name=\"generator\" value=\"thevalue i'm looking for\" />\n  [snip]\n\n", "What would be the easiest way to detach a specific JPA Entity Bean that was acquired through an EntityManager. Alternatively, could I have a query return detached objects in the first place so they would essentially act as 'read only'?\nThe reason why I want to do this is becuase I want to modify the data within the bean - with in my application only, but not ever have it persisted to the database. In my program, I eventually have to call flush() on the EntityManager, which would persist all changes from attached entities to the underyling database, but I want to exclude specific objects.\n", "Without the use of any external library, what is the simplest way to fetch a website's HTML content into a String?\n", "I have already proposed this in my blog, but I find this place the most appropriate.\nFor classes that have a long list of setters that are used frequently, I found this way very useful (although I have recently read about the Builder pattern in Effective Java that is kinda the same). Basically, all setter methods return the object itself so then you can use code like this:\n  MyClass\n    .setInt(1)\n    .setString(\"test\")\n    .setBoolean(true)\n  ;\n\nSetters simply return this in the end:\n  public MyClass setInt(int anInt) {\n    [snip]\n    return this;\n  }\n\nWhat is your opinion? What are the pros and cons? Does this have any impact on performance?\n", "I mostly use Java and generics are relatively new. I keep reading that Java made the wrong decision or that .NET has better implementations etc. etc.\nSo, what are the main differences between C++, C#, Java in generics? Pros/cons of each?\n", "I have done Java and JSP programming in the past, but I am new to Java Server Faces and want to know if there's a set of best practices for JSF development. \n", "I'd like to have a java.utils.Timer with a resettable time in java.I need to set a once off event to occur in X seconds. If nothing happens in between the time the timer was created and X seconds, then the event occurs as normal. \nIf, however, before X seconds has elapsed, I decide that the event should occur after Y seconds instead, then I want to be able to tell the timer to reset its time so that the event occurs in Y seconds.\n E.g. the timer should be able to do something like:\nTimer timer = new Timer();  \ntimer.schedule(timerTask, 5000); //Timer starts in 5000 ms (X)\n\n//At some point between 0 and 5000 ms...  \nsetNewTime(timer, 8000);  //timerTask will fire in 8000ms from NOW (Y).\n\nI don't see a way to do this using the utils timer, as if you call cancel() you cannot schedule it again.\nThe only way I've come close to replicating this behavior is by using javax.swing.Timer and involves stopping the origional timer, and creating a new one. i.e.: \ntimer.stop();\ntimer = new Timer(8000, ActionListener);\ntimer.start();\n\nIs there an easier way??\n", "Is it possible for the compiler to remove statements used for debugging purposes (such as logging) from production code? The debug statements would need to be marked somehow, maybe using annotations.\nIt's easy to set a property (debug = true) and check it at each debug statement, but this can reduce performance. It would be nice if the compiler would simply make the debug statements vanish.\n", "I am in the middle of reading the excellent Clean Code\nOne discussion is regarding passing nulls into a method.\npublic class MetricsCalculator {\n    public double xProjection(Point p1, Point p2) {\n        return (p2.x - p1.x) * 1.5;\n    }\n}\n...\ncalculator.xProjection(null, new Point(12,13));\n\nIt represents different ways of handling this:\npublic double xProjection(Point p1, Point p2) {\n    if (p1 == null || p2 == null) {\n        throw new IllegalArgumentException(\"Invalid argument for xProjection\");\n    }\n    return (p2.x - p1.x) * 1.5;\n}\n\npublic double xProjection(Point p1, Point p2) {\n    assert p1 != null : \"p1 should not be null\";\n    assert p2 != null : \"p2 should not be null\";\n    return (p2.x - p1.x) * 1.5;\n}\n\nI prefer the assertions approach, but I don't like the fact that assertions are turned off by default.\nThe book finally states:\n\nIn most programming languages there is no good way to deal with a null that is passed by a caller accidentally. Because this is the case, the rational approach is to forbid passing null by default.\n\nIt doesn't really go into how you would enforce this restriction?\nDo any of you have strong opinions either way.\n", "I have a list, each item of which has several things in it, including a JProgressBar which can be updating a lot.  Each time one of the items updates its JProgressBar, the ListDataListener on the list tries to scroll it the visible range using\n/*\n * This makes the updating content item automatically scroll\n * into view if it is off the viewport.\n */\npublic void contentsChanged(final ListDataEvent evt) {\n    if (!EventQueue.isDispatchThread()) {\n        /**\n          * Make sure the scrolling happens in the graphics \"dispatch\" thread.\n          */\n        EventQueue.invokeLater(new Runnable() {\n            public void run()  {\n               contentsChanged(evt);\n            }\n        });\n    }\n    if (playbackInProgress) {\n        int index = evt.getIndex0();\n        currentContentList.ensureIndexIsVisible(index);\n    }\n}\n\nNote that I'm trying to make sure the scrolling is done in the dispatch thread, since I thought maybe the problem was it being scrolled while it was repainting.  And yet, I still have a problem where if things are really active, some of the list items paint outside of the viewport, overwriting what's outside the JScrollPane.  Forcing an exposure event will repaint those things, but it's annoying.\nIs there anything else I need to look out for to stop these things painting outside of their clipping area?\n", "I want to limit my users to a directory and its sub directories but the \"Parent Directory\" button allows them to browse to an arbitrary directory.\nHow should I go about doing that?\n", "For various reasons calling System.exit is frowned upon when writing Java Applications, so how can I notify the calling process that not everything is going according to plan?\nEdit: The 1 is a standin for any non-zero exit code.\n", "This question would probably apply equally as well to other languages with C-like multi-line comments. Here's the problem I'm encountering. I'm working with Java code in Eclipse, and I wanted to comment out a block of code. However, there is a string that contains the character sequence \"*/\", and Eclipse thinks that the comment should end there, even though it is inside a string. It gives me tons of errors and fails to build.\n/*\n   ... some Java code ...\n   ... \"... */ ...\" ...\n   ... more Java code ...\n*/\n\nDoes the Java specification match with Eclipse's interpretation of my multi-line comment? I would like to think that Java and/or Eclipse would account for this sort of thing.\n", "I have a complete XML document in a string and would like a Document object. Google turns up all sorts of garbage. What is the simplest solution? (In Java 1.5)\nSolution Thanks to Matt McMinn, I have settled on this implementation. It has the right level of input flexibility and exception granularity for me. (It's good to know if the error came from malformed XML - SAXException - or just bad IO - IOException.)\npublic static org.w3c.dom.Document loadXMLFrom(String xml)\n    throws org.xml.sax.SAXException, java.io.IOException {\n    return loadXMLFrom(new java.io.ByteArrayInputStream(xml.getBytes()));\n}\n\npublic static org.w3c.dom.Document loadXMLFrom(java.io.InputStream is) \n    throws org.xml.sax.SAXException, java.io.IOException {\n    javax.xml.parsers.DocumentBuilderFactory factory =\n        javax.xml.parsers.DocumentBuilderFactory.newInstance();\n    factory.setNamespaceAware(true);\n    javax.xml.parsers.DocumentBuilder builder = null;\n    try {\n        builder = factory.newDocumentBuilder();\n    }\n    catch (javax.xml.parsers.ParserConfigurationException ex) {\n    }  \n    org.w3c.dom.Document doc = builder.parse(is);\n    is.close();\n    return doc;\n}\n\n", "After reading Jeff's blog post on Protecting Your Cookies: HttpOnly. I'd like to implement HttpOnly cookies in my web application.\nHow do you tell tomcat to use http only cookies for sessions?\n", "I am using Hibernate in a Java application to access my Database and it works pretty well with MS-SQL and MySQL. But some of the data I have to show on some forms has to come from Text files, and by Text files I mean Human-Readable files, they can be CSV, Tab-Delimited, or even a key, value pair, per line since my data is as simple as this, but my preference of course is XML files.\nMy question is: Can I use hibernate to read those files using HQL, Query , EntityManager and all those resources Hibernate provides me to access files. Which file format should I use and How I configure My persistence.xml file to recognize files as Tables?\n", "There are a couple of things that I am having a difficult time understanding with regards to developing custom components in JSF.  For the purposes of these questions, you can assume that all of the custom controls are using valuebindings/expressions (not literal bindings).  Although I'll gladly upvote those who give good explanations on that as well, since that could be helpful for others (and me down the line).\n\nWhere do I set the value for the valuebinding?  Is this supposed to happen in decode?  Or should decode do something else and then have the value set in encodeBegin?\nRead from the Value Binding - When do I read data from the valuebinding vs. reading it from submittedvalue and putting it into the valuebinding?  \nWhen are action listeners on forms called in relation to all of this?  The JSF lifecycle pages all mention events happening at various steps, but its not completely clear to me when just a simple listener for a commandbutton is being called\n\nI've tried a few combinations, but always end up with hard to find bugs that I believe are coming from basic misunderstandings of the event lifecycle.\n", "Unchecked exceptions are alright if you want to handle every failure the same way, for example by logging it and skipping to the next request, displaying a message to the user and handling the next event, etc. If this is my use case, all I have to do is catch some general exception type at a high level in my system, and handle everything the same way.\nBut I want to recover from specific problems, and I'm not sure the best way to approach it with unchecked exceptions. Here is a concrete example.\nSuppose I have a web application, built using Struts2 and Hibernate. If an exception bubbles up to my \"action\", I log it, and display a pretty apology to the user. But one of the functions of my web application is creating new user accounts, that require a unique user name. If a user picks a name that already exists, Hibernate throws an org.hibernate.exception.ConstraintViolationException (an unchecked exception) down in the guts of my system. I'd really like to recover from this particular problem by asking the user to choose another user name, rather than giving them the same \"we logged your problem but for now you're hosed\" message.\nHere are a few points to consider:\n\nThere a lot of people creating accounts simultaneously. I don't want to lock the whole user table between a \"SELECT\" to see if the name exists and an \"INSERT\" if it doesn't. In the case of relational databases, there might be some tricks to work around this, but what I'm really interested in is the general case where pre-checking for an exception won't work because of a fundamental race condition. Same thing could apply to looking for a file on the file system, etc.\nGiven my CTO's propensity for drive-by management induced by reading technology columns in \"Inc.\", I need a layer of indirection around the persistence mechanism so that I can throw out Hibernate and use Kodo, or whatever, without changing anything except the lowest layer of persistence code. As a matter of fact, there are several such layers of abstraction in my system. How can I prevent them from leaking in spite of unchecked exceptions?\nOne of the declaimed weaknesses of checked exceptions is having to \"handle\" them in every call on the stack\u2014either by declaring that a calling method throws them, or by catching them and handling them. Handling them often means wrapping them in another checked exception of a type appropriate to the level of abstraction. So, for example, in checked-exception land, a file-system\u2013based implementation of my UserRegistry might catch IOException, while a database implementation would catch SQLException, but both would throw a UserNotFoundException that hides the underlying implementation. How do I take advantage of unchecked exceptions, sparing myself of the burden of this wrapping at each layer, without leaking implementation details?\n\n", "So I've got a JPanel implementing MouseListener and MouseMotionListener:\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class DisplayArea extends JPanel implements MouseListener, MouseMotionListener  {\n    public DisplayArea(Rectangle bounds, Display display) {\n        setLayout(null);\n        setBounds(bounds);\n        setOpaque(false);\n        setPreferredSize(new Dimension(bounds.width, bounds.height));\n\n        this.display = display;\n    }\n\n    public void paintComponent(Graphics g) {\n         Graphics2D g2 = (Graphics2D)g;\n         if (display.getControlPanel().Antialiasing()) {\n             g2.addRenderingHints(new RenderingHints(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON));\n         }\n         g2.setColor(Color.white);\n         g2.fillRect(0, 0, getWidth(), getHeight());\n    }\n\n    public void mousePressed(MouseEvent event) {\n        System.out.println(\"mousePressed()\");\n        mx1 = event.getX();\n        my1 = event.getY();\n    }\n\n    public void mouseReleased(MouseEvent event) {\n        System.out.println(\"mouseReleased()\");\n        mx2 = event.getX();\n        my2 = event.getY();\n\n        int mode = display.getControlPanel().Mode();\n        switch (mode) {\n        case ControlPanel.LINE:\n             System.out.println(\"Line from \" + mx1 + \", \" + my1 + \" to \" + mx2 + \", \" + my2 + \".\");\n        }\n    }\n\n    public void mouseEntered(MouseEvent event) {\n        System.out.println(\"mouseEntered()\");\n    }\n\n    public void mouseExited(MouseEvent event) {\n        System.out.println(\"mouseExited()\");\n    }\n\n    public void mouseClicked(MouseEvent event) {\n        System.out.println(\"mouseClicked()\");\n    }\n\n    public void mouseMoved(MouseEvent event) {\n        System.out.println(\"mouseMoved()\");\n    }\n\n    public void mouseDragged(MouseEvent event) {\n         System.out.println(\"mouseDragged()\");\n    }\n\n    private Display display = null;\n\n    private int mx1 = -1;\n    private int my1 = -1;\n    private int mx2 = -1;\n    private int my2 = -1;\n}\n\nThe trouble is, none of these mouse functions are ever called. DisplayArea is created like this:\nda = new DisplayArea(new Rectangle(CONTROL_WIDTH, 0, DISPLAY_WIDTH, DISPLAY_HEIGHT), this);\n\nI am not really a Java programmer (this is part of an assignment), but I can't see anything glaringly obvious. Can someone smarter than I see anything?\n", "I would like to add the following MIME type to a site run by Apache:\n<mime-mapping>\n  <extension>jnlp</extension>\n  <mime-type>application/x-java-jnlp-file</mime-type>\n</mime-mapping>\n\nThat is the Tomcat format.\nI'm on a shared host, so I can only create an .htaccess file. Would someone please specify the complete contents of such a file?\n", "I have an application which really should be installed, but does work fine when deployed using JNLP.\nHowever, it would seem that some Java functions such as Runtime.exec don't work using the default security options.\nI would like to therefore disable UI functionality that relies upon such functions.  \nSo my question is, how do I detect at runtime whether certain functions are available or not?\nThe case study, here of course, is Runtime.exec.\n", "I'm looking for a library to handle iCalendar data in Java.\nOpen source, well-documented implementations with a good object model are preferred.  iCal parsing capabilities are less important to me, but still nice to have.\nDoes anyone have any recommendations?\n", "I would like to retrieve the ethernet address of the network interface that is used to access a particular website.\nHow can this be done in Java?\nSolution Note that the accepted solution of getHardwareAddress is only available in Java 6. There does not seem to be a solution for Java 5 aside from executing i(f|p)confing.\n", "I would like to know which dependency described in my pom.xml brings a transitive dependency in my target directory.\nTo be more precise, I have the library \"poi-2.5.1-final-20040804.jar\" in my WEB-INF/lib directory and I would like to know which dependency in my pom.xml brings that.\n", "I am getting a NoClassDefFoundError when I run my Java application.  What is typically the cause of this?\n", "How do I use JUnit to test a class that has internal private methods, fields or nested classes?\nIt seems bad to change the access modifier for a method just to be able to run a test. \n", "The system I am currently working on requires some role-based security, which is well catered for in the Java EE stack. The system intends to be a framework for business domain experts to write their code on top of.\nHowever, there is also a requirement for data security. That is, what information is visible to an end user.\nThis effectively means reducing visibility to rows (and perhaps even columns) in the database.\nWe are using Hibernate for our persistence. However, we are using our own annotations so as not to expose our persistence choice to the business domain experts. \nFor row based security this means we could add an annotation such as @Secured at the entity level, which would cause an extra column to be added to the underlying table to constrain our selects?\nFor column based security, we could perhaps have @Secured to either assist in query generation, or perhaps use an aspect to filter the information returned?\nI'm curious to know how this might affect hibernate's caching mechanisms as well?\nI'm sure a lot of others will have had the same issue, and I was wondering how you approached this?\nMuch appreciated...\n", "I have a recursive algorithm which steps through a string, character by character, and parses it to create a tree-like structure.  I want to be able to keep track of the character index the parser is currently at (for error messages as much as anything else) but am not keen on implementing something like a tuple to handle multiple returned types.\nI tried using an Integer type, declared outside the method and passed into the recursive method, but because it's final, recursive call increments are \"forgotten\" when I return. (Because the increment of the Integer value makes the passed-by-value object reference point at a new object)\nIs there a way to get something similar to work which won't pollute my code?\n", "Is there anything built into the core C# libraries that can give me an immutable Dictionary? \nSomething along the lines of Java's:\nCollections.unmodifiableMap(myMap);\n\nAnd just to clarify, I am not looking to stop the keys / values themselves from being changed, just the structure of the Dictionary.  I want something that fails fast and loud if any of IDictionary's mutator methods are called (Add, Remove, Clear).\n", "What did I do wrong?\nHere is an excerpt from my code:\npublic void createPartControl(Composite parent) {\n  parent.setLayout(new FillLayout());\n  ScrolledComposite scrollBox = new ScrolledComposite(parent, SWT.V_SCROLL);\n  scrollBox.setExpandHorizontal(true);\n  mParent = new Composite(scrollBox, SWT.NONE);\n  scrollBox.setContent(mParent);\n  FormLayout layout = new FormLayout();\n  mParent.setLayout(layout);\n  // Adds a bunch of controls here\n  mParent.layout();\n  mParent.setSize(mParent.computeSize(SWT.DEFAULT, SWT.DEFAULT, true));\n}\n\nbut it clips the last button:\n\nbigbrother82: That didn't work.\nSCdF: I tried your suggestion, and now the scrollbars are gone.  I need to work some more on that.\n", "I'm getting a NoSuchMethodError error when running my Java program.  What's wrong and how do I fix it?\n", "I have been working with Struts for some time, but for a project I am finishing I was asked to separate Templates (velocity .vm files), configs (struts.xml, persistence.xml) from main WAR file.\nI have all in default structure like: \n\n    application\n    |-- META-INF            -- Some configs are here\n    |-- WEB-INF             -- others here\n    |   |-- classes\n    |   |   |-- META-INF\n    |   |   `-- mypackage\n    |   |       `-- class-files\n    |   `-- lib\n    |-- css\n    `-- tpl                 -- Template dir to be relocated\n\nAnd I apparently can't find documentation about how to setup (probably in struts.xml) where my templates go, and where config files will be.\nI think I will have to use configurations on the application server too (I am using Jetty 5.1.14).\nSo, any lights on how to configure it ? \nThanks\n\nWell, the whole thing about changing templates place is to put the templates in a designer accessible area, so any modification needed, the designer can load them to his/her computer, edit, and upload it again. I think this is a common scenario. So, probably I am missing something in my research. Maybe I am focusing in configuring it on the wrong place ... Any thoughts ?\n", "What is the Java analogue of .NET's XML serialization?\n", "How do I get the id of my Java process? I know there are several platform-dependent hacks, but I'd prefer a more generic solution.\n", "Java has generics and C++ provides a very strong programming model with templates.\nSo then, what is the difference between C++ and Java generics?\n", "Is it completely against the Java way to create struct like objects?\nclass SomeData1 {\n    public int x;\n    public int y;\n}\n\nI can see a class with accessors and mutators being more Java like.\nclass SomeData2 {\n    int getX();\n    void setX(int x);\n\n    int getY();\n    void setY(int y);\n\n    private int x;\n    private int y;\n}\n\nThe class from the first example is notationally convenient.\n// a function in a class\npublic int f(SomeData1 d) {\n    return (3 * d.x) / d.y;\n}\n\nThis is not as convenient.\n// a function in a class\npublic int f(SomeData2 d) {\n    return (3 * d.getX()) / d.getY();\n}\n\n", "In C++ when a virtual function is called from within a constructor it doesn't behave like a virtual function. I think everyone who encountered for the first time was surprised but on second thought it makes sense, if the derived constructor hasn't yet run the object is not yet a derived so how can a derived function be called? The preconditions haven't had the chance to be set up. Example:\nclass base {\npublic:\n    base()\n    {\n        std::cout << \"foo is \" << foo() << std::endl;\n    }\n    virtual int foo() { return 42; }\n};\n\nclass derived : public base {\n    int* ptr_;\npublic:\n    derived(int i) : ptr_(new int(i*i)) { }\n    // The following cannot be called before derived::derived due to how C++ behaves, \n    // if it was possible... Kaboom!\n    virtual int foo()   { return *ptr_; } \n};\n\nIt's exactly the same for Java and .NET yet they chose to go the other way, was the only reason the principle of least surprise? \nWhich do you think is the correct choice?\n", "I have an activity which has a TabHost containing a set of TabSpecs each with a listview containing the items to be displayed by the tab. When each TabSpec is created, I set an icon to be displayed in the tab header.\nThe TabSpecs are created in this way within a setupTabs() method which loops to create the appropriate number of tabs:\nTabSpec ts = mTabs.newTabSpec(\"tab\");\nts.setIndicator(\"TabTitle\", iconResource);\n\nts.setContent(new TabHost.TabContentFactory(\n{\n    public View createTabContent(String tag)\n    {\n        ... \n    }            \n});\nmTabs.addTab(ts);\n\nThere are a couple instances where I want to be able to change the icon which is displayed in each tab during the execution of my program. Currently I am deleting all the tabs, and calling the above code again to re-create them.\nmTabs.getTabWidget().removeAllViews();\nmTabs.clearAllTabs(true);\nsetupTabs();\n\nIs there a way to replace the icon that is being displayed without deleting and re-creating all of the tabs?\n", "If one Googles for \"difference between notify() and notifyAll()\" then a lot of explanations will pop up (leaving apart the javadoc paragraphs). It all boils down to the number of waiting threads being waken up: one in notify() and all in notifyAll().\nHowever (if I do understand the difference between these methods right), only one thread is always selected for further monitor acquisition; in the first case the one selected by the VM, in the second case the one selected by the system thread scheduler. The exact selection procedures for both of them (in the general case) are not known to the programmer.\nWhat's the useful difference between notify() and notifyAll() then? Am I missing something?\n", "I have a question on the best way of exposing an asynchronous remote interface.\nThe conditions are as follows:\n\nThe protocol is asynchronous\nA third party can modify the data at any time\nThe command round-trip can be significant\nThe model should be well suited for UI interaction\nThe protocol supports queries over certain objects, and so must the model\n\nAs a means of improving my lacking skills in this area (and brush up my Java in general), I have started a project to create an Eclipse-based front-end for xmms2 (described below).\nSo, the question is; how should I expose the remote interface as a neat data model (In this case, track management and event handling)?\nI welcome anything from generic discussions to pattern name-dropping or concrete examples and patches :)\n\nMy primary goal here is learning about this class of problems in general. If my project can gain from it, fine, but I present it strictly to have something to start a discussion around.\nI've implemented a protocol abstraction which I call 'client' (for legacy reasons) which allows me to access most exposed features using method calls which I am happy with even if it's far from perfect.\nThe features provided by the xmms2 daemon are things like track searching, meta-data retrieval and manipulation, change playback state, load playlists and so on and so forth.\nI'm in the middle of updating to the latest stable release of xmms2, and I figured I might as well fix some of the glaring weaknesses of my current implementation.\nMy plan is to build a better abstraction on top of the protocol interface, one that allows a more natural interaction with the daemon. The current 'model' implementation is hard to use and is frankly quite ugly (not to mention the UI-code which is truly horrible atm).\nToday I have the Tracks interface which I can use to get instances of Track classes based on their id. Searching is performed through the Collections interface (unfortunate namespace clash) which I'd rather move to Tracks, I think.\nAny data can be modified by a third party at any time, and this should be properly reflected in the model and change-notifications distributed\nThese interfaces are exposed when connecting, by returning an object hierarchy that looks like this:\n\nConnection\n\n\nPlayback getPlayback()\n\n\nPlay, pause, jump, current track etc\nExpose playback state changes\n\nTracks getTracks()\n\n\nTrack getTrack(id) etc\nExpose track updates\n\nCollections getCollection()\n\n\nLoad and manipulate playlists or named collections\nQuery media library\nExpose collection updates\n\n\n\n", "When launching a thread or a process in .NET or Java, is there a way to choose which processor or core it is launched on? How does the shared memory model work in such cases?\n", "I have a large tree of Java Objects in my Desktop Application and am trying to decide on the best way of persisting them as a file to the file system.\nSome thoughts I've had were:\n\nRoll my own serializer using DataOutputStream:  This would give me the greatest control of what was in the file, but at the cost of micromanaging it.\nStraight old Serialization using ObjectOutputStream and its various related classes: I'm not sold on it though since I find the data brittle.  Changing any object's structure breaks the serialized instances of it.  So I'm locked in to what seems to be a horrible versioning nightmare.\nXML Serialization: It's not as brittle, but it's significantly slower that straight out serialization.  It can be transformed outside of my program.  \nJavaDB: I'd considered this since I'm comfortable writing JDBC applications. The difference here is that the database instance would only persist while the file was being opened or saved.  It's not pretty but... it does lend itself to migrating to a central server architecture if the need arises later and it introduces the possibility of quering the datamodel in a simpler way.\n\nI'm curious to see what other people think. And I'm hoping that I've missed some obvious, and simpler approach than the ones above.\n\nHere are some more options culled from the answers below:\n\nAn Object Database - Has significantly less infrastructure than ORM approaches and performs faster than an XML approach. thanks aku\n\n", "I have developed some classes with similar behavior, they all implement the same interface.  I implemented a factory that creates the appropriate object and returns the interface.  I am writing a unit test for the factory.  All you get back is an interface to the object.\nWhat is the best way to test that the factory has worked correctly?\nI would like to know the answer in Java, but if there is a solution that crosses languages I would like to know it.\nNumber 2. in the answer, would be done like the other answer?  If so I will mark the other answer accepted as well and reword my question to adress both a factory where an interface is returned and you have no clue what type of concrete class implemented the interface, and the case where you do know what concrete class was used.\n", "I am writing a client-side Swing application (graphical font designer) on Java 5. Recently, I am running into java.lang.OutOfMemoryError: Java heap space error because I am not being conservative on memory usage. The user can open unlimited number of files, and the program keeps the opened objects in the memory. After a quick research I found Ergonomics in the 5.0 Java Virtual Machine and others saying on Windows machine the JVM defaults max heap size as 64MB.\nGiven this situation, how should I deal with this constraint?\nI could increase the max heap size using command line option to java, but that would require figuring out available RAM and writing some launching program or script. Besides, increasing to some finite max does not ultimately get rid of the issue.\nI could rewrite some of my code to persist objects to file system frequently (using database is the same thing) to free up the memory. It could work, but it's probably a lot work too.\nIf you could point me to details of above ideas or some alternatives like automatic virtual memory, extending heap size dynamically, that will be great.\n", "I've used the StAX API in Java quite a bit, and find it quite a clean way of dealing with XML files. Is there any equivalent library I could use for performing similar processing in C?\n", "What is reflection, and why is it useful?\nI'm particularly interested in Java, but I assume the principles are the same in any language.\n", "I'm writing a plugin that will parse a bunch of files in a project. But for the moment I'm stuck searching through the Eclipse API for answers.\nThe plugin works like this: Whenever I open a source file I let the plugin parse the source's corresponding build file (this could be further developed with caching the parse result). Getting the file is simple enough:\npublic void showSelection(IWorkbenchPart sourcePart) {\n    // Gets the currently selected file from the editor\n    IFile file = (IFile) workbenchPart.getSite().getPage().getActiveEditor()\n        .getEditorInput().getAdapter(IFile.class);\n    if (file != null) {\n        String path = file.getProjectRelativePath();\n        /** Snipped out: Rip out the source path part\n         * and replace with build path\n         * Then parse it. */\n    }\n}\n\nThe problem I have is I have to use hard coded strings for the paths where the source files and build files go. Anyone know how to retrieve the build path from Eclipse? (I'm working in CDT by the way). Also is there a simple way to determine what the source path is (e.g. one file is under the \"src\" directory) of a source file?\n", "I am reviewing a big java application to see if there are any performance bottlenecks. The real problem is that I cannot pinpoint the performance issues to any single module. The whole application is slow as such.\nIs there some tool/technique I can use to help me out in this?\n", "By default IntelliJ IDEA 7.0.4 seems to use 4 spaces for indentation in XML files.  The project I'm working on uses 2 spaces as indentation in all it's XML.  Is there a way to configure the indentation in IntelliJ's editor?\n", "@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\npublic class Problem {\n    @ManyToOne\n    private Person person;\n}\n\n@Entity\n@DiscriminatorValue(\"UP\")\npublic class UglyProblem extends Problem {}\n\n@Entity\npublic class Person {\n    @OneToMany(mappedBy=\"person\")\n    private List< UglyProblem > problems;\n}\n\nI think it is pretty clear what I am trying to do. I expect @ManyToOne person to be inherited by UglyProblem class. But there will be an exception saying something like: \"There is no such property found in UglyProblem class (mappedBy=\"person\")\".\nAll I found is this. I was not able to find the post by Emmanuel Bernard explaining reasons behind this. \n\n\nUnfortunately, according to the Hibernate documentation \"Properties from superclasses not mapped as @MappedSuperclass are ignored.\"\n\nWell I think this means that if I have these two classes:\npublic class A {\n    private int foo;\n}\n\n@Entity\npublic class B extens A {\n}\n\nthen field foo will not be mapped for class  B. Which makes sense. But if I have something like this:\n@Entity\npublic class Problem {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\nprivate String name;\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n}\n\n@Entity\npublic class UglyProblem extends Problem {\n\nprivate int levelOfUgliness;\n\npublic int getLevelOfUgliness() {\n    return levelOfUgliness;\n}\n\npublic void setLevelOfUgliness(int levelOfUgliness) {\n    this.levelOfUgliness = levelOfUgliness;\n}\n}\n\nI expect the class UglyProblem to have fileds id and name and both classes to be mapped using same table. (In fact, this is exactly what happens, I have just checked again). I have got this table:\nCREATE TABLE \"problem\" (\n    \"DTYPE\" varchar(31) NOT NULL,\n    \"id\" bigint(20) NOT NULL auto_increment,\n    \"name\" varchar(255) default NULL,\n    \"levelOfUgliness\" int(11) default NULL,\n    PRIMARY KEY  (\"id\")\n) AUTO_INCREMENT=2;\n\nGoing back to my question:\n\nI expect @ManyToOne person to be inherited by UglyProblem class.\n\nI expect that because all other mapped fields are inherited and I do not see any reason to make this exception for ManyToOne relationships.\n\nYeah, I saw that. In fact, I used Read-Only solution for my case. But my question was \"Why...\" :). I know that there is an explanation given by a member of hibernate team. I was not able to find it and that is why I asked.\nI want to find out the motivation of this design decision.\n(if you interested how I have faced this problem: I inherited a project built using hibernate 3. It was Jboss 4.0.something + hibernate was already there (you'd download it all together). I was moving this project to Jboss 4.2.2 and I found out that there are inherited mappings of \"@OneToMany mappedBy\" and it worked fine on old setup...)\n", "Is there any shorthand way of defining and using generic definations without having to keep repeating a particular generic description such that if there is a change I don't have to change all definations/usages though out the codebase for example is somethhing like this possible:\nTypedef myGenDef = < Object1, Object2 >;\n\nHashMap< myGenDef > hm = new HashMap< myGenDef >();\n\nfor (Entry< myGenDef > ent : hm..entrySet())\n{\n.\n.\n.\n}\n\n", "It may not be best practice but are there ways of removing unsused classes from a third party's jar files.  Something that looks at the way in which my classes are using the library and does some kind of coverage analysis, then spits out another jar with all of the untouched classes removed.\nObviously there are issues with this.  Specifically, the usage scenario I put it though may not use all classes all the time.\nBut neglecting these problems, can it be done in principle?\n", "I find that getting Unicode support in my cross-platform apps a real pain in the butt.\nI need strings that can go from C code, to a database, to a Java application and into a Perl module.  Each of these use a different Unicode encodings (UTF8, UTF16) or some other code page.  The biggest thing that I need is a cross-platform way of doing conversions.\nWhat kind of tools, libraries or techniques do people use to make handling these things easier?\n", "Assume java 1.6 and leopard. Ideally, it would also be nice to get a list of all supported resolutions and the current resolution. If this isn't possible in java, is there some way to do it that could be called from java?\n", "I want to create a Java application bundle for Mac without using Mac.\nAccording to Java Deployment Options for Mac OS X, I can do this by using Xcode, Jar Bundler, or from the command line. Once the files and folders are set up, all I need for the command line method is to call /Developer/Tools/SetFile. Is there a SetFile clone on Linux or Windows? If not, do I have to get a Mac?\n", "If I create an HTTP java.net.URL and then call openConnection() on it, does it necessarily imply that an HTTP post is going to happen?  I know that openStream() implies a GET.  If so, how do you perform one of the other HTTP verbs without having to work with the raw socket layer?\n", "My project is based on spring framework 2.5.4. And I try to add aspects for some controllers (I use aspectj 1.5.3).\nI've enabled auto-proxy in application-servlet.xml, just pasted these lines to the end of the xml file:\n<aop:aspectj-autoproxy />\n<bean id=\"auditLogProcessor\" class=\"com.example.bg.web.utils.AuditLogProcessor\" />\n\nCreated aspect:\npackage com.example.bg.web.utils;\n\nimport org.apache.log4j.Logger;\nimport org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class AuditLogProcessor\n{\n    private final static Logger log = Logger.getLogger(AuditLogProcessor.class);\n\n    @After(\"execution(* com.example.bg.web.controllers.assets.AssetThumbnailRebuildController.rebuildThumbnail(..))\")\n    public void afterHandleRequest() {\n        log.info(\"test111\");\n    }\n\n    @After(\"execution(* com.example.bg.web.controllers.assets.AssetThumbnailRebuildController.rebuildThumbnail(..))\")\n    public void afterRebuildThumbnail() {\n        log.info(\"test222\");\n    }\n}\nMy controllers:\nclass AssetAddController implements Controller\nclass AssetThumbnailRebuildController extends MultiActionController\nWhen I set brake points in aspect advisors and invoke controllers I catch only afterHandleRequest() but not afterRebildThumbnail()\nWhat did I do wrong?\nNOTE\nI'm asking this question on behalf of my friend who doesn't have access to SO beta, and I don't have a clue what it's all about.\nEDIT\nThere were indeed some misspellings, thanks Cheekysoft. But the problem still persists.\n", "I think it can be done by applying the transformation matrix of the scenegraph to z-normal (0, 0, 1), but it doesn't work. My code goes like this:\nVector3f toScreenVector = new Vector3f(0, 0, 1);\nTransform3D t3d = new Transform3D();\ntg.getTransform(t3d); //tg is Transform Group of all objects in a scene\nt3d.transform(toScreenVector);\n\nThen I tried something like this too:\nPoint3d eyePos = new Point3d();\nPoint3d mousePos = new Point3d();\ncanvas.getCenterEyeInImagePlate(eyePos);\ncanvas.getPixelLocationInImagePlate(new Point2d(Main.WIDTH/2, Main.HEIGHT/2), mousePos); //Main is the class for main window.\n\nTransform3D motion = new Transform3D();\ncanvas.getImagePlateToVworld(motion);\nmotion.transform(eyePos);\nmotion.transform(mousePos);\n\nVector3d toScreenVector = new Vector3f(eyePos);\ntoScreenVector.sub(mousePos);\ntoScreenVector.normalize();\n\nBut still this doesn't work correctly. I think there must be an easy way to create such vector. Do you know what's wrong with my code or better way to do so?\n", "What would be the easiest way to be able to send and receive raw network packets. Do I have to write my own JNI wrapping of some c API, and in that case what API am I looking for?\nEDIT: I want to be able to do what wireshark does, i.e. record all incomming packets on an interface, and in addition be able to send back my own created packets. And I want to do it on a mac.\n", "How do you find a memory leak in Java (using, for example, JHat)? I have tried to load the heap dump up in JHat to take a basic look. However, I do not understand how I am supposed to be able to find the root reference (ref) or whatever it is called. Basically, I can tell that there are several hundred megabytes of hash table entries ([java.util.HashMap$Entry or something like that), but maps are used all over the place... Is there some way to search for large maps, or perhaps find general roots of large object trees?\n[Edit]\nOk, I've read the answers so far but let's just say I am a cheap bastard (meaning I am more interested in learning how to use JHat than to pay for JProfiler). Also, JHat is always available since it is part of the JDK. Unless of course there is no way with JHat but brute force, but I can't believe that can be the case.\nAlso, I do not think I will be able to actually modify (adding logging of all map sizes) and run it for long enough for me to notice the leak.\n", "I joined a new company about a month ago. The company is rather small in size and has pretty strong \"start-up\" feel to it. I'm working as a Java developer on a team of 3 others. The company primarily sells a service to for businesses/business-type people to use in communicating with each other.\nOne of the main things I have been, and will be working on, is the main website for the company - from which the service is sold, existing users login to check their service and pay their bills, new users can sign up for a trial, etc. Currently this is a JSP application deployed on Tomcat, with access to a database done thru a persistence layer written by the company itself.\nA repeated and growing frustration I am having here (and I'm pretty happy with the job overall, so this isn't an \"oh no I don't like my job\"-type post) is the lack of any larger design or architecture for this web application. The app is made up of several dozen JSP pages, with almost no logic existing in Servlets or Beans or any other sort of framework. Many of the JSP pages are thousands of lines of code, they jsp:include other JSP pages, business logic is mixed in with the HTML, frequently used snippets of code (such as obtaining a web service connection) is cut and paste rather than reused, etc. In other words, the application is a mess.\nThere have been some rumblings within the company of trying to re-architect this site so that it fits MVC better; I think that the developers and higher-ups are beginning to realize that this current pattern of spaghetti code isn't sustainable or very easily scalable to add more features for the users. The higher-ups and developers are wary of completely re-writing the thing (with good reason, since this would mean several weeks or months of work re-writing existing functionality), but we've had some discussions of (slowly) re-writing certain areas of the site into a new framework.\nWhat are some of the best strategies to enable moving the application and codebase into this direction? How can I as a developer really help move this along, and quickly, without seeming like the jerk-y new guy who comes into a job and tells everyone that what they've written is crap? Are there any proven strategies or experiences that you've used in your own job experience when you've encountered this sort of thing?\n", "Is it possible to handle POSIX signals within the Java Virtual Machine?\nAt least SIGINT and SIGKILL should be quite platform independent.\n", "What are the differences between a HashMap and a Hashtable in Java?\nWhich is more efficient for non-threaded applications?\n", "I'm trying to find a way to validate a large XML file against an XSD. I saw the question ...best way to validate an XML... but the answers all pointed to using the Xerces library for validation. The only problem is, when I use that library to validate a 180 MB file then I get an OutOfMemoryException.\nAre there any other tools,libraries, strategies for validating a larger than normal XML file?\nEDIT: The SAX solution worked for java validation, but the other two suggestions for the libxml tool were very helpful as well for validation  outside of java.\n", "I'm a long-time emacs user, and I'm now working about 1/2 time in Java.\nWhat are the best emacs libraries for\n\nDebugging Java\nCode Completion/Intellisense\nJavadoc browsing\n\n?\n", "I've been looking for a simple Java algorithm to generate a pseudo-random alpha-numeric string.  In my situation it would be used as a unique session/key identifier that would \"likely\" be unique over 500K+ generation (my needs don't really require anything much more sophisticated).  Ideally, I would be able to specify a length depending on my uniqueness needs. For example, a generated string of length 12 might look something like \"AEYGF7K0DM1X\".  \n", "I'm attracted to the neatness that a single file database provides. What driver/connector library is out there to connect and use SQLite with Java.\nI've discovered a wrapper library, http://www.ch-werner.de/javasqlite, but are there other more prominent projects available?\n", "In Java, static and transient fields are not serialized. However, I found out that initialization of static fields causes the generated serialVersionUID to be changed. For example, static int MYINT = 3; causes the serialVersionUID to change. In this example, it makes sense because different versions of the class would get different initial values. Why does any initialization change the serialVersionUID? For example, static String MYSTRING = System.getProperty(\"foo\"); also causes the serialVersionUID to change.\nTo be specific, my question is why does initialization with a method cause the serialVersionUID to change. The problem I hit is that I added a new static field that was initialized with a system property value (getProperty). That change caused a serialization exception on a remote call.\n", "Is there any way in the Servlet API to access properties specified in web.xml (such as initialization parameters) from within a Bean or Factory class that is not associated at all with the web container?\nFor example, I'm writing a Factory class, and I'd like to include some logic within the Factory to check a hierarchy of files and configuration locations to see which if any are available to determine which implementation class to instantiate - for example, \n\na properties file in the classpath,\na web.xml parameter, \na system property, or \nsome default logic if nothing else is available. \n\nI'd like to be able to do this without injecting any reference to ServletConfig or anything similiar to my Factory - the code should be able to run ok outside of a Servlet Container.\nThis might sound a little bit uncommon, but I'd like for this component I'm working on to be able to be packaged with one of our webapps, and also be versatile enough to be packaged with some of our command-line tools without requiring a new properties file just for my component - so I was hoping to piggyback on top of other configuration files such as web.xml.\nIf I recall correctly, .NET has something like Request.GetCurrentRequest() to get a reference to the currently executing Request - but since this is a Java app I'm looking for something simliar that could be used to gain access to ServletConfig.\n", "I've got some Java code using a servlet and Apache Commons FileUpload to upload a file to a set directory. It's working fine for character data (e.g. text files) but image files are coming out garbled.  I can open them but the image doesn't look like it should.  Here's my code:\nServlet\nprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n    throws ServletException, IOException {\n    try {\n      String customerPath = \"\\\\leetest\\\\\";\n\n      // Check that we have a file upload request\n      boolean isMultipart = ServletFileUpload.isMultipartContent(request);\n\n      if (isMultipart) {\n        // Create a new file upload handler\n        ServletFileUpload upload = new ServletFileUpload();\n\n        // Parse the request\n        FileItemIterator iter = upload.getItemIterator(request);\n        while (iter.hasNext()) {\n          FileItemStream item = iter.next();\n          String name = item.getFieldName();\n          if (item.isFormField()) {\n            // Form field.  Ignore for now\n          } else {\n            BufferedInputStream stream = new BufferedInputStream(item\n                .openStream());\n            if (stream == null) {\n              LOGGER\n                  .error(\"Something went wrong with fetching the stream for field \"\n                      + name);\n            }\n\n            byte[] bytes = StreamUtils.getBytes(stream);\n            FileManager.createFile(customerPath, item.getName(), bytes);\n\n            stream.close();\n          }\n        }\n      }\n    } catch (Exception e) {\n      throw new UploadException(\"An error occured during upload: \"\n          + e.getMessage());\n    }\n}\n\nStreamUtils.getBytes(stream) looks like:\npublic static byte[] getBytes(InputStream src, int buffsize)\n      throws IOException {\n    ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n    byte[] buff = new byte[buffsize];\n    while (true) {\n      int nBytesRead = src.read(buff);\n      if (nBytesRead < 0) {\n        break;\n      }\n      byteStream.write(buff);\n    }\n\n    byte[] result = byteStream.toByteArray();\n    byteStream.close();\n\n    return result;\n}\n\nAnd finally FileManager.createFile looks like:\npublic static void createFile(String customerPath, String filename,\n      byte[] fileData) throws IOException {\n    customerPath = getFullPath(customerPath + filename);\n    File newFile = new File(customerPath);\n    if (!newFile.getParentFile().exists()) {\n      newFile.getParentFile().mkdirs();\n    }\n\n    FileOutputStream outputStream = new FileOutputStream(newFile);\n    outputStream.write(fileData);\n    outputStream.close();\n  }\n\nCan anyone spot what I'm doing wrong?\nCheers,\nLee\n", "Is there a way to find the name of the program that is running in Java? The class of the main method would be good enough.\n", "I searched for this subject on Google and got some website about an experts exchange...so I figured I should just ask here instead.\nHow do you embed a JApplet in HTML on a webpage?\n", "I am writing an immutable DOM tree in Java, to simplify access from multiple threads.*\nHowever, it does need to support inserts and updates as fast as possible. And since it is immutable, if I make a change to a node on the N'th level of the tree, I need to allocate at least N new nodes  in order to return the new tree.\nMy question is, would it be dramatically faster to pre-allocate nodes rather than create new ones every time the tree is modified? It would be fairly easy to do - keep a pool of several hundred unused nodes, and pull one out of the pool rather than create one whenever it was required for a modify operation. I can replenish the node pool when there's nothing else going on. (in case it isn't obvious, execution time is going to be much more at a premium in this application than heap space is)\nIs it worthwhile to do this? Any other tips on speeding it up?\nAlternatively, does anyone know if an immutable DOM library already? I searched, but couldn't find anything.\n*Note: For those of you who aren't familiar with the concept of immutability, it basically means that on any operation to an object that changes it, the method returns a copy of the object with the changes in place, rather than the changed object. Thus, if another thread is still reading the object it will continue to happily operate on the \"old\" version, unaware that changes have been made, rather than crashing horribly. See http://www.javapractices.com/topic/TopicAction.do?Id=29\n", "a colleague pointed me the other day to BCEL which , as best I can tell from his explanation and a quick read, a way to modify at run time the byte code.  My first thought was that it sounded dangerous, and my second thought was that it sounded cool.  Then I gave it some more thought and I recalled the codinghorror post on monkey-patching and realized that this was basically the same thing.  Has anyone ever used BCEL for anything practical?  Am I right that this is basically run time monkey patching, or am I missing something?\n", "We're currently using Lucene 2.1.0 for our site search and we've hit a difficult problem: one of our index fields is being ignored during a targeted search. Here is the code for adding the field to a document in our index:\n// Add market_local to index\ncontactDocument.add(\n    new Field(\n        \"market_local\"\n        , StringUtils.objectToString(\n            currClip.get(\n                \"market_local\"\n            )\n        )\n        , Field.Store.YES\n        , Field.Index.UN_TOKENIZED \n    )\n);\n\nRunning a query ( * ) against the index will return the following results:\nResult 1:\n    title: Foo Bar\n    market_local: Local\n\nResult 2:\n    title: Bar Foo\n    market_local: National\n\nRunning a targeted query:\n+( market_local:Local )\n\nwon't find any results.\nI realize this is a highly specific question, I'm just trying to get information on where to start debugging this issue, as I'm a Lucene newbie.\n\nUPDATE\nInstalled Luke, checking out latest index... the Field market_local is available in searches, so if I execute something like:\nmarket_local:Local\n\nThe search works correctly (in Luke). I'm going over our Analyzer code now, is there any way I could chalk this issue up to the fact that our search application is using Lucene 2.1.0 and the latest version of Luke is using 2.3.0?\n", "I will elaborate somewhat. Jsf is kind-of extremely painful for working with from designer's perspective, somewhat in the range of trying to draw a picture while having hands tied at your back, but it is good for chewing up forms and listing lots of data. So sites we are making in my company are jsf admin pages and jsp user pages. Problem occurs when user pages have some complicated forms and stuff and jsf starts kickin' in. \nHere is the question: I'm on pure jsp page. I need to access some jsf page that uses session bean. How can I initialize that bean? If I was on jsf page, I could have some commandLink which would prepare data. Only thing I can come up with is having dummy jsf page that will do the work and redirect me to needed jsf page, but that's kind of ugly, and I don't want to end up with 50 dummy pages. I would rather find some mechanism to reinitialize bean that is already in session with some wanted parameters.\nEdit: some more details. In this specific situation, I have a tests that are either full or filtered. It's a same test with same logic and everything, except if test is filtered, it should eliminate some questions depending on answers. Upon a clicking a link, it should start a requested test in one of the two modes. Links are parts of main menu-tree and are visible on many sibling jsp pages. My task is to have 4 links: testA full, testA filtered, testB full, testB filtered, that all lead on same jsf page and TestFormBean should be reinitialized accordingly.\nEdit: I've researched facelets a bit, and while it won't help me now, I'll definitely keep that in mind for next project.\n", "I am looking for a regex that will match a string that starts with one substring and does not end with a certain substring.\nExample:\n// Updated to be correct, thanks @Apocalisp\n^foo.*(?<!bar)$\n\nShould match anything that starts with \"foo\" and doesn't end with \"bar\".  I know about the [^...] syntax, but I can't find anything that will do that for a string instead of single characters.  \nI am specifically trying to do this for Java's regex, but I've run into this before so answers for other regex engines would be great too.  \nThanks to @Kibbee for verifying that this works in C# as well.  \n", "I was surprised to find today that I couldn't track down any simple way to write the contents of an InputStream to an OutputStream in Java. Obviously, the byte buffer code isn't difficult to write, but I suspect I'm just missing something which would make my life easier (and the code clearer).\nSo, given an InputStream in and an OutputStream out, is there a simpler way to write the following?\nbyte[] buffer = new byte[1024];\nint len = in.read(buffer);\nwhile (len != -1) {\n    out.write(buffer, 0, len);\n    len = in.read(buffer);\n}\n\n", "The login page in my Tapestry application has a property in which the password the user types in is stored, which is then compared against the value from the database. If the user enters a password with multi-byte characters, such as:\n\u00e1\u00e9\u00ed\u00f3\u00fa\n\n...an inspection of the return value of getPassword() (the abstract method for the corresponding property) gives:\n\u00c3\u00a1\u00c3\u00a9\u00c3\u00ad\u00c3\u00b3\u00c3\u00ba\n\nClearly, that's not encoded properly. Yet Firebug reports that the page is served up in UTF-8, so presumably the form submission request would also be encoded in UTF-8. Inspecting the value as it comes from the database produces the correct string, so it wouldn't appear to be an OS or IDE encoding issue. I have not overridden Tapestry's default value for org.apache.tapestry.output-encoding in the .application file, and the Tapestry 4 documentation indicates that the default value for the property is UTF-8.\nSo why does Tapestry appear to botch the encoding when setting the property?\nRelevant code follows:\nLogin.html\n<html jwcid=\"@Shell\" doctype='html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"' ...>\n    <body jwcid=\"@Body\">\n        ...\n        <form jwcid=\"@Form\" listener=\"listener:attemptLogin\" ...>\n            ...\n            <input jwcid=\"password\"/>\n            ...\n        </form>\n        ...\n     </body>\n</html>\n\nLogin.page\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE page-specification\n    PUBLIC \"-//Apache Software Foundation//Tapestry Specification 4.0//EN\"\n    \"http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd\">\n\n<page-specification class=\"mycode.Login\">\n    ...\n    <property name=\"password\" />\n    ...\n    <component id=\"password\" type=\"TextField\">\n        <binding name=\"value\" value=\"password\"/>\n        <binding name=\"hidden\" value=\"true\"/>\n        ...\n    </component>\n    ...\n</page-specification>\n\nLogin.java\n...\npublic abstract class Login extends BasePage {\n    ...\n    public abstract String getPassword();\n    ...\n    public void attemptLogin() {\n        // At this point, inspecting getPassword() returns\n        // the incorrectly encoded String.\n    }\n    ...\n}\n\nUpdates\n@Jan Soltis: Well, if I inspect the value that comes from the database, it displays the correct string, so it would seem that my editor, OS and database are all encoding the value correctly. I've also checked my .application file; it does not contain an org.apache.tapestry.output-encoding entry, and the Tapestry 4 documentation indicates that the default value for this property is UTF-8. I have updated the description above to reflect the answers to your questions.\n@myself: Solution found.\n", "I have a String representation of a date that I need to create a Date or Calendar object from. I've looked through Date and Calendar APIs but haven't found anything that can do this other than creating my own ugly parse method. I know there must be a way, does anyone know of a solution?\n", "I have a distributed Java application running on 5 application servers. The servers all use the same Oracle 9i database running on a 6th machine.\nThe application need to prefetch a batch of 100 IDs from a sequence. It's relatively easy to do in a single-threaded, non-distributed environment, you can just issue these queries:\nselect seq.nextval from dual;\nalter sequence seq increment by 100;\nselect seq.nextval from dual;\n\nThe first select fetches the first sequence ID that the application can use, the second select returns the last one that can be used.\nThings get way more interesting in a multithreaded environment. You can't be sure that before the second select another thread doesn't increase the sequence by 100 again. This issue can be solved by synchronizing the access on the Java side - you only let one thread begin fetching the IDs at one time.\nThe situation becomes really hard when you can't synchronize because parts of the application doesn't run on the same JVM, not even on the same physical machine. I found some references on forums that others have problems with solving this problem too, but none of the answers are really working not to mention being reasonable.\nCan the community provide a solution for this problem?\nSome more information:\n\nI can't really play with the transaction isolation levels. I use JPA and the change would affect the entire application, not only the prefetching queries and that's not acceptable for me.\nOn PostgreSQL I could do the following:\nselect setval('seq', nextval('seq') + n - 1 )\nThe solution by Matthew works when you can use a fixed increment value (which is perfectly acceptable in my case). However is there a solution when you don't want to fix the size of the increment, but want to adjust it dynamically?\n\n", "I have a string that contains the representation of a date. It looks like: \nThu Nov 30 19:00:00 EST 2006\nI'm trying to create a Date object using SimpleDateFormat and have 2 problems. \n1.) I can't figure out the pattern to hard-code the solution into the SimpleDateFormat constructor\n2.) I can't find a way I could parse the string using API to determine the pattern so I could reuse this for different patterns of date output \nIf anyone knows a solution using API or a custom solution I would greatly appreciate it.\n", "I am looking for some advice on what should I concentrate my efforts to get the needed skills to become a Java developer for Oracle applications. I'm bit confused as there are lot of technologies in the Java world. Where should I start? What to avoid? Is JDeveloper a good IDE for a beginner?\n", "I use Eclipse, Maven, and Java in my development. I use Maven to download dependencies (jar files and javadoc when available) and Maven's eclipse plug-in to generate the .project and .classpath files for Eclipse. When the dependency downloaded does not have attached javadoc I manually add a link for the javadoc in the .classpath file so that I can see the javadoc for the dependency in Eclipse. Then when I run Maven's eclipse plugin to regenerate the .classpath file it of course wipes out that change.\nIs there a way to configure Maven's eclipse plug-in to automatically add classpath attributes for javadoc when running Maven's eclipse plug-in?  \nI'm only interested in answers  where the javadoc and/or sources are not provided for the dependency in the maven repository, which is the case most often for me. Using downloadSources and/or downloadJavadocs properties won't help this problem.\n", "Everyone I talk to who knows (knew) about it claims it was the greatest thing since sliced bread.  Why did it fail?  Or, if it didn't fail, who's using it now?\n", "I'm using ant to generate javadocs, but get this exception over and over - why?\nI'm using JDK version 1.6.0_06.\n[javadoc] java.lang.ClassCastException: com.sun.tools.javadoc.ClassDocImpl cannot be cast to com.sun.javadoc.AnnotationTypeDoc\n  [javadoc]     at com.sun.tools.javadoc.AnnotationDescImpl.annotationType(AnnotationDescImpl.java:46)\n  [javadoc]     at com.sun.tools.doclets.formats.html.HtmlDocletWriter.getAnnotations(HtmlDocletWriter.java:1739)\n  [javadoc]     at com.sun.tools.doclets.formats.html.HtmlDocletWriter.writeAnnotationInfo(HtmlDocletWriter.java:1713)\n  [javadoc]     at com.sun.tools.doclets.formats.html.HtmlDocletWriter.writeAnnotationInfo(HtmlDocletWriter.java:1702)\n  [javadoc]     at com.sun.tools.doclets.formats.html.HtmlDocletWriter.writeAnnotationInfo(HtmlDocletWriter.java:1681)\n  [javadoc]     at com.sun.tools.doclets.formats.html.FieldWriterImpl.writeSignature(FieldWriterImpl.java:130)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.FieldBuilder.buildSignature(FieldBuilder.java:184)\n  [javadoc]     at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)\n  [javadoc]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  [javadoc]     at java.lang.reflect.Method.invoke(Method.java:597)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.FieldBuilder.invokeMethod(FieldBuilder.java:114)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.AbstractBuilder.build(AbstractBuilder.java:90)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.AbstractMemberBuilder.build(AbstractMemberBuilder.java:56)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.FieldBuilder.buildFieldDoc(FieldBuilder.java:158)\n  [javadoc]     at sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source)\n  [javadoc]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  [javadoc]     at java.lang.reflect.Method.invoke(Method.java:597)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.FieldBuilder.invokeMethod(FieldBuilder.java:114)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.AbstractBuilder.build(AbstractBuilder.java:90)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.AbstractMemberBuilder.build(AbstractMemberBuilder.java:56)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.buildFieldDetails(ClassBuilder.java:301)\n  [javadoc]     at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)\n  [javadoc]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  [javadoc]     at java.lang.reflect.Method.invoke(Method.java:597)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.invokeMethod(ClassBuilder.java:101)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.AbstractBuilder.build(AbstractBuilder.java:90)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.buildClassDoc(ClassBuilder.java:124)\n  [javadoc]     at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)\n  [javadoc]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  [javadoc]     at java.lang.reflect.Method.invoke(Method.java:597)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.invokeMethod(ClassBuilder.java:101)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.AbstractBuilder.build(AbstractBuilder.java:90)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.build(ClassBuilder.java:108)\n  [javadoc]     at com.sun.tools.doclets.formats.html.HtmlDoclet.generateClassFiles(HtmlDoclet.java:155)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:164)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:106)\n  [javadoc]     at com.sun.tools.doclets.internal.toolkit.AbstractDoclet.start(AbstractDoclet.java:64)\n  [javadoc]     at com.sun.tools.doclets.formats.html.HtmlDoclet.start(HtmlDoclet.java:42)\n  [javadoc]     at com.sun.tools.doclets.standard.Standard.start(Standard.java:23)\n  [javadoc]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  [javadoc]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n  [javadoc]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  [javadoc]     at java.lang.reflect.Method.invoke(Method.java:597)\n  [javadoc]     at com.sun.tools.javadoc.DocletInvoker.invoke(DocletInvoker.java:215)\n  [javadoc]     at com.sun.tools.javadoc.DocletInvoker.start(DocletInvoker.java:91)\n  [javadoc]     at com.sun.tools.javadoc.Start.parseAndExecute(Start.java:340)\n  [javadoc]     at com.sun.tools.javadoc.Start.begin(Start.java:128)\n  [javadoc]     at com.sun.tools.javadoc.Main.execute(Main.java:41)\n  [javadoc]     at com.sun.tools.javadoc.Main.main(Main.java:31)\n\n", "Does the Java language have delegate features, similar to how C# has support for delegates?\n", "Is there a better way to flash a window in Java than this:\npublic static void flashWindow(JFrame frame) throws InterruptedException {\n        int sleepTime = 50;\n        frame.setVisible(false);\n        Thread.sleep(sleepTime);\n        frame.setVisible(true);\n        Thread.sleep(sleepTime);\n        frame.setVisible(false);\n        Thread.sleep(sleepTime);\n        frame.setVisible(true);\n        Thread.sleep(sleepTime);\n        frame.setVisible(false);\n        Thread.sleep(sleepTime);\n        frame.setVisible(true);\n}\n\nI know that this code is scary...But it works alright. (I should implement a loop...)\n", "I have a Tomcat Filter that delegates requests to the a handling object depending on the URL. This is the only filter in the FilterChain. I have an Ajax app that hammers this filter with lots of requests.\nRecently I noticed an issue where the filter's doFilter method is often called with a committed response as a parameter (Internally, it is the coyote response that is marked committed).\nIt seems to me that the only way that this can happen is if the recycle() method is not called on this coyote response. I have checked to make sure that I am not keeping references to any of the request, response, outputStream, or writer objects. Additionally, I made sure to close the outputStream in a finally block. However, this doesn't resolve this issue.\nThis sounds like I am doing something to abuse the servlet container but I am having trouble tracking it down.\n", "I'm using Eclipse 3.4 and have configured the Java code formatter with all of the options on the Comments tab enabled. The problem is that when I format a document comment that contains:\n* @see <a href=\"test.html\">test</a>\n\nthe code formatter inserts a space in the closing HTML, breaking it:\n* @see <a href=\"test.html\">test< /a>\n\nWhy? How do I stop this happening?\nThis is not fixed by disabling any of the options on the Comments tab, such as Format HTML tags. The only work-around I found is to disable Javadoc formatting completely by disabling both the Enable Javadoc comment formatting and Enable block comment formatting options, which means I then have to format comment blocks manually.\n", "I'm using Struts 2.\nI'd like to return from an Action to the page which invoked it.\nSay I'm in page x.jsp, I invoke Visual action to change CSS preferences in the session; I want to return to x.jsp rather than to a fixed page (i.e. home.jsp)\nHere's the relevant struts.xml fragment:\n\n\n<action\n   name=\"Visual\"\n   class=\"it.___.web.actions.VisualizationAction\">\n   <result name=\"home\">/pages/home.jsp</result>\n</action>\n\nOf course my VisualizationAction.execute() returns home.\nIs there any \"magic\" constant (like, say, INPUT_PAGE) that I may return to do the trick?\nMust I use a more involved method (i.e. extracting the request page and forwarding to it)?\nT.I.A.\n", "I want my controller to return the right HTTP response code when the user lacks permission to view a particular page.\n", "I'm trying to use Groovy to create an interactive scripting / macro mode for my application. The application is OSGi and much of the information the scripts may need is not know up front. I figured I could use GroovyShell and call eval() multiple times continually appending to the namespace as OSGi bundles are loaded. GroovyShell maintains variable state over multiple eval calls, but not class definitions or methods.\ngoal: Create a base class during startup. As OSGi bundles load, create derived classes as needed. \n", "In Java, what would the best way be to have a constantly listening port open, and still send upon receipt of a packet. I am not particularly savvy with network programming at the moment, so the tutorials I have found on the net aren't particularly helpful.\nWould it make sense to have the listening socket as a serversocket and run it in a separate thread to the socket I'm using to send data to the server?\nIn a loosely related question. Does anyone know if programming simply for java, in netbeans then exporting it for use on a blackberry (using a plugin) the sockets would still work ?\n", "I'm writing a wizard for an Eclipse RCP application.  After doing some processing on a file and taking some user input, I don't want to let the user go back to make changes.  At this point they must either accept or reject the changes they are about to make to the system.\nWhat I can't seem to find is a method call that lets me override the buttons that display or the user's ability to hit the back button.  I'd prefer that it not be there or at least be disabled.\nHas anyone found a way to do this using the JFace Wizard and WizardPage?\nUsability-wise, am I breaking wizard conventions?  Should I consider a different approach to the problem?\n", "How do I multiply 10 to an Integer object and get back the Integer object?\nI am looking for the neatest way of doing this.\nI would probably do it this way:\nGet int from Integer object, multiply it with the other int and create another Integer object with this int value.\nCode will be something like ... \nintegerObj = new Integer(integerObj.intValue() * 10);\n\nBut, I saw a code where the author is doing it this way: Get the String from the Integer object, concatenate \"0\" at the end and then get Integer object back by using Integer.parseInt\nThe code is something like this:\nString s = integerObj + \"0\";\nintegerObj = Integer.parseInt(s);\n\nIs there any merit in doing it either way?\nAnd what would be the most efficient/neatest way in general and in this case?\n", "I have findbugs plugin for eclipse which when run on my project will show results in Bugs explorer clubbed by the type of bug.\nI need to be able to do two things:\n\nExport all these to excel sheet\nFind out the bugs reported in a set of files (and be able to do it recursively w/o running for whole project and exporting and finding out the classes to be modified.\n\nAny suggestions?\nFYI, I am using MyEclipse v 6.0.1 and FindBugs 1.3.4\n", "Today I had a coworker suggest I refactor my code to use a label statement to control flow through 2 nested for loops I had created. I've never used them before because personally I think they decrease the readability of a program. I am willing to change my mind about using them if the argument is solid enough however. What are people's opinions on label statements?\n", "Does anyone know if it is possible to restart a J2EE application (from the application)?  If so, how?\nI would like to be able to do it in an app-server-agnostic way, if it is possible.\nThe application will be run on many different app servers-- basically whatever the client prefers.\nIf it isn't possible to do this in an app-server-agnostic manner, then it probably isn't really worth doing for my purposes. I can always just display a message informing the user that they will need to restart the app manually.\n", "I'm looking for a good tool to profile a java webapp. I'd like to get performance information and memory usage if possible. \nAny suggestions?\n", "Is it possible to send an email from my Java application using a GMail account?  I have configured my company mail server with Java app to send email, but that's not going to cut it when I distribute the application. Answers with any of using Hotmail, Yahoo or GMail are acceptable.\n", "If I have an object implementing the Map interface in Java and I wish to iterate over every pair contained within it, what is the most efficient way of going through the map?  \nWill the ordering of elements depend on the specific map implementation that I have for the interface?\n", "I originally asked this question, but in finding an answer, discovered that my original problem was a lack of support in C# for covariance on inherited methods' return types. After discovering that, I became curious as to what languages do support this feature.\nI will accept the answer of whoever can name the most.\nEDIT: John Millikin correctly pointed out that lots of dynamic languages support this. To clarify: \nI am only looking for static/strongly typed languages.\n", "Printf got added to Java with the 1.5 release but I can't seem to find how to send the output to a string rather than a file (which is what sprintf does in C). Does anyone know how to do this? \n", "I want to build my own custom log4j (network) adapter to solve my problem that I posted here.\nI have looked at the documentation on the log4j and I cant see where/if the developers go into how to do this.\nCan anyone point me in the right direction to get started?\n", "I would like to monitor the following system information in Java:\n\nCurrent CPU usage** (percent)\nAvailable memory* (free/total)\nAvailable disk space (free/total)\n*Note that I mean overall memory available to the whole system, not just the JVM.\n\nI'm looking for a cross-platform solution (Linux, Mac, and Windows) that doesn't rely on my own code calling external programs or using JNI. Although these are viable options, I would prefer not to maintain OS-specific code myself if someone already has a better solution.\nIf there's a free library out there that does this in a reliable, cross-platform manner, that would be great (even if it makes external calls or uses native code itself).\nAny suggestions are much appreciated.\nTo clarify, I would like to get the current CPU usage for the whole system, not just the Java process(es).\nThe SIGAR API provides all the functionality I'm looking for in one package, so it's the best answer to my question so far. However, due it being licensed under the GPL, I cannot use it for my original purpose (a closed source, commercial product). It's possible that Hyperic may license SIGAR for commercial use, but I haven't looked into it. For my GPL projects, I will definitely consider SIGAR in the future.\nFor my current needs, I'm leaning towards the following:\n\nFor CPU usage, OperatingSystemMXBean.getSystemLoadAverage() / OperatingSystemMXBean.getAvailableProcessors() (load average per cpu)\nFor memory, OperatingSystemMXBean.getTotalPhysicalMemorySize() and OperatingSystemMXBean.getFreePhysicalMemorySize()\nFor disk space, File.getTotalSpace() and File.getUsableSpace()\n\nLimitations:\nThe getSystemLoadAverage() and disk space querying methods are only available under Java 6. Also, some JMX functionality may not be available to all platforms (i.e. it's been reported that getSystemLoadAverage() returns -1 on Windows).\nAlthough originally licensed under GPL, it has been changed to Apache 2.0, which can generally be used for closed source, commercial products.\n", "I've been trying to implement unit testing and currently have some code that does the following:\n\nquery external database, loading\ninto a feed table \nquery a view,\nwhich is a delta of my feed and data\ntables, updating data table to match\nfeed table\n\nmy unit testing strategy is this:\nI have a testing database that I am free to manipulate.\n\nin setUP(), load some data into my testing db\nrun my code, using my testing db as the source\ninspect the data table, checking for counts and the existence/non existence of certain records\nclear testing db, loading in a different set of data\nrun code again\ninspect data table again\n\nObviously I have the data sets that I load into the source db set up such that I know certain records should be added,deleted,updated, etc.\nIt seems like this is a bit cumbersome and there should be an easier way?  any suggestions?\n", "I am coming from an Enterprise Java background which involves a fairly heavyweight software stack, and have recently discovered the \nStripes framework; my initial impression is that this seems to do a good job of minimising the unpleasant parts of building a web application in Java.\nHas anyone used Stripes for a project that has gone live? And can you share your experiences from the project? Also, did you consider any other technologies and (if so) why did you chose Stripes?\n", "Assuming String a and b:\na += b\na = a.concat(b)\n\nUnder the hood, are they the same thing?\nHere is concat decompiled as reference. I'd like to be able to decompile the + operator as well to see what that does.\npublic String concat(String s) {\n\n    int i = s.length();\n    if (i == 0) {\n        return this;\n    }\n    else {\n        char ac[] = new char[count + i];\n        getChars(0, count, ac, 0);\n        s.getChars(0, i, ac, count);\n        return new String(0, count + i, ac);\n    }\n}\n\n", "The Weblogic servers we are using have been configured to allow JNDI datasource names like \"appds\".\nFor development (localhost), we might be running Tomcat and when declared in the <context> section of server.xml, Tomcat will hang JNDI datasources on \"java:comp/env/jdbc/*\" in the JNDI tree.\nProblem: in Weblogic, the JNDI lookup is \"appds\" whilst in Tomcat, it seems that that I must provide the formal \"java:comp/env/jdbc/appds\". I'm afraid the Tomcat version is an implicit standard but unfortunately, I can't change Weblogic's config ... so that means we end up with two different spring config files (we're using spring 2.5) to facilitate the different environments.\nIs there an elegant way to address this. Can I look JNDI names up directly in Tomcat? Can Spring take a name and look in both places? Google searches or suggestions would be great.\n", "We have a Java listener that reads text messages off of a queue in JBossMQ. If we have to reboot JBoss, the listener will not reconnect and start reading messages again. We just get messages in the listener's log file every 2 minutes saying it can't connect. Is there something we're not setting in our code or in JBossMQ? I'm new to JMS so any help will be greatly appreciated. Thanks.\n", "I was surprised recently to find that it's possible to have a return statement in a finally block in Java.\nIt seems like lots of people think it's a bad thing to do as described in 'Don't return in a finally clause'. Scratching a little deeper, I also found 'Java's return doesn't always' which shows some pretty horrible examples of other types of flow control in finally blocks.\nSo, my question is, can anyone give me an example where a return statement (or other flow control) in a finally block produces better / more readable code?\n", "It seems like anything you can do with bytecode you can do just as easily and much faster in native code. In theory, you could even retain platform and language independence by distributing programs and libraries in bytecode then compiling to native code at installation, rather than JITing it.\nSo in general, when would you want to execute bytecode instead of native?\n", "I want to generate a thumbnail preview of videos in Java. I'm mostly JMF and video manipulation alienated. \n\nIs there an easy way to do it?\nWhat about codecs? Will I have to deal with it?\nAny video type is suported? (including Quicktime)\n\n", "Simply, are there any Java Developer specific Linux distros?\n", "Is there a way to embed a browser in Java?\nUP: How to do it today?\n", "In podcast #15, Jeff mentioned he twittered about how to run a regular event in the background as if it was a normal function - unfortunately I can't seem to find that through twitter. Now I need to do a similar thing and are going to throw the question to the masses.\nMy current plan is when the first user (probably me) enters the site it starts a background thread that waits until the alloted time (hourly on the hour) and then kicks off the event blocking the others (I am a Windows programmer by trade so I think in terms of events and WaitOnMultipleObjects) until it completes.\nHow did Jeff do it in Asp.Net and is his method applicable to the Java web-app world?\n", "Anyone have a good rule of thumb for choosing between different implementations of Java Collection interfaces like List, Map, or Set?\nFor example, generally why or in what cases would I prefer to use a Vector or an ArrayList, a Hashtable or a HashMap?\n", "I have a machine with VmWare installed which added two extra network interfaces.  The OS is Vista.  I have two Java applications, one which broadcasts datagrams, and one which receives those datagrams.  The problem I'm having is that unless I disable both VmWare network interfaces, the receiver can't receive the datagrams.   \nWhat is the best way to make that work without disabling the interfaces?\n", "Our design has one jvm that is a jboss/webapp (read/write) that is used to maintain the data via hibernate (using jpa) to the db. The model has 10-15 persistent classes with 3-5 levels of depth in the relationships.\nWe then have a separate jvm that is the server using this data.  As it is running continuously we just have one long db session (read only).  \nThere is currently no intra-jvm cache involved - so we manually signal one jvm from the other.\nNow when the webapp changes some data, it signals the server to reload the changed data.  What we have found is that we need to tell hibernate to purge the data and then reload it.  Just doing a fetch/merge with the db does not do the job - mainly in respect of the objects several layers down the hierarchy.  \nAny thoughts on whether there is anything fundamentally wrong with this design or if anyone is doing this and has had better luck with working with hibernate on the reloads.\nThanks,\nChris\n", "I'm working on a command line application for Solaris, written in Java6. I'd like to be able to scroll through a history of previous commands using the up and down arrows like many Unix tools allow (shells, VIM command mode prompt, etc).\nIs there any standard way of achieving this, or do I have to roll my own?\n", "I have a .tag file that requires a JavaScript library (as in a .js file).\nCurrently I am just remembering to import the .js file in every JSP that uses the tag but this is a bit cumbersome and prone to error.\nIs there a way to do the importing of the .js inside the JSP tag?\n(for caching reasons I would want the .js to be a script import)\n", "I need to store some sensitive data by encrypting it with atleast 128 bit key. I investigated into javax.crypto package and found that there are certain Cipher names, like \nPBEWithMD5AndDES or PBEWithSHA1AndDESede which provides encryption upto 56 bit and 80 bit (http://en.wikipedia.org/wiki/DESede).\nI referred other guys posts but those are mainly using RSA and in my understanding RSA is generally suitable for encrypting the communication data (with private-public key pair). My need is different, I just want to store the data and retrieve it back by decrypting it. Therefore I don't need any private-public key pairs.\nPlease let me know if you have any idea about this.\n", "Embedded custom-tag in dynamic content (nested tag) not rendering.\nI have a page that pulls dynamic content from a javabean and passes the list of objects to a custom tag for processing into html. Within each object is a bunch of html to be output that contains a second custom tag that I would like to also be rendered. The problem is that the tag invocation is rendered as plaintext.\nAn example might serve me better.\n1 Pull information from a database and return it to the page via a javabean. Send this info to a custom tag for outputting.\n<jsp:useBean id=\"ImportantNoticeBean\" scope=\"page\" class=\"com.mysite.beans.ImportantNoticeProcessBean\"/>  <%-- Declare the bean --%>\n<c:forEach var=\"noticeBean\" items=\"${ImportantNoticeBean.importantNotices}\"> <%-- Get the info --%>\n    <mysite:notice importantNotice=\"${noticeBean}\"/> <%-- give it to the tag for processing --%>\n</c:forEach>\n\nthis tag should output a box div like so\n*SNIP* class for custom tag def and method setup etc\nout.println(\"<div class=\\\"importantNotice\\\">\");\nout.println(\"   \" + importantNotice.getMessage());\nout.println(\"   <div class=\\\"importantnoticedates\\\">Posted: \" + importantNotice.getDateFrom() + \" End: \" + importantNotice.getDateTo()</div>\");\nout.println(\"   <div class=\\\"noticeAuthor\\\">- \" + importantNotice.getAuthor() + \"</div>\");\nout.println(\"</div>\");\n*SNIP*\n\nThis renders fine and as expected\n<div class=\"importantNotice\">\n    <p>This is a very important message. Everyone should pay attenton to it.</p>\n    <div class=\"importantnoticedates\">Posted: 2008-09-08 End: 2008-09-08</div>\n    <div class=\"noticeAuthor\">- The author</div>\n</div>\n\n2 If, in the above example, for instance, I were to have a custom tag in the importantNotice.getMessage() String:\n*SNIP* \"This is a very important message. Everyone should pay attenton to it. <mysite:quote author=\"Some Guy\">Quote this</mysite:quote>\" *SNIP*\n\nThe important notice renders fine but the quote tag will not be processed and simply inserted into the string and put as plain text/html tag.\n<div class=\"importantNotice\">\n    <p>This is a very important message. Everyone should pay attenton to it. <mysite:quote author=\"Some Guy\">Quote this</mysite:quote></p>\n    <div class=\"importantnoticedates\">Posted: 2008-09-08 End: 2008-09-08</div>\n    <div class=\"noticeAuthor\">- The author</div>\n</div>\n\nRather than \n<div class=\"importantNotice\">\n    <p>This is a very important message. Everyone should pay attenton to it. <div class=\"quote\">Quote this <span class=\"authorofquote\">Some Guy</span></div></p>    // or wahtever I choose as the output\n    <div class=\"importantnoticedates\">Posted: 2008-09-08 End: 2008-09-08</div>\n    <div class=\"noticeAuthor\">- The author</div>\n</div>\n\nI know this has to do with processors and pre-processors but I am not to sure about how to make this work.\n", "How do I lock compiled Java classes to prevent decompilation?\nI know this must be very well discussed topic on the Internet, but I could not come to any conclusion after referring them.\nMany people do suggest obfuscator, but they just do renaming of classes, methods, and fields with tough-to-remember character sequences but what about sensitive constant values?\nFor example, you have developed the encryption and decryption component based on a password based encryption technique. Now in this case, any average Java person can use JAD to decompile the class file and easily retrieve the password value (defined as constant) as well as salt and in turn can decrypt the data by writing small independent program!\nOr should such sensitive components be built in native code (for example, VC++) and call them via JNI?\n", "Is Bouncy Castle API Thread Safe ? Especially,\norg.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher\norg.bouncycastle.crypto.paddings.PKCS7Padding\norg.bouncycastle.crypto.engines.AESFastEngine\norg.bouncycastle.crypto.modes.CBCBlockCipher\n\nI am planning to write a singleton Spring bean for basic level cryptography support in my app. Since it is a web application, there are greater chances of multiple threads accessing this component at a time. So tread safety is essential here.\nPlease let me know if you have come across such situations using Bouncy Castle.\n", "Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?\n", "We have an Apache ANT script to build our application, then check in the resulting JAR file into version control (VSS in this case).  However, now we have a change that requires us to build 2 JAR files for this project, then check both into VSS.\nThe current target that checks the original JAR file into VSS discovers the name of the JAR file through some property.  Is there an easy way to \"generalize\" this target so that I can reuse it to check in a JAR file with any name?  In a normal language this would obviously call for a function parameter but, to my knowledge, there really isn't an equivalent concept in ANT.\n", "This is pretty simple, I come from a swing/awt background.\nI'm just wondering what the proper way to set the background color for a SWT widget is?\nI've been trying:\nwidget.setBackground( );\n\nExcept I have no idea how to create the color Object in SWT?\n", "Does anyone have a good solution for integrating some C# code into a java application? \nThe code is small, so I could re-write in java, but I would rather reuse the code if possible. Don't repeat yourself, etc. \nAlso, I know I can expose the C# as a web service or whatever, but it has some security/encryption stuff in there, so I would rather keep it tightly integrated if possible.\n\nEdit: It's going to be on a server-based app, so \"downloading\" another runtime is irrelevant.\n", "From the Java 6 Pattern documentation:\n\nSpecial constructs (non-capturing)\n(?:X)\u00a0\u00a0\u00a0X, as a non-capturing group\n\u2026\n(?>X)\u00a0\u00a0\u00a0X, as an independent, non-capturing group\n\nBetween (?:X) and (?>X) what is the difference? What does the independent mean in this context?\n", "How do I format a number in Java?\nWhat are the \"Best Practices\"?\nWill I need to round a number before I format it?\n\n32.302342342342343 => 32.30\n.7323 => 0.73\n\netc.\n", "Is it possible at runtime to programmatically check the name of the Thread that is holding the lock of a given object?\n", "I am working on designing and building a desktop application.  I am thinking about using eclipse or netbeans for the base of this application.  However, I have never built on either of these platforms.  I am personally leaning to using netbeans because it seams like that platform is an easer learning curve.  But, I wanted to ask people that have actually build on these platforms before which one is easier to use?\nMy personal definition of easer is as follows:\n\nEasy to get started with\nConsistent and logical API\nGood documentation\nEasy to build and deploy\n\nThanks very much,\nJosh\n", "I have an application that's a mix of Java and C++ on Solaris. The Java aspects of the code run the web UI and establish state on the devices that we're talking to, and the C++ code does the real-time crunching of data coming back from the devices. Shared memory is used to pass device state and context information from the Java code through to the C++ code. The Java code uses a PostgreSQL database to persist its state.\nWe're running into some pretty severe performance bottlenecks, and right now the only way we can scale is to increase memory and CPU counts. We're stuck on the one physical box due to the shared memory design.\n\nThe really big hit here is being taken by the C++ code. The web interface is fairly lightly used to configure the devices; where we're really struggling is to handle the data volumes that the devices deliver once configured.\nEvery piece of data we get back from the device has an identifier in it which points back to the device context, and we need to look that up. Right now there's a series of shared memory objects that are maintained by the Java/UI code and referred to by the C++ code, and that's the bottleneck. Because of that architecture we cannot move the C++ data handling off to another machine. We need to be able to scale out so that various subsets of devices can be handled by different machines, but then we lose the ability to do that context lookup, and that's the problem I'm trying to resolve: how to offload the real-time data processing to other boxes while still being able to refer to the device context.\nI should note we have no control over the protocol used by the devices themselves, and there is no possible chance that situation will change.\n\nWe know we need to move away from this to be able to scale out by adding more machines to the cluster, and I'm in the early stages of working out exactly how we'll do this.\nRight now I'm looking at Terracotta as a way of scaling out the Java code, but I haven't got as far as working out how to scale out the C++ to match.\nAs well as scaling for performance we need to consider high availability as well. The application needs to be available pretty much the whole time -- not absolutely 100%, which isn't cost effective, but we need to do a reasonable job of surviving a machine outage.\nIf you had to undertake the task I've been given, what would you do?\nEDIT: Based on the data provided by @john channing, i'm looking at both GigaSpaces and Gemstone. Oracle Coherence and IBM ObjectGrid appear to be java-only.\n", "Is there any performance to be gained these days from compiling java to native code, or do modern hotspot compilers end up doing this over time anyway?\n", "For a project I'm working on. I need to look for an executable on the filesystem. For UNIX derivatives, I assume the user has the file in the mighty $PATH variable, but there is no such thing on Windows.\nI can safely assume the file is at most 2 levels deep into the filesystem, but I don't know on what drive it will be. I have to try all drives, but I can't figure out how to list all available drives (which have a letter assigned to it).\nAny help?\nEDIT: I know there is a %PATH% variable, but it is not as integrated as in UNIX systems. For instance, the application I'm looking for is OpenOffice. Such software would not be in %PATH%, typically.\n", "The Sun Documentation for DataInput.skipBytes states that it \"makes an attempt to skip over n bytes of data from the input stream, discarding the skipped bytes. However, it may skip over some smaller number of bytes, possibly zero. This may result from any of a number of conditions; reaching end of file before n bytes have been skipped is only one possibility.\"\n\nOther than reaching end of file, why might skipBytes() not skip the right number of bytes? (The DataInputStream I am using will either be wrapping a FileInputStream or a PipedInputStream.)\nIf I definitely want to skip n bytes and throw an EOFException if this causes me to go to the end of the file, should I use readFully() and ignore the resulting byte array? Or is there a better way?\n\n", "When java was young, people were excited about writing applets.  They were cool and popular, for a little while.  Now, I never see them anymore.  Instead we have flash, javascript, and a plethora of other web app-building technologies.\nWhy don't sites use java applets anymore?\nI'm also curious: historically, why do you think this occurred?  What could have been done differently to keep Java applets alive?\n", "I was just wondering how most people fetch a mime type from a file in Java?  So far I've tried two utils: JMimeMagic & Mime-Util.  \nThe first gave me memory exceptions, the second doesn't close its streams off properly.  I was just wondering if anyone else had a method/library that they used and worked correctly?\n", "what is the best method for inter process communication in a multithreaded java app.\nIt should be performant (so no JMS please) easy to implement and reliable,so that\nobjects & data can be bound to one thread only?\nAny ideas welcome!\n", "Has anyone had good experiences with any Java libraries for Graph algorithms. I've tried JGraph and found it ok, and there are a lot of different ones in google. Are there any that people are actually using successfully in production code or would recommend?\nTo clarify, I'm not looking for a library that produces graphs/charts, I'm looking for one that helps with Graph algorithms, eg minimum spanning tree, Kruskal's algorithm Nodes, Edges, etc. Ideally one with some good algorithms/data structures in a nice Java OO API.\n", "Let's say I have the following class:\npublic class Test<E> {\n    public boolean sameClassAs(Object o) {\n        // TODO help!\n    }\n}\n\nHow would I check that o is the same class as E?\nTest<String> test = new Test<String>();\ntest.sameClassAs(\"a string\"); // returns true;\ntest.sameClassAs(4); // returns false;\n\nI can't change the method signature from (Object o) as I'm overridding a superclass and so don't get to choose my method signature.\nI would also rather not go down the road of attempting a cast and then catching the resulting exception if it fails.\n", "Does anyone know a good Java lib that will hook into SVN so I can extract the data?  I want the SVN comments, author, path, etc...  Hopefully with this data I can build a better time management tracking system.\n", "I'm getting an error when my application starts.  It appears to be after it's initialized its connection to the database.  It also may be when it starts to spawn threads, but I haven't been able to cause it to happen on purpose.\nThe entire error message is:\nFATAL ERROR in native method: JDWP NewGlobalRef, jvmtiError=JVMTI_ERROR_NULL_POINTER(100)\nJDWP exit error JVMTI_ERROR_NULL_POINTER(100): NewGlobalRef\nerickson:\nI'm not very familiar with the DB code, but hopefully this string is helpful:\njdbc:sqlserver://localhost;databasename=FOO\nTom Hawtin:\nIt's likely I was only getting this error when debugging, but it wasn't consistent enough for me to notice.\nAlso, I fixed a bug that was causing multiple threads to attempt to update the same row in DB and I haven't gotten the JVMTI... error since.\n", "For example, let's say I have an application that can read in a CSV file with piles of data rows.  I give the user a summary of the number of rows based on types of data, but I want to make sure that I don't read in too many rows of data and cause OutOfMemoryErrors.  Each row translates into an object.  Is there an easy way to find out the size of that object programmatically?  Is there a reference that defines how large primitive types and object references are for a VM?\nRight now, I have code that says read up to 32,000 rows, but I'd also like to have code that says read as many rows as possible until I've used 32MB of memory.  Maybe that is a different question, but I'd still like to know. \n", "I have a piece of server-ish software written in Java to run on Windows and OS X. (It is not running on a server, but just a normal user's PC - something like a torrent client.) I would like the software to signal to the OS to keep the machine awake (prevent it from going into sleep mode) while it is active.\nOf course I don't expect there to be a cross platform solution, but I would love to have some very minimal C programs/scripts that my app can spawn to inform the OS to stay awake.\nAny ideas?\n", "I have a webapp that uses JNDI lookups to get a connection to the database.\nThe connection works fine and returns the query no problems. The issue us that the connection does not close properly and is stuck in the 'sleep' mode (according to mysql administrator). This means that they become unusable nad then I run out of connections.\nCan someone give me a few pointers as to what I can do to make the connection return to the pool successfully.\npublic class DatabaseBean {\n\nprivate static final Logger logger = Logger.getLogger(DatabaseBean.class);\n\nprivate Connection conn;\nprivate PreparedStatement prepStmt;\n\n/**\n * Zero argument constructor\n * Setup generic databse connection in here to avoid redundancy\n * The connection details are in /META-INF/context.xml\n */\npublic DatabaseBean() {\n    try {\n        InitialContext initContext = new InitialContext();\n        DataSource ds = (DataSource) initContext.lookup(\"java:/comp/env/jdbc/mysite\");\n        conn = ds.getConnection();\n    }\n    catch (SQLException SQLEx) {\n        logger.fatal(\"There was a problem with the database connection.\");\n        logger.fatal(SQLEx);\n        logger.fatal(SQLEx.getCause());\n    }\n    catch (NamingException nameEx) {\n        logger.fatal(\"There was a naming exception\");\n        logger.fatal(nameEx);\n        logger.fatal(nameEx.getCause());\n    }\n}\n\n/**\n * Execute a query. Do not use for statements (update delete insert etc).\n *\n * @return A ResultSet of the execute query. A set of size zero if no results were returned. It is never null.\n * @see #executeUpdate() for running update, insert delete etc.\n */\n\npublic ResultSet executeQuery() {\n    ResultSet result = null;\n    try {\n        result = prepStmt.executeQuery();\n        logger.debug(prepStmt.toString());\n    }\n    catch (SQLException SQLEx) {\n        logger.fatal(\"There was an error running a query\");\n        logger.fatal(SQLEx);\n    }\n    return result;\n}\n\nSNIP\npublic void close() {\n    try {\n        prepStmt.close();\n        prepStmt = null;\n\n        conn.close();\n        conn = null;\n    } catch (SQLException SQLEx) {\n        logger.warn(\"There was an error closing the database connection.\");\n    }\n}\n}\n\nThis is inside a javabean that uses the database connection.\npublic LinkedList<ImportantNoticeBean> getImportantNotices() {\n\n    DatabaseBean noticesDBBean = new DatabaseBean();\n    LinkedList<ImportantNoticeBean> listOfNotices = new LinkedList<ImportantNoticeBean>();\n\n    try {\n        PreparedStatement preStmt = noticesDBBean.getConn().prepareStatement(\"SELECT pseudonym, message, date_to, date_from \" +\n                \"FROM importantnotices, users \" +\n                \"WHERE importantnotices.username = users.username \" +\n                \"AND NOW() >= date_from AND NOW() <= date_to;\");\n\n        noticesDBBean.setPrepStmt(preStmt);\n        ResultSet result = noticesDBBean.executeQuery();\n\n        while (result.next()) {\n            ImportantNoticeBean noticeBean = new ImportantNoticeBean();\n\n            noticeBean.setAuthor(result.getString(\"pseudonym\"));\n            noticeBean.setMessage(result.getString(\"message\"));\n            noticeBean.setDateTo(result.getDate(\"date_to\"));\n            noticeBean.setDateFrom(result.getDate(\"date_from\"));\n\n            listOfNotices.add(noticeBean);\n        }\n\n        result.close();\n\n    } catch (SQLException SQLEx) {\n        logger.error(\"There was an error in ImportantNoticesBean.getImportantNotices()\");\n        logger.error(SQLEx);\n    } finally {\n        noticesDBBean.close();\n    }\n    return listOfNotices;\n}\n\n<Context reloadable=\"true\">\n\n    <Resource name=\"jdbc/mysite\"\n              auth=\"Container\"\n              type=\"javax.sql.DataSource\"\n              username=\"user\"\n              password=\"password\"\n              driverClassName=\"com.mysql.jdbc.Driver\"\n              url=\"jdbc:mysql://localhost:3306/mysite\"\n              maxActive=\"10\"\n              maxIdle=\"5\"\n              maxWait=\"6000\"\n              removeAbandoned=\"true\"\n              logAbandoned=\"false\"\n              removeAbandonedTimeout=\"20\"\n            />\n</Context>\n\n", "I have a one to many relationship between two tables. The many table contains a clob column. The clob column looks like this in hibernate:\n@CollectionOfElements(fetch = EAGER)\n@JoinTable(name = NOTE_JOIN_TABLE, joinColumns = @JoinColumn(name = \"note\"))\n@Column(name = \"substitution\")\n@IndexColumn(name = \"listIndex\", base = 0)\n@Lob\nprivate List<String> substitutions;\n\nSo basically I may have a Note with some subsitutions, say \"foo\" and \"fizzbuzz\". So in my main table I could have a Note with id 4 and in my NOTE_JOIN_TABLE I would have two rows, \"foo\" and \"fizzbuzz\" that both have a relationship to the Note.\nHowever, when one of these is inserted into the DB the larger substitution values are cropped to be as long as the shortest. So in this case I would have \"foo\" and \"fiz\" in the DB instead of \"foo\" and \"fizzbuzz\".\nDo you have any idea why this is happening? I have checked and confirmed they aren't being cropped anywhere in our code, it's defintely hibernate.\n", "(see here for the problem I'm trying to solve)\nHow do you get hibernate to log clob values it's going to insert. It is logging other value types, such as Integer etc.\nI have the following in my log4j config:\nlog4j.logger.net.sf.hibernate.SQL=DEBUG\nlog4j.logger.org.hibernate.SQL=DEBUG\nlog4j.logger.net.sf.hibernate.type=DEBUG\nlog4j.logger.org.hibernate.type=DEBUG\n\nWhich produces output such as:\n(org.hibernate.SQL) insert into NoteSubstitutions (note, listIndex, substitution) values (?, ?, ?)\n(org.hibernate.type.LongType) binding '170650' to parameter: 1\n(org.hibernate.type.IntegerType) binding '0' to parameter: 2\n(org.hibernate.SQL) insert into NoteSubstitutions (note, listIndex, substitution) values (?, ?, ?)\n(org.hibernate.type.LongType) binding '170650' to parameter: 1\n(org.hibernate.type.IntegerType) binding '1' to parameter: 2\n\nHowever you'll note that it never displays parameter: 3 which is our clob.\nWhat I would really want is something like:\n(org.hibernate.SQL) insert into NoteSubstitutions (note, listIndex, substitution) values (?, ?, ?)\n(org.hibernate.type.LongType) binding '170650' to parameter: 1\n(org.hibernate.type.IntegerType) binding '0' to parameter: 2\n(org.hibernate.type.ClobType) binding 'something' to parameter: 3\n(org.hibernate.SQL) insert into NoteSubstitutions (note, listIndex, substitution) values (?, ?, ?)\n(org.hibernate.type.LongType) binding '170650' to parameter: 1\n(org.hibernate.type.IntegerType) binding '1' to parameter: 2\n(org.hibernate.type.ClobType) binding 'something else' to parameter: 3\n\nHow do I get it to show this in the log?\n", "Does anyone have examples of how to use DBMS_APPLICATION_INFO package with JBOSS? \nWe have a various applications which run within JBOSS and share db pools. I would like, at the start of each session these applications to identify themselves to the database using DBMS_APPLICATION_INFO so I can more easily track which sections of the application is causing database issues.\nI'm not too familiar with session life cycles in JBOSS, but at the end of the day, what needs to happen is at the start and end of a transaction, this package needs to be called.\nHas anyone done this before?\n", "What are the steps required to enable Hibernate's second-level cache, when using the Java Persistence API (annotated entities)? How do I check that it's working? I'm using JBoss 4.2.2.GA.\nFrom the Hibernate documentation, it seems that I need to enable the cache and specify a cache provider in persistence.xml, like:\n<property name=\"hibernate.cache.use_second_level_cache\"\n          value=\"true\" /> \n<property name=\"hibernate.cache.provider_class\" \n          value=\"org.hibernate.cache.HashtableCacheProvider\" /> \n\nWhat else is required? Do I need to add @Cache annotations to my JPA entities?\nHow can I tell if the cache is working? I have tried accessing cache statistics after running a Query, but Statistics.getSecondLevelCacheStatistics returns null, perhaps because I don't know what 'region' name to use.\n", "I want to get whois information of a domain name from my c#/java programs. Is there a simple way to do this? \n", "When interviewing college coops/interns or recent graduates it helps to have a Java programming question that they can do on a white board in 15 minutes.  Does anyone have examples of good questions like this?  A C++ question I was once asked in an interview was to write a string to integer function which is along the lines of the level of question I am looking for examples of.\n", "In the application I'm developping (in Java/swing), I have to show a full screen window on the second screen of the user.\nI did this using a code similar to the one you'll find below...\nBe, as soon as I click in a window opened by windows explorer, or as soon as I open windows explorer (i'm using windows XP), the full screen window is minimized...\nDo you know any way or workaround to fix this problem, or is there something important I did not understand with full screen windows?\nThanks for the help,\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JWindow;\n\nimport java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Window;\n\nimport javax.swing.JButton;\nimport javax.swing.JToggleButton;\nimport java.awt.Rectangle;\nimport java.awt.GridBagLayout;\nimport javax.swing.JLabel;\n\npublic class FullScreenTest {\n\n    private JFrame jFrame = null;  //  @jve:decl-index=0:visual-constraint=\"94,35\"\n    private JPanel jContentPane = null;\n    private JToggleButton jToggleButton = null;\n    private JPanel jFSPanel = null;  //  @jve:decl-index=0:visual-constraint=\"392,37\"\n    private JLabel jLabel = null;\n    private Window window;\n    /**\n     * This method initializes jFrame   \n     *  \n     * @return javax.swing.JFrame   \n     */\n    private JFrame getJFrame() {\n        if (jFrame == null) {\n            jFrame = new JFrame();\n            jFrame.setSize(new Dimension(474, 105));\n            jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            jFrame.setContentPane(getJContentPane());\n        }\n        return jFrame;\n    }\n\n    /**\n     * This method initializes jContentPane \n     *  \n     * @return javax.swing.JPanel   \n     */\n    private JPanel getJContentPane() {\n        if (jContentPane == null) {\n            jContentPane = new JPanel();\n            jContentPane.setLayout(null);\n            jContentPane.add(getJToggleButton(), null);\n        }\n        return jContentPane;\n    }\n\n    /**\n     * This method initializes jToggleButton    \n     *  \n     * @return javax.swing.JToggleButton    \n     */\n    private JToggleButton getJToggleButton() {\n        if (jToggleButton == null) {\n            jToggleButton = new JToggleButton();\n            jToggleButton.setBounds(new Rectangle(50, 23, 360, 28));\n            jToggleButton.setText(\"Show Full Screen Window on 2nd screen\");\n            jToggleButton.addActionListener(new java.awt.event.ActionListener() {\n                public void actionPerformed(java.awt.event.ActionEvent e) {\n                    showFullScreenWindow(jToggleButton.isSelected());\n                }\n            });\n        }\n        return jToggleButton;\n    }\n\n    protected void showFullScreenWindow(boolean b) {\n        if(window==null){\n            window = initFullScreenWindow();\n        }\n        window.setVisible(b);\n\n    }\n\n    private Window initFullScreenWindow() {\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n        GraphicsDevice[] gds = ge.getScreenDevices();\n        GraphicsDevice gd = gds[1];\n        JWindow window = new JWindow(gd.getDefaultConfiguration());\n        window.setContentPane(getJFSPanel());\n        gd.setFullScreenWindow(window);\n        return window;\n    }\n\n    /**\n     * This method initializes jFSPanel \n     *  \n     * @return javax.swing.JPanel   \n     */\n    private JPanel getJFSPanel() {\n        if (jFSPanel == null) {\n            jLabel = new JLabel();\n            jLabel.setBounds(new Rectangle(18, 19, 500, 66));\n            jLabel.setText(\"Hello ! Now, juste open windows explorer and see what happens...\");\n            jFSPanel = new JPanel();\n            jFSPanel.setLayout(null);\n            jFSPanel.setSize(new Dimension(500, 107));\n            jFSPanel.add(jLabel, null);\n        }\n        return jFSPanel;\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        FullScreenTest me = new FullScreenTest();\n        me.getJFrame().setVisible(true);\n\n    }\n\n}\n\n", "What compiler (I'm using gcj 4.x) options should I use to generate an \"exe\" file for my java application to run in windows?\n", "I'd like to add some functionality to a site that would allow users to record video using their webcam and easily store it online. I don't even know if this is possible right now, but I think flash has access to local webcams running through the browser.\nDo you have any suggestions or resources to get me started on this? I'm primarily a java developer so If I could do it in an applet that would be great, but It may be easier to accomplish this using flash or some other technology.\nThis would mean streaming the video back to the webserver and storing it there.\nUploading a file is easy enough, but I'd rather the user not have to deal with that if it's possible.\nJust to be clear. I'm not talking about uploading a video. I'm talking about allowing the user to click \"record\" in a web application and having the video streamed to the server and stored when the user clicks \"stop\".\n", "I'd like to store a properties file as XML.  Is there a way to sort the keys when doing this so that the generated XML file will be in alphabetical order?  \nString propFile = \"/path/to/file\";\nProperties props = new Properties();\n/*set some properties here*/\ntry {\n    FileOutputStream xmlStream = new FileOutputStream(propFile);\n    /*this comes out unsorted*/\n    props.storeToXML(xmlStream,\"\");\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\n", "How can I format Floats in Java so that the float component is displayed only if it's not zero? For example:\n\n123.45 -> 123.45\n99.0   -> 99\n23.2   -> 23.2\n45.0   -> 45\n\nEdit: I forgot to mention - I'm still on Java 1.4 - sorry!\n", "I've got an JComboBox with a custom inputVerifyer set to limit MaxLength when it's set to editable.\nThe verify method never seems to get called.\nThe same verifyer gets invoked on a JTextField fine.\nWhat might I be doing wrong?\n", "Does any one know how do I get the current open windows or process of a local machine using Java?  \nWhat I'm trying to do is: list the current open task, windows or process open, like in  Windows Taskmanager, but using a multi-platform approach - using only Java if it's possible.\n", "I've been using the following code to open Office Documents, PDF, etc. on my windows machines using Java and it's working fine, except for some reason when a filename has embedded it within it multiple contiguous spaces like \"File[SPACE][SPACE]Test.doc\".\nHow can I make this work?  I'm not averse to canning the whole piece of code... but I'd rather not replace it with a third party library that calls JNI.\npublic static void openDocument(String path) throws IOException {\n    // Make forward slashes backslashes (for windows)\n    // Double quote any path segments with spaces in them\n    path = path.replace(\"/\", \"\\\\\").replaceAll(\n            \"\\\\\\\\([^\\\\\\\\\\\\\\\\\\\"]* [^\\\\\\\\\\\\\\\\\\\"]*)\", \"\\\\\\\\\\\\\\\"$1\\\"\");\n\n    String command = \"C:\\\\Windows\\\\System32\\\\cmd.exe /c start \" + path + \"\";\n\n    Runtime.getRuntime().exec(command);            \n}\n\nEDIT: When I run it with the errant file windows complains about finding the file.  But... when I run the command line directly from the command line it runs just fine.\n", "What's the easiest way to print a stacktrace from a debugging printout? Often during testing you would like to know the callstack leading up to the situation provoking a debug message.\n", "I have an ArrayList<String> that I'd like to return a copy of.  ArrayList has a clone method has the following signature:\npublic Object clone()\n\nAfter I call this method, how do I cast the returned Object back to ArrayList<String>?\n", "Is it possible, in Java, to make a JPanel skip drawing its background thus being transparent except for the components on it?\n", "We try to use Java and UTF-8 on Windows. The application writes logs on the console, and we would like to use UTF-8 for the logs as our application has internationalized logs.\nIt is possible to configure the JVM so it generates UTF-8, using -Dfile.encoding=UTF-8 as arguments to the JVM. It works fine, but the output on a Windows console is garbled.\nThen, we can set the code page of the console to 65001 (chcp 65001), but in this case, the .bat files do not work. This means that when we try to launch our application through our script (named start.bat), absolutely nothing happens. The command simple returns:\nC:\\Application> chcp 65001\nActivated code page: 65001\nC:\\Application> start.bat\n\nC:\\Application>\n\nBut without chcp 65001, there is no problem, and the application can be launched.\nAny hints about that?\n", "Is there any clear documentation on the binary formats used to serialize the various MFC data structures?  I've been able to view some of my own classes in a hex editor and use Java's ByteBuffer class to read them in (with automatic endianness conversions, etc).\nHowever, I am currently running into issues while trying to bring over the CObArray data, as there seems to be a rather large header that is opaque to me, and it is unclear how it is persisting object type information.\nIs there a set of online documentation that would be helpful for this?  Or some sample Java code from someone that has dealt with this in the past?\n", "I know this rather goes against the idea of enums, but is it possible to extend enums in C#/Java?  I mean \"extend\" in both the sense of adding new values to an enum, but also in the OO sense of inheriting from an existing enum.  \nI assume it's not possible in Java, as it only got them fairly recently (Java 5?).  C# seems more forgiving of people that want to do crazy things, though, so I thought it might be possible some way.  Presumably it could be hacked up via reflection (not that you'd every actually use that method)?\nI'm not necessarily interested in implementing any given method, it just provoked my curiosity when it occurred to me :-)\n", "I've a class which is a wrapper class(serves as a common interface) around another class implementing the functionality required. So my code looks like this.\ntemplate<typename ImplemenationClass> class WrapperClass {\n// the code goes here\n}\n\nNow, how do I make sure that ImplementationClass can be derived from a set of classes only, similar to java's generics\n<? extends BaseClass>\n\nsyntax?\n", "I've got a J2SE application that I am maintaining uses JNDI.\n(It uses JNDI to find it's J2EE application server.)\nIt has pretty poor error reporting of failure to find the JNDI server.\nI've been looking around fora way to display which server the InitialContext is trying to talk to.\nHas anyone got a neat way to do this ?\n", "I am building a java server that needs to scale. One of the servlets will be serving images stored in Amazon S3.\nRecently under load, I ran out of memory in my VM and it was after I added the code to serve the images so I'm pretty sure that streaming larger servlet responses is causing my troubles.\nMy question is : is there any best practice in how to code a java servlet to stream a large (>200k) response back to a browser when read from a database or other cloud storage?\nI've considered writing the file to a local temp drive and then spawning another thread to handle the streaming so that the tomcat servlet thread can be re-used. This seems like it would be io heavy.\nAny thoughts would be appreciated. Thanks.\n", "I'm having some internationalisation woes:\nMy UTF-8 string fields are being rendered in the browser as ???? after being returned from the database.\nAfter retrieval from the database using Hibernate, the String fields are presented correctly on inspection using the eclipse debugger.\nHowever Struts2/Tiles is rendering these strings as ???? in the HTML sent to the browser.\nThe charset directive is present in the HTML header:\n    \nPerhaps I need to add something to my struts2 or tiles configurations?\n", "I'm returning to c++ after being away for a bit and trying to dust off the old melon. \nIn Java Iterator is an interface to a container having methods: hasNext(), next() and remove(). The presence of hasNext() means it has the concept of a limit for the container being traversed.\n//with an Iterator\nIterator<String> iter = trees.iterator();\nwhile (iter.hasNext()) \n{\n    System.out.println(iter.next());\n}\n\nIn the C++ standard template library, iterators seem to represent a datatype or class the supports the operator++ and operator== but has no concept of a limit built in so comparison is required before advancing to the next item. The limit has to checked by the user comparing two iterators in the normal case the second iterator is the container end.\nvector<int> vec;\nvector<int>::iterator iter;\n\n// Add some elements to vector\nv.push_back(1);\nv.push_back(4);\nv.push_back(8);\n\nfor(iter= v.begin(); iter != v.end(); iter++)\n{\n    cout << *i << \" \"; //Should output 1 4 8\n}\n\nThe interesting part here is that in C++ a pointer is an iterator to an array. The STL took what was existing and build convention around it.\nIt there any further subtlety to this that I am missing?\n", "In our application, we are using RMI for client-server communication in very different ways:\n\nPushing data from the server to the client to be displayed.\nSending control information from the client to the server.\nCallbacks from those control messages code paths that reach back from the server to the client (sidebar note - this is a side-effect of some legacy code and is not our long-term intent).\n\nWhat we would like to do is ensure that all of our RMI-related code will use only a known specified inventory of ports.  This includes the registry port (commonly expected to be 1099), the server port and any ports resulting from the callbacks.\nHere is what we already know:\n\nLocateRegistry.getRegistry(1099) or Locate.createRegistry(1099) will ensure that the registry is listening in on 1099.\nUsing the UnicastRemoteObject constructor / exportObject static method with a port argument will specify the server port.\n\nThese points are also covered in this Sun forum post. \nWhat we don't know is: how do we ensure that the client connections back to the server resulting from the callbacks will only connect on a specified port rather than defaulting to an anonymous port?\nEDIT: Added a longish answer summarizing my findings and how we solved the problem.  Hopefully, this will help anyone else with similar issues.\nSECOND EDIT: It turns out that in my application, there seems to be a race condition in my creation and modification of socket factories.  I had wanted to allow the user to override my default settings in a Beanshell script.  Sadly, it appears that my script is being run significantly after the first socket is created by the factory.  As a result, I'm getting a mix of ports from the set of defaults and the user settings.  More work will be required that's out of the scope of this question but I thought I would point it out as a point of interest for others who might have to tread these waters at some point....\n", "Is there a way to globally make right click also select the element that you right click on?  From what I understand this has been a bug in Swing for a long time likely to never be fixed because at this point applications depend on it.  Any advice on doing this on a global scale?  Perhaps on the L&F?\n", "Just got a request from my boss for an application I'm working on. Basically we're getting an email address setup for an external client to submit excel files to. \nWhat I need is a way to automatically pick up any email sent to this address, so I can take the attachment, process it and save it to a folder.\nAny information of even where to start would be helpful.\\\nNote: We're using a lotus notes server to do this, but a generic way would be more helpful (If possible).\n", "Is the standard Java 1.6 javax.xml.parsers.DocumentBuilder class thread safe? Is it safe to call the parse() method from several threads in parallel?\nThe JavaDoc doesn't mention the issue, but the JavaDoc for the same class in Java 1.4 specifically says that it isn't meant to be concurrent; so can I assume that in 1.6 it is?\nThe reason is that I have several million tasks running in an ExecutorService, and it seems expensive to call DocumentBuilderFactory.newDocumentBuilder() every time.\n", "I'm looking for a builder for HQL in Java. I want to get rid of things like:\nStringBuilder builder = new StringBuilder()\n    .append(\"select stock from \")\n    .append( Stock.class.getName() )\n    .append( \" as stock where stock.id = \")\n    .append( id );\n\nI'd rather have something like:\nHqlBuilder builder = new HqlBuilder()\n    .select( \"stock\" )\n    .from( Stock.class.getName() ).as( \"stock\" )\n    .where( \"stock.id\" ).equals( id );\n\nI googled a bit, and I couldn't find one.\nI wrote a quick & dumb HqlBuilder that suits my needs for now, but I'd love to find one that has more users and tests than me alone.\nNote: I'd like to be able to do things like this and more, which I failed to do with the Criteria API:\nselect stock\nfrom com.something.Stock as stock, com.something.Bonus as bonus\nwhere stock.someValue = bonus.id\n\nie. select all stocks whose property someValue points to any bonus from the Bonus table.\nThanks!\n", "A simple question, but could someone provide sample code as to how would someone call a web service from within the JBoss Seam framework, and process the results?\nI need to be able to integrate with a search platform being provided by a private vendor who is exposing his functionality as a web service. So, I'm just looking for some guidance as to what the code for calling a given web service would look like. \n(Any sample web service can be chosen as an example.)\n", "I'm looking for a simple solution for a yes/no dialog to use in a Java ME midlet. I'd like to use it like this but other ways are okey.\nif (YesNoDialog.ask(\"Are you sure?\") == true) {\n  // yes was chosen\n} else {\n  // no was chosen\n}\n\n", "In the following snippet:\npublic class a {\n    public void otherMethod(){}\n    public void doStuff(String str, InnerClass b){}\n    public void method(a){\n        doStuff(\"asd\",\n            new InnerClass(){\n                public void innerMethod(){\n                    otherMethod();\n                }\n            }\n        );\n    }\n}\n\nIs there a keyword to refer to the outer class from the inner class?  Basically what I want to do is outer.otherMethod(), or something of the like, but can't seem to find anything.\n", "I'm working on a project where we're using a Java applet for part of the UI (a map, specifically), but building the rest of the UI around the applet in HTML/JavaScript, communicating with the applet through LiveConnect/NPAPI. A little bizarre, I know, but let's presume that setup is not under discussion. I started out planning on using jQuery as my JavaScript framework, but I've run into two issues.\nIssue the first: \nSelecting the applet doesn't provide access to the applet's methods.\nJava:\npublic class MyApplet extends JApplet {\n  // ...\n  public String foo() { return \"foo!\"; }\n}\n\nJavaScript:\nvar applet = $(\"#applet-id\");\nalert(applet.foo());\n\nRunning the above JavaScript results in\n$(\"#applet-id\").foo is not a function\nThis is in contrast to Prototype, where the analogous code does work:\nvar applet = $(\"applet-id\");\nalert(applet.foo());\n\nSo...where'd the applet methods go?\nIssue the second:\nThere's a known problem with jQuery and applets in Firefox 2: http://www.pengoworks.com/workshop/jquery/bug_applet/jquery_applet_bug.htm\nIt's a long shot, but does anybody know of a workaround? I suspect this problem isn't fixable, which will mean switching to Prototype.\nThanks for the help!\n", "While creating classes in Java I often find myself creating instance-level collections that I know ahead of time will be very small - less than 10 items in the collection. But I don't know the number of items ahead of time so I typically opt for a dynamic collection (ArrayList, Vector, etc).\nclass Foo\n{\n  ArrayList<Bar> bars = new ArrayList<Bar>(10);\n}\n\nA part of me keeps nagging at me that it's wasteful to use complex dynamic collections for something this small in size. Is there a better way of implementing something like this? Or is this the norm?\nNote, I'm not hit with any (noticeable) performance penalties or anything like that. This is just me wondering if there isn't a better way to do things.\n", "EDIT: Learned that Webmethods actually uses NLST, not LIST, if that matters\nOur business uses the WebMethods integration server to handle most of our outbound communications, and its FTP functionality leaves something to be desired.  We are having a problem that may be specific to WebMethods, but if anyone can point me in a direction of what kinds of things might cause this I'd appreciate it.\nWhen polling two of our partners' FTP servers, we connect without issue but, when doing a NLST on a directory that is empty (no files and no subdirectories) it's timing out.  The actual error is:\n\ncom.wm.net.ftpCException: [ISC.0064.9010] java.net.SocketTimeoutException: Accept timed out\n\nIt's being thrown during the invocation of the pub.client.ftp:ls service.  I've logged in with a number of FTP clients without a problem to the same sites.  I've used whatever the default FTP client is in windows, FileZilla and lftp.  All without issue.  The servers themselves aren't the same FTP server software from what I can tell.  One is Microsoft FTP, the other I'm uncertain on but is definitely not Microsoft.\nAny idea what could cause an FTP client to timeout when waiting for a NLST response on an empty directory?  The visible responses from the FTP server appear to be the same, but is there a difference in how NLST responds for an empty directory that I'm unaware of?\nThis problem is consistent on these two servers.  Everything functions fine on directories with files or subdirectories within it, but not when empty.\nAny thoughts or directions would be appreciated.\nThanks!\nEric Sipple\n", "I'm trying to do a basic \"OR\" on three fields using a hibernate criteria query.\nExample\nclass Whatever{\n string name;\n string address;\n string phoneNumber;\n}\n\nI'd like to build a criteria query where my search string could match \"name\" or \"address\" or \"phoneNumber\".\n", "In my Servlet I would like to access the root of the context so that I can do some JavaScript minifying.\nIt would be possible to do the minify as part of the install process but I would like to do it on Servlet startup to reduce the implementation cost.\nDoes anyone know of a method for getting the context directory so that I can load and write files to disk?\n", "Is there an easy way to return data to web service clients in JSON using java?  I'm fine with servlets, spring, etc.\n", "There are a few web service frameworks available for Java: Axis2, CXF, JBossWS, and Metro. Does anyone have some good examples of a WS-Eventing client with these frameworks?\n", "It seems to me that introducing an ORM tool is supposed to make your architecture cleaner, but for efficiency I've found myself bypassing it and iterating over a JDBC Result Set on occasion.  This leads to an uncoordinated tangle of artifacts instead of a cleaner architecture.\nIs this because I'm applying the tool in an invalid Context, or is it deeper than that?\nWhen can/should you go whole hog with the ORM approach?\nAny insight would be greatly appreciated.\n\nA little of background:\nIn my environment  I have about 50 client computers and 1 reasonably powerful SQL Server.\nI have a desktop application in which all 50 clients are accessing the data at all times.\nThe project's Data Model has gone through a number of reorganizations for various reasons including clarity, efficiency, etc.\nMy Data Model's history\n\nJDBC calls directly\nDAO + POJO without relations between Pojos (basically wrapping the JDBC). \nAdded Relations between POJOs implementing Lazy Loading, but just hiding the inter-DAO calls\nJumped onto the Hibernate bandwagon after seeing how \"simple\" it made data access (it made inter POJO relations trivial) and because it could decrease the number of round trips to the database when working with many related entities.\nSince it was a desktop application keeping Sessions open long term was a nightmare so it ended up causing a whole lot of issues\nStepped back to a partial DAO/Hibernate approach that allows me to make direct JDBC calls behind the DAO curtain while at the same time using Hibernate.\n\n", "Simple as the title states: Can you use only Java commands to take a screenshot and save it?  Or, do I need to use an OS specific program to take the screenshot and then grab it off the clipboard?\n", "In C++ we acquiring a resource in a constructor and release it in a destructor.\nSo when an exception rises in a middle of a function there will be no resource leak or locked mutexes or whatever.\nAFAIK java classes don't have destructors. So how does one do the resource management in Java.\nFor example:\npublic int foo() {    \n    Resource f = new Resource();\n    DoSomething(f);\n    f.Release();\n}\n\nHow can one release resource if DoSomething throws an exception? We can't put try\\catch blocks all over the code, can we?\n", "I just installed Java 1.6_07 so I could try profiling with VisualVM.  It tells me that my app is spending 60% of its time in sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run \nHow do I find out what it was doing during that time?  How much of the time was it waiting for something to call it, or doing something else?  What was calling it and what was it calling?  I just can't seem to find any way to drill down to deeper levels like there is in Quantify or the Perl profiler.\n", "I'm trying to get an event to fire whenever a choice is made from a JComboBox.\nThe problem I'm having is that there is no obvious addSelectionListener() method.\nI've tried to use actionPerformed() but it never fires.\nShort of overriding the model for the JComboBox I'm out of ideas.\nHow do I get notified of a selection change on a JComboBox?\nEdit: I have to apologize it turns out I was using a misbehaving subclass of JComboBox, but I'll leave the question up since your answer is good.  Commence the vote down. :)\n", "The Interface Segregation Principle (ISP) says that many client specific interfaces are better than one general purpose interface. Why is this important?\n", "I'm converting an application to use Java 1.5 and have found the following method:\n  /**\n   * Compare two Comparables, treat nulls as -infinity.\n   * @param o1\n   * @param o2\n   * @return -1 if o1&lt;o2, 0 if o1==o2, 1 if o1&gt;o2\n   */\n  protected static int nullCompare(Comparable o1, Comparable o2) {\n    if (o1 == null) {\n      if (o2 == null) {\n        return 0;\n      } else {\n        return -1;\n      }\n    } else if (o2 == null) {\n      return 1;\n    } else {\n      return o1.compareTo(o2);\n    }\n  }\n\nIdeally I would like to make the method take two Comparables of the same type, is it possible to convert this and how? \nI thought the following would do the trick:\nprotected static <T extends Comparable> int nullCompare(T o1, T o2) {\n\nbut it has failed to get rid of a warning in IntelliJ \"Unchecked call to 'compareTo(T)' as a member of raw type 'java.lang.Comparable'\" on the line:\nreturn o1.compareTo(o2);\n\n", "What GUI should use to run my JUnit tests, and how exactly do I do that? My entire background is in .NET, so I'm used to just firing up my NUnit gui and running my unit tests. If the lights are green, I'm clean. \nNow, I have to write some Java code and want to run something similar using JUnit. The JUnit documentation is nice and clear about adding the attributes necessary to create tests, but its pretty lean on how to fire up a runner and see the results of those tests.\n", "I have read about JavaFX, and like all new technologies I wanted to get my hands \"dirty\" with it. However, although it talks of multiplatform support, I can't find specifics on this.\nWhat platforms support a JavaFX application? All those with Java SE? ME? Does it depend upon the APIs in JavaFX that I use?\n", "What's the difference between the inner workings of Java's JVM and .NET's CLR?\nPerhaps a starting point would be, are they basically the same thing in their respective environments (Java > JVM > Machine code) (C# > CLR > IL).\n\nUpdate:  Several people have alluded to the points I was trying to cover:\n\nGarbage Collection \nBoxing/Unboxing\nJIT debugging \nGenerics/Templates\nPlease feel free to suggest other good topics that differentiate the two.\n\n@George Mauer - this sounds very interesting:\n\nAlready posted this once but here is a series of interviews with c# chief language designer Anders Hejlsberg. \n\n", "I'm migrating a Hibernate application's cache from EHCache to JBoss TreeCache.\nI'm trying to find how to configure the equivalent to maxElementsOnDisk to limit the cache size on disk, but I couldn't find anything similar to configure in a FileCacheLoader with passivation activated.\nThanks\n", "is there an easy way to transform HTML into markdown with JAVA?\nI am currently using the Java MarkdownJ library to transform markdown to html.\nimport com.petebevin.markdown.MarkdownProcessor;\n...\npublic static String getHTML(String markdown) {\n    MarkdownProcessor markdown_processor = new MarkdownProcessor();\n    return markdown_processor.markdown(markdown);\n}\n\npublic static String getMarkdown(String html) {\n/* TODO Ask stackoverflow */\n}\n\n", "How do you generate and analyze a thread dump from a running JBoss instance?\n", "I am currently calling the following line of code:\njava.net.URL connection_url = new java.net.URL(\"http://<ip address>:<port>/path\");\n\nand I get the exception above when it executes.  Any ideas as to why this is happening?\n", "I'd like to create a spring bean that holds the value of a double. Something like:\n<bean id=\"doubleValue\" value=\"3.7\"/>\n\n", "I am working on an application for college music majors. A feature i am considering is slowing down music playback without changing its pitch. I have seen this done in commercial software, but cannot find any libraries or open source apps that do anything like this.  \n\nAre there libraries out there?\nHow could this be done from scratch from various file formats?\n\nNote: I am working in java but am not oppossed to changing languages. \n", "I'm using the javax.sound.sampled package in a radio data mode decoding program. To use the program the user feeds audio from their radio receiver into their PC's line input. The user is also required to use their mixer program to select the line in as the recording input. The trouble is some users don't know how to do this and also sometimes other programs alter the recording input setting. So my question is how can my program detect if the line in is set as the recording input ? Also is it possible for my program to change the recording input setting if it detects it is incorrect ?\nThanks for your time.\nIan\n", "Does Java have a built-in way to escape arbitrary text so that it can be included in a regular expression? For example, if my users enter \"$5\", I'd like to match that exactly rather than a \"5\" after the end of input.\n", "How do I implement a draggable tab using Java Swing? Instead of the static JTabbedPane I would like to drag-and-drop a tab to different position to rearrange the tabs.\nEDIT: The Java Tutorials - Drag and Drop and Data Transfer.\n", "If I start a process via Java's ProcessBuilder class, I have full access to that process's standard in, standard out, and standard error streams as Java InputStreams and OutputStreams. However, I can't find a way to seamlessly connect those streams to System.in, System.out, and System.err.\nIt's possible to use redirectErrorStream() to get a single InputStream that contains the subprocess's standard out and standard error, and just loop through that and send it through my standard out\u2014but I can't find a way to do that and let the user type into the process, as he or she could if I used the C system() call.\nThis appears to be possible in Java SE 7 when it comes out\u2014I'm just wondering if there's a workaround now. Bonus points if the result of isatty() in the child process carries through the redirection.\n", "If I'm running a signed Java applet, can I load additional classes from remote sources (in the same domain, maybe even the same host) and run them?\nI'd like to do this without changing pages or even stopping the current applet. Of course, the total size of all classes is too large to load them all at once.\nIs there a way to do this? And is there a way to do this with signed applets and preserve their \"confidence\" status?\n", "Why is it so hard to do this in Java? If you want to have any kind of module system you need to be able to load jars dynamically. I'm told there's a way of doing it by writing your own ClassLoader, but that's a lot of work for something that should (in my mind at least) be as easy as calling a method with a jar file as its argument.\nAny suggestions for simple code that does this?\n", "My motto for Java is \"just because Java has static blocks, it doesn't mean that you should be using them.\" Jokes aside, there are a lot of tricks in Java that make testing a nightmare. Two of the most I hate are Anonymous Classes and Static Blocks. We have a lot of legacy code that make use of Static Blocks and these are one of the annoying points in our push in writing unit tests. Our goal is to be able to write unit tests for classes that depend on this static initialization with minimal code changes. \nSo far my suggestion to my colleagues is to move the body of the static block into a private static method and call it staticInit. This method can then be called from within the static block. For unit testing another class that depends on this class could easily mock staticInit with JMockit to not do anything. Let's see this in example.\npublic class ClassWithStaticInit {\n  static {\n    System.out.println(\"static initializer.\");\n  }\n}\n\nWill be changed to\npublic class ClassWithStaticInit {\n  static {\n    staticInit();\n  }\n\n  private static void staticInit() {\n    System.out.println(\"static initialized.\");\n  }\n}\n\nSo that we can do the following in a JUnit.\npublic class DependentClassTest {\n  public static class MockClassWithStaticInit {\n    public static void staticInit() {\n    }\n  }\n\n  @BeforeClass\n  public static void setUpBeforeClass() {\n    Mockit.redefineMethods(ClassWithStaticInit.class, MockClassWithStaticInit.class);\n  }\n}\n\nHowever this solution also comes with its own problems. You can't run DependentClassTest and ClassWithStaticInitTest on the same JVM since you actually want the static block to run for ClassWithStaticInitTest.\nWhat would be your way of accomplishing this task? Or any better, non-JMockit based solutions that you think would work cleaner?\n", "How much less libraries are there for Mono than for Java?\nI lack the overview over both alternatives but I have pretty much freedom of choice for my next project. I'm looking for hard technical facts in the areas of\n\nperformance (for example, I'm told Java is good for threading, and I hear the runtime code optimization has become very good recently for .NET)\nreal world portability (it's both meant to be portable, what's Catch-22 for each?)\ntool availability (CI, build automation, debugging, IDE)\n\nI am especially looking for what you actually experienced in your own work rather than the things I could google. My application would be a back-end service processing large amounts of data from time series.\nMy main target platform would be Linux.\nEdit:\nTo phrase my question more adequately, I am interested in the whole package (3rd party libraries etc.), not just the language. For libraries, that probably boils down to the question \"how much less libraries are there for Mono than for Java\"?\n\nFYI, I have since chosen Java for this project, because it seemed just more battle-worn on the portability side and it's been around for a while on older systems, too. I'm a tiny little bit sad about it, because I'm very curious about C# and I'd love to have done some large project in it, but maybe next time. Thanks for all the advice.\n", "C# and Java allow almost any character in class names, method names, local variables, etc..  Is it bad practice to use non-ASCII characters, testing the boundaries of poor editors and analysis tools and making it difficult for some people to read, or is American arrogance the only argument against?\n", "I have a Java application which I want to shutdown 'nicely' when the user selects Start->Shutdown. I've tried using JVM shutdown listeners via Runtime.addShutdownHook(...) but this doesn't work as I can't use any UI elements from it.\nI've also tried using the exit handler on my main application UI window but it has no way to pause or halt shutdown as far as I can tell. How can I handle shutdown nicely?\n", "I'm working on a cross platform application in Java which currently works nicely on Windows, Linux and MacOS X. I'm trying to work out a nice way to do detection (and handling) of 'crashes'. Is there an easy, cross-platform way to detect 'crashes' in Java and to do something in response?\nI guess by 'crashes' I mean uncaught exceptions. However the code does use some JNI so it'd be nice to be able to catch crashes from bad JNI code, but I have a feeling that's JVM specific.\n", "I'm looking for a Java profiler that works well with the JVM coming with WebSphere 6.0.2 (IBM JVM 1.4.2). I use yourkit for my usual profiling needs, but it specifically refuses to work with this old jvm (I'm sure the authors had their reasons...).\nCan anybody point to a decent profiler that can do the job? Not interested in a generic list of profilers, BTW, I've seen the other stackoverflow theread, but I'd rather not try them one by one.\nI would prefer a free version, if possible, since this is a one-off need (I hope!) and I would rather not pay for another profiler just for this. \n", "If so what are required configuration elements to enable UTF-8 for tiles?  \nI'm finding my tile results are sent as:\nContent-Type    text/html;\n\n", "Is there an easy way to avoid dealing with text encoding problems?\n", "What tool would you recommend to detect java package cyclic dependencies,\nknowing that the goal is to list explicitly the specific classes involved in the detected 'across-packages cycle' ?\nI know about classycle and JDepend , but they both fail to list the classes involved in a cyclic package dependency.\nMetrics has an interesting graphical representation of cycles, but again limited to packages, and quite difficult to read sometime.\nI am getting tired to get a:\n\n\" you have a package cycle dependency between those 3 packages\nyou have xxx classes in each\ngood luck finding the right classes and break this cycle \"\n\nDo you know any tool that takes the extra step to actually explain to you why the cycle is detected (i.e. 'list the involved classes') ?\n\nRiiight... Time to proclaim the results:\n@l7010.de thank you for the effort. I will vote you up (when I will have enough rep), especially for the 'CAP' answer... but CAP is dead in the water and no longer compatible with my eclipse 3.4. The rest is commercial and I look only for freeware\n@daniel6651 thank you but, as said, freeware only (sorry to not have mentioned it in the first place)\n@izb as a frequent user of findbugs (using the latest 1.3.5 right now), I am one click away to accept your answer... if you could explain to me what option there is to activate for findbug to detect any cycle. That feature is only mentioned for the 0.8.7 version in passing (look for 'New Style detector to find circular dependencies between classes'), and I am not able to test it.\nUpdate: works now, I had an old findbugs configuration file in which that option was not activated. I still like CAD though ;)\nTHE ANSWER is... see my own (second) answer below\n", "When a java based application starts to misbehave on a windows machine, you want to be able to kill the process in the task manager if you can't quit the application normally. Most of the time, there's more than one java based application running on my machine. Is there a better way than just randomly killing java.exe processes in hope that you'll hit the correct application eventually?\nEDIT: Thank you to all the people who pointed me to Sysinternal's Process Explorer - Exactly what I'm looking for!\n", "Nokia has stopped offering its Developer's Suite, relying on other IDEs, including Eclipse. Meanwhile, Nokia changed its own development tools again and EclipseMe has also changed. This leaves most documentation irrelevant. \nI want to know what does it take to make a simple Hello-World?\n(I already found out myself, so this is a Q&A for other people to use)\n", "What's the simplest-to-use techonlogy available to save an arbitrary Java object graph as an XML file (and to be able to rehydrate the objects later)?\n", "While working in a Java app, I recently needed to assemble a comma-delimited list of values to pass to another web service without knowing how many elements there would be in advance. The best I could come up with off the top of my head was something like this:\npublic String appendWithDelimiter( String original, String addition, String delimiter ) {\n    if ( original.equals( \"\" ) ) {\n        return addition;\n    } else {\n        return original + delimiter + addition;\n    }\n}\n\nString parameterString = \"\";\nif ( condition ) parameterString = appendWithDelimiter( parameterString, \"elementName\", \",\" );\nif ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, \"anotherElementName\", \",\" );\n\nI realize this isn't particularly efficient, since there are strings being created all over the place, but I was going for clarity more than optimization.\nIn Ruby, I can do something like this instead, which feels much more elegant:\nparameterArray = [];\nparameterArray << \"elementName\" if condition;\nparameterArray << \"anotherElementName\" if anotherCondition;\nparameterString = parameterArray.join(\",\");\n\nBut since Java lacks a join command, I couldn't figure out anything equivalent.\nSo, what's the best way to do this in Java?\n", "If Java application requires certain JRE version then how can I check its availability on Mac OS X during installation?\n", "I would like to save the programs settings every time the user exits the program. So I need a way to call a function when the user quits the program. How do I do that?\nI am using Java 1.5.\n", "I want to implement in Java a class for handling graph data structures. I have a Node class and an Edge class. The Graph class maintains two list: a list of nodes and a list of edges. Each node must have an unique name. How do I guard against a situation like this:\n\nGraph g = new Graph();\n\nNode n1 = new Node(\"#1\");\nNode n2 = new Node(\"#2\");\n\nEdge e1 = new Edge(\"e#1\", \"#1\", \"#2\");\n\n// Each node is added like a reference\ng.addNode(n1);\ng.addNode(n2);\ng.addEdge(e1);\n\n// This will break the internal integrity of the graph\nn1.setName(\"#3\");   \ng.getNode(\"#2\").setName(\"#4\"); \n\n\nI believe I should clone the nodes and the edges when adding them to the graph and return a NodeEnvelope class that will maintain the graph structural integrity. Is this the right way of doing this or the design is broken from the beginning ?\n", "I have a Java application that launches another java application.  The launcher has a watchdog timer and receives periodic notifications from the second VM.  However, if no notifications are received then the second virtual machine should be killed and the launcher will perform some additional clean-up activities.\nThe question is, is there any way to do this using only java? so far I have to use some native methods to perform this operation and it is somehow ugly.\nThanks!\n", "Struts 1.3 application.  Main website is NOT served by struts/Java.  I need to forward the result of a struts action to a page in the website, that is outside of the struts context.  Currently, I forward to a JSP in context and use a meta-refresh to forward to the real location.  That seems kinda sucky.  Is there a better way?\n", "I have a Struts (1.3x) ActionForm that has several String and boolean properties/fields, but also has some POJO fields. \nso my form looks something like:\nMyForm extends ActionForm {\n    private String name;\n    private int id;\n    private Thing thing;\n\n    ...getters/setters...\n}\n\nIn the JSP I can reference the POJO's fields thusly:\n<html:text property=\"thing.thingName\" />\n\n...and the values display correctly, but if I try to submit the form I get the ServletException: BeanUtils.populate error.\nThere seems to be a lot of information about this general topic on the web, but none really addresses my specific question, which is: shouldn't I be able to submit a form in Struts that contains fields that are POJOs?\n", "When launching a process from Java, both stderr and stdout can block on output if I don't read from the pipes.  Currently I have a thread that pro-actively reads from one and the main thread blocks on the other.\nIs there an easy way to join the two streams or otherwise cause the subprocess to continue while not losing the data in stderr? \n", "In java it's a bit difficult to implement a deep object copy function. What steps you take to ensure the original object and the cloned one share no reference? \n", "When I use the default java locale on my linux machine it comes out with the US locale settings, where do I change this so that it comes out with the correct locale?\n", "What Java library would you say is the best for consuming and parsing feeds? Requirements:\n\nEmbeddable\nSupports Atom & RSS\nHas caching architecture\nShould be able to deal with any feed format the same way\n\n(Please: one suggestion per answer.)\n", "I'm looking for a general solution for upgrading database schema with ORM tools, like JPOX or Hibernate. How do you do it in your projects?\nThe first solution that comes to my mind is to create my own mechanism for upgrading databases, with SQL scripts doing all the work. But in this case I'll have to remember about creating new scripts every time the object mappings are updated. And I'll still have to deal with low-level SQL queries, instead of just defining mappings and allowing the ORM tools to do all the job...\nSo the question is how to do it properly. Maybe some tools allow for simplifying this task (for example, I heard that Rails have such mechanism built-in), if so please help me decide which ORM tool to choose for my next Java project.\n", "I'm reading lines of text that can come in any order. The problem is that the output can actually be indentical to the previous output. How can I detect this, without sorting the output first?\nIs there some kind of hash function that can take identical input, but in any order, and still produce the same result?\n", "Are there any open-source libraries that all programmers should know about? I'm thinking\nsomething general, a sort of extension to the standard java.util that contains basic functions that are useful for all kinds of application.\n", "I am looking into game programming in Java to see if it is feasible. When googling for it I find several old references to Java2D, Project Darkstar (Sun's MMO-server) and some books on Java game programming. But alot of the information seems to be several years old.\nSo the question I am asking, is anyone creating any games in Java SE 1.5 or above?\nIf so, what frameworks are used and are there any best practices or libraries available?\n", "This one has been bugging me for a while now.\nIs there a way I can stop Intellj IDEA from reporting missing keys in  tags?\nMy messages are not stored in property files so the issue does not apply in my case.\nI'm using IntelliJ IDEA 7.0.4\n", "I have a user interface in .net which needs to receive data from a server, on a request/reply/update model. The only constraint is to use Java only on the server box.\nWhat is the best approach to achieve this ? Is it by creating a Webservice in Java and then accessing it in .net, or should I create Java proxies and convert them in .net by using IKM ? Or do you have any better idea ? It can be HTTP based, used a direct socket connection, or any middleware.\n", "I was discussing neural networks (NN) with a friend over lunch the other day and he claimed the the performance of a NN written in Java would be similar to one written in C++.  I know that with 'just in time' compiler techniques Java can do very well, but somehow I just don't buy it.  Does anyone have any experience that would shed light on this issue?  This page is the extent of my reading on the subject.\n", "I have a web application that receives messages through an HTTP interface, e.g.:\nhttp://server/application?source=123&destination=234&text=hello\n\nThis request contains the ID of the sender, the ID of the recipient and the text of the message.\nThis message should be processed like:\n\nfinding the matching User object for both the source and the destination from the database\ncreating a tree of objects: a Message that contains a field for the message text and two User objects for the source and the destination\npersisting this tree to a database.\n\nThe tree will be loaded by other applications that I can't touch.\nI use Oracle as the backing database and JPA with Toplink for the database handling tasks. If possible, I'd stay with these.\nWithout much optimization I can achieve ~30 requests/sec throughput in my environment. That's not much, I'd require ~300 requests/sec. So I measured where the performance bottleneck is and found that the calls to em.persist() takes most of the time. If I simply comment out that line, the throughput go well over 1000 requests/sec.\nI tried to write a small test application that used simple JDBC calls to persist 1 million messages to the same database. I used batching, meaning I did 100 inserts then a commit, and repeated until all the records was in the database. I measured ~500 requests/sec throughput in this scenario, that would meet my needs.\nIt is clear that I need to optimize insert performance here. However as I mentioned earlier I would like to keep using JPA and Toplink for this, not pure JDBC.\nDo you know a way to create batch inserts with JPA and Toplink? Can you recommend any other technique for improving JPA persist performance?\nADDITIONAL INFO:\n\"requests/sec\" means here: total number of requests / total time from beginning of test to last record written to database.\nI tried to make the calls to em.persist() asynchronous by creating an in-memory queue between the servlet stuff and the persister. It helped the performance greatly. However the queue did grow really fast and as the application will receive ~200 requests/second continuously, It is not an acceptable solution for me.\nIn this decoupled approach I collected requests for 100 msec and called em.persist() on all collected items before commiting the transaction. The EntityManagerFactory is cached between each transaction.\n", "I am writing a C# client that calls a web service written in Java (by another person).  I have added a web reference to my client and I'm able to call methods in the web service ok.\nThe service was changed to return an array of objects, and the client does not properly parse the returned SOAP message.\nMyResponse[] MyFunc(string p)\n\nclass MyResponse\n{\n    long id;\n    string reason;\n}\n\nWhen my generated C# proxy calls the web service (using SoapHttpClientProtocol.Invoke), I am expecting a MyResponse[] array with length of 1, ie a single element.  What I am getting after the Invoke call is an element with id=0 and reason=null, regardless of what the service actually returns.  Using a packet sniffer, I can see that the service is returning what appears to be a legitimate soap message with id and reason set to non-null values.\nIs there some trick to getting a C# client to call a Java web service that returns someobject[] ?  I will work on getting a sanitized demo if necessary.\nEdit: This is a web reference via \"Add Web Reference...\".  VS 2005, .NET 3.0.\n", "Due to repetitive errors with one of our Java applications:\nEngine engine_0: Error in application action.\norg.xml.sax.SAXParseException: An invalid XML character (Unicode: 0x13)\nwas found in the element content of the document.\n\nI need to \"fix\" some Unicode character in an Oracle database, ideally in a programmatic fashion. Once identified, what would be a simple way to \"search and replace\" it?\n", "Is it really viable to use GCJ to publish server-side applications?  Webapps?  \nMy boss is convinced that compiling our (my) webapp into a binary executable is a brilliant idea.  (Then again, he likes nice, small simple things with blinky lights that he can understand.)  He instinctively sees no issues with this, while I only see an endless series of problems and degradations.  Once I start talking to him about the complexity of our platform, and more in depth specifics of byte code, JVMs, libraries, differences between operating systems, processor architectures, etc...well...his eyes glaze over, he smiles and he has made it clear he thinks I'm being childishly resistive.\nWhy does he want a single magic executable?  He sees a couple of \"benefits\":\n\nIf it is a binary executable, then it is hard to reverse engineer and circumvent any licensing.  Management lives in constant fear that this is happening, even though we sell into larger corporates who generally do not do cheat with server software.  \nThere is that vision of downloading this magic executable, running it, and everything works. (No more sending me out to do customer installations, which is not that frequent.)\n\nSo, I've done my obligatory 20 minutes of googling, and now I am here.  \nA bit of background on my application: \nWhat it is made from:\n\nJava 6 (Sun's JVM)\nAspectJ 1.6\nTomcat 6\nHibernate 3\nSpring 2\nanother two dozen supporting jar files\n\nWhat it does\n\nA streaming media CMS\nPerformance sensitive\nDeployed on Linux, Solaris, Windows (and developed on a Mac)\n\nAs you can probably gather, I'm highly skeptical of this \"compiling Java to native code\" thing.  It sound like where Mono (VB on Linux) was back in 2000.  But am I being overly pessimistic?  Is it viable?  Should I actually spend the time (days if not weeks) to try this out?\nThere is one other similar thread (Java Compiler Options to produce .exe files) but it is a bit too simple, the links dated, and not really geared towards a server-side question.\nYour informed opinions will be highly cherished, my dear SOpedians! TIA!\n", "I have a try/catch block with returns inside it. Will the finally block be called?\nFor example:\ntry {  \n    something();  \n    return success;  \n}  \ncatch (Exception e) {   \n    return failure;  \n}  \nfinally {  \n    System.out.println(\"i don't know if this will get printed out.\");\n}\n\nI know I can just type this in an see what happens (which is what I'm about to do, actually) but when I googled for answers nothing came up, so I figured I'd throw this up as a question.\n", "I start to write a client - server application using .net (C#) for both client and server side.\nUnfortunately, my company refuse to pay for Windows licence on server box meaning that I need to rewrite my code in Java, or go to the Mono way.\nIs there any good way to translate C# code in Java ? The server application used no .net specific feature, only cross language tools like Spring.net, Hibernate.net and log4net.\nThanks.\n", "I have a huge ear that uses log4j and there is a single config file that is used to set it up. In this config file there is no mention of certain log files but, additional files apart from those specified in the config file get generated in the logs folder. I've searched for other combinations of (logger|log4j|log).(properties|xml) and haven't found anything promising in all of the jar files included in the ear. How do I track down which is the offending thread/class that is creating these extra files?\n", "I was reading a book on programming skills wherein the author asks the interviewee, \"How do you crash a JVM?\" I thought that you could do so by writing an infinite for-loop that would eventually use up all the memory.\nAnybody has any idea?\n", "I am using Apache Axis to connect my Java app to a web server. I used wsdl2java to create the stubs for me, but when I try to use the stubs, I get the following exception:\n\norg.apache.axis.ConfigurationException: No service named <web service name> is available\n\nany idea?\n", "What characters are valid in a Java class name? What other rules govern Java class names (for instance, Java class names cannot begin with a number)?\n", "I would like to read the text and binary attachments in a saved Outlook message (.msg file) from a Java application, without resorting to native code (JNI, Java Native Interface). \nApache POI-HSMF seems to be in the right direction, but it's in very early stages of development... \n", "The DOM method getChildNodes() returns a NodeList of the children of the current Node. Whilst a NodeList is ordered, is the list guaranteed to be in document order?\nFor example, given <a><b/><c/><d/></a> is a.getChildNodes() guaranteed to return a NodeList with b, c and d in that order?\nThe javadoc isn't clear on this.\n", "I've seen examples like this: \npublic class MaxSeconds {\n   public static final int MAX_SECONDS = 25;\n}\n\nand supposed that I could have a Constants class to wrap constants in, declaring them static final. I know practically no Java at all and am wondering if this is the best way to create constants.  \n", "I've been running Tomcat 5.5 with Java 1.4 for a while now with a huge webapp.  Most of the time it runs fine, but sometimes it will just hang, with no exception generated, and no apparant way of getting it to run again other than re-starting Tomcat.  The tomcat instance is allowed a gigabyte of memory on the heap, but rarely exceeds 300 MB.  Has anyone else run into this issue, and is there a solution for it?\nFor clarification: I determined how much memory it is using via Task Manager and via Eclipse (I've also tried running it outside of Eclipse, but get the same problem eventually, though it takes a little longer).  With Eclipse, I look at the memory allocated via its little (optional) memory pane and the amount allocated to javaw.exe via the task manager.  I use the sysdeo? tomcat plugin for Eclipse.\n", "I'm looking for a light version of REST for a Java web application I'm developing. \nI've looked at RESTlet (www.restlet.org) and the REST plugin for Struts 2, but I haven't made up my mind. I'm leaning towards RESTlet, as it seems to be lighter.\nHas anyone implemented a RESTful layer without any of the the frameworks or with the frameworks? \nAny performance issues that you've seen because of the new web layer? \nDid the introduction of REST added unmanageable or unreasonable complexity to your project? (Some complexity is understandable, but what I mean is just plain overkilling your design just to add REST)\n", "I need to calculate Math.exp() from java very frequently, is it possible to get a native version to run faster than java's Math.exp()??\nI tried just jni + C, but it's slower than just plain java.\n", "I have a servlet that is used for many different actions, used in the Front Controller pattern.  Does anyone know if it is possible to tell if the data posted back to it is enctype=\"multipart/form-data\"?  I can't read the request parameters until I decide this, so I can't dispatch the request to the proper controller.\nAny ideas?\n", "I am trying to achieve better performance for my Java SWT application, and I just found out it is possible to use OpenGL in SWT. It seems there are more than one Java binding for OpenGL. Which one do you prefer?\nNote that I have never used OpenGL before, and that the application needs to work on Windows, Linux and Mac OS X.\n", "For most GUI's I've used, when a control that contains text gets the focus, the entire contents of the control are selected.  This means if you just start typing, you completely replace the former contents.\nExample:  You have spin control that is initialized with the value zero.   You tab to it and type \"1\" The value in the control is now 1.\nWith Swing, this doesn't happen.  The text in the control is not selected and the carat appears at one end or another of the existing text.  Continuing the above example:\nWith a Swing JSpinner, when you tab to the spin control, the carat is at the left.  You type \"1\" and the value in the control is now 10.\nThis drives me, (and my users) up a wall, and I'd like to change it.  Even more important, I'd like to change it globally so the new behavior applies to JTextField, JPasswordField, JFormattedTextField, JTextArea, JComboBox, JSpinner, and so on.   The only way I have found to do this to add a FocusAdapter to each control and override the focusGained() method to Do The Right Thing[tm].\nThere's gotta be an easier, and less fragile way.  Please?\nEDIT: One additional piece of information for this particular case.  The form I am working with was generated using Idea's form designer.  That means I normally don't actually write the code to create the components.  It is possible to tell Idea that you want to create them yourself, but that's a hassle I'd like to avoid.\nMotto:  All good programmers are basically lazy.\n", "Are there any VNC Libraries for Java, I need to build a JSP/Servlet based VNC server, to allow user to share their desktops with helpdesk. I've seen jVNC, but i'd like to build it myself, for a University project.\nIn particular, I'm looking for Java Libraries that I can use inside another servlet based application. Unfortuatnely tight VNC's source is in C.\n", "I have the following Java 6 code:\n    Query q = em.createNativeQuery( \n        \"select T.* \" +\n        \"from Trip T join Itinerary I on (T.itinerary_id=I.id) \" +\n        \"where I.launchDate between :start and :end \" +\n        \"or ADDDATE(I.launchDate, I.equipmentPullDayOfTrip) between :start and :end\",\n        \"TripResults\" );\n\n    q.setParameter( \"start\", range.getStart(), TemporalType.DATE );\n    q.setParameter( \"end\", range.getEnd(), TemporalType.DATE );\n\n    @SqlResultSetMapping( name=\"TripResults\",\n        entities={\n            @EntityResult( entityClass=TripEntity.class ),\n            @EntityResult( entityClass=CommercialTripEntity.class )\n        }\n    )\n\nI receive a syntax error on the last closing right parenthesis. Eclipse gives: \"Insert EnumBody to complete block statement\" and \"Insert enum Identifier to complete EnumHeaderName\".  Similar syntax error from javac.\nWhat am I doing wrong?\n", "Is there a way to detect, from within the finally clause, that an exception is in the process of being thrown?\nie:\n\ntry {\n    // code that may or may not throw an exception\n} finally {\n    SomeCleanupFunctionThatThrows();\n    // if currently executing an exception, exit the program,\n    // otherwise just let the exception thrown by the function\n    // above propagate\n}\n\nor is ignoring one of the exceptions the only thing you can do. In C++ it doesn't even let you ignore one of the exceptions and just calls terminate(). Most other languages use the same rules as java.\n", "I have a JUnit test that tests adding Strings to a Dictionary custom type.  Everything works fine for everyone else on a Linux/Windows machine, however, being the first dev in my shop on a mac, this unit test fails for me.  The offending lines are where unicode string literals are used:\n    dict.add( \"Su\u5b57/\u4f1a\u610fpin\", \"Su\u5b57/\u4f1a\u610fpin\" );\n    dict.add( \"\u5b57/\u4f1a\u610f\", \"\u5b57/\u4f1a\u610f\" );\n\nIs there a platform-independent way to specify the unicode string?  I've tried changing the encoding of the file in Eclipse to UTF-8 instead of the default MacRoman, but the test still fails.\n", "Here is a quick test program:\n    public static void main( String[] args )\n{\n    Date date = Calendar.getInstance().getTime();\n\n    System.out.println(\"Months:\");\n    printDate( \"MMMM\", \"en\", date );\n    printDate( \"MMMM\", \"es\", date );\n    printDate( \"MMMM\", \"fr\", date );\n    printDate( \"MMMM\", \"de\", date );\n\n    System.out.println(\"Days:\");\n    printDate( \"EEEE\", \"en\", date );\n    printDate( \"EEEE\", \"es\", date );\n    printDate( \"EEEE\", \"fr\", date );\n    printDate( \"EEEE\", \"de\", date );\n\n}\n\npublic static void printDate( String format, String locale, Date date )\n{\n    System.out.println( locale + \": \" + (new SimpleDateFormat( format, new Locale( locale ) )).format( date ) );\n}\n\nThe output is:\n\nMonths:\nen: September\nes: septiembre\nfr: septembre\nde: September\nDays:\nen: Monday\nes: lunes\nfr: lundi\nde: Montag\nHow can I control the capitalization of the names. For some reason the Spanish and French always seem to return names that start with a lowercase letter.\n", "Where can I find a guide for integrating JavaScript and JMS (Java Messaging Service)?\nI would like a best practice or established technology that allows me to directly or indirectly receive messages from a topic and update a site based on the message. I was thinking of creating two components, a servlet for the Web module, and an MDB (Message-Driven Bean) for the EJB module. The web client will comsume messages from the JMS topic, and the MDB will handle the onMessage.\nDoes this sound correct? Have you seen any examples?\nEdit: I am using ActiveMQ for the JMS.\n", "We have a case where clients seem to be eternally caching versions of applets.  We're making use of the <param name=\"cache_version\"> tag correctly within our <object> tag, or so we think.  We went from a version string of 7.1.0.40 to 7.1.0.42 and this triggered a download for only about half of our clients.\nIt doesn't seem to matter which version of the JRE the client is running.  We've seen people have this problem on 1.4, 1.5 and 1.6.\nDoes anybody have experience with explicit cache versions?  Does it work more reliably (ignoring speed) to instead rely on the cache_archive's \"Last-Modified\" and/or \"Content-Length\" values (as per Sun's Site)?\nFYI, object block looks like this:\n<object>\n  <param name=\"ARCHIVE\" value=\"foo.jar\">\n  <param name=\"CODE\" value=\"com.foo.class\">\n  <param name=\"CODEBASE\" value=\".\">\n  <param name=\"cache_archive\" value=\"foo.jar\">\n  <param name=\"cache_version\" value=\"7.1.0.40\">\n  <param name=\"NAME\" value=\"FooApplet\">\n  <param name=\"type\" value=\"application/x-java-applet;jpi-version=1.4.2_13\">\n  <param name=\"scriptable\" value=\"true\">\n  <param name=\"progressbar\" value=\"true\"/>\n  <param name=\"boxmessage\" value=\"Loading Web Worksheet Applet...\"/>\n</object>\n\n", "So you have a String that is retrieved from an admin web UI (so it is definitely a String). How can you find out whether this string is an IP address or a hostname in Java?\nUpdate: I think I didn't make myself clear, I was more asking if there is anything in the Java SDK that I can use to distinguish between IPs and hostnames? Sorry for the confusion and thanks for everybody who took/will take the time to answer this.\n", "I am trying to read a single file from a java.util.zip.ZipInputStream, and copy it into a java.io.ByteArrayOutputStream (so that I can then create a java.io.ByteArrayInputStream and hand that to a 3rd party library that will end up closing the stream, and I don't want my ZipInputStream getting closed).\nI'm probably missing something basic here, but I never enter the while loop here:\nByteArrayOutputStream streamBuilder = new ByteArrayOutputStream();\nint bytesRead;\nbyte[] tempBuffer = new byte[8192*2];\ntry {\n    while ((bytesRead = zipStream.read(tempBuffer)) != -1) {\n        streamBuilder.write(tempBuffer, 0, bytesRead);\n    }\n} catch (IOException e) {\n    // ...\n}\n\nWhat am I missing that will allow me to copy the stream?\nEdit:\nI should have mentioned earlier that this ZipInputStream is not coming from a file, so I don't think I can use a ZipFile. It is coming from a file uploaded through a servlet.\nAlso, I have already called getNextEntry() on the ZipInputStream before getting to this snippet of code. If I don't try copying the file into another InputStream (via the OutputStream mentioned above), and just pass the ZipInputStream to my 3rd party library, the library closes the stream, and I can't do anything more, like dealing with the remaining files in the stream.\n", "If I have a Resource bundle property file:\nA.properties:\nthekey={0} This is a test\nAnd then I have java code that loads the resource bundle:\nResourceBundle labels =\n    ResourceBundle.getBundle(\"A\", currentLocale);\nlabels.getString(\"thekey\");\n\nHow can I replace the {0} text with some value\nlabels.getString(\"thekey\", \"Yes!!!\");\nSuch that the output comes out as:\nYes!!! This is a test.\nThere are no methods that are part of Resource Bundle to do this.  Also, I am in Struts, is there some way to use MessageProperties to do the replacement.\n", "My professor did an informal benchmark on a little program and the Java times were: 1.7 seconds for the first run, and 0.8 seconds for the runs thereafter.  \n\nIs this due entirely to the loading of the runtime environment into the operating environment ?\nOR \nIs it influenced by Java's optimizing the code and storing the results of those optimizations (sorry, I don't know the technical term for that)?\n\n", "I've just inherited a java application that needs to be installed as a service on XP and vista. It's been about 8 years since I've used windows in any form and I've never had to create a service, let alone from something like a java app (I've got a jar for the app and a single dependency jar - log4j).  What is the magic necessary to make this run as a service?  I've got the source, so code modifications, though preferably avoided, are possible.\n", "I'm not overly familiar with Tomcat, but my team has inherited a complex project that revolves around a Java Servlet being hosted in Tomcat across many servers. Custom configuration management software is used to write out the server.xml, and various resources (connection pools, beans, server variables, etc) written into server.xml configure the servlet. This is all well and good.\nHowever, the names of some of the resources aren't known in advance. For example, the Servlet may need access to any number of \"Anonymizers\" as configured by the operator. Each anonymizer has a unique name associated with it. We create and configure each anonymizer using java beans similar to the following:\n<Resource\n  name=\"bean/Anonymizer_toon\"\n  type=\"com.company.tomcatutil.AnonymizerBean\"\n  factory=\"org.apache.naming.factory.BeanFactory\"\n  className=\"teAnonymizer\"\n  databaseId=\"50\"\n/>\n<Resource\n  name=\"bean/Anonymizer_default\"\n  type=\"com.company.tomcatutil.AnonymizerBean\"\n  factory=\"org.apache.naming.factory.BeanFactory\"\n  className=\"teAnonymizer\"\n  databaseId=\"54\"\n/>\n\nHowever, this appears to require us to have explicit entries in the Servlet's context.xml file for each an every possible resource name in advance. I'd like to replace the explicit context.xml entries with wildcards, or know if there is a better solution to this type of problem.\nCurrently:\n  <ResourceLink name=\"bean/Anonymizer_default\"\n                global=\"bean/Anonymizer_default\"\n                type=\"com.company.tomcatutil.AnonymizerBean\"/>\n\n  <ResourceLink name=\"bean/Anonymizer_toon\"\n                global=\"bean/Anonymizer_toon\"\n                type=\"com.company.tomcatutil.AnonymizerBean\"/>\n\nReplaced with something like:\n  <ResourceLink name=\"bean/Anonymizer_*\"\n                global=\"bean/Anonymizer_*\"\n                type=\"com.company.tomcatutil.AnonymizerBean\"/>\n\nHowever, I haven't been able to figure out if this is possible or what the correct syntax might be. Can anyone make any suggestions about better ways to handle this?\n", "I have a set of tree objects with a depth somewhere in the 20s.  Each of the nodes in this tree needs access to its tree's root.\nA couple of solutions:\n\nEach node can store a reference to the root directly (wastes memory)\n\n\nI can compute the root at runtime by \"going up\" (wastes cycles)\nI can use static fields (but this amounts to globals)\n\n\nCan someone provide a design that doesn't use a global (in any variation) but is more efficient that #1 or #2 in both memory or cycles respectively?\nEdit: Since I have a Set of Trees, I can't simply store it in a static since it'd be hard to differentiate between trees. (thanks maccullt)\n", "Has anyone successfully implemented a Java based solution that uses Microsoft SQL Server 2005 Reporting Services?  Reporting Services comes with a set of Web Services that allow you to control the creation of a report, execution of a report, etc and I am just starting development on a POC of this integration.  A couple of choices I have yet to make is whether I want to use Axis2 for the wsdl-to-java functionality or use WebLogic's clientgen (wsdl 2 java) solution.  I guess I can also use JAX-WS and wsimport.  Before I dive into this, I wanted to see if anyone was doing this successfully with one of the many options available. \nIn the past, I've had a few issues on how null/blank/empty's are handled between .NET and Java web-services and I just wanted to see if this had come up as an issue with SSRS and Java integration.  Thanks\n", "Hey all, my Computational Science course this semester is entirely in Java. I was wondering if there was a good/preferred set of tools to use in ubuntu. Currently I use gedit with a terminal running in the bottom, but I'd like an API browser. \nI've considered Eclipse, but it seems to bloated and unfriendly for quick programs.\n", "My team is developing a new service oriented product with a web front-end.  In discussions about what technologies we will use we have settled on running a JBoss application server, and Flex frontend (with possible desktop deployment using Adobe AIR), and web services to interface the client and server.\nWe've reached an impasse when it comes to which server technology to use for our business logic.  The big argument is between EJB3 and Spring, with our biggest concerns being scalability and performance, and also maintainability of the code base.\nHere are my questions:\n\nWhat are the arguments for or against EJB3 vs Spring? \n\n\nWhat pitfalls can I expect with each?\nWhere can I find good benchmark information?\n\n\n", "I have a large application that uses EJB 2.x entity beans (BMP). This is well-known to be a horrible persistence strategy (I can elaborate if necessary).\nI'd like to start migrating this application to use a much more expressive, transparent, and non-invasive persistence strategy, and given my company's previous experience with it, Hibernate 3.x is the obvious choice.\nMigrating to Hibernate is going to take a while, as over 100 tables in the application use entity beans. So I'm looking at a phased approach where the two persistence strategies run in parallel, ideally on the same tables at the same time, if possible.\nMy question is, what are the pitfalls (if any) of combining these two persistence strategies? Will they get in each other's way?\n", "I need a Regex that will match a java method declaration. I have come up with one that will match a method declaration, but it requires the opening bracket of the method to be on the same line as the declaration. If you have any suggestions to improve my regex or simply have a better one then please submit an answer.\nHere is my regex: \"\\w+ +\\w+ *\\(.*\\) *\\{\"\nFor those who do not know what a java method looks like I'll provide a basic one:\nint foo()\n{\n\n}\n\nThere are several optional parts to java methods that may be added as well but those are the only parts that a method is guaranteed to have.\nUpdate:\nMy current Regex is \"\\w+ +\\w+ *\\([^\\)]*\\) *\\{\" so as to prevent the situation that Mike and adkom described.\n", "After cleaning a folder full of HTML files with TIDY, how can the tables content be extracted for further processing?\n", "I'm using a Java socket, connected to a server. \nIf I send a HEADER http request, how can I measure the response time from the server? Must I use a provided java timer, or is there an easier way?\nI'm looking for a short answer, I don't want to use other protocols etc. Obviously do I neither want to have a solution that ties my application to a specific OS. Please people, IN-CODE solutions only. \n", "Most of our Eclipse projects have multiple source folders, for example:\n\nsrc/main/java\nsrc/test/java\n\nWhen you right-click on a class and choose New JUnit Test, the default source folder for the new test is \"src/main/java\" (presumably the first source folder listed in the project properties).\nIs there any way to change the default source folder for new JUnit tests, so that when I do the above action, the new test will be created in say the \"src/test/java\" folder by default?\n", "What options/methods/software are available to convert a JAR file to a managed .NET assembly?  Please provide all commercial and non-commercial methods in the answer.\nThese don't include solutions which require Java to be installed on the host machine.\n", "Is there a way to get the current xml data when we make our own custom XPath function (see here).\nI know you have access to an XPathContext but is this enough?\nExample:\nOur XML:\n<foo>\n  <bar>smang</bar>\n  <fizz>buzz</fizz>\n</foo>\n\nOur XSL:\n<xsl:template match=\"/\">\n  <xsl:value-of select=\"ourFunction()\" />\n</xsl:template>\n\nHow do we get the entire XML tree?\nEdit: To clarify: I'm creating a custom function that ends up executing static Java code (it's a Saxon feature). So, in this Java code, I wish to be able to get elements from the XML tree, such as bar and fizz, and their CDATA, such as smang and buzz.\n", "public static void main(String[] args) {\n\n    List<? extends Object> mylist = new ArrayList<Object>();\n\n    mylist.add(\"Java\"); // compile error\n\n}\n\nThe above code does not allow you to add elements to the list and wild cards can only be used as a signature in methods, again not for adding but only for accessing.\nIn this case what purpose does the above fulfil ??\n", "I have some domain logic implemented in a number of POJOs. I want to write a Swing user interface to allow the user to initiate and see the results of various domain actions.\nWhat's the best pattern/framework/library for communications between the UI and the domain? This boils down into:\n\nthe UI being able to convert a user gesture into a domain action\nthe domain being able to send state/result information back to the UI for display purposes\n\nI'm aware of MVC as a broad concept and have fiddled with the Observer pattern (whose Java implementation has some drawbacks if I understand correctly), but I'm wondering if there's an accepted best practise for this problem?\n", "I have an Java desktop application wich connects directly with the DB (an Oracle). The application has multiple user accounts. What is the correct method to send the user's password (not DB password) over the network? I don't want to send it in plain text\n", "In Java, you often see a META-INF folder containing some meta files. What is the purpose of this folder and what can I put there?\n", "What is the main difference between an inner class and a static nested class in Java? Does design / implementation play a role in choosing one of these?\n", "So, I have willfully kept myself a Java n00b until recently, and my first real exposure brought about a minor shock: Java does not have C# style properties!\nOk, I can live with that. However, I can also swear that I have seen property getter/setter code in Java in one codebase, but I cannot remember where. How was that achieved? Is there a language extension for that? Is it related to NetBeans or something?\n", "I have heard there is a way to cheat single inheritance and implement multiple inheritance in Java. Does anyone know how to implement this(with out using interface)?\nJust out of curiosity ;-)\n", "What's the best, crossplatform way to perform blackbox tests on AJAX web applications?\nIdeally, the solution should have the following attributes:\n\nAble to integrate into a continuous integration build loop\nCross platform so I you can run it on Windows laptops and Linux continuous integration servers\nEasy way to script the interactions\nFree-as-in-freedom so you can adapt it into your tool chain if necessary\n\nI've looked into HttpUnit but I'm not conviced it can handle AJAX-heavy websites.\n", "What is an efficient way to implement a singleton pattern in Java?\n", "In my job we have to deploy an application on various environments. It's a standard WAR file which needs a bit of configuration, deployed on Tomcat 6.\nIs there any way of creating a 'deployment package' with Tomcat so that you just extract it and it sets up Tomcat as well as your application? I'm not sure that creating a .zip file with the Tomcat folder would work! It certainly wouldn't install the service.\nSuggestions welcome!\nI should note that - at the moment - all apps are deployed on Windows servers.\nThanks,\nPhill\n", "Lasty, I tried to implements an hybrid structure in Java, something that looks like:\npublic class MapOfSet<K, V extends HasKey<K>> implements Set<V>, Map<K, Set<V>>\n\nWhere HasKey is the following interface:\npublic interface HasKey<K> {\n    public K getKey();\n}\n\nUnfortunately, there are some conflicts between methos signature of the Set interface and the Map interface in Java. I've finally chosen to implements only the Set interface and to add the Map method without implementing this interface.\nDo you see a nicer solution?\nIn response to the first comments, here is my goal:\n\nHave a set structure and be able to efficiently access to a subset of values of this set, corresponding to a given key value.\n  At the beginning I instantiated a map and a set, but I tried to joined the two structures to optimize performances.\n\n", "We want to try Ext JS on new project. Is there any well-known best practice for integrating Ext JS with server side Java (Spring/Hibernate/JS) application? Is DWR a good choice for that?\n", "With Hibernate, can you create a composite ID where one of the columns you are mapping to the ID can have null values?\nThis is to deal with a legacy table that has a unique key which can have null values but no primary key.\nI realise that I could just add a new primary key column to the table, but I'm wondering if there's any way to avoid doing this.\n", "Relating to my earlier question, I want to ensure all the child objects are loaded as I have a multiple threads that may need to access the data (and thus avoid lazy loading exceptions).  I understand the way to do this is to use the \"fetch\" keyword in the query (EJB QL).  Like this:\nselect distinct o from Order o left join fetch o.orderLines\n\nAssuming a model with an Order class which has a set of OrderLines in it.\nMy question is that the \"distinct\" keyword seems to be needed as otherwise I seem to get back an Order for each OrderLine.  Am I doing the right thing?\nPerhaps more importantly, is there a way to pull in all child objects, no matter how deep?  We have around 10-15 classes and for the server we will need everything loaded...  I was avoiding using FetchType.EAGER as that meant its always eager and in particular the web front end loads everything - but perhaps that is the way to go - is that what you do?  I seem to remember us trying this before and then getting really slow webpages - but perhaps that means we should be using a second-level cache?\n", "I'm trying to create a Zip file from .Net that can be read from Java code.\nI've used SharpZipLib to create the Zip file but also if the file generated is valid according to the CheckZip function of the #ZipLib library and can be successfully uncompressed via WinZip or WinRar I always get an error when trying to uncompress it using the Java.Utils.Zip class in Java.\nProblem seems to be in the wrong header written by SharpZipLib, I've also posted a question on the SharpDevelop forum but with no results (see http://community.sharpdevelop.net/forums/t/8272.aspx for info) but with no result.\nHas someone a code sample of compressing a Zip file with .Net and de-compressing it with the Java.Utils.Zip class?\nRegards\nMassimo\n", "I'm aware I can add maven repositories for fetching dependencies in ~/.m2/settings.xml. But is it possible to add a repository using command line, something like:\nmvn install -Dmaven.repository=http://example.com/maven2\n\nThe reason I want to do this is because I'm using a continuous integration tool where I have full control over the command line options it uses to call maven, but managing the settings.xml for the user that runs the integration tool is a bit of a hassle.\n", "When viewing someone else's webpage containing an applet, how can I force Internet Explorer 6.0 to use a a particular JRE when I have several installed?\n", "Does anybody know of a tool to test OCSP responses? Preferably, something that can be used from a Windows Command-line and/or can be included (easily) in a Java/python program \n", "Let's assume we've got the following Java code:\npublic class Maintainer {\n   private Map<Enum, List<Listener>> map;\n\n   public Maintainer() {\n      this.map = new java.util.ConcurrentHashMap<Enum, List<Listener>>();\n   }\n\n   public void addListener( Listener listener, Enum eventType ) {\n      List<Listener> listeners;\n      if( ( listeners = map.get( eventType ) ) == null ) {\n         listeners = new java.util.concurrent.CopyOnWriteArrayList<Listener>();\n         map.put( eventType, listeners );\n      }\n      listeners.add( listener );\n   }\n}\n\nThis code snippet is nothing but a bit improved listener pattern where each listener is telling what type of event it is interested in, and the provided method maintains a concurrent map of these relationships.\nInitially, I wanted this method to be called via my own annotation framework, but bumped into a brick wall of various annotation limitations (e.g. you can't have java.lang.Enum as annotation param, also there's a set of various classloader issues) therefore decided to use Spring.\nCould anyone tell me how do I Spring_ify_ this? What I want to achive is:\n1. Define Maintainer class as a Spring bean.\n2. Make it so that all sorts of listeners would be able to register themselves to Maintainer via XML by using addListener method. Spring doc nor Google are very generous in examples.\nIs there a way to achieve this easily?\n", "Since generics were introduced, Class is parametrized, so that List.class produces Class<List>. This is clear.\nWhat I am not able to figure out is how to get a instance of Class of type which is parametrized itself, i.e. Class<List<String>>. Like in this snippet:\npublic class GenTest {\n    static <T> T instantiate(Class<T> clazz) throws Exception {\n        return clazz.newInstance();\n    }\n    public static void main(String[] args) throws Exception {\n        // Is there a way to avoid waring on the line below\n        // without using  @SuppressWarnings(\"unchecked\")?\n        // ArrayList.class is Class<ArrayList>, but I would like to\n        // pass in Class<ArrayList<String>>\n        ArrayList<String> l = GenTest.instantiate(ArrayList.class);\n    }\n}\n\nI run into variations of this problem quite often and I still don't know, if I just miss something, or if there is really no better way. Thanks for suggestions.\n", "I have just found a static nested interface in our code-base.\nclass Foo {\n    public static interface Bar {\n        /* snip */\n    }\n    /* snip */\n}\n\nI have never seen this before. The original developer is out of reach. Therefore I have to ask SO:\nWhat are the semantics behind a static interface? What would change, if I remove the static? Why would anyone do this?\n", "I'm building small web site in Java (Spring MVC with JSP views) and am trying to find best solution for making and including few reusable modules (like \"latest news\" \"upcoming events\"...).\nSo the question is: Portlets, tiles or some other technology?\n", "in our application we have a Java applet running inside a .NET browser control. It is a know issue from Sun that running an applet this way may crash the control.\nHas anyone come across the same problem and solved it?\nAtm we are running the applet in a Webbrowser but we need to run it in a browser control.\nThx for any help.\n", "Well behaved windows programs need to allow users to save their work when they are shutting the PC down.\nHow can I make my app detect the shutdown event? Any solution should allow the user to abort the shutdown if user selects, say \"Cancel\".\nThe normal Swing window closing hook doesn't work, nor does adding a shutdown hook.\nOn testing, the methods of WindowListener (windowClosing,windowClosed, etc) do not get called.\nThe answer I have accepted requires the use of platform specific code (JNI to register for WM_QUERYENDSESSION ). Isn't this a bug on Swing?\nSee http://forums.sun.com/thread.jspa?threadID=481807&messageID=2246870\n", "I have a school project which has to be coded in Java and I'm having a little trouble getting started, mainly finding good documentation for this language.\nIs there anything for Java like what http://www.php.net is for PHP?\n", "I'm trying to use the following code but it's returning the wrong day of month.\nCalendar cal = Calendar.getInstance();\ncal.setTime(sampleDay.getTime());\ncal.set(Calendar.MONTH, sampleDay.get(Calendar.MONTH)+1);\ncal.set(Calendar.DAY_OF_MONTH, 0);\nreturn cal.getTime();\n\n", "Can anyone tell me what exactly does this Java code do?\nSecureRandom random = SecureRandom.getInstance(\"SHA1PRNG\");\nbyte[] bytes = new byte[20];\nsynchronized (random)\n{\n    random.nextBytes(bytes);\n}\n\nreturn Base64.encode(bytes);\n\n\nStep by step explanation will be useful so that I can recreate this code in VB. Thanks\n", "I have to write an applet that brings up a password dialog. The problem is that dialog is set to be always on top but when user clicks on IE window dialog gets hidden behind IE window nevertheless. And since dialog is modal and holds all IE threads IE pane does not refresh and dialog window is still painted on top of IE (but not refreshed). This behaviour confuses users (they see dialog on top of IE but it looks like it has hanged since it is not refreshe). \nSo I need a way to keep that dialog on top of everything. But any other solution to this problem would be nice. \nHere's the code:\n        PassDialog dialog = new PassDialog(parent);\n        /* do some non gui related initialization */\n        dialog.pack();\n        dialog.setLocationRelativeTo(null);\n        dialog.setAlwaysOnTop(true);\n        dialog.setVisible(true);\n\nResolution: As @shemnon noted I should make a window instead of (null, Frame, Applet) parent of modal dialog. So good way to initlialize parent was: \nparent = javax.swing.SwingUtilities.getWindowAncestor(theApplet);\n\n", "I'd like to implement a simple class (in Java) that would allow me to register and deregister strings, and on the basis of the current set of strings auto-complete a given string. So, the interface would be:\n\nvoid add(String)\nvoid remove(String)\nString complete(String)\n\nWhat's the best way to do this in terms of algorithms and data-structures?\n", "We use SAX to parse XML because it does not require the entire XML document to be read into memory in order to parse a single value. I read many articles that insisted SAX can only be used to parse/decode XML and not create it. Is this true?\n", "\nPossible Duplicate:\nHow do you send email from a Java app using Gmail? \n\nHow do I send an SMTP Message from Java?\n", "Currently, I am working on a new version control system as part of a final year project at University. The idea is to make it highly adaptable and pluggable.\nWe're using the OSGi framework (Equinox implementation) to manage our plug ins. My problem is that I can't find a simple & easy to use method for testing OSGi bundles.\nCurrently, I have to build the bundle using Maven and then execute a test harness. I'm looking for something like the JUnit test runner for Eclipse, as it will save me a bunch of time.\nIs there a quick and easy way to test OSGi bundles?\nEDIT: I don't need something to test Eclipse plug ins or GUI components, just OSGi bundles.\nEDIT2: Is there some framework that supports JUnit4?\n", "I maintain a Java Swing application.\nFor backwards compatibility with java 5 (for Apple machines), we maintain two codebases, 1 using features from Java 6, another without those features.\nThe code is largely the same, except for 3-4 classes that uses Java 6 features.\nI wish to just maintain 1 codebase. Is there a way during compilation, to get the Java 5 compiler to 'ignore' some parts of my code?\nI do not wish to simply comment/uncomment parts of my code, depending on the version of my java compiler.\n", "On a JSTL/JSP page, I have a java.util.Date object from my application. I need to find the day after the day specified by that object. I can use <jsp:scriptlet> to drop into Java and use java.util.Calendar to do the necessary calculations, but this feels clumsy and inelegant to me.\nIs there some way to use JSP or JSTL tags to achieve this end without having to switch into full-on Java, or is the latter the only way to accomplish this?\n", "I'm doing a website for a family member's wedding. A feature they requested was a photo section where all the guests could go after the wedding and upload their snaps. I said this was a stellar idea and I went off to build it.\nWell there's just the one problem: logistics. Upload speeds are slow and photos from modern cameras are huge (2-5+Megs). \nI will only need ~800px wide images and some of them might require rotating so ideally I'm looking about using a client-side editor to do three things:\n\nLet users pick multiple files\nLet them rotate some images so they're the right way up\nResize them and then upload\n\nAnd in my dream world, it'd be free and open source. Any ideas?\nJust a reminder: this is something the guests have to use. Some of them will be pretty computer savvy but others will be almost completely illiterate. Installing desktop apps isn't really an option. And I assume 98% of them have Flash and Java installed.\nEdit: I'd prefer a Flash/Java option over SilverLight, not least because it has a smaller install rate at the moment, but also because I'm on Linux and I'd like to test it =)\n", "I know there is a Jackpot API http://jackpot.netbeans.org/docs/org-netbeans-modules-jackpot/overview-summary.html for programmatic access the the rules engine, has anyone had success seperating this from NetBeans itself? So it can operate on any Java source files?\n", "Can't understand why the following takes place:\nString date = \"06-04-2007 07:05\";\nSimpleDateFormat fmt = new SimpleDateFormat(\"MM-dd-yyyy HH:mm\");\nDate myDate = fmt.parse(date); \n\nSystem.out.println(myDate);  //Mon Jun 04 07:05:00 EDT 2007\nlong timestamp = myDate.getTime();\nSystem.out.println(timestamp); //1180955100000 -- where are the milliseconds?\n\n// on the other hand...\n\nmyDate = new Date();\nSystem.out.println(myDate);  //Tue Sep 16 13:02:44 EDT 2008\ntimestamp = myDate.getTime();\nSystem.out.println(timestamp); //1221584564703 -- why, oh, why?\n\n", "I currently am tasked with updating an XML file (persistance.xml) within a jar at a customers site.  I can of course unjar the file, update the xml, then rejar the file for redeployment.  I would like to kind these command line operations in a Swing App so that the person doing it does not have to drop to the command line.  Any thoughts on a way to do this programatically?  \n", "Our team has been experiencing a recurring problem with velocity templates. Upon rendering, some throw a RuntimeException with the message \"Template.merge() failure - Unable to render Velocity Template, '/template.vm'\". We have not been able to reproduce the problem and the documentation on the web is pretty insufficient. The problem is not consistently reproducible - the same templates whose rendering sometimes causes the error also manage to display without problems at other times. The Template class source code is also of little help. Thank you in advance.\n\nEdit: Based on Nathan Bubna's response I need to clarify that we are using Velocity version 1.4.\n\nEdit: Since it was pointed out that a stack trace would be beneficial, here it is:\n2008-09-15 11:07:57,336 ERROR velocity - Template.merge() failure. The document is null, most likely due to parsing error.\n2008-09-15 11:07:57,336 ERROR VelocityResult - Unable to render Velocity Template, '/search/[template-redacted].vm'\njava.lang.Exception: Template.merge() failure. The document is null, most likely due to parsing error.\n    at org.apache.velocity.Template.merge(Template.java:277)\n    at com.opensymphony.webwork.dispatcher.VelocityResult.doExecute(VelocityResult.java:91)\n    at com.opensymphony.webwork.dispatcher.WebWorkResultSupport.execute(WebWorkResultSupport.java:109)\n    at com.opensymphony.xwork.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:258)\n    at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:182)\n    at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n    at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:164)\n    at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n    at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:164)\n    at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n    at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:164)\n    at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n    at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:164)\n    at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n    at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:164)\n    at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n    at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:164)\n    at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)\n    at com.opensymphony.webwork.dispatcher.ServletDispatcher.serviceAction(ServletDispatcher.java:272)\n    at com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:237)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n    at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n    at org.nanocontainer.nanowar.webwork2.PicoObjectFactoryFilter.doFilter(PicoObjectFactoryFilter.java:46)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n    at org.nanocontainer.nanowar.ServletRequestContainerFilter.doFilter(ServletRequestContainerFilter.java:44)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n    at com.bostoncapital.stuyvesant.RememberUserNameFilter.doFilter(RememberUserNameFilter.java:30)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:526)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:825)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:738)\n    at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:526)\n    at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n    at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n    at java.lang.Thread.run(Unknown Source)\n", "In a multi-threaded application I'm working on, we occasionally see ConcurrentModificationExceptions on our Lists (which are mostly ArrayList, sometimes Vectors).  But there are other times when I think concurrent modifications are happening because iterating through the collection appears to be missing items, but no exceptions are thrown.  I know that the docs for ConcurrentModificationException says you can't rely on it, but how would I go about making sure I'm not concurrently modifying a List?  And is wrapping every access to the collection in a synchronized block the only way to prevent it?\nUpdate: Yes, I know about Collections.synchronizedCollection, but it doesn't guard against somebody modifying the collection while you're iterating through it.  I think at least some of my problem is happening when somebody adds something to a collection while I'm iterating through it.\nSecond Update  If somebody wants to combine the mention of the synchronizedCollection and cloning like Jason did with a mention of the java.util.concurrent and the apache collections frameworks like jacekfoo and Javamann did, I can accept an answer.\n", "I learned today that NetBeans 6.5 should have an on-the-fly compilation of (single) Java files. This feature is well known from Eclipse: Simply store the file and the compiled class is stored, too. Is NetBeans working the same way? If not, how is it ticking?\n", "How can I detect when an Exception has been thrown anywhere in my application?\nI'm try to auto-magically send myself an email whenever an exception is thrown anywhere in my Java Desktop Application.  I figure this way I can be more proactive.\nI know I could just explicitly log and notify myself whenever an exception occurs, but I'd have to do it everywhere and I might(more likely will) miss a couple.\nAny suggestions?\n", "The problem is simple, but I'm struggling a bit already.\nServer server = new Server(8080);  \nContext context = new Context(server, \"/\", Context.NO_SESSIONS);\ncontext.addServlet(MainPageView.class, \"/\");\ncontext.addServlet(UserView.class, \"/signup\");\nserver.start();\n\nThat's a pretty standard piece of code that you can find anywhere in Jetty world. I have an application that embeds Jetty as a servlet engine and has some servlets. \nInstantiation of some of these servlets requires heavy work on startup. Say \u2013 reading additional config files, connecting to the database, etc. How can I make the servlet engine instantiate all servlets eagerly, so that I can do all the hard work upfront and not on the first user request?\n", "I have an Eclipse RCP app running on Java 6.  When I try to run the product configuration from within Eclipse, it silently terminates almost immediately.  No error is reported in the console.  I've tried setting breakpoints in the IApplication and in the Activator, and neither are reached.\nI know I don't have much specific information here, but can anyone give me any pointers on  where I might start looking to diagnose the problem?  \n", "I am pulling a long timestamp from a database, but want to present it as a Date using Tags only, no embedded java in the JSP. I've created my own tag to do this because I was unable to get the parseDate and formatDate tags to work, but that's not to say they don't work.\n\nAny advice?\nThanks.\n", "I have one applicationContext.xml file, and it has two org.springframework.orm.jpa.JpaTransactionManager (each with its own persistence unit, different databases) configured in a Spring middleware custom application.\nI want to use annotation based transactions (@Transactional), to not mess around with TransactionStatus commit, save, and rollback.\nA coworker mentioned that something gets confused doing this when there are multiple transaction managers, even though the context file is set configured correctly (the references go to the correct persistence unit.\nAnyone ever see an issue?\n\nIn your config, would you have two transaction managers?\nWould you have txManager1 and txManager2?\nThat's what I have with JPA, two different Spring beans that are transaction managers.\n", "I'm trying to insert a Spry accordion into an already existing JSF page using Dreamweaver. Is this possible?  \nI've already tried several things, and only the labels show up.\n", "Does anybody have experience of a decent J2SE (preferably at least Java JDK 1.5-level) Java Virtual Machine for Windows Mobile 6? If you know of any CLDC VMs, I'm also interested because even that would be better than what we currently have for the platform. \n", "I am working on a project where the requirement is to have a date calculated as being the last Friday of a given month.  I think I have a solution that only uses standard Java, but I was wondering if anyone knew of anything more concise or efficient. Below is what I tested with for this year:\n    for (int month = 0; month < 13; month++) {\n        GregorianCalendar d = new GregorianCalendar();\n        d.set(d.MONTH, month);\n        System.out.println(\"Last Week of Month in \" + d.getDisplayName(d.MONTH, Calendar.LONG, Locale.ENGLISH) + \": \" + d.getLeastMaximum(d.WEEK_OF_MONTH));\n        d.set(d.DAY_OF_WEEK, d.FRIDAY);\n        d.set(d.WEEK_OF_MONTH, d.getActualMaximum(d.WEEK_OF_MONTH));\n        while (d.get(d.MONTH) > month || d.get(d.MONTH) < month) {\n            d.add(d.WEEK_OF_MONTH, -1);\n        }\n        Date dt = d.getTime();\n        System.out.println(\"Last Friday of Last Week in  \" + d.getDisplayName(d.MONTH, Calendar.LONG, Locale.ENGLISH) + \": \" + dt.toString());\n    }\n\n", "Any advice on how to read auto-incrementing identity field assigned to newly created record from call through java.sql.Statement.executeUpdate?\nI know how to do this in SQL for several DB platforms, but would like to know what database independent interfaces exist in java.sql to do this, and any input on people's experience with this across DB platforms.\n", "In my SWT Java app I often want to return information from inside a Display.syncExec() call.  The best way I've found so far to do this is:\nfinal ArrayList<Integer> result = new ArrayList<Integer>();\nGUI.display().syncExec(new Runnable(){ public void run() {\n   MessageBox mb = /* ... */;\n    /* set up messagebox */\n   result.add(mb.open());\n}});\nif (SWT.OK == result.get(0)) { /* ... */ }\n\nI think this is allowed because ArrayList is thread-safe, but is there a better container I should be using, or an easier way altogether?\n", "I'm trying to figure out what a Java applet's class file is doing under the hood. Opening it up with Notepad or Textpad just shows a bunch of gobbledy-gook.\nIs there any way to wrangle it back into a somewhat-readable format so I can try to figure out what it's doing?\n\nEnvironment == Windows w/ VS 2008 installed.\n\n", "I'm writing a Java application that runs on Linux (using Sun's JDK). It keeps creating /tmp/hsperfdata_username directories, which I would like to prevent. Is there any way to stop java from creating these files?\n", "An array of ints in java is stored as a block of 32-bit values in memory. How is an array of Integer objects stored? i.e.\nint[] vs. Integer[]\n\nI'd imagine that each element in the Integer array is a reference to an Integer object, and that the Integer object has object storage overheads, just like any other object.\nI'm hoping however that the JVM does some magical cleverness under the hood given that Integers are immutable and stores it just like an array of ints.\nIs my hope woefully naive? Is an Integer array much slower than an int array in an application where every last ounce of performance matters?\n", "I have a large number of Enums that implement this interface:\n/**\n * Interface for an enumeration, each element of which can be uniquely identified by it's code\n */\npublic interface CodableEnum {\n\n    /**\n     * Get the element with a particular code\n     * @param code\n     * @return\n     */\n    public CodableEnum getByCode(String code);\n\n    /**\n     * Get the code that identifies an element of the enum\n     * @return\n     */\n    public String getCode();\n}\n\nA typical example is:\npublic enum IMType implements CodableEnum {\n\n    MSN_MESSENGER(\"msn_messenger\"),\n    GOOGLE_TALK(\"google_talk\"),\n    SKYPE(\"skype\"),\n    YAHOO_MESSENGER(\"yahoo_messenger\");\n\n    private final String code;\n\n    IMType (String code) {\n        this.code = code;\n    }\n\n    public String getCode() {\n        return code;\n    }   \n\n    public IMType getByCode(String code) {\n        for (IMType e : IMType.values()) {\n            if (e.getCode().equalsIgnoreCase(code)) {\n                return e;\n            }\n        }\n    }\n}\n\nAs you can imagine these methods are virtually identical in all implementations of CodableEnum. I would like to eliminate this duplication, but frankly don't know how. I tried using a class such as the following:\npublic abstract class DefaultCodableEnum implements CodableEnum {\n\n    private final String code;\n\n    DefaultCodableEnum(String code) {\n        this.code = code;\n    }\n\n    public String getCode() {\n        return this.code;\n    }   \n\n    public abstract CodableEnum getByCode(String code);  \n}\n\nBut this turns out to be fairly useless because:\n\nAn enum cannot extend a class\nElements of an enum (SKYPE, GOOGLE_TALK, etc.) cannot extend a class\nI cannot provide a default implementation of getByCode(), because DefaultCodableEnum is not itself an Enum. I tried changing DefaultCodableEnum to extend java.lang.Enum, but this doesn't appear to be allowed.\n\nAny suggestions that do not rely on reflection?\nThanks,\nDon\n", "In the Java collections framework, the Collection interface declares the following method:\n\n<T> T[] toArray(T[] a)\nReturns an array containing all of the elements in this collection; the runtime type of the returned array is that of the specified array. If the collection fits in the specified array, it is returned therein. Otherwise, a new array is allocated with the runtime type of the specified array and the size of this collection.\n\nIf you wanted to implement this method, how would you create an array of the type of a, known only at runtime?\n", "I have an ant build that makes directories, calls javac and all the regular stuff. The issue I am having is that when I try to do a clean (delete all the stuff that was generated) the delete task reports that is was unable to delete some files. When I try to delete them manually it works just fine. The files are apparently not open by any other process but ant still does not manage to delete them. What can I do?\n", "I have an application written in java, and I want to add a flash front end to it. The flash front end will run on the same computer as the java app in the stand alone flash player. I need two way communication between the two parts, and have no idea how to even start going about this. I suppose I could open a  socket between the two programs, but I feel that there must be an easier way. Is there a nice part of the api in actionscript 3.0 that will allow me to access java methods directly, or will I have to resort to sockets? I am relatively new to flash, by the way, so any good guides would be much appreciated!\nThanks\n", "Is it possible to sign only part of an applet?  Ie, have an applet that pops up no security warnings about being signed, but if some particular function is used (that requires privileges) then use the signed jar?\nFrom what I can tell, some (perhaps most) browsers will pop up the warning for a signed applet even if you don't request privileges at all at execution time.  I'd rather avoid that if possible.\n", "Coming from C++ to Java, the obvious unanswered question is why didn't Java include operator overloading?\nIsn't Complex a, b, c; a = b + c; much simpler than Complex a, b, c; a=b.add(c);?\nIs there a known reason for this, valid arguments for not allowing operator overloading? Is the reason arbitrary, or lost to time?\n", "I intend to develop a system that is entirely based on modules. The system base should have support for finding out about plugins, starting them up and being able to provide ways for those modules to communicate. Ideally, one should be able to put in new modules and yank out unused modules at will, and modules should be able to use each other's funcionality if it is available.\nThis system should be used as a basis for simulation systems where a lot of stuff happens in different modules, and other modules might want to do something based on that.\nThe system I intend to develop is going to be in Java. The way I see it, I intend to have a folder with a subfolder for each module that includes a XML that describes the module with information such as name, maybe which events it might raise, stuff like that. I suppose I might need to write a custom ClassLoader to work this stuff out.\nThe thing is, I don't know if my idea actually holds any water and, of course, I intend on building a working prototype. However, I never worked on a truly modular system before, and I'm not really sure what is the best way to take on this problem.\nWhere should I start? Are there common problems and pitfalls that are found while developing this kind of system? How do I make the modules talk with each other while maintaining isolation (i.e, you remove a module and another module that was using it stays sane)? Are there any guides, specifications or articles I can read that could give me some ideas on where to start? It would be better if they were based on Java, but this is not a requirement, as what I'm looking for right now are ideas, not code.\nAny feedback is appreciated.\n", "I'm looking around for a Java code signing certificate so my Java applets don't throw up such scary security warnings. However, all the places I've found offering them charge (in my opinion) way too much, like over USD200 per year. While doing research, a code signing certificate seems almost exactly the same as an SSL certificate.\nThe main question I have: is it possible to buy an SSL certificate, but use it to sign Java applets?\n", "I want to write a Swing application in Griffon but I am not sure what versions of Java I can support.\n", "I just installed Ubuntu 8.04 and I'm taking a course in Java so I figured why not install a IDE while I am installing it. So I pick my IDE of choice, Eclipse, and I make a very simple program, Hello World, to make sure everything is running smoothly. When I go to use Scanner for user input I get a very odd error:\nMy code:import java.util.Scanner;\n\nclass test {\n    public static void main (String [] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"hi\");\n    }\n}\nThe output:\n\nException in thread \"main\" java.lang.Error: Unresolved compilation problems: \n    Scanner cannot be resolved to a type\n    Scanner cannot be resolved to a type\n\n   at test.main(test.java:5)\n\n", "I've been having trouble to make a JFormattedTextField to use dates with the format dd/MM/yyyy. Specifically, as the user types, the cursor should \"jump\" the slashes, and get directly to the next number position.\nAlso, the JFormattedTextField must verify if the date entered is valid, and reject it somehow if the date is invalid, or \"correct it\" to a valid date, such as if the user input \"13\" as month, set it as \"01\" and add +1 to the year.\nI tried using a mask (\"##/##/####\") with the validate() method of JFormattedTextField to check if the date is valid, but it appears that those two don't work well together (or I'm too green on Java to know how... :), and then the user can type anything on the field. \nAny help is really appreciated! Thanks!\n", "The situation is this:\n\nYou have a Hibernate context with an\nobject graph that has some lazy\nloading defined.  \nYou want to use\nthe Hibernate objects in your UI as\nis without having to copy the data\nsomewhere.  \nThere are different UI\ncontexts that require different\namounts of data.  \nThe data is too\nbig to just eager load the whole\ngraph each time.\n\nWhat is the best means to load all the appropriate objects in the object graph in a configurable way so that they can be accessed without having to go back to the database to load more data?\nAny help.\n", "While we try to set up as many unit tests as time allows for our applications, I always find the amount of UI-level tests lacking. There are many options out there, but I'm not sure what would be a good place to start. \nWhat is your preferred unit testing tool for testing Swing applications? Why do you like it?\nThanks!\n", "I recently started using Eclipse at work for my Java servlet projects.  I've been using jEdit for years, which is a uber-powerful text editor.  It has syntax highlighting, but it doesn't have any language-specific features like code completion and intelligent refactoring.  I'm finding that's hindering my productivity.  I desperately want to like Eclipse.  I really do.  But I keep running into problem after problem.  \n\nNow that Eclipse can use an ant script to build, instead of just creating its own build environment from an ant script then ignoring any changes to it, I found some online guides and set it up.  It doesn't seem ready for prime time, though.  My ant script builds fine from the command line, but I get all these build errors because I need to tell Eclipse all this stuff the build.xml already has in it, like the CLASSPATH, and where external jars are.\nWhen I leave Eclipse running for too long, or sometimes after my laptop wakes up from hibernate, the UI starts breaking.  For instance, the tabs on the editor pane disappear, so I can only edit one file at a time, and it doesn't say which one it is.\nWe have faced several instances where classes weren't rebuilt that should have been, leading to inaccurate line numbers in debugging walkthroughs and other unpredictable behavior (this isn't just me; the two other developers trying it out with me are seeing the same thing).\nI find it a huge hassle that the workspace is in a different place than my source code.  I have other files I need to edit (xml files, etc), and for each directory I want to edit files in, I need to set up a special entry, and it doesn't even default to where my source code is when setting that up.\n\nDo others face these same issues?\nAre there better alternatives?  \n", "Can you provide an example of a byte buffer transferred between two java classes via UDP datagram?\n", "Java is one of my programming languages of choice.  I always run into the problem though of distributing my application to end-users.\nGiving a user a JAR is not always as user friendly as I would like and using Java WebStart requires that I maintain a web server.\nWhat's the best way to distribute a Java application?  What if the Java application needs to install artifacts to the user's computer?  Are there any good Java installation/packaging systems out there?\n", "public class Test {\n    public static void main(String[] args) {\n\n    }\n}\n\nclass Outer {\n    void aMethod() {\n        class MethodLocalInner {\n            void bMethod() {\n                System.out.println(\"Inside method-local bMethod\");\n            }\n        }\n    }\n}\n\nCan someone tell me how to print the message from bMethod?\n", "I'm using firefox3 to run a Java Applet (on Linux). normally, when the JVM launches the Java Console window opens so I can see output from the Applet (stack traces etc.).\nHowever, if I close the console there appears to be no way of getting it back short of restarting Firefox (I have to close the console because it makes startup of the applet hang for some reason, which is another problem).\nThere was a Firefox extension called \"Open Java Console\" that solved this problem, but it hasn't been ported to Firefox3.\nIs there a way to re-open the Java console in Firefox3 ?\nNote that I'm using Firefox3 on Linux (Ubuntu 8.04), where the \"Tools->Java Console\" menu option does not appear for some reason\n", "Phantom References serve for post-mortem operations.\nThe Java specification states that a phantom referenced object will not be deallocated until the phantom-reference itself is cleaned.\nMy question is: What purpose does this feature (object not deallocated) serve?\n(The only idea i came up with, is to allow native code to do post-mortem cleanup on the object, but it isn't much convincing).\n", "public static Logger getLogger() {\n    final Throwable t = new Throwable();\n    final StackTraceElement methodCaller = t.getStackTrace()[1];\n    final Logger logger = Logger.getLogger(methodCaller.getClassName());\n    logger.setLevel(ResourceManager.LOGLEVEL);\n    return logger;\n}\n\nThis method would return a logger that knows the class it's logging for.\nAny ideas against it?\nMany years later: https://github.com/yanchenko/droidparts/blob/master/droidparts/src/org/droidparts/util/L.java\n", "I am currently using Hibernate Tools 3.1; I customized naming convention and DAO templates. The database (SQL Server 2005) in early development phase and I'm in charge of rebuilding the mappings, entities, DAOs, configuration, whatever. Each time I have to reverse-engineer the tables and so I lose every customization I made on the mappings (*.hbm.xml files) like adjusting the identity columns, picking the fields used in equals and toString. I was considering to write the diff XML in a file and the \"merge\" that onto the generated mapping (see my related question) but I was wondering... is there any best practice/tool for dealing with these annoying, unavoidable, critical tasks?\n", "Any ideas how to determine the number of active threads running in ExecutorService?\n", "I've been doing some work with the JAX-RS reference implementation (Jersey).\nI know of at least two other frameworks (Restlet & Apache CXF).\nMy question is: Has anyone done some comparison between those frameworks and if so, which framework would you recommend and why?\n", "getEmployeeNameByBatchId(int batchID)\ngetEmployeeNameBySSN(Object SSN)\ngetEmployeeNameByEmailId(String emailID)\ngetEmployeeNameBySalaryAccount(SalaryAccount salaryAccount)\nor\ngetEmployeeName(int typeOfIdentifier, byte[] identifier) -> In this methods the typeOfIdentifier tells if identifier is batchID/SSN/emailID/salaryAccount\nWhich one of the above is better way implement a get method? \nThese methods would be in a Servlet and calls would be made from an API which would be provided to the customers.\n", "What is the best, preferably free/open source tool for auto-generating Java unit-tests? I know, the unit-tests cannot really serve the same purpose as normal TDD Unit-Tests which document and drive the design of the system. However auto-generated unit-tests can be useful if you have a huge legacy codebase and want to know whether the changes you are required to make will have unwanted, obscure side-effects.\n", "Is there a tool or script which easily merges a bunch of JAR files into one JAR file? A bonus would be to easily set the main-file manifest and make it executable.\nThe concrete case is a Java restructured text tool. I would like to run it with something like:\n\njava -jar rst.jar\n\nAs far as I can tell, it has no dependencies which indicates that it shouldn't be an easy single-file tool, but the downloaded ZIP file contains a lot of libraries.\n      0  11-30-07 10:01   jrst-0.8.1/\n    922  11-30-07 09:53   jrst-0.8.1/jrst.bat\n    898  11-30-07 09:53   jrst-0.8.1/jrst.sh\n   2675  11-30-07 09:42   jrst-0.8.1/readmeEN.txt\n 108821  11-30-07 09:59   jrst-0.8.1/jrst-0.8.1.jar\n   2675  11-30-07 09:42   jrst-0.8.1/readme.txt\n      0  11-30-07 10:01   jrst-0.8.1/lib/\n  81508  11-30-07 09:49   jrst-0.8.1/lib/batik-util-1.6-1.jar\n2450757  11-30-07 09:49   jrst-0.8.1/lib/icu4j-2.6.1.jar\n 559366  11-30-07 09:49   jrst-0.8.1/lib/commons-collections-3.1.jar\n  83613  11-30-07 09:49   jrst-0.8.1/lib/commons-io-1.3.1.jar\n 207723  11-30-07 09:49   jrst-0.8.1/lib/commons-lang-2.1.jar\n  52915  11-30-07 09:49   jrst-0.8.1/lib/commons-logging-1.1.jar\n 260172  11-30-07 09:49   jrst-0.8.1/lib/commons-primitives-1.0.jar\n 313898  11-30-07 09:49   jrst-0.8.1/lib/dom4j-1.6.1.jar\n1994150  11-30-07 09:49   jrst-0.8.1/lib/fop-0.93-jdk15.jar\n  55147  11-30-07 09:49   jrst-0.8.1/lib/activation-1.0.2.jar\n 355030  11-30-07 09:49   jrst-0.8.1/lib/mail-1.3.3.jar\n  77977  11-30-07 09:49   jrst-0.8.1/lib/servlet-api-2.3.jar\n 226915  11-30-07 09:49   jrst-0.8.1/lib/jaxen-1.1.1.jar\n 153253  11-30-07 09:49   jrst-0.8.1/lib/jdom-1.0.jar\n  50789  11-30-07 09:49   jrst-0.8.1/lib/jewelcli-0.41.jar\n 324952  11-30-07 09:49   jrst-0.8.1/lib/looks-1.2.2.jar\n 121070  11-30-07 09:49   jrst-0.8.1/lib/junit-3.8.1.jar\n 358085  11-30-07 09:49   jrst-0.8.1/lib/log4j-1.2.12.jar\n  72150  11-30-07 09:49   jrst-0.8.1/lib/logkit-1.0.1.jar\n 342897  11-30-07 09:49   jrst-0.8.1/lib/lutinwidget-0.9.jar\n2160934  11-30-07 09:49   jrst-0.8.1/lib/docbook-xsl-nwalsh-1.71.1.jar\n 301249  11-30-07 09:49   jrst-0.8.1/lib/xmlgraphics-commons-1.1.jar\n  68610  11-30-07 09:49   jrst-0.8.1/lib/sdoc-0.5.0-beta.jar\n3149655  11-30-07 09:49   jrst-0.8.1/lib/xalan-2.6.0.jar\n1010675  11-30-07 09:49   jrst-0.8.1/lib/xercesImpl-2.6.2.jar\n 194205  11-30-07 09:49   jrst-0.8.1/lib/xml-apis-1.3.02.jar\n  78440  11-30-07 09:49   jrst-0.8.1/lib/xmlParserAPIs-2.0.2.jar\n  86249  11-30-07 09:49   jrst-0.8.1/lib/xmlunit-1.1.jar\n 108874  11-30-07 09:49   jrst-0.8.1/lib/xom-1.0.jar\n  63966  11-30-07 09:49   jrst-0.8.1/lib/avalon-framework-4.1.3.jar\n 138228  11-30-07 09:49   jrst-0.8.1/lib/batik-gui-util-1.6-1.jar\n 216394  11-30-07 09:49   jrst-0.8.1/lib/l2fprod-common-0.1.jar\n 121689  11-30-07 09:49   jrst-0.8.1/lib/lutinutil-0.26.jar\n  76687  11-30-07 09:49   jrst-0.8.1/lib/batik-ext-1.6-1.jar\n 124724  11-30-07 09:49   jrst-0.8.1/lib/xmlParserAPIs-2.6.2.jar\n\nAs you can see, it is somewhat desirable to not need to do this manually.\nSo far I've only tried AutoJar and ProGuard, both of which were fairly easy to get running. It appears that there's some issue with the constant pool in the JAR files.\nApparently jrst is slightly broken, so I'll make a go of fixing it. The Maven pom.xml file was apparently broken too, so I'll have to fix that before fixing jrst ... I feel like a bug-magnet :-)\n\nUpdate: I never got around to fixing this application, but I checked out Eclipse's \"Runnable JAR export wizard\" which is based on a fat JAR. I found this very easy to use for deploying my own code.\nSome of the other excellent suggestions might be better for builds in a non-Eclipse environment, oss probably should make a nice build using Ant. (Maven, so far has just given me pain, but others love it.)\n", "Is there a way to change the encoding used by the String(byte[]) constructor ?\nIn my own code I use String(byte[],String) to specify the encoding but I am using an external library that I cannot change.\nString src = \"with accents: \u00e9 \u00e0\";\nbyte[] bytes = src.getBytes(\"UTF-8\");\nSystem.out.println(\"UTF-8 decoded: \"+new String(bytes,\"UTF-8\"));\nSystem.out.println(\"Default decoded: \"+new String(bytes));\n\nThe output for this is :\nUTF-8 decoded: with accents: \u00e9 \u00e0\nDefault decoded: with accents: \u00c3\u00a9 \u00c3\u00a0\n\nI have tried changing the system property file.encoding but it does not work.\n", "I hope this question is not considered too basic for this forum, but we'll see. I'm wondering how to refactor some code for better performance that is getting run a bunch of times.\nSay I'm creating a word frequency list, using a Map (probably a HashMap), where each key is a String with the word that's being counted and the value is an Integer that's incremented each time a token of the word is found.\nIn Perl, incrementing such a value would be trivially easy:\n$map{$word}++;\n\nBut in Java, it's much more complicated. Here the way I'm currently doing it:\nint count = map.containsKey(word) ? map.get(word) : 0;\nmap.put(word, count + 1);\n\nWhich of course relies on the autoboxing feature in the newer Java versions. I wonder if you can suggest a more efficient way of incrementing such a value. Are there even good performance reasons for eschewing the Collections framework and using a something else instead?\nUpdate: I've done a test of several of the answers. See below.\n", "If you declare variables of type byte or short and attempt to perform arithmetic operations on these, you receive the error \"Type mismatch: cannot convert int to short\" (or correspondingly \"Type mismatch: cannot convert int to byte\"). \nbyte a = 23;\nbyte b = 34;\nbyte c = a + b;\nIn this example, the compile error is on the third line.\n", "I'm writing a J2SE desktop application that requires one of its components to be pluggable. I've already defined the Java interface for this plugin. The user should be able to select at runtime (via the GUI) which implementation of this interface they want to use (e.g. in an initialisation dialog). I envisage each plugin being packaged as a JAR file containing the implementing class plus any helper classes it may require.\nWhat's the best technology for doing this type of thing in a desktop Java app?\n", "How do you ensure, that you can checkout the code into Eclipse or NetBeans and work there with it?\nEdit: If you not checking in ide-related files, you have to reconfigure buildpath, includes and all this stuff, each time you checkout the project. I don't know, if ant (especially an ant buildfile which is created/exported from eclipse) will work with an other ide seamlessly.\n", "I would like to display an RTF document in an SWT (actually Eclipse RCP) application.\nI know there is a Swing widget for displaying and editing RTF text, but it is Swing and quite alien in look and feel when used in the otherwise platform (not to mention that to the last of my knowledge it did not display images and had only limited support for formatting)\nOther options is to use COM interface on windows, but that works only on the windows platform and requires that an ActiveX RichEdit contol be installed on the customer machine... which can make the deployment of the application quite horrendous...\nWhat are the other options for displaying rich documents inside Eclipse/SWT application?\n", "I have the concept of NodeTypes and Nodes. A NodeType is a bunch of meta-data which you can create Node instances from (a lot like the whole Class / Object relationship).\nI have various NodeType implementations and various Node implementations. \nIn my AbstractNodeType (top level for NodeTypes) I have ab abstract createInstance() method that will, once implemented by the subclass, creates the correct Node instance:\npublic abstract class AbstractNodeType {\n  // ..\n\n  public abstract <T extends AbstractNode> T createInstance();\n}\n\nIn my NodeType implementations I implement the method like this:\npublic class ThingType {\n  // ..\n\n  public Thing createInstance() {\n    return new Thing(/* .. */);\n  }\n}\n\n// FYI\npublic class Thing extends AbstractNode { /* .. */ }\n\nThis is all well and good, but public Thing createInstance() creates a warning about type safety. Specifically:\n\nType safety: The return type Thing for\n  createInstance() from the type\n  ThingType needs unchecked conversion\n  to conform to T from the type\n  AbstractNodeType\n\nWhat am I doing wrong to cause such a warning?\nHow can I re-factor my code to fix this?\n@SuppressWarnings(\"unchecked\") is not good, I wish to fix this by coding it correctly, not ignoring the problem!\n", "I'd like to add a method AddDefaultNamespace() to the String class in Java so that I can type \"myString\".AddDefaultNamespace() instead of DEFAULTNAMESPACE + \"myString\", to obtain something like \"MyDefaultNameSpace.myString\". I don't want to add another derived class either (PrefixedString for example).\nMaybe the approach is not good for you but I personally hate using \"+\". But, anyway, is it possible to add new methods to the String class in Java?\nThanks and regards.\n", "I'd like to encourage our users of our RCP application to send the problem details to our support department. To this end, I've added a \"Contact support\" widget to our standard error dialogue.\nI've managed to use URI headers to send a stacktrace using Java 6's JDIC call: Desktop.getDesktop().mail(java.net.URI). This will fire up the user's mail client, ready for them to add their comments, and hit send. \nI like firing up the email client, because it's what the user is used to, it tells support a whole lot about the user (sigs, contact details etc) and I don't really want to ship with Java Mail.\nWhat I'd like to do is attach the log file and the stacktrace as a file, so there is no maximum length requirement, and the user sees a nice clean looking email, and the support department has a lot more information to work with.\nCan I do this with the approach I'm taking? Or is there a better way?\nEdit: \nI'm in an OSGi context, so bundling JDIC would be necessary. If possible, I'd like to ship with as few dependencies as possible, and bundling up the JDIC for multiple platforms does not sound fun, especially for such a small feature.\nJavaMail may be suitable, but for the fact that this will be on desktops of our corporate clients. The setup/discovery of configuration would have to be transparent, automatic and reliable. Regarding JavaMail, configuration seems to be manual only. Is this the case?\nThe answer I like most is using the Desktop.open() for an *.eml file. Unfortunately Outlook Express (rather than Outlook) opens eml files. I have no idea if this is usual or default to have Windows configured for to open EML files like this. Is this usual? Or is there another text based format that a) is easy to generate, b) opens by default in the same email client as users would be using already?\n", "I need a Java way to find a running Win process from which I know to name of the executable. I want to look whether it is running right now and I need a way to kill the process if I found it.\n", "I am using Java 1.4 with Log4J. \nSome of my code involves serializing and deserializing value objects (POJOs). \nEach of my POJOs declares a logger with\nprivate final Logger log = Logger.getLogger(getClass());\n\nThe serializer complains of org.apache.log4j.Logger not being Serializable.\nShould I use\nprivate final transient Logger log = Logger.getLogger(getClass());\n\ninstead?\n", "I'm new to BIRT and I'm trying to make the Report Engine running. I'm using the code snippets provided in http://www.eclipse.org/birt/phoenix/deploy/reportEngineAPI.php\nBut I have a strange exception:\n\njava.lang.AssertionError\n      at org.eclipse.birt.core.framework.Platform.startup(Platform.java:86)\n\nand nothing in the log file.\nMaybe I missed something in the configuration? Could somebody give me a hint about what I can try to make it running?\nHere is the code I'm using:\npublic static void executeReport()\n    {\n\n        IReportEngine engine=null;\n        EngineConfig config = null;\n\n        try{\n            config = new EngineConfig( );           \n            config.setBIRTHome(\"D:\\\\birt-runtime-2_3_0\\\\ReportEngine\");\n            config.setLogConfig(\"d:/temp\", Level.FINEST);\n            Platform.startup( config );\n            IReportEngineFactory factory = (IReportEngineFactory) Platform\n            .createFactoryObject( IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY );\n            engine = factory.createReportEngine( config );      \n\n            IReportRunnable design = null;\n            //Open the report design\n            design = engine.openReportDesign(\"D:\\\\birt-runtime-2_3_0\\\\ReportEngine\\\\samples\\\\hello_world.rptdesign\"); \n            IRunAndRenderTask task = engine.createRunAndRenderTask(design);         \n\n            HTMLRenderOption options = new HTMLRenderOption();      \n            options.setOutputFileName(\"output/resample/Parmdisp.html\");\n            options.setOutputFormat(\"html\");\n\n            task.setRenderOption(options);\n            task.run();\n            task.close();\n            engine.destroy();\n        }catch( Exception ex){\n            ex.printStackTrace();\n        }       \n        finally\n        {\n            Platform.shutdown( );\n        }\n    }\n\n", "I've been using the (Java) Highlighter for Lucene (in the Sandbox package) for some time. However, this isn't really very accurate when it comes to matching the correct terms in search results - it works well for simple queries, for example searching for two separate words will highlight both code fragments in the results.\nHowever, it doesn't act well with more complicated queries. In the simplest case, phrase queries such as \"Stack Overflow\" will match all occurrences of Stack or Overflow in the highlighting, which gives the impression to the user that it isn't working very well.\nI tried applying the fix here but that came with a lot of performance caveats, and at the end of the day was just plain unusable. The performance is especially an issue on wildcard queries. This is due to the way that the highlighting works; instead of just working on the querystring and the text it parses it as Lucene would and then looks for all the matches that Lucene has made; unfortunately this means that for certain wildcard queries it can be looking for matches to 2000+ clauses on large documents, and it's simply not fast enough.\nIs there any faster implementation of an accurate highlighter?\n", "I've got a webapp whose original code base was developed with a hand crafted hibernate mapping file.  Since then, I've become fairly proficient at 'coding' my hbm.xml file.  But all the cool kids are using annotations these days.\nSo, the question is: Is it worth the effort to refactor my code to use hibernate annotations?  Will I gain anything, other than being hip and modern?  Will I lose any of the control I have in my existing hand coded mapping file?\nA sub-question is, how much effort will it be?  I like my databases lean and mean.  The mapping covers only a dozen domain objects, including two sets, some subclassing, and about 8 tables.\nThanks, dear SOpedians, in advance for your informed opinions.\n", "I'm experiencing the following very annoying behaviour when using JPA entitys in conjunction with Oracle 10g. \nSuppose you have the following entity.\n@Entity\n@Table(name = \"T_Order\")\npublic class TOrder implements Serializable {\n    private static final long serialVersionUID = 2235742302377173533L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @Column(name = \"activationDate\")\n    private Calendar activationDate;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Calendar getActivationDate() {\n        return activationDate;\n    }\n\n    public void setActivationDate(Calendar activationDate) {\n        this.activationDate = activationDate;\n    }\n}\n\nThis entity is mapped to Oracle 10g, so in the DB there will be a table T_ORDER with a primary key NUMBER column \"ID\" and a TIMESTAMP column \"activationDate\".\nLets suppose I create an instance of this class with the activation date \"15. Sep 2008 00:00AM\". My local timezone is CEST which is GMT+02:00. When I persist this object and select the data from the table T_ORDER using sqlplus, I find out that in the table actually \"14. Sep 2008 22:00\" is stored, which is ok so far, because the oracle db timezone is GMT.\nBut now the annoying part. When I read this entity back into my JAVA program, I find out that the oracle time zone is ignored and I get \"14. Sep 2008 22:00 CEST\", which is definitly wrong. \nSo basically, when writing to the DB the timezone information will be used, when reading it will be ignored.\nIs there any solution for this out there? The most simple solution I guess would be to set the oracle dbs timezone to GMT+02, but unfortunatly I can't do this because there are other applications using the same server.\nWe use the following technology\nMyEclipse 6.5\nJPA with Hibernate 3.2\nOracle 10g thin JDBC Driver\n", "In a Java application I need to checkout files from Borland Starteam 2006 R2 using Starteam API by various parameters (date, label). Is there any framework that helps to write automatic tests for such functionality?\n", "Greetings,\nI am trying to build an Eclipse application that would work with a linux/motif installation target.  However, this seems not to be possible even though the export option is available in the product export wizard.\nI've checked the content of the delta pack and indeed, the packages for linux/motif are missing.  After checking the downloads page for eclipse 3.4 at:\nhttp://download.eclipse.org/eclipse/downloads/drops/R-3.4-200806172000/index.php\nI see that even though there is an Eclipse version marked for Linux/motif, it is marked as Testing only.  Additionally, there is no delta pack for this target.\nHas anyone been successful building an RCP application targeting linux/motif?  Would it work if I download this testing only version of eclipse and copy the missing plugins?\nThanks,\n", "Tomcat (version 5 here) stores session information in memory. When clustering this information is periodically broadcast to other servers in the cluster to keep things in sync. You can use a database store to make sessions persistant but this information is only written periodically as well and is only really used for failure-recovery rather than actually replacing the in-memory sessions.\nIf you don't want to use sticky sessions (our configuration doesn't allow it unfortunately) this raises the problem of the sessions getting out of sync.\nIn other languages, web frameworks tend to allow you to use a database as the primary session store. Whilst this introduces a potential scaling issue it does make session management very straightforward. I'm wondering if there's a way to get tomcat to use a database for sessions in this way (technically this would also remove the need for any clustering configuration in the tomcat server.xml).\n", "I've just inherited some old Struts code.\nIf Struts (1.3) follows the MVC pattern, how do the Action classes fill the View with variables to render in HTML ?\nSo far, I've seen the Action classes push variables in (1) the HTTP request with\nrequest.setAttribute(\"name\", user.getName())\n\n(2) in ActionForm classes, using methods specific to the application:\nUserForm form = (UserForm) actionForm;\nform.setUserName(user.getName());\n\nand (3) a requestScope variable, that I see in the JSP layer (the view uses JSP), but I can't see in the Action classes.\n<p style='color: red'><c:out value='${requestScope.userName}' /></p>\n\nSo, which of these is considered old-school, and what's the recommended way of pushing variables in the View in Struts ?\n", "My understanding of Hibernate is that as objects are loaded from the DB they are added to the Session. At various points, depending on your configuration, the session is flushed. At this point, modified objects are written to the database.\nHow does Hibernate decide which objects are 'dirty' and need to be written?\nDo the proxies generated by Hibernate intercept assignments to fields, and add the object to a dirty list in the Session?\nOr does Hibernate look at each object in the Session and compare it with the objects original state?\nOr something completely different?\n", "What do the collective beleive to be the best platform to use as a backend to AJAX / Flex / Silverlight applications and why?\nWe are undergoing a technology review and I would like to know some other opinions.\nIs It Java, Grails, Python, Rails, ColdFusion, something else?\n", "By default tomcat will create a session cookie for the current domain.\nIf you are on www.example.com, your cookie will be created for www.example.com (will only work on www.example.com). Whereas for example.com it will be created for .example.com (desired behaviour, will work on any subdomain of example.com as well as example.com itself).\nI've seen a few Tomcat valves which seem to intercept the creation of session cookies and create a replacement cookie with the correct .example.com domain, however none of them seem to work flawlessly and they all appear to leave the existing cookie and just create a new one. This means that two JSESSIONID cookies are being sent with each request.\nI was wondering if anybody has a definitive solution to this problem.\n", "I have a java back-end that needs to expose services to clients running in the following environments :\n\nJ2ME\nWindows Mobile\niPhone\n\nI am looking for the best tool for each platform.\nI do not search a technology that works everywhere.\nI need something \"light\" adapted to low speed internet access.  \nRight now I am using SOAP. It is verbose and not easy to parse on the mobile. The problem is that I have not seen any real alternative.\nIs there a format that works \"out of the box\" with one of these platforms ?\nI would rather not use a bloated library that will increase tremendously the download time of the application.\nEverybody seems to agree on JSON. Does anyone has implemented a solution based on JSON running with Objective-C, J2ME, Windows Mobile ?\nNote : so far the best solution seems to be Hessian. It works well on Windows Mobile and Objective-C/iPhone . The big problem is J2ME. The J2ME implementation of Hessian has serious limitations. It does not support complex objects. I had written another question about it.   \nIf you have any ideas, there are very welcome.\n", "I have a layered application in Java which has a multi thread data access layer which is invoked from different points. A single call to this layer is likely to spawn several threads to parallelize requests to the DB. \nWhat I'm looking for is a logging tool that would allow me to define \"activities\" that are composed by various threads. Therefore, the same method in the data access layer should log different outputs depending on its caller. The ability to group different outputs to summarize the total cost of an operation is also important.\nAlthough the application is in Java, language is not a restriction; what I need are the design guidelines so to eventually implement it. We are currently using log4j, but can't get this behaviour from it.\n", "Some API returns me XmlCursor pointing on root of XML Document. I need to insert all of this into another org.w3c.DOM represented document.\nAt start:\nXmlCursor poiting on\n\n<a>\n  <b>\n    some text\n  </b>\n</a>\n\nDOM Document:\n\n<foo>\n</foo>\n\nAt the end I want to have original DOM document changed like this:\n\n<foo>\n\u00a0\u00a0<someOtherInsertedElement>\n\u00a0\u00a0\u00a0\u00a0<a>\n  <b>\n    some text\n  </b>\n</a>\n\u00a0\u00a0</someOtherInsertedElement>\n</foo>\n\nNOTE: document.importNode(cursor.getDomNode()) doesn't work - Exception is thrown: NOT_SUPPORTED_ERR: The implementation does not support the requested type of object or operation.\n", "I found this open-source library that I want to use in my Java application. The library is written in C and was developed under Unix/Linux, and my application will run on Windows. It's a library of mostly mathematical functions, so as far as I can tell it doesn't use anything that's platform-dependent, it's just very basic C code. Also, it's not that big, less than 5,000 lines.\nWhat's the easiest way to use the library in my application? I know there's JNI, but that involves finding a compiler to compile the library under Windows, getting up-to-date with the JNI framework, writing the code, etc. Doable, but not that easy. Is there an easier way? Considering the small size of the library, I'm tempted to just translate it to Java. Are there any tools that can help with that?\n\nEDIT\nI ended up translating the part of the library that I needed to Java. It's about 10% of the library so far, though it'll probably increase with time. C and Java are pretty similar, so it only took a few hours. The main difficulty is fixing the bugs that get introduced by mistakes in the translation.\nThank you everyone for your help. The proposed solutions all seemed interesting and I'll look into them when I need to link to larger libraries. For a small piece of C code, manual translation was the simplest solution.\n", "I would like to extract the date a jpg file was created.  Java has the lastModified method for the File object, but appears to provide no support for extracting the created date from the file.  I believe the information is stored within the file as the date I see when I hover the mouse pointer over the file in Win XP is different than what I can get by using JNI with \"dir /TC\" on the file in DOS.\n", "We have several jobs that run concurrently that have to use the same config info for log4j.  They are all dumping the logs into one file using the same appender.  Is there a way to have each job dynamically name its log file so they stay seperate?\nThanks\nTom\n", "What is a good way to render data produced by a Java process in the browser? \nI've made extensive use of JSP and the various associated frameworks (JSTL, Struts, Tapestry, etc), as well as more comprehensive frameworks not related to JSP (GWT, OpenLaszlo). None of the solutions have ever been entirely satisfactory - in most cases the framework is too constrained or too complex for my needs, while others would require extensive refactoring of existing code. Additionally, most frameworks seem to have performance problems.\nCurrently I'm leaning towards the solution of exposing my java data via a simple servlet that returns JSON, and then rendering the data using PHP or Ruby. This has the added benefit of instantly exposing my service as a web service as well, but I'm wondering if I'm reinventing the wheel here.\n", "\nDo you need to use some kind of provider? \nCan you setup your own SMS server?\nDoes any open source solutions exist?\n\nI am an SMS newbie so any insight on how this is accomplished would be great.  I am partial to Java but any language is fine.\n", "I wonder why would a C++, C#, Java developer want to learn a dynamic language?\nAssuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?\nWhat helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?\nUpdate\nAfter seeing the first few responses it is clear that there are two issues.\nMy main interest would be something that is justifiable to the employer as an expense.\nThat is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the\nemployers are usually looking for some \"real\" benefit.\n", "To make it short: hibernate doesn't support projections and query by example? I found this post:\nThe code is this:\nUser usr = new User();\nusr.setCity = 'TEST';\ngetCurrentSession().createCriteria(User.class)\n.setProjection( Projections.distinct( Projections.projectionList()\n.add( Projections.property(\"name\"), \"name\")\n.add( Projections.property(\"city\"), \"city\")))\n.add( Example.create(usr))\n\nLike the other poster said, The generated sql keeps having a where class refering to just y0_= ? instead of this_.city. \nI already tried several approaches, and searched the issue tracker but found nothing about this.\nI even tried to use Projection alias and Transformers, but it does not work:\nUser usr = new User();\nusr.setCity = 'TEST';\ngetCurrentSession().createCriteria(User.class)\n.setProjection( Projections.distinct( Projections.projectionList()\n.add( Projections.property(\"name\"), \"name\")\n.add( Projections.property(\"city\"), \"city\")))\n.add( Example.create(usr)).setResultTransformer(Transformers.aliasToBean(User.class));\n\nHas anyone used projections and query by example ?\n", "I'm writing a Spring web application that requires users to login.  My company has an Active Directory server that I'd like to make use of for this purpose.  However, I'm having trouble using Spring Security to connect to the server.\nI'm using Spring 2.5.5 and Spring Security 2.0.3, along with Java 1.6.\nIf I change the LDAP URL to the wrong IP address, it doesn't throw an exception or anything, so I'm wondering if it's even trying to connect to the server to begin with.\nAlthough the web application starts up just fine, any information I enter into the login page is rejected.  I had previously used an InMemoryDaoImpl, which worked fine, so the rest of my application seems to be configured correctly.\nHere are my security-related beans:\n  <beans:bean id=\"ldapAuthProvider\" class=\"org.springframework.security.providers.ldap.LdapAuthenticationProvider\">\n    <beans:constructor-arg>\n      <beans:bean class=\"org.springframework.security.providers.ldap.authenticator.BindAuthenticator\">\n        <beans:constructor-arg ref=\"initialDirContextFactory\" />\n        <beans:property name=\"userDnPatterns\">\n          <beans:list>\n            <beans:value>CN={0},OU=SBSUsers,OU=Users,OU=MyBusiness,DC=Acme,DC=com</beans:value>\n          </beans:list>\n        </beans:property>\n      </beans:bean>\n    </beans:constructor-arg>\n  </beans:bean>\n\n  <beans:bean id=\"userDetailsService\" class=\"org.springframework.security.userdetails.ldap.LdapUserDetailsManager\">\n    <beans:constructor-arg ref=\"initialDirContextFactory\" />\n  </beans:bean>\n\n  <beans:bean id=\"initialDirContextFactory\" class=\"org.springframework.security.ldap.DefaultInitialDirContextFactory\">\n    <beans:constructor-arg value=\"ldap://192.168.123.456:389/DC=Acme,DC=com\" />\n  </beans:bean>\n\n", "This is an Eclipse question, and you can assume the Java package for all these Eclipse classes is org.eclipse.core.resources.  \nI want to get an IFile corresponding to a location String I have:\n \"platform:/resource/Tracbility_All_Supported_lib/processes/gastuff/globalht/GlobalHTInterface.wsdl\"\n\nI have the enclosing IWorkspace and IWorkspaceRoot.  If I had the IPath corresponding to the location above, I could simply call IWorkspaceRoot.getFileForLocation(IPath).\nHow do I get the corresponding IPath from the location String?  Or is there some other way to get the corresponding IFile?\n", "I am writting JAVA programme using JDBC for database conntectivity , I am calling one stored procedure in that which is returning ORACLE REF CURSOR , IS there any way I can handle that without importing ORACLE PACKAGES ?\n", "Some Eclipse plugins are mandated by your environment. The appropriate source code management plugin, for example - and I'm not interested in those.\nSome provide useful enhancements, but in a specific niche. I'm not interested in those.\nSome are great, but cost money. I'm not interested in those.\nSome were really useful on older versions of Eclipse, but are now part of the core build of the latest Eclipse version (3.4 as I write this). I'm not interested in those.\nI want advice on which plugins every Java SE developer should be installing, one per answer please.\n", "In a web-app I'm writing, the user is supposed to enter the path in the Perforce repository for the node they're entering.  The application is supposed to validate that the entered directory exists in the repo.\nI've got the P4Package (p4.jar) lib, and I'm configuring it correctly enough that it works for almost everything, EXCEPT this directory validation.  I'm creating a DirEntry (from the p4.jar) using a configured Env and a path, but when I call DirEntry.sync(), it issues an incorrect command.  Where I want it to issue the command:\np4 [config info] dirs directory_argument   <-- using the dirs command to validate a dir\nInstead, it issues:\np4 [config info] dirs directory_argument%1  <-- note extraneous %1\nWhich always fails, since none of the directories have a %1 at the end of them.\nAny help?  Is there a different way to check that a directory exists using this package?\n", "Are there any good books or website that go over creating a JTable? I want to make one column editable.  I would like to actually put a inherited JCheckBox component (that we created here) into one of the table columns instead of just having the table put JCheckBox in based on it being an editable boolean field.\nI have the JFC Swing Tutorial Second Edition book but I just would like to know if there are other examples I could look at and learn how to deal with the tables better.  The book seems to just take the java 'trail' online and put it in the book.\nI am re-reading the stuff though, just curious if anyone has found something that might help out more.\n", "I've got an RMI call defined as:\npublic void remoteGetCustomerNameNumbers(ArrayList<String> customerNumberList, ArrayList<String> customerNameList) throws java.rmi.RemoteException;\n\nThe function does a database lookup and populates the two ArrayLists.  The calling function gets nothing. I believe this works with Vector types.\nDo I need to use the Vector, or is there a way to get this to work without making two calls.  I've got some other ideas that I'd probably use, like returning a key/value pair, but I'd like to know if I can get this to work.\nUpdate:\nI would accept all of the answers given so far if I could.  I hadn't known the network cost, so It makes sense to rework the function to return a LinkedHashMap instead of the two ArrayLists.\n", "Consider:\nList<String> someList = new ArrayList<String>();\n// add \"monkey\", \"donkey\", \"skeleton key\" to someList\n\nfor (String item : someList) {\n    System.out.println(item);\n}\n\nWhat would the equivalent for loop look like without using the for each syntax?\n", "My strongest lead is that the code who deals with the incoming XMLs is actually receiving an invalid/incomplete file hence failing the DOM parsing. Any suggestions?\n", "When I run this code the selected item is not visible.  I've already tried to run it in a separate thread with no luck.\nimport javax.swing.JFrame;\nimport java.awt.Container;\nimport javax.swing.JList;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.JScrollPane;\nimport java.awt.Dimension;\n\npublic class ScrollList extends JFrame {\n    int defaultValue;\n\n    ScrollList() {\n        Container cp = getContentPane();\n        JList list = createList();\n        defaultValue = 20;\n\n        cp.add(createScrollPane(list));\n        pack();\n        setVisible(true);\n        list.ensureIndexIsVisible(defaultValue);\n    }\n\n    JList createList() {\n        Integer[] model = new Integer[73];\n        JList list = new JList(model);\n\n        for (int i = 1; i < model.length; i++)\n            model[i] = i;\n        list.setSelectedIndex(defaultValue);\n\n        return list;\n    }\n\n    JScrollPane createScrollPane(JList list) {\n        JScrollPane s = new JScrollPane(createList());\n\n        s.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        s.setPreferredSize(new Dimension(100, 200));\n\n        return s;\n    }\n\n    public static void main(String[] args) {\n        new ScrollList();\n    }\n}\n\n", "How do i measure how long a client has to wait for a request. \nOn the server side it is easy, through a filter for example.\nBut if we want to take into accout the total time including latency and data transfer, it gets diffcult.\nis it possible to access the underlying socket to see when the request is finished?\nor is it neccessary to do some javascript tricks? maybe through clock synchronisation between browser and server? are there any premade javascripts for this task?\n", "Does Facelets have any features for neater or more readable internationalised user interface text labels that what you can otherwise do using JSF?\nFor example, with plain JSF, using h:outputFormat is a very verbose way to interpolate variables in messages.\nClarification: I know that I can add a message file entry that looks like:\nlabel.widget.count = You have a total of {0} widgets.\n\nand display this (if I'm using Seam) with:\n<h:outputFormat value=\"#{messages['label.widget.count']}\">\n   <f:param value=\"#{widgetCount}\"/>\n</h:outputFormat>\n\nbut that's a lot of clutter to output one sentence - just the sort of thing that gives JSF a bad name.\n", "I know there is nothing called the best Java IDE (eclipse, netbean,\u2026) each one has its own speciality.\nBut when it comes the GUI Editor (visual Editor) there are some interesting items out there; I would love to know which one is the most recommended.\nI am not asking for a full IDE, i am sking about any GUI editor or plugin for any IDE that allow me edit Java GUI (not neceserly swing), i am also open for commercial alternatives it do not have to be free.\nUPDATE: this question is some how close to my question (i didn't notice it before asking but i hope any one searching for simmiller thing benefits from both questions)\nthank jjnguy\n", "I'm looking for more and better documentation about snapshots, flow repositories, and flow state serialization in Spring Web Flow.  Available docs I've found seem pretty sparse.  \"Spring in Action\" doesn't talk about this.  The Spring Web Flow Reference Manual does mention a couple flags here:\nhttp://static.springframework.org/spring-webflow/docs/2.0.x/reference/htmlsingle/spring-webflow-reference.html#tuning-flow-execution-repository\nbut doesn't really talk about why you would change these settings, usage patterns, etc.\nAnyone have a good reference?\n", "Trying to keep all the presentation stuff in the xhtml on this project and I need to format some values in a selectItem tag have a BigDecimal value and need to make it look like currency. Is there anyway to apply a <f:convertNumber pattern=\"$#,##0.00\"/> Inside a <f:selectItem> tag?\nAny way to do this or a work around that doesn't involve pushing this into the java code?\n", "I have two classes, and want to include a static instance of one class inside the other and access the static fields from the second class via the first.  \nThis is so I can have non-identical instances with the same name.  \nClass A \n{\n    public static package1.Foo foo;\n}\n\nClass B \n{\n    public static package2.Foo foo;\n}\n\n\n//package1\nFoo \n{\n    public final static int bar = 1;\n}\n\n// package2\nFoo\n{\n    public final static int bar = 2;\n}\n\n// usage\nassertEquals(A.foo.bar, 1);\nassertEquals(B.foo.bar, 2);\n\nThis works, but I get a warning \"The static field Foo.bar shoudl be accessed in a static way\".\nCan someone explain why this is and offer a \"correct\" implementation.\nI realize I could access the static instances directly, but if you have a long package hierarchy, that gets ugly:\nassertEquals(net.FooCorp.divisions.A.package.Foo.bar, 1);\nassertEquals(net.FooCorp.divisions.B.package.Foo.bar, 2);\n\n", "Say I have two strings,\nString s1 = \"AbBaCca\";\nString s2 = \"bac\";\n\nI want to perform a check returning that s2 is contained within s1. I can do this with:\nreturn s1.contains(s2);\n\nI am pretty sure that contains() is case sensitive, however I can't determine this for sure from reading the documentation. If it is then I suppose my best method would be something like:\nreturn s1.toLowerCase().contains(s2.toLowerCase());\n\nAll this aside, is there another (possibly better) way to accomplish this without caring about case-sensitivity?\n", "I would like a panel in GWT to fill the page without actually having to set the size.  Is there a way to do this?  Currently I have the following:\npublic class Main  implements EntryPoint\n{\n    public void onModuleLoad()\n    {\n        HorizontalSplitPanel split = new HorizontalSplitPanel();\n        //split.setSize(\"250px\", \"500px\");\n        split.setSplitPosition(\"30%\");\n\n        DecoratorPanel dp = new DecoratorPanel();\n        dp.setWidget(split);\n\n        RootPanel.get().add(dp);\n    }\n\n}\n\nWith the previous code snippet, nothing shows up.  Is there a method call I am missing?\nThanks.\n\nUPDATE Sep 17 '08 at 20:15 \nI put some buttons (explicitly set their size) on each side and that still doesn't work. I'm really surprised there isn't like a FillLayout class or a setFillLayout method or setDockStyle(DockStyle.Fill) or something like that. Maybe it's not possible? But for as popular as GWT is, I would think it would be possible.\nUPDATE Sep 18 '08 at 14:38 \nI have tried setting the RootPanel width and height to 100% and that still didn't work. Thanks for the suggestion though, that seemed like it maybe was going to work. Any other suggestions??\n", "I'm looking for a tool that will reverse engineer Java into a sequence diagram BUT also provides the ability to filter out calls to certain libraries. \nFor example, the Netbeans IDE does a fantastic job of this but it includes all calls to String or Integer which clutter up the diagram to the point it is unusable. \nAny help is greatly appreciated!!!!!!!\n", "Do you generally assume that toString() on any given object has a low cost (i.e. for logging)?  I do.  Is that assumption valid?  If it has a high cost should that normally be changed?  What are valid reasons to make a toString() method with a high cost?  The only time that I get concerned about toString costs is when I know that it is on some sort of collection with many members.\nFrom: http://jamesjava.blogspot.com/2007/08/tostring-cost.html\nUpdate: Another way to put it is: Do you usually look into the cost of calling toString on any given class before calling it?\n", "In Oracle I can declare a reference cursor...\nTYPE t_spool IS REF CURSOR RETURN spool%ROWTYPE;\n\n...and use it to pass a cursor as the return value...\nFUNCTION end_spool\n    RETURN t_spool\n    AS\n    v_spool t_spool;\n    BEGIN\n        COMMIT;\n        OPEN v_spool FOR\n            SELECT\n                *\n            FROM\n                spool\n            WHERE\n                key = g_spool_key\n            ORDER BY\n                seq;\n        RETURN v_spool;\n    END end_spool;\n\n...and then capture it as a result set using JDBC...\nprivate Connection conn;\nprivate CallableStatement stmt;\nprivate OracleResultSet rset;\n[...clip...]\nstmt = conn.prepareCall(\"{ ? = call \" + call + \"}\");\nstmt.registerOutParameter(1, OracleTypes.CURSOR);\nstmt.execute();\nrset = (OracleResultSet)stmt.getObject(1);\n\nWhat is the equivalent in Postgresql?\n", "Every time I need to work with date and/or timstamps in Java I always feel like I'm doing something wrong and spend endless hours trying to find a better way of working with the APIs without having to code my own Date and Time utility classes.  Here's a couple of annoying things I just ran into:\n\n0-based months.  I realize that best practice is to use Calendar.SEPTEMBER instead of 8, but it's annoying that 8 represents September and not August.\nGetting a date without a timestamp.  I always need the utility that Zeros out the timestamp portion of the date.\nI know there's other issues I've had in the past, but can't recall.  Feel free to add more in your responses.\n\nSo, my question is ... What third party APIs do you use to simplify Java's usage of Date and Time manipulation, if any?  Any thoughts on using Joda?  Anyone looked closer at JSR-310 Date and Time API? \n", "So I have a \"large\" number of \"very large\" ASCII files of numerical data (gigabytes altogether), and my program will need to process the entirety of it sequentially at least once.\nAny advice on storing/loading the data?  I've thought of converting the files to binary to make them smaller and for faster loading.\nShould I load everything into memory all at once?\nIf not, is opening what's a good way of loading the data partially?\nWhat are some Java-relevant efficiency tips?\n", "anyone have any experience using this?\nif so, is it worth while?\n", "I need to make an ArrayList of ArrayLists thread safe. I also cannot have the client making changes to the collection. Will the unmodifiable wrapper make it thread safe or do I need two wrappers on the collection?\n", "I am working with a large Java web application from a commercial vendor.  I've received a patch from the vendor in the form of a new .class file that is supposed to resolve an issue we're having with the software.  In the past, applying patches from this vendor have caused new and completely unrelated problems to arise, so I want to understand the change being made even before applying it to a test instance.\nI've got the two .class files side by side, the one extracted from the currently running version and the updated one from the vendor.  JAD and JReversePro both decompile and disassemble (respectively) the two versions to the same output.  However, the .class files are different sizes and I see differences in the output of od -x, so they're definitely not identical.\nWhat other steps could I take to determine the difference between the two files?\n\nConclusion:\n\nThanks for the great responses.  Since javap -c output is also identical for the two class files, I am going to conclude that Davr's right and the vendor sent me a placebo.  While I'm accepting Davr's answer for that reason, it was Chris Marshall and John Meagher who turned me on to javap, so thanks to all three of you.\n", "Recently I ran into this error in my web application:\n\njava.lang.OutOfMemoryError: PermGen space\n\nIt's a typical Hibernate/JPA + IceFaces/JSF application running on Tomcat 6 and JDK 1.6.\nApparently this can occur after redeploying an application a few times.\nWhat causes it and what can be done to avoid it?\nHow do I fix the problem?\n", "I'm trying to build a better username/password field for my workplace and would like to be able to complain when they have their caps lock on.\nIs this possible?  And if so I'd like to have it detected before the client types their first letter.\nIs there a non-platform specific way to do this?\n", "I'm using jmockit for unit testing (with TestNG), and I'm having trouble using the Expectations class to mock out a method that takes a primitive type (boolean) as a parameter, using a matcher.  Here's some sample code that illustrates the problem.\n/******************************************************/\nimport static org.hamcrest.Matchers.is;\n\nimport mockit.Expectations;\n\nimport org.testng.annotations.Test;\n\npublic class PrimitiveMatcherTest {\n  private MyClass obj;\n\n  @Test\n  public void testPrimitiveMatcher() {\n    new Expectations(true) {\n      MyClass c;\n      {\n        obj = c;\n        invokeReturning(c.getFoo(with(is(false))), \"bas\");\n      }\n    };\n\n    assert \"bas\".equals(obj.getFoo(false));\n\n    Expectations.assertSatisfied();\n  }\n\n  public static class MyClass {\n    public String getFoo(boolean arg) {\n      if (arg) {\n        return \"foo\";\n      } else {\n        return \"bar\";\n      }\n    }\n  }\n}\n/******************************************************/\n\nThe line containing the call to invokeReturning(...) throws a NullPointerException.\nIf I change this call to not use a matcher, as in:\ninvokeReturning(c.getFoo(false), \"bas\");\n\nit works just fine.  This is no good for me, because in my real code I'm actually mocking a multi-parameter method and I need to use a matcher on another argument.  In this case, the Expectations class requires that all arguments use a matcher.\nI'm pretty sure this is a bug, or perhaps it's not possible to use Matchers with primitive types (that would make me sad).  Has anyone encountered this issue, and know how to get around it?\n", "In Java, I have a String and I want to encode it as a byte array (in UTF8, or some other encoding). Alternately, I have a byte array (in some known encoding) and I want to convert it into a Java String. How do I do these conversions?\n", "Does the Java virtual machine ever move objects in memory, and if so, how does it handle updating references to the moved object?\nI ask because I'm exploring an idea of storing objects in a distributed fashion (ie. across multiple servers), but I need the ability to move objects between servers for efficiency reasons.  Objects need to be able to contain pointers to each-other, even to objects on remote servers.  I'm trying to think of the best way to update references to moved objects.\nMy two ideas so far are:\n\nMaintain a reference indirection somewhere that doesn't move for the lifetime of the object, which we update if the object moves.  But - how are these indirections managed?\nKeep a list of reverse-references with each object, so we know what has to be updated if the object is moved.  Of course, this creates a performance overhead.\n\nI'd be interested in feedback on these approaches, and any suggestions for alternative approaches.\n", "I do not mean the compile errors because I made a syntax mistake or whatever. In C++ we can create compile time errors based on conditions as in the following example:\ntemplate<int> struct CompileTimeError;\ntemplate<> struct CompileTimeError<true> {};\n\n#define STATIC_CHECK(expr, msg) { CompileTimeError<((expr) != 0)> ERROR_##msg; (void)ERROR_##msg; }\n\nint main(int argc, char* argv[])\n{\n    STATIC_CHECK(false, Compile_Time_Failure);\n    return 0;\n}\n\nIn VS 2005 this will output:\n------ Build started: Project: Test, Configuration: Debug Win32 ------\nCompiling...\nTest.cpp\nf:\\temp\\test\\test\\test.cpp(17) : error C2079: 'ERROR_Compile_Time_Failure' uses undefined struct 'CompileTimeError<__formal>'\n        with\n        [\n            __formal=0\n        ]\nBuild log was saved at \"file://f:\\temp\\Test\\Test\\Debug\\BuildLog.htm\"\nTest - 1 error(s), 0 warning(s)\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n\nIs there any way to achieve this in Java?\n", "Is it possible to bypass @GeneratedValue for an ID in Hibernate, we have a case where, most of the time we want the ID to be set using GeneratedValue, but in certain cases would like to set the ID manually.\nIs this possible to do?\n", "What are the best Java example sites? I'm looking for places that you go when you have a specific question and you want a little Java code snippet to solve it with.\n", "I just learned about how the Java Collections Framework implements data structures in linked lists. From what I understand, Iterators are a way of traversing through the items in a data structure such as a list. Why is this interface used? Why are the methods hasNext(), next() and remove() not directly coded to the data structure implementation itself?\nFrom the Java website: link text\n\npublic interface Iterator<E> An\n  iterator over a collection. Iterator\n  takes the place of Enumeration in the\n  Java collections framework. Iterators\n  differ from enumerations in two ways:\nIterators allow the caller to remove\n  elements from the underlying\n  collection during the iteration with\n  well-defined semantics. Method names\n  have been improved. This interface is\n  a member of the Java Collections\n  Framework.\n\nI tried googling around and can't seem to find a definite answer. Can someone shed some light on why Sun chose to use them? Is it because of better design? Increased security? Good OO practice?\nAny help will be greatly appreciated. Thanks.\n", "On my current project, we've been using Struts 1 for the last few years, and ... ahem ... Struts is showing its age. We're slowly migrating our front-end code to an Ajax client that consumes XML from the servers. I'm wondering if any of you have migrated a legacy Struts application to a different framework, and what challenges you faced in doing so.\n", "I am writing a simple checkers game in Java.  When I mouse over the board my processor ramps up to 50% (100% on a core).\nI would like to find out what part of my code(assuming its my fault) is executing during this.\nI have tried debugging, but step-through debugging doesn't work very well in this case.\nIs there any tool that can tell me where my problem lies?  I am currently using Eclipse.\n", "As an example in pseudocode:\nif ((a mod 2) == 0)\n{\n    isEven = true;\n}\nelse\n{\n    isEven = false;\n}\n\n", "I have 3 PDF documents that are generated on the fly by a legacy library that we use, and written to disk. What's the easiest way for my JAVA server code to grab these 3 documents and turn them into one long PDF document where it's just all the pages from document #1, followed by all the pages from document #2, etc.\nIdeally I would like this to happen in memory so I can return it as a stream to the client, but writing it to disk is also an option.\n", "Is it possible to get a thread dump of a Java Web Start application? And if so, how?\nIt would be nice if there were a simple solution, which would enable a non-developer (customer) to create a thread dump. Alternatively, is it possible to create a thread dump programmatically?\nIn the Java Web Start Console I can get a list of threads by pressing 't' but stacktraces are not included.\nIf answers require certain java versions, please say so.\n", "I want to make an entity that has an autogenerated primary key, but also a unique compound key made up of two other fields. How do I do this in JPA?\nI want to do this because the primary key should be used as foreign key in another table and making it compound would not be good.\nIn the following snippet, I need the command and model to be unique. pk is of course the primary key.\n@Entity\n@Table(name = \"dm_action_plan\")\npublic class ActionPlan {\n    @Id\n    private int pk;\n    @Column(name = \"command\", nullable = false)\n    private String command;\n    @Column(name = \"model\", nullable = false)\n    String model;\n}\n\n", "I would like to know what would be the best way to do unit testing of a servlet. \nTesting internal methods is not a problem as long as they don't refer to the servlet context, but what about testing the doGet/doPost methods as well as the internal method that refer to the context or make use of session parameters?\nIs there a way to do this simply using classical tools such as JUnit, or preferrably TestNG? Did I need to embed a tomcat server or something like that?\n", "I am fairly comfortable with standalone Java app development, but will soon be working on a project using a Java EE application server.\nDoes anyone know of a straightforward how-to tutorial to getting a hello-world type application working in an application server? I'm (perhaps naievly) assuming that the overall approach is similar between different frameworks, so I'm more interested in finding out the approach rather than getting bogged down in differences between the different frameworks.\nIf you are not aware of a good guide, then could you post bullet-point type steps to getting a hello-world running?, i.e.\n\nDownload XX\nWrite some code to do YY\nChange file ZZ\nOther steps...\n\nNote: Just because I have a windows machine at home, I would prefer to run if this could be run on windows, but in the interest of a better answer, linux/mac based implementations are welcome.\n", "What options are there for building automated tests for GUIs written in Java Swing?\nI'd like to test some GUIs which have been written using the NetBeans Swing GUI Builder, so something that works without requiring special tampering of the code under test would be ideal.\n", "Does somebody know a Java library which serializes a Java object hierarchy into Java code which generates this object hierarchy? Like Object/XML serialization, only that the output format is not binary/XML but Java code.\n", "We would like to give access to some of our EJBs from Excel. The goal is to give an API usable from VBA.\nOur EJBs are mostly Stateless Session Beans that do simple CRUD operations with POJOs.\nSome possible solutions: \n\nExposing the EJBs as WebServices and create a VB/C# dll wrapping them,\nUsing Corba to access the EJBs from C#,\nCreating a COM Library that uses Java to access the EJBs,\n\nPointers to frameworks for these solution or other ideas are welcome.\n", "When I use quick documentaion lookup (Ctrl+Q) on j2ee classes or annotations in IDEA I only get an empty javadoc. It only contains the basics like class name.\nHow do I add the javadoc to the libs IDEA provides itself?\n", "My Tomcat instance is listening to multiple IP adress, but I want to control what source IP address is used when opening a URLConnection. How can I specify this?\n", "Can anyone recommend a framework for templating/formatting messages in a standalone application along the lines of the JSP EL (Expression Language)?\nI would expect to be able to instantiate a an object of some sort, give it a template along the lines of\nDear ${customer.firstName}. You order will be dispatched on ${order.estimatedDispatchDate}\n\nprovide it with a context which would include a value dictionary of parameter objects (in this case an object of type Customer with a name 'customer', say, and an object of type Order with a name 'order').\nI know there are many template frameworks out there - many of which work outside the web application context, but I do not see this as a big heavyweight templating framework. Just a better version of the basic Message Format functionality Java already provides  \nFor example, I can accomplish the above with java.text.MessageFormat by using a template (or a 'pattern' as they call it) such as\nDear {0}. You order will be dispatched on {1,date,EEE dd MMM yyyy}\n\nand I can pass it an Object array, in my calling Java program\nnew Object[] { customer.getFirstName(), order.getEstimatedDispatchDate() };\n\nHowever, in this usage, the code and the pattern are intimately linked. While I could put the pattern in a resource properties file, the code and the pattern need to know intimate details about each other. With an EL-like system, the contract between the code and the pattern would be at a much higher level (e.g. customer and order, rather then customer.firstName and order.estimatedDispatchDate), making it easier to change the structure, order and contents of the message without changing any code.\n", "Looking for an open source library, for C++, Java, C# or Python, for reading the data from Quicken .qdf files.\n@Swati:  Quicken .qif format is for transfer only and is not kept up to date by the application  like the .qdf file is.\n", "Is there a way to mock object construction using JMock in Java?  \nFor example, if I have a method as such:\npublic Object createObject(String objectType) {\n    if(objectType.equals(\"Integer\") {\n        return new Integer();\n    } else if (objectType.equals(\"String\") {\n        return new String();\n    }\n}\n\n...is there a way to mock out the expectation of the object construction in a test method?  \nI'd like to be able to place expectations that certain constructors are being called, rather than having an extra bit of code to check the type (as it won't always be as convoluted and simple as my example).\nSo instead of:\nassertTrue(a.createObject() instanceof Integer);\n\nI could have an expectation of the certain constructor being called. Just to make it a bit cleaner, and express what is actually being tested in a more readable way.\nPlease excuse the simple example, the actual problem I'm working on is a bit more complicated, but having the expectation would simplify it.\n\nFor a bit more background:\nI have a simple factory method, which creates wrapper objects. The objects being wrapped can require parameters which are difficult to obtain in a test class (it's pre-existing code), so it is difficult to construct them.\nPerhaps closer to what I'm actually looking for is: is there a way to mock an entire class (using CGLib) in one fell swoop, without specifying every method to stub out? \nSo the mock is being wrapped in a constructor, so obviously methods can be called on it, is JMock capable of dynamically mocking out each method? \nMy guess is no, as that would be pretty complicated. But knowing I'm barking up the wrong tree is valuable too :-)\n", "I've been working on this for a few days now, and I've found several solutions but none of them incredibly simple or lightweight.  The problem is basically this:  We have a cluster of 10 machines, each of which is running the same software on a multithreaded ESB platform. I can deal with concurrency issues between threads on the same machine fairly easily, but what about concurrency on the same data on different machines?  \nEssentially the software receives requests to feed a customer's data from one business to another via web services.  However, the customer may or may not exist yet on the other system.  If it does not, we create it via a web service method.  So it requires a sort of test-and-set, but I need a semaphore of some sort to lock out the other machines from causing race conditions.  I've had situations before where a remote customer was created twice for a single local customer, which isn't really desirable.\nSolutions I've toyed with conceptually are:\n\nUsing our fault-tolerant shared file system to create \"lock\" files which will be checked for by each machine depending on the customer\nUsing a special table in our database, and locking the whole table in order to do a \"test-and-set\" for a lock record.\nUsing Terracotta, an open source server software which assists in scaling, but uses a hub-and-spoke model.\nUsing EHCache for synchronous replication of my in-memory \"locks.\"\n\nI can't imagine that I'm the only person who's ever had this kind of problem.  How did you solve it?  Did you cook something up in-house or do you have a favorite 3rd-party product?\n", "I have a legacy C++ module that offers encryption/decryption using the openssl library (DES encryption). I'm trying to translate that code into java, and I don't want to rely on a DLL, JNI, etc...\nC++ code looks like:\ndes_string_to_key(reinterpret_cast<const char *>(key1), &initkey);\ndes_string_to_key(reinterpret_cast<const char *>(key2), &key);\nkey_sched(&key, ks);\n// ...\ndes_ncbc_encrypt(reinterpret_cast<const unsigned char *>(tmp.c_str()), \nreinterpret_cast< unsigned char *>(encrypted_buffer), tmp.length(), ks, &initkey, \nDES_ENCRYPT);\n\nreturn base64(reinterpret_cast<const unsigned char *>(encrypted_buffer),    strlen(encrypted_buffer));\n\nJava code looks like:\nCipher ecipher;\ntry {\n    ecipher = Cipher.getInstance(\"DES\");\n    SecretKeySpec keySpec = new SecretKeySpec(key, \"DES\");      \n    ecipher.init(Cipher.ENCRYPT_MODE, keySpec);         \n    byte[] utf8 = password.getBytes(\"UTF8\");\n    byte[] enc = ecipher.doFinal(utf8);\n    return new sun.misc.BASE64Encoder().encode(enc);\n}\ncatch {\n    // ...\n}\n\nSo I can do DES encryption in Java pretty easily, but how can I get the same result as with the above code with methods that are completely different? What bothers me in particular is the fact that the C++ version uses 2 keys while the Java version uses only 1 key.\nThe answer about DES in CBC mode is quite satisfying but I can't get it to work yet.\nHere are more details about the original code:\n    unsigned char key1[10]= {0};\n    unsigned char key2[50]= {0};\nint i;\nfor (i=0;i<8;i++)\n    key1[i] = 31+int((i*sqrt((double)i*5)))%100;\nkey1[9]=0;\n\nfor (i=0;i<48;i++)\n    key2[i] = 31+int((i*i*sqrt((double)i*2)))%100;\nkey2[49]=0;\n...\n// Initialize encrypted buffer\nmemset(encrypted_buffer, 0, sizeof(encrypted_buffer));\n\n// Add begin Text and End Text to the encrypted message\nstd::string input;\nconst char beginText = 2;\nconst char endText = 3;\ninput.append(1,beginText);\ninput.append(bufferToEncrypt);\ninput.append(1,endText);    \n\n// Add padding\ntmp.assign(desPad(input));\n\ndes_ncbc_encrypt(reinterpret_cast<const unsigned char *>(tmp.c_str()),     \nreinterpret_cast< unsigned char *>(encrypted_buffer), tmp.length(), ks, &initkey, \nDES_ENCRYPT);\n...\n\nFrom what I've read, the key should be 56 (or 64, it's not clear to me) bits long, but here it's 48 bytes long.\n", "I have an AST derived from the ANTLR Parser Generator for Java. What I want to do is somehow construct a control flow graph of the source code, where each statement or expression is a unique Node. I understand there must be some recursiveness to this identification, I was wondering what you would suggest as the best option and if ANTLR has a toolset I can use for this job.\nCheers,\nChris\n\nEDIT - My main concern is to get a control flow graph(CFG) from the AST. This way I can get a tree representation of the source. To clarify, both the source code and the implementation language is Java.\n", "I'm looking to have text display vertically, first letter at the bottom, last letter at the top, within a JLabel.  Is this possible?\n", "I've been wondering about the performance improvements touted in Java SE 6 - is it in the compiler or the runtime? Put another way, would a Java 5 application compiled by JDK 6 see an improvement run under JSE 5 (indicating improved compiler optimization)? Would a Java 5 application compiled by JDK 5 see an improvement run under JSE 6 (indicating improved runtime optimization)?\nI've noticed that compiling under JDK 6 takes almost twice as long as it did under JDK 5 for the exact same codebase; I'm hoping that at least some of that extra time is being spent on compiler optimizations, hopefully leading to more performant JARs and WARs. Sun's JDK info doesn't really go into detail on the performance improvements they've made - I assume it's a little from column A, and a little from column B, but I wonder which is the greater influence. Does anyone know of any benchmarks done on JDK 6 vs. JDK 5?\n", "Why is it that they decided to make string immutable in Java and .NET (and some other languages)? Why didn't they make it mutable?\n", "Does someone know if it is possible to modify the JVM settings at runtime (e.g. -dname=value)?\nI need this little trick to run my Java stored procedure (oracle 10g).\n", "I want to read the contents of a URL but don't want to \"hang\" if the URL is unresponsive.  I've created a BufferedReader using the URL...\nURL theURL = new URL(url);\nURLConnection urlConn = theURL.openConnection();\nurlConn.setDoOutput(true);\nBufferedReader urlReader = new BufferedReader(newInputStreamReader(urlConn.getInputStream()));\n\n...and then begun the loop to read the contents...\ndo\n    {\n    buf = urlReader.readLine();\n    if (buf != null)\n        {\n        resultBuffer.append(buf);\n        resultBuffer.append(\"\\n\");\n        }\n    }\nwhile (buf != null);\n\n...but if the read hangs then the application hangs.\nIs there a way, without grinding the code down to the socket level, to \"time out\" the read if necessary?\n", "I saw some code like the following in a JSP\n<c:if test=\"<%=request.isUserInRole(RoleEnum.USER.getCode())%>\">\n    <li>user</li>\n</c:if>\n\nMy confusion is over the \"=\" that appears in the value of the test attribute. My understanding was that anything included within <%= %> is printed to the output, but surely the value assigned to test must be a Boolean, so why does this work?\nFor bonus points, is there any way to change the attribute value above such that it does not use scriptlet code? Presumably, that means using EL instead.\nCheers,\nDon\n", "Suppose you have a collection of a few hundred in-memory objects and you need to query this List to return objects matching some SQL or Criteria like query. For example, you might have a List of Car objects and you want to return all cars made during the 1960s, with a license plate that starts with AZ, ordered by the name of the car model. \nI know about JoSQL, has anyone used this, or have any experience with other/homegrown solutions?\n", "I have the following code:\n        String inputFile = \"somefile.txt\";\n        FileInputStream in = new FileInputStream(inputFile);\n        FileChannel ch = in.getChannel();\n        ByteBuffer buf = ByteBuffer.allocateDirect(BUFSIZE);  // BUFSIZE = 256\n\n        /* read the file into a buffer, 256 bytes at a time */\n        int rd;\n        while ( (rd = ch.read( buf )) != -1 ) {\n            buf.rewind();\n            for ( int i = 0; i < rd/2; i++ ) {\n                /* print each character */\n                System.out.print(buf.getChar());\n            }\n            buf.clear();\n        }\n\nBut the characters get displayed at ?'s.  Does this have something to do with Java using Unicode characters?  How do I correct this?\n", "I have an XML file that's the output from a database.  I'm using the Java SAX parser to parse the XML and output it in a different format.  The XML contains some invalid characters and the parser is throwing errors like 'Invalid Unicode character (0x5)'\nIs there a good way to strip all these characters out besides pre-processing the file line-by-line and replacing them?  So far I've run into 3 different invalid characters (0x5, 0x6 and 0x7).  It's a ~4gb database dump and we're going to be processing it a bunch of times, so having to wait an extra 30 minutes each time we get a new dump to run a pre-processor on it is going to be a pain, and this isn't the first time I've run into this issue.\n", "If you have binary strings (literally String objects that contain only 1's and 0's), how would you output them as bits into a file?\nThis is for a text compressor I was working on; it's still bugging me, and it'd be nice to finally get it working. Thanks!\n", "Part of our java application needs to run javascript that is written by non-developers.  These non-developers are using javascript for data formatting. (Simple logic and string concatenation mostly).\nMy question is how can I setup the execution of these scripts to make sure scripting errors don't have a major negative impact on the rest of the application.\n\nNeed to guard against infinite loops\nGuard against spawning new threads.  \nLimit access to services and environment\n\n\nFile system (Example: If a disgruntled script writer decided to delete files)\nDatabase (Same thing delete database records)\n\n\nBasically I need to setup the javascript scope to only include exactly what they need and no more.\n", "You might have a set of properties that is used on the developer machine, which varies from developer to developer, another set for a staging environment, and yet another for the production environment. \nIn a Spring application you may also have beans that you want to load in a local environment but not in a production environment, and vice versa. \nHow do you handle this? Do you use separate files, ant/maven resource filtering or other approaches? \n", "How do you check if a one-character String is a letter - including any letters with accents?\nI had to work this out recently, so I'll answer it myself, after the recent VB6 question reminded me.\n", "Here is my problem: I've got a dialog with some parameters that the user can change (via a spinner for example). Each time one of these parameters is changed, I launch a thread to update a 3D view according to the new parameter value. \nIf the user changes another value (or the same value again by clicking many times on the spinner arrow) while the first thread is working, I would like to abort the first thread (and the update of the 3D view) and launch a new one with the latest parameter value.\nHow can I do something like that?\nPS: There is no loop in the run() method of my thread, so checking for a flag is not an option: the thread updating the 3D view basically only calls a single method that is very long to execute. I can't add any flag in this method asking to abort either as I do not have access to its code.\n", "Working on a project that parses a log of events, and then updates a model based on properties of those events. I've been pretty lazy about \"getting it done\" and more concerned about upfront optimization, lean code, and proper design patterns. Mostly a self-teaching experiment. I am interested in what patterns more experienced designers think are relevant, or what type of pseudocoded object architecture would be the best, easiest to maintain and so on.\nThere can be 500,000 events in a single log, and there are about 60 types of events, all of which share about 7 base properties and then have 0 to 15 additional properties depending on the event type. The type of event is the 2nd property in the log file in each line.\nSo for I've tried a really ugly imperative parser that walks through the log line by line and then processes events line by line. Then I tried a lexical specification that uses a \"nextEvent\" pattern, which is called in a loop and processed. Then I tried a plain old \"parse\" method that never returns and just fires events to registered listener callbacks. I've tried both a single callback regardless of event type, and a callback method specific to each event type.\nI've tried a base \"event\" class with a union of all possible properties. I've tried to avoid the \"new Event\" call (since there can be a huge number of events and the event objects are generally short lived) and having the callback methods per type with primitive property arguments. I've tried having a subclass for each of the 60 event types with an abstract Event parent with the 7 common base properties.\nI recently tried taking that further and using a Command pattern to put event handling code per event type. I am not sure I like this and its really similar to the callbacks per type approach, just code is inside an execute function in the type subclasses versus the callback methods per type. \nThe problem is that alot of the model updating logic is shared, and alot of it is specific to the subclass, and I am just starting to get confused about the whole thing. I am hoping someone can at least point me in a direction to consider!\n", "What are the best practices for using Java's @Override annotation and why?   \nIt seems like it would be overkill to mark every single overridden method with the @Override annotation.   Are there certain programming situations that call for using the @Override and others that should never use the @Override?   \n", "I have a handful of projects that all use one project for the data model.  Each of these projects has its own applicationContext.xml file with a bunch of repetitive data stuff within it.\nI'd like to have a modelContext.xml file and another for my ui.xml, etc.\nCan I do this?\n", "In C# and in Java (and possibly other languages as well), variables declared in a \"try\" block are not in scope in the corresponding \"catch\" or \"finally\" blocks.  For example, the following code does not compile:\ntry {\n  String s = \"test\";\n  // (more code...)\n}\ncatch {\n  Console.Out.WriteLine(s);  //Java fans: think \"System.out.println\" here instead\n}\n\nIn this code, a compile-time error occurs on the reference to s in the catch block, because s is only in scope in the try block.  (In Java, the compile error is \"s cannot be resolved\"; in C#, it's \"The name 's' does not exist in the current context\".)\nThe general solution to this issue seems to be to instead declare variables just before the try block, instead of within the try block:\nString s;\ntry {\n  s = \"test\";\n  // (more code...)\n}\ncatch {\n  Console.Out.WriteLine(s);  //Java fans: think \"System.out.println\" here instead\n}\n\nHowever, at least to me, (1) this feels like a clunky solution, and (2) it results in the variables having a larger scope than the programmer intended (the entire remainder of the method, instead of only in the context of the try-catch-finally).\nMy question is, what were/are the rationale(s) behind this language design decision (in Java, in C#, and/or in any other applicable languages)?  \n", "I am trying to write a simple networked chat program in Java.  I have almost no networking experience.  I was wondering what resources I should begin looking at (beside here of course).\nSticking with the core Java API would be best for now.\n", "I'm using the following code to query a database from my jsp, but I'd like to know more about what's happening behind the scenes.\nThese are my two primary questions.\nDoes the tag access the ResultSet directly, or is the query result being stored in a datastructure in memory?\nWhen is the connection closed?\n<%@ taglib prefix=\"sql\" uri=\"http://java.sun.com/jsp/jstl/sql\" %>\n\n<sql:query var=\"query\" dataSource=\"${ds}\" sql=\"${listQuery}\"></sql:query>\n<c:forEach var=\"row\" items=\"${query.rows}\" begin=\"0\">\n    ${row.data }\n    ${row.more_data }\n</c:forEach>\n\nNote: I've always been against running queries in the jsp, but my result set is too large to store in memory between my action and my jsp. Using this tag library looks like the easiest solution.\n", "I have:\nclass MyClass extends MyClass2 implements Serializable {\n  //...\n}\n\nIn MyClass2 is a property that is not serializable. How can I serialize (and de-serialize) this object?\nCorrection: MyClass2 is, of course, not an interface but a class.\n", "If a class defined an annotation, is it somehow possible to force its subclass to define the same annotation?\nFor instance, we have a simple class/subclass pair that share the @Author @interface.\nWhat I'd like to do is force each further subclass to define the same @Author annotation, preventing a RuntimeException somewhere down the road. \nTestClass.java:\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\n@interface Author { String name(); }\n\n@Author( name = \"foo\" )\npublic abstract class TestClass\n{\n    public static String getInfo( Class<? extends TestClass> c )\n    {\n        return c.getAnnotation( Author.class ).name();\n    }\n\n    public static void main( String[] args )\n    {\n        System.out.println( \"The test class was written by \"\n                        + getInfo( TestClass.class ) );\n        System.out.println( \"The test subclass was written by \" \n                        + getInfo( TestSubClass.class ) );\n    }\n}\n\nTestSubClass.java:\n@Author( name = \"bar\" )\npublic abstract class TestSubClass extends TestClass {}\n\nI know I can enumerate all annotations at runtime and check for the missing @Author, but I'd really like to do this at compile time, if possible.\n", "Had a conversation with a coworker the other day about this.\nThere's the obvious which is to use a constructor, but what other ways are there?\n", "I have a series of functional tests against a web application that correctly run, but each require the class level setup and teardown provided with the @BeforeClass and @AfterClass annotations, and hence require JUnit 4.0 or above.\nNow I want to perform load testing using a small number of these functional tests, which simulate a large number of users requesting the related page of the web application.  In order for each user to have their own \"simulated browser\" in JWebUnit, I need to use a TestFactory in JUnitPerf to instantiate the class under test, but since JUnit 4 tests are annotated with @Test instead of being derived from TestCase, I'm getting a TestFactory must be constructed with a TestCase class exception.\nIs anyone successfully using JUnitPerf and its TestFactory with JUnit 4?  And what is the secret sauce that lets it all work?\n", "We'd like a trace in our application logs of these exceptions - by default Java just outputs them to the console.\n", "I'm writing a report view of an audit trail, and I need to display this in a .jsp. What's the \"best\" way to get the data from the database to the screen?\nWe're using Spring for dependency injection, Data Access Objects, and Hibernate.\nI can use hibernate or straight jdbc for this report.\nIf I load all the records into memory I run out of memory.\nAny ideas that don't involve running the query in the jsp?\n", "I create a web application (WAR) and deploy it on Tomcat. In the webapp there is a page with a form where an administrator can enter some configuration data. I don't want to store this data in an DBMS, but just in an XML file on the file system. Where to put it?\nI would like to put the file somewhere in the directory tree where the application itself is deployed. Should my configuration file be in the WEB-INF directory? Or put it somewhere else? \nAnd what is the Java code to use in a servlet to find the absolute path of the directory? Or can it be accessed with a relative path?\n", "I am trying to write a servlet that will send a XML file (xml formatted string) to another servlet via a POST.\n(Non essential xml generating code replaced with \"Hello there\")\n   StringBuilder sb=  new StringBuilder();\n    sb.append(\"Hello there\");\n\n    URL url = new URL(\"theservlet's URL\");\n    HttpURLConnection connection = (HttpURLConnection)url.openConnection();                \n    connection.setRequestMethod(\"POST\");\n    connection.setRequestProperty(\"Content-Length\", \"\" + sb.length());\n\n    OutputStreamWriter outputWriter = new OutputStreamWriter(connection.getOutputStream());\n    outputWriter.write(sb.toString());\n    outputWriter.flush();\n    outputWriter.close();\n\nThis is causing a server error, and the second servlet is never invoked.\n", "What are some good package naming conventions for domain specific object models.  For example, say you have a Person.java POJO, would you put it in a mydomain.model or  mydomain.entity or mydomain.om (object model) package.  The idea is to separate the MVC model objects from the domain object model.  Our MVC based application has a model package that contains behavior but using that package to contain our domain object model seems inappropriate and potentially confusing.  \n", "What would the differences be in implementing remote business logic?\nCurrently we are planning on using ADF to develop front-end web applications (moving from Struts). What are the differences between the front end calling EJBs using TopLink vs ADF Business Components through RMI in terms of scalability as the migration from Struts to ADF will also encompass PL/SQL and Oracle Forms, thus increasing the user count drastically?\n", "I am using Oracle 9 and JDBC and would like to encyrpt a clob as it is inserted into the DB.  Ideally I'd like to be able to just insert the plaintext and have it encrypted by a stored procedure:\nString SQL = \"INSERT INTO table (ID, VALUE) values (?, encrypt(?))\";\nPreparedStatement ps = connection.prepareStatement(SQL);\nps.setInt(id);\nps.setString(plaintext);\nps.executeUpdate();\n\nThe plaintext is not expected to exceed 4000 characters but encrypting makes text longer.  Our current approach to encryption uses dbms_obfuscation_toolkit.DESEncrypt() but we only process varchars.  Will the following work?\nFUNCTION encrypt(p_clob IN CLOB) RETURN CLOB\nIS\n    encrypted_string        CLOB;\n    v_string                CLOB;\nBEGIN\n  dbms_lob.createtemporary(encrypted_string, TRUE);\n  v_string := p_clob;\n  dbms_obfuscation_toolkit.DESEncrypt(\n    input_string => v_string,\n    key_string => key_string,\n    encrypted_string => encrypted_string );\n  RETURN UTL_RAW.CAST_TO_RAW(encrypted_string);\nEND;\n\nI'm confused about the temporary clob; do I need to close it?  Or am I totally off-track?\nEdit:\nThe purpose of the obfuscation is to prevent trivial access to the data.  My other purpose is to obfuscate clobs in the same way that we are already obfuscating the varchar columns.  The oracle sample code does not deal with clobs which is where my specific problem lies; encrypting varchars (smaller than 2000 chars) is straightforward.\n", "We're in an early stage of a new web project. The project will grow and become complex over time. From the beginning we will have unit and integration tests using JUnit and system tests using HtmlUnit. We might also add some static code analysis tools to the build process if they prove to be of value to us.\nIf you're or have been involved in a project which uses continuous integration. Which software do/did you use and do you think it has payed off? Which software would you recommend for continuous integration of a Java web project?\n", "I learned Java in college, and then I was hired by a C# shop and have used that ever since. I spent my first week realizing that the two languages were almost identical, and the next two months figuring out the little differences. For the most part, was I noticing the things that Java had that C# doesn't, and thus was mostly frustrated. (example: enum types which are full-fledged classes, not just integers with a fresh coat of paint) I have since come to appreciate the C# world, but I can't say I knew Java well enough to really contrast the two so I'm curious to get a community cross-section.\nWhat are the relative merits and weaknesses of C# and Java? This includes everything from language structure to available IDEs and server software.\n", "My boss loves VB (we work in a Java shop) because he thinks it's easy to learn and maintain. We want to replace some of the VB with java equivalents using the Eclipse SWT editor, because we think it is almost as easy to maintain. To sell this, we'd like to use an aerith style L&F.\nCan anyone provide an example of an SWT application still being able to edit the GUI in eclipse, but having the Aerith L&F?\n", "Being vaguely familiar with the Java world I was googling for a static analysis tool that would also was intelligent enough to fix the issues it finds. I ran at CodePro tool but, again, I'm new to the Java community and don't know the vendors. \nWhat tool can you recommend based on the criteria above?\n", "Never used a cache like this before. The problem is that I want to load 500,000 + records out of a database and do some selecting/filtering wicked fast.\nI'm thinking about using a cache, and preliminarily found EHCache and OSCache, any opinions?\n", "I are using EJB 3 on a fairly large J2EE project, by default with Netbeans sets the persistent provider for the entity beans to TopLink. There is the option to change the provider to one of the following or even add a new persistence library:\n\nHibernate\nKODO\nOpenJPA\n\nWhich persistence provider do you prefer to use? What are the benefits of using the another provider?\nWhile TopLink seems to be good, I can't find much good documentation on how to control caching etc. Any help would be much appreciated. \n", "I often refactor code first by creating an inner class inside the class I'm working on--When I'm done, I move the entire thing into a new class file.  This makes refactoring code into the new class extremely easy because A) I'm only dealing with a single file, and B) I don't create new files until I have a pretty good idea of the name/names (Sometimes it ends up as more than one class).\nIs there any way Eclipse can help me with the final move?  I should just be able to tell it what package I want the class in, it can figure out the filename from the class name and the directory from the package.\nThis seems like a trivial refactor and really obvious, but I can't figure out the keystrokes/gestures/whatever to make it happen.  I've tried dragging, menus, context menus, and browsing through the keyboard shortcuts.\nAnyone know this one?\n[edit] These are already \"Top Level\" classes in this file, not inner classes, and \"Move\" doesn't seem to want to create a new class for me. This is the hard way that I usually do it--involves going out, creating an empty class, coming back and moving.  I would like to do the whole thing in a single step.\n", "I have a system that combines the best and worst of Java and PHP. I am trying to migrate a component that was once written in PHP into a Java One.\nDoes anyone have some tips for how I can parse a PHP serialized datastructure in Java? By serialized I mean output from php's serialize function.\n", "I've been using Visual Studio with Re-Sharper for the past few years and have recently taken a gig at a Java shop where we use Eclipse.  Googling for Eclipse hotkeys has returned a bunch of 'Top 10 Hot-Key' posts, but that's about it.  \nWhat are your favorite hotkeys?  And which are essential? \n", "My model layer is being used by a handful of different projects and I'd like to use a single XML Spring Configuration file for the model regardless of which project is using it.\nMy question is: Since not all beans are used in all projects am I wasting resources to any significant amount if there not being instantiated?  I'm not too sure how lazy Spring is about loading them since it's never been an issue until now.\nAny ideas?\n", "The NetBeans 6.1 editor doesn't seem to like to wrap comments, and the code formatter seems to ignore them.  For JavaDoc comments, this behaviour seems inappropriate, as you can end up spending a lot of wasted time manually reflowing paragraphs.\nI was wondering if there's some magic setting to get the builtin code formatter, or the editor to wrap/reflow javadoc comments?\n", "What is the best way to generate a current datestamp in Java? \nYYYY-MM-DD:hh-mm-ss\n", "I often see code like:\nIterator i = list.iterator();\nwhile(i.hasNext()) {\n    ...\n}\n\nbut I write that (when Java 1.5 isn't available or for each can't be used) as:\nfor(Iterator i = list.iterator(); i.hasNext(); ) {\n    ...\n}\n\nbecause\n\nIt is shorter\nIt keeps i in a smaller scope\nIt reduces the chance of  confusion. (Is i used outside the\nwhile? Where is i declared?)\n\nI think code should be as simple to understand as possible so that I only have to make complex code to do complex things. What do you think? Which is better?\nFrom: http://jamesjava.blogspot.com/2006/04/iterating.html\n", "For RMI on server-side, do we need to start rmiregistry program, or just call LocateRegistry.createRegistry? \nIf both are possible, what are the advantages and disadvantages?\n", "I'm interested in how java organizes memory and executes code (like what gets put in the stack or the heap), from the start of main, to assigning variables, calling functions, passing parameters, returning values, instantiating objects, etc. Has anyone found a good, beginner-friendly article/reference on it? Preferably online, of course, but any suggestions or answers will be greatly appreciated. Thanks.\n", "Obviously the Java API reference, but what else is there that you all use?  \nI've been doing web development my entire career.  Lately I've been messing around a lot with Groovy and I've decided to do a small application in Griffon just to experiment more with Groovy and also break some ground in desktop development.  The only thing is I'm totally green when it comes to desktop apps.\nSo, world, where's a good place to start?\n", "I'm at the beginning/middle of a project that we chose to implement using GWT. Has anyone encountered any major pitfalls in using GWT (and GWT-EXT) that were unable to be overcome? How about from a performance perspective?\nA couple things that we've seen/heard already include:\n\nGoogle not being able to index content\nCSS and styling in general seems to be a bit flaky\n\nLooking for any additional feedback on these items as well. Thanks!\n", "I'm investigating the following java.lang.VerifyError\njava.lang.VerifyError: (class: be/post/ehr/wfm/application/serviceorganization/report/DisplayReportServlet, method: getMonthData signature: (IILjava/util/Collection;Ljava/util/Collection;Ljava/util/HashMap;Ljava/util/Collection;Ljava/util/Locale;Lorg/apache/struts/util/MessageRe\u00c2\u02dc\u00cc\u00b4Mt\u00cc\u00b4M\u00c3\u0161w\u00c2\u20acm\u00c3\u00a7w\u00c2\u20acmp:\u00c2\u201dM\u00c2\u0152\u00c2\u0152\n                at java.lang.Class.getDeclaredConstructors0(Native Method)\n                at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\n                at java.lang.Class.getConstructor0(Class.java:2671)\n\nIt occurs when the jboss server in which the servlet is deployed is started.\nIt is compiled with jdk-1.5.0_11 and I tried to recompile it with jdk-1.5.0_15 without succes. That is the compilation runs fine but when deployed, the java.lang.VerifyError occurs.\nWhen I changed the method name and got the following error:\njava.lang.VerifyError: (class: be/post/ehr/wfm/application/serviceorganization/report/DisplayReportServlet, method: getMD signature: (IILjava/util/Collection;Lj    ava/util/Collection;Ljava/util/HashMap;Ljava/util/Collection;Ljava/util/Locale;Lorg/apache/struts/util/MessageResources\u252c\u00e1\u251c\u00ff\u251c\u00e0N|\u251c\u00ff\u251c\u00e0N\u251c\u00dcw\u252c\u00c7m\u251c\u00baw\u252c\u00c7mX#\u251c\u00fbM|X\u251c\u00f6M\n            at java.lang.Class.getDeclaredConstructors0(Native Method)\n            at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357\n            at java.lang.Class.getConstructor0(Class.java:2671)\n            at java.lang.Class.newInstance0(Class.java:321)\n            at java.lang.Class.newInstance(Class.java:303)\n\nYou can see that more of the method signature is shown.\nThe actual method signature is\n  private PgasePdfTable getMonthData(int month, int year, Collection dayTypes,\n                          Collection calendarDays,\n                          HashMap bcSpecialDays,\n                          Collection activityPeriods,\n                          Locale locale, MessageResources resources) throws   Exception {\n\nI already tried looking at it with javap and that gives the method signature as it should be.\nWhen my other colleagues check out the code, compile it and deploy it, they have the same problem. When the build server picks up the code and deploys it on development or testing environments (HPUX), the same error occurs. Also an automated testing machine running Ubuntu shows the same error during server startup.\nThe rest of the application runs okay, only that one servlet is out of order.\nAny ideas where to look would be helpful.\n", "I would like to create an application wide keyboard shortcut for a Java Swing application.\nLooping over all components and adding the shortcut on each, has focus related side effects, and seems like a brute force solution.\nAnyone has a cleaner solution?\n", "I just installed Glassfish V2 on my local machine just to play around with it.\nI was wondering if there is a way to retrieve a param passed in by the GET HTTP method.\nFor instance,\nhttp://localhost:8080/HelloWorld/resources/helloWorld?name=ABC\n\nHow do I retrieve the \"name\" param in my Java code?\n", "My developers are waging a civil war. In one camp, they've embraced Hibernate and Spring. In the other camp, they've denounced frameworks - they're considering Hibernate though.\nThe question is: Are there any nasty surprises, weaknesses or pit-falls that newbie Hibernate-Spring converts are likely to stumble on?\n\nPS: We've a DAO library that's not very sophisticated. I doubt that it has Hibernate's richness, but it's reaching some sort of maturity (i.e. it's not been changed in the last few projects it's included).\n", "I'm wondering, how expensive it is to have many threads in waiting state in java 1.6 x64.\nTo be more specific, I'm writing application which runs across many computers and sends/receives data from one to another. I feel more comfortable to have separate thread for each connected machine and task, like 1) sending data, 2) receiving data, 3) reestablishing connection when it is dropped. So, given that there are N nodes in cluster, each machine is going to have 3 threads for each of N-1 neighbours. Typically there will be 12 machines, which comes to 33 communication threads.\nMost of those threads will be sleeping most of the time, so for optimization purposes I could reduce number of threads and give more job to each of them. Like, for example. reestablishing connection is responsibility of receiving thread. Or sending to all connected machines is done by single thread.\nSo is there any significant perfomance impact on having many sleeping threads?\n", "I am dynamically compiling code in my client application. When I start the application with Java Web Start I get an exception. The exception only occurs when it is run through Java Web Start.\n//The exception\nevolver.core.model.change.execution.ExecutionException: Compilation failed!\n\nDynamicComparator.java:2: package evolver.core.model.i does not exist\nimport evolver.core.model.i.IDefaultObject;\n                           ^\nDynamicComparator.java:9: cannot find symbol\nsymbol  : class PropertyBag\nlocation: class DynamicComparator\nPropertyBag b2 = new PropertyBag(dob2);\n                     ^\n\nThe PropertyBag above should have been provided by the JNLPClassloader as\nit is part of one of the files that are downloaded by JWS\nThe code that causes the problem looks like this.\npublic static int compile(String javaFileName) {    \n    ByteArrayOutputStream os = new ByteArrayOutputStream();\n    PrintWriter w = new PrintWriter(os);\n    int res = com.sun.tools.javac.Main.compile(new String[]{\"-d\", \"./\", javaFileName}, w);\n    if (res != 0)\n        throw new ExecutionException(\"Compilation failed!\" + \"\\n\\n\" + os.toString());\n    return res;\n}\n\nAny help will be very appreciated!    \n", "I'm developing a restful Web service that runs as a servlet (using blocking IO) in Jetty. Figuring out the optimal setting for max threads seems hard.\nIs there a researched formula for deciding the max number of threads from some easily measurable characteristics of the rest of the setup?\n", "Was this an oversight?  Or is it to do with the JVM?\n", "Can anyone recommend a simple API that will allow me to use read a CSV input file, do some simple transformations, and then write it.\nA quick google has found http://flatpack.sourceforge.net/ which looks promising.\nI just wanted to check what others are using before I couple myself to this API.\n", "When I used to write libraries in C/C++ I got into the habit of having a method to return the compile date/time. This was always a compiled into the library so would differentiate builds of the library. I got this by returning a #define in the code:\nC++:\n#ifdef _BuildDateTime_\n   char* SomeClass::getBuildDateTime() {\n      return _BuildDateTime_;\n   }\n#else\n   char* SomeClass::getBuildDateTime() {\n      return \"Undefined\";\n   }\n#endif\n\nThen on the compile I had a '-D_BuildDateTime_=Date' in the build script.\nIs there any way to achieve this or similar in Java without needing to remember to edit any files manually or distributing any seperate files.\nOne suggestion I got from a co-worker was to get the ant file to create a file on the classpath and to package that into the JAR and have it read by the method. \nSomething like (assuming the file created was called 'DateTime.dat'):\n// I know Exceptions and proper open/closing \n// of the file are not done. This is just \n// to explain the point!\nString getBuildDateTime() {\n    return new BufferedReader(getClass()\n            .getResourceAsStream(\"DateTime.dat\")).readLine();\n}\n\nTo my mind that's a hack and could be circumvented/broken by someone having a similarly named file outside the JAR, but on the classpath.\nAnyway, my question is whether there is any way to inject a constant into a class at compile time\nEDIT\nThe reason I consider using an externally generated file in the JAR a hack is because this is) a library and will be embedded in client apps. These client apps may define their own classloaders meaning I can't rely on the standard JVM class loading rules.\nMy personal preference would be to go with using the date from the JAR file as suggested by serg10.\n", "I have an application that sends the customer to another site to handle the payments. The other site, outside of the customer, calls a page on our server to let us know what the status is of the payment. The called page checks the parameters that are given by the payment application and checks to see whether the transaction is known to us. It then updates the database to reflect the status. This is all done without any interaction with the customer.\nI have personally chosen to implement this functionality as a JSP since it is easier to just drop a file in the file system than to compile and package the file and then to add an entry into a configuration file.\nConsidering the functionality of the page I would presume that a servlet would be the preferred option. The question(s) are:\n\n  Is my presumption correct?\nIs there a real reason to use a servlet over a JSP?\nWhat are those reasons?\n", "Typing Ctrl+O twice in editor when a java type is selected pops-up an outline context dialog that displays the members && inherited members. How can I have this in the main outline view?\n", "The default 64 MB max heap memory can be small for a large Java application. Are there any applet parameter to increment this for a signed applet?\nFor a Java program this is a simple command line parameter but how this work for an applet in the browser.\n", "The server.xml which controls the startup of Apache Tomcat's servlet container contains a debug attribute for nearly every major component.  The debug attribute is more or less verbose depending upon the number you give it, zero being least and 99 being most verbose.  How does the debug level affect Tomcat's speed when servicing large numbers of users?  I assume zero is fast and 99 is relatively slower, but is this true.  If there are no errors being thrown, does it matter?\n", "I'm looking for a method that computes the line number of a given text position in a JTextPane with wrapping enabled.\nExample:\n\nThis a very very very very very very very very very very very very very very very very very very very very very very long line.\n  This is another very very very very very very very very very very very very very very very very very very very very very very long line.|\n\nThe cursor is on line number four, not two.\nCan someone provide me with the implementation of the method:\nint getLineNumber(JTextPane pane, int pos)\n{\n     return ???\n}\n\n", "I have a properties file in java, in wich i store all information of my app, like logo image filename, database name,database user and database password.\nI can store the password encrypted on the properties file.\nBut, the key or passphrase can be read out of the jar using a decompiler.\nIs there a way to store the db pass in a properties file securely?\n", "I have a query form that I would like to submit as a GET request so the result page may be bookmarked and otherwise RESTful. It's your classical text field with a submit button. How do I induce Seam/JSF to use GET and include the query expression as a parameter rather than POST, the default?\n", "I know I can specify one for each form, or for the root form and then it'll cascade through to all of the children forms, but I'd like to have a way of overriding the default Java Coffee Cup for all forms even those I might forget.\nAny suggestions?\n", "Anybody know of a good eclipse plugin for recording and playing back macros? I've tried this one, but it didn't do me any good- seemed like it wasn't ready for primetime.\nI know about editor templates, but I'm looking for something that I can use to record my keystrokes and then apply multiple times against a wad of text.\nThis seems like a strange hole in an IDE, am I missing some builtin facility for this?\n", "We recently had a security audit and it exposed several weaknesses in the systems that are in place here.  One of the tasks that resulted from it is that we need to update our partner credentials system make it more secure.  \nThe \"old\" way of doing things was to generate a (bad) password, give it to the partner with an ID and then they would send that ID and a Base 64 encoded copy of that password in with all of their XML requests over https.  We then decode them and validate them.\nThese passwords won't change (because then our partners would have to make coding/config changes to change them and coordinating password expirations with hundreds of partners for multiple environments would be a nightmare) and they don't have to be entered by a human or human readable.  I am open to changing this if there is a better but still relatively simple implementation for our partners.\nBasically it comes down to two things: I need a more secure Java password generation system and to ensure that they are transmitted in a secure way.\nI've found a few hand-rolled password generators but nothing that really stood out as a standard way to do this (maybe for good reason).  There may also be a more secure way to transmit them than simple Base 64 encoding over https.  \nWhat would you do for the password generator and do you think that the transmission method in place is secure enough for it?\nEdit: The XML comes in a SOAP message and the credentials are in the header not in the XML itself.  Also, since the passwords are a one-off operation for each partner when we set them up we're not too worried about efficiency of the generator.\n", "Seems like a simple enough question but I can't seem to find the answer. And hey, dead simple questions like this with dead simple answers is what Joel and Jeff want SO to be all about, right?\n", "I'm running some JUnit tests on my applications. Every test has a for loop calling respective method 10000 times.\nThe tested methods produce a lot of log. \nThese logs are also automatically collected by JUnit as test output.\nThis situation takes to OutOfMemoryError because the string buffer where JUnit keeps the output becomes too large.\nI dont' need these logs during tests, so if there is a way to tell JUnit \"don't keep program output\" it would be enough.\nAny ideas?\n", "I am working on an application and one design approach involves extremely heavy use of the instanceof operator. While I know that OO design generally tries to avoid using instanceof, that is a different story and this question is purely related to performance. I was wondering if there is any performance impact? Is is just as fast as ==?\nFor example, I have a base class with 10 subclasses. In a single function that takes the base class, I do checks for if the class is an instance of the subclass and carry out some routine. \nOne of the other ways I thought of solving it was to use a \"type id\" integer primitive instead, and use a bitmask to represent categories of the subclasses, and then just do a bit mask comparison of the subclasses \"type id\" to a constant mask representing the category.\nIs instanceof somehow optimized by the JVM to be faster than that? I want to stick to Java but the performance of the app is critical. It would be cool if someone that has been down this road before could offer some advice. Am I nitpicking too much or focusing on the wrong thing to optimize?\n", "We have a java program that requires a large amount of heap space - we start it with (among other command line arguments) the argument -Xmx1500m, which specifies a maximum heap space of 1500 MB. When starting this program on a Windows XP box that has been freshly rebooted, it will start and run without issues. But if the program has run several times, the computer has been up for a while, etc., when it tries to start I get this error:\n\nError occurred during initialization of VM\nCould not reserve enough space for object heap\nCould not create the Java virtual machine.\n\nI suspect that Windows itself is suffering from memory fragmentation, but I don't know how to confirm this suspicion. At the time that this happens, Task manager and sysinternals procexp report 2000MB free memory. I have looked at this question related to internal fragmentation\nSo the first question is, How do I confirm my suspicion?\nThe second question is, if my suspicions are correct, does anyone know of any tools to solve this problem? I've looked around quite a bit, but I haven't found anything that helps, other than periodic reboots of the machine. \nps - changing operating systems is also not currently a viable option. \n", "A coworker has been struggling with this problem.\nThe desired result is an installable plugin for Notes that will add a button emails with attachments that will let users save the attachment to a document management system.\nFinding documentation on doing this for Notes has been an uphill battle to say the least.\nWriting the actual java to do the work isn't a problem, but figuring out how to extend Notes is.\nSo, is there a way to add a button/icon to the toolbar, or is it just a matter of adding a new toolbar?  If we add a new toolbar then can we make it only visible (or just grey it out otherwise) when no email is open?\n", "I'm curious to know what other Java programmers feel is their favorite part of the language, why they feel that way, and why other programmers should want an intimate knowledge of it as well. I'm looking for reasons like simplicity, performance, etc. Thanks.\n", "I have Java and Flash client applications. What is the best way for the two to communicate without special Flash-specific servers such as BlazeDS or Red5? I am looking for a light client-only solution.\n", "I've been doing code review (mostly using tools like FindBugs) of one of our pet projects and FindBugs marked following code as erroneous (pseudocode):\nConnection conn = dataSource.getConnection();\n\ntry{\n    PreparedStatement stmt = conn.prepareStatement();\n    //initialize the statement\n    stmt.execute();\n    ResultSet rs =  stmt.getResultSet();\n    //get data\n}finally{\n    conn.close();\n}\n\nThe error was that this code might not release resources. I figured out that the ResultSet and Statement were not closed, so I closed them in finally:\nfinally{\n    try{\n        rs.close()\n    }catch(SqlException se){\n        //log it\n    }\n    try{\n        stmt.close();\n    }catch(SqlException se){\n        //log it\n    }\n    conn.close();\n}\n\nBut I encountered the above pattern in many projects (from quite a few companies), and no one was closing ResultSets or Statements.\nDid you have troubles with ResultSets and Statements not being closed when the Connection is closed? \nI found only this and it refers to Oracle having problems with closing ResultSets when closing Connections (we use Oracle db, hence my corrections). java.sql.api says nothing in Connection.close() javadoc.\n", "There is a case where a map will be constructed, and once it is initialized, it will never be modified again.  It will however, be accessed (via get(key) only) from multiple threads.  Is it safe to use a java.util.HashMap in this way?\n(Currently, I'm happily using a java.util.concurrent.ConcurrentHashMap, and have no measured need to improve performance, but am simply curious if a simple HashMap would suffice.  Hence, this question is not \"Which one should I use?\" nor is it a performance question.  Rather, the question is \"Would it be safe?\")\n", "I use the Eclipse IDE to develop, compile, and run my Java projects. Today, I'm trying to use the java.io.Console class to manage output and, more importantly, user input.\nThe problem is that System.console() returns null when an application is run \"through\" Eclipse. Eclipse run the program on a background process, rather than a top-level process with the console window we're familiar with.\nIs there a way to force Eclipse to run the program as a top level process, or at least create a Console that the JVM will recognize? Otherwise, I'm forced to jar the project up and run on a command-line environment external to Eclipse.\n", "I wrote an application in Java and when it runs on one customer's computer running OS X The Save and Export buttons are disabled. (Everything else works in the application.)\nBoth of these buttons open up a standard save file dialog.\nAny ideas?\n", "Everywhere I look always the same explanation pop ups.\nConfigure the view resolver.\n<bean id=\"viewMappings\"\n      class=\"org.springframework.web.servlet.view.ResourceBundleViewResolver\">\n    <property name=\"basename\" value=\"views\" />\n</bean>\n\nAnd then put a file in the classpath named view.properties with some key-value pairs (don't mind the names).\nlogout.class=org.springframework.web.servlet.view.JstlView\nlogout.url=WEB-INF/jsp/logout.jsp\n\nWhat does logout.class and logout.url mean?\nHow does ResourceBundleViewResolver uses the key-value pairs in the file?\nMy goal is that when someone enters the URI myserver/myapp/logout.htm the file logout.jsp gets served.\n", "I need to write a Java Comparator class that compares Strings, however with one twist.  If the two strings it is comparing are the same at the beginning and end of the string are the same, and the middle part that differs is an integer, then compare based on the numeric values of those integers.  For example, I want the following strings to end up in order they're shown:\n\naaa\nbbb 3 ccc\nbbb 12 ccc\nccc 11\nddd\neee 3 ddd jpeg2000 eee\neee 12 ddd jpeg2000 eee\n\nAs you can see, there might be other integers in the string, so I can't just use regular expressions to break out any integer.  I'm thinking of just walking the strings from the beginning until I find a bit that doesn't match, then walking in from the end until I find a bit that doesn't match, and then comparing the bit in the middle to the regular expression \"[0-9]+\", and if it compares, then doing a numeric comparison, otherwise doing a lexical comparison.\nIs there a better way?\nUpdate I don't think I can guarantee that the other numbers in the string, the ones that may match, don't have spaces around them, or that the ones that differ do have spaces.\n", "Why isn't Collection.remove(Object o) generic?  \nSeems like Collection<E> could have boolean remove(E o); \nThen, when you accidentally try to remove (for example) Set<String> instead of each individual String from a Collection<String>, it would be a compile time error instead of a debugging problem later.\n", "I've got a (mostly) working plugin developed, but since its function is directly related to the project it processes, how do you develop unit and integration tests for the plugin.  The best idea I've had is to create an integration test project for the plugin that uses the plugin during its lifecycle and has tests that report on the plugins success or failure in processing the data.\nAnyone with better ideas?\n", "When I start Tomcat (6.0.18) from Eclipse (3.4), I receive this message (first in the log):\n\nWARNING:\n  [SetPropertiesRule]{Server/Service/Engine/Host/Context}\n  Setting property 'source' to\n  'org.eclipse.jst.jee.server: (project name)'\n  did not find a matching property.\n\nSeems this message does not have any severe impact, however, does anyone know how to get rid of it?\n", "I have a side project I do = in Java. It's a pretty straight-forward webapp. It runs in Tomcat on a Linux Server and  uses a MySQL database. The majority of the code was written with the Spring Framework. It has a lot of Unit Tests in place. When I'm coding it's in  Eclipse. When I deploy the application I run a few shell scripts to move a WAR file to the web server, do Database updates, and make changes to apache configs. I'm the only developer working on it, and right now it's only deployed to 1 environment(production), although some day I might want to have a testing or staging environment as well. I use SVN version control, via the Eclipse plug-in.\nI'm always hearing about people using Maven for their projects. Since so many people are using it, I'm saying to myself it must be good. I'd like to learn it in my spare time. The only thing is I'm not quite sold on why I'd want to use Maven? Does my first paragraph sound like a project appropriate for Maven? Does it have any specific advantages for a project that interacts with a Database?\n", "I am using gsoap to create a soap server in C++. Messages are routed through a bus written in Java. Both the server and the bus are multithreaded. Everything works well sending one message at a time through the system. If I start 3 clients each sending messages as fast as possible everything is fine for about 3500 messages. Then I begin receiving periodic \"Only one socket connection allowed at a time.\" errors from the gsoap code. Typical about 3950 of 4000 messages make it through OK. With all 50 failures happening in the last 500 sends. \n\nWhy would these errors occur after many sends, but not at the beginning of the sending? The rate of send does not increase.\nWhat is it talking about? I cannot find any explanation of the error, and its meaning is not clear to me.\nAnyone successfully multithreaded a gsoap app?\n\nHere is my server code.\nlong WINAPI threadGO(soap *x);\n\nint main(int argc, char* argv[])\n{\nHANDLE thread1;\nint m, s; /* master and slave sockets */\nstruct soap *soap = soap_new();\nif (argc < 2)\nsoap_serve(soap); /* serve as CGI application */\nelse\n{ \n  m = soap_bind(soap, NULL, atoi(argv[1]), 100); \n  if (m < 0)\n  { \n      soap_print_fault(soap, stderr);\n      exit(-1);\n  }\n  fprintf(stderr, \"Socket connection successful: master socket = %d\\n\", m);\n  for (;;)\n  {\n     s = soap_accept(soap);\n     thread1 =    CreateThread(NULL,0,(LPTHREAD_START_ROUTINE)threadGO,soap_copy(soap),0,NULL);\n  }\n}\nsoap_done(soap);\nfree(soap);\nreturn 0;\n}\n\nlong WINAPI threadGO(soap *x)\n{\nsoap_serve(x);\nsoap_end(x);\nreturn 0\n\n;\n}\n\n", "Ideally I'd like a way to enable the mouse wheel for scrolling in old compiled java runtime apps, but java code to explicitly utilise it for an individual app would suffice. \n", "We are currently using Apache 2.2.3 and Tomcat 5 (Embedded in JBoss 4.2.2) using mod_proxy_jk as the connector.\nCan someone shed some light on the the correct way to calculate / configure the values below (as well as anything else that may be relevant).  Both Apache and Tomcat are running on separate machines and have copious amounts of ram (4gb each).\nRelevant server.xml portions:\n<Connector port=\"8009\"\n           address=\"${jboss.bind.address}\"\n           protocol=\"AJP/1.3\"\n           emptySessionPath=\"true\"\n           enableLookups=\"false\"\n           redirectPort=\"8443\"\n           maxThreads=\"320\"\n           connectionTimeout=\"45000\"\n    />\n\nRelevant httpd.conf portions: \n<IfModule prefork.c>\n  StartServers       8\n  MinSpareServers    5\n  MaxSpareServers   20\n  ServerLimit      256\n  MaxClients       256\n  MaxRequestsPerChild  0\n</IfModule>\n\n", "I saw this quote on the question: What is a good functional language on which to build a web service?\n\nScala in particular doesn't support tail-call elimination except in self-recursive functions, which limits the kinds of composition you can do (this is a fundamental limitation of the JVM).\n\nIs this true?  If so, what is it about the JVM that creates this fundamental limitation?\n", "According to what I have found so far, I can use the following code:\n\n    LocalSessionFactoryBean sessionFactory = (LocalSessionFactoryBean)super.getApplicationContext().getBean(\"&sessionFactory\");\n    System.out.println(sessionFactory.getConfiguration().buildSettings().getJdbcBatchSize());\n\nbut then I get a Hibernate Exception:\n\norg.hibernate.HibernateException: No local DataSource found for\n  configuration - dataSource property must be set on\n  LocalSessionFactoryBean\n\nCan somebody shed some light?\n", "In java, which regular expression can be used to replace these,\nfor example:\nbefore:\naaabbb\nafter:\nab\nbefore:\n14442345 \nafter:\n142345\nthanks!\n", "We have a web application that was implemented using GWT. What it presents is fetched from a Jboss/Seam server using the remoting mechanism, and this works fine. However, the application is now extended to support sessions and users. The Seam GWT service doesn't seem to provide a way to let me log in such that Seam can return restricted data back to the GWT application, and so it looks to me that I will have to wrap the GWT application in facelets.\nIt is not obvious to me that a login using the Seam session mechanism will help me get correct data into the GWT application however, so my question is whether I will be lucky and it will just work, or if I need to do some client side magic, server side magic or if my perception of missing login functionality in the Seam GWT service actually is wrong.\nBonus points to anyone that can provide me with a complete example showing something similar.\n", "I have a ArrayList made up of different elements imported from a db, made up of strings, numbers, doubles and ints. Is there a way to use a reflection type technique to find out what each type of data each element holds?  \nFYI: The reason that there is so many types of data is that this is a piece of java code being written to be implemented with different DB's.\n", "I already know how to:\nLoad properties files into my Spring configuration using:\n<context:property-placeholder location=\"aaa/bbb/ccc/stuff.properties\"/> \n\nBuild properties objects on the fly using:\n<props><prop key=\"abc\">some value</prop></props>\n\nBut what I cant do, and would be really useful, is to have Spring load a properties file and then build the matching properties object. I could then inject this into a bean in the normal way. \nI've searched for this elsewhere without success. Any ideas?\n", "At work today, I came across the volatile keyword in Java. Not being very familiar with it, I found this explanation: \n\nJava theory and practice: Managing volatility\n\nGiven the detail in which that article explains the keyword in question, do you ever use it or could you ever see a case in which you could use this keyword in the correct manner?\n", "I'm trying to run the Tomcat with JBoss Embedded jpa booking example.  I run the build and deploy the war.  I then get the following error:\n\nERROR [catalina.core.ContainerBase.[Catalina].[localhost].[/jboss-seam-jpa]] Error configuring application listener of class com.sun.faces.config.ConfigureListener\njava.lang.NoClassDefFoundError: javax/el/CompositeELResolver\n        at java.lang.Class.getDeclaredConstructors0(Native Method)\n        at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\n        at java.lang.Class.getConstructor0(Class.java:2671)\n        at java.lang.Class.newInstance0(Class.java:321)\n        at java.lang.Class.newInstance(Class.java:303)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3618)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4104\n\nI find this class exists in el-api.jar which is not in the classpath.  So I add el-api.jar to the WEB-INF/lib directory.  I then get the following error:\n\nINFO: JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.\nSep 19, 2008 5:37:50 PM com.sun.faces.config.ConfigureListener installExpressionFactory\nSEVERE: Error Instantiating ExpressionFactory\njava.lang.ClassNotFoundException: com.sun.el.ExpressionFactoryImpl\n        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1332)\n        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1181)\n        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:164)\n        at com.sun.faces.config.ConfigureListener.installExpressionFactory(ConfigureListener.java:1521)\n\nThis library appears to be in el-ri.jar or JSP 2.1 jar.  Am I doing something wrong?  Is there a place that explains how to run seam applications on tomcat 5.5.x?  Any help is greatly appreciated!\n", "I have a Java program that loads thirdparty class files (classes I did not write) and executes them. These classes often use java.util.Random, which by default generates random starting seed values every time it gets instantiated. For reasons of reproducability, I want to give these classes the same starting seed every time, changing it only at my discretion.\nHere are some of the obvious solutions, and why they don't work:\n\nUse a different Random class in the thirdparty classfiles. The problem here is I only load the class files, and cannot modify the source.\nUse a custom classloader to load our own Random class instead of the JVM's version. This approach will not work because Java does not allow classloaders to override classes in the java package.\nSwap out the rt.jar's java.util.Random implementation for our own, or putting files into trusted locations for the JVM. These approaches require the user of the application messing with the JVM install on their machine, and are no good.\nAdding a custom java.util.Random class to the bootclasspath. While this would technically work, for this particular application, it is impractical because this application is intended for end users to run from an IDE. I want to make running the app convenient for users, which means forcing them to set their bootclasspath is a pain. I can't hide this in a script, because it's intended to be run from an IDE like Eclipse (for easy debugging.)\n\nSo how can I do this?\n", "It has always bothered me that the only way to copy a file in Java involves opening streams, declaring a buffer, reading in one file, looping through it, and writing it out to the other steam.  The web is littered with similar, yet still slightly different implementations of this type of solution.\nIs there a better way that stays within the bounds of the Java language (meaning does not involve exec-ing OS specific commands)?  Perhaps in some reliable open source utility package, that would at least obscure this underlying implementation and provide a one line solution?\n", "Which of the WCF Service Protocols work well with Java?\nDo the TCP Service Bindings work with java remoting (either Corba, EJB, JMS, etc.)?\nWhat about the WebServices exposed as Service EndPoints.  Have these been tested against the common Java WebServices stack for interoperability?\n", "(Jeopardy-style question, I wish the answer had been online when I had this issue)\nUsing Java 1.4, I have a method that I want to run as a thread some of the time, but not at others. So I declared it as a subclass of Thread, then either called start() or run() depending on what I needed.\nBut I found that my program would leak memory over time. What am I doing wrong?\n", "I am setting up a project using Hibernate 3.3.1 GA and PostgreSQL 8.3. I've just created a database, the first table, added one row there and now configuring Hibernate.\nHowever, even the simplest query:\nCriteria criteria = session.createCriteria(Place.class);\nList result = criteria.list();\n\ncould not be executed (empty list is returned though there is one record in the database). I looked at the PostgreSQL logs to see:\n2008-09-17 22:52:59 CEST LOG:  connection received: host=192.168.175.1 port=2670  \n2008-09-17 22:52:59 CEST LOG:  connection authorized: user=... database=...  \n2008-09-17 22:53:00 CEST LOG:  execute <unnamed>: SHOW TRANSACTION ISOLATION LEVEL  \n2008-09-17 22:53:02 CEST LOG:  could not receive data from client: Connection reset by peer  \n2008-09-17 22:53:02 CEST LOG:  unexpected EOF on client connection  \n2008-09-17 22:53:02 CEST LOG:  disconnection: session time: 0:00:03.011 user=... database=... host=192.168.175.1 port=2670\n\nI wrote a simple program using plain JDBC to fetch the same data and it worked. PostgreSQL logs in this case look like this (for comparison):\n2008-09-17 22:52:24 CEST LOG:  connection received: host=192.168.175.1 port=2668  \n2008-09-17 22:52:24 CEST LOG:  connection authorized: user=... database=...  \n2008-09-17 22:52:25 CEST LOG:  execute <unnamed>: SELECT * from PLACE  \n2008-09-17 22:52:25 CEST LOG:  disconnection: session time: 0:00:00.456 user=... database=... host=192.168.175.1 port=2668  \n\nHibernate debug log does not indicate any errors. If I take the query listed in the logs:\n\n15:17:01,859 DEBUG org.hibernate.loader.entity.EntityLoader: Static select for entity com.example.data.Place: select place0_.ID as ID0_0_, place0_.NAME as NAME0_0_, place0_.LATITUDE as LATITUDE0_0_, place0_.LONGITUDE as LONGITUDE0_0_ from PLACE place0_ where place0_.ID=?\n\nand execute it agains the database in the psql, it works (this means that Hibernate has generated a proper SQL).\nBelow is the Hibernate configuration:\n<hibernate-configuration>\n    <session-factory>\n        <property name=\"hibernate.connection.url\">jdbc:postgresql://192.168.175.128:5433/...</property>\n        <property name=\"hibernate.connection.driver_class\">org.postgresql.Driver</property>\n        <property name=\"hibernate.connection.username\">...</property>\n        <property name=\"hibernate.connection.password\">...</property>\n        <property name=\"dialect\">org.hibernate.dialect.PostgreSQLDialect</property>\n        <property name=\"hibernate.show_sql\">true</property>\n        <property name=\"hibernate.use_outer_join\">true</property>\n\n        <mapping resource=\"com/example/data/Place.hbm.xml\"/>\n    </session-factory>\n</hibernate-configuration>\n\n...and the mapping file:\n<hibernate-mapping package=\"com.example.data\">\n    <class name=\"com.example.data.Place\" table=\"PLACE\">\n        <id column=\"ID\" name=\"id\" type=\"java.lang.Integer\">\n            <generator class=\"native\"/>\n        </id>\n        <property column=\"NAME\" name=\"name\" not-null=\"true\" type=\"java.lang.String\">\n            <meta attribute=\"use-in-tostring\">true</meta>\n        </property>\n        <property column=\"LATITUDE\" name=\"latitude\" not-null=\"true\" type=\"java.lang.Float\">\n            <meta attribute=\"use-in-tostring\">true</meta>\n        </property>\n        <property column=\"LONGITUDE\" name=\"longitude\" not-null=\"true\" type=\"java.lang.Float\">\n            <meta attribute=\"use-in-tostring\">true</meta>\n        </property>\n    </class>\n</hibernate-mapping>\n\nGoogling for unexpected EOF log entry was not friutful. Any ideas, community?\n", "While trying to use Shrinksafe custom_rhino.jar to build Dojo I get MalformedInputException. The problem occurs when build reaches custom widgets/templates which contain french letters stored in UTF-8. The AIX machine has LANG=en_US which should be correct, judging by other documented problems regarding MalformedInputException with IBM JRE.\nSwitching to Sun's JRE is not acceptable solution as this build must run on IBM AIX. It is possible that a solution might be in changing something in AIX or a setting in IBM JRE or both. So far I've been unsuccessful.  \nProblem is also described in dojo forum but without proper resolution.\n", "There is a well-known debate in Java (and other communities, I'm sure) whether or not trivial getter/setter methods should be tested. Usually, this is with respect to code coverage.  Let's agree that this is an open debate, and not try to answer it here.\nThere have been several blog posts on using Java reflection to auto-test such methods.\nDoes any framework (e.g. jUnit) provide such a feature? e.g. An annotation that says \"this test T should auto-test all the getters/setters on class C, because I assert that they are standard\".\nIt seems to me that it would add value, and if it were configurable, the 'debate' would be left as an option to the user.\n", "Do you still use session or entity EJBs in your project? Why?\n", "How would I go about writing some code to allow access to a Java class in my webapp from the command line.\nE.g. I have a java class with command line interface, that can runs code in the context of the webapp, with access to the DB etc. I want to log on the machine hosting my WARred app in tomcat and be able to interact with it \nWhere should i start looking ?\nThanks \n", "just a quick question:\nI am a CS undergrad and have only had experience with the Eclipse, and Net Beans IDEs.  I have recently acquired a Macbook and was wanting to recompile a recent school project in Xcode just to test it out.  Right after the line where I declare a new instance of an ArrayList: \ndictionary = new ArrayList<String>(); \n\nI get the following error: generics are not supported in -source 1.3.\nI was just wondering if anybody could offer advice as to what the problem might be.  The same project compiles in Eclipse on the same machine.  I'm running OSX 10.5.4, with Java 1.5.0_13.  \nThank you.\n", "I know that JTable can sort by a single column. But is it possible to allow for multiple column sort or do I need to write the code myself?\n", "String s = \"\";\nfor(i=0;i<....){\n    s = some Assignment;\n}\n\nor\nfor(i=0;i<..){\n    String s = some Assignment;\n}\n\nI don't need to use 's' outside the loop ever again. \nThe first option is perhaps better since a new String is not initialized each time. The second however would result in the scope of the variable being limited to the loop itself.\nEDIT: In response to Milhous's answer. It'd be pointless to assign the String to a constant within a loop wouldn't it? No, here 'some Assignment' means a changing value got from the list being iterated through.\nAlso, the question isn't because I'm worried about memory management. Just want to know which is better.\n", "One mentor I respect suggests that a simple bean is a waste of time - that value objects 'MUST' contain some business logic to be useful. \nAnother says such code is difficult to maintain and that all business logic must be externalized. \nI realize this question is subjective. Asking anyway - want to know answers from more perspectives.\n", "Spring DA helps in writing DAOs. When using iBATIS as the persistence framework, and extending SqlMapClientDaoSupport, a SqlMapClient mock should be set for the DAO, but I can't do it. SqlMapClientTemplate is not an interface and EasyMock cannot creates a mock for it.\n", "I've worked with Cruise Control as the CI framework in my last project.\nAny recommendations on some other tools?\n(Not that i found CruiseControl lacking, just wanted to know if someone did some comparisons)\n", "If I was to create a ipfw divert rule to forward all FTP traffic to a specific socket, is it possible to use Java to connect to the socekt and read the packet information? If so, how would i go about reading/writing to the scoket?\n", "Should simple JavaBeans that have only simple getters and setters be unit tested?? \nWhat about Beans with some logic in getters and setters?\n", "I currently have a Java SAX parser that is extracting some info from a 30GB XML file. \nPresently it is:\n\nreading each XML node\nstoring it into a string object, \nrunning some regexex on the string\nstoring the results to the database\n\nFor several million elements. I'm running this on a computer with 16GB of memory, but the memory is not being fully utilized. \nIs there a simple way to dynamically 'buffer' about 10gb worth of data from the input file? \nI suspect I could manually take a 'producer' 'consumer' multithreaded version of this (loading the objects on one side, using them and discarding on the other), but damnit, XML is ancient now, are there no efficient libraries to crunch em?\n", "I am a fan of static metaprogramming in C++.  I know Java now has generics.  Does this mean that static metaprogramming (i.e., compile-time program execution) is possible in Java?  If so, can anyone recommend any good resources where one can learn more about it?\n", "Given an array of n Objects, let's say it is an array of strings, and it has the following values:\nfoo[0] = \"a\";\nfoo[1] = \"cc\";\nfoo[2] = \"a\";\nfoo[3] = \"dd\";\n\nWhat do I have to do to delete/remove all the strings/objects equal to \"a\" in the array?\n", "I have the following enum:\npublic enum Status implements StringEnum{ \n\n    ONLINE(\"on\"),OFFLINE(\"off\");\n\n    private String status = null;\n\n    private Status(String status) {\n        this.status = status;\n    }\n\n    public String toString() {\n        return this.status;\n    }\n\n    public static Status find(String value) {\n        for(Status status : Status.values()) {\n            if(status.toString().equals(value)) {\n                return status;\n            }\n        }\n\n        throw new IllegalArgumentException(\"Unknown value: \" + value );\n\n    }\n}\n\nIs it possible to build StringEnum interface to make sure every enum has find(), toString() and a constructor?\nThanks.\n", "I am using jProfiler to find memory leaks in a Java swing application. I have identified instances of a JFrame which keeps growing in count.\nThis frame is opened, and then closed.\nUsing jProfiler, and viewing the Paths to GC Root there is only one reference, 'JNI Global reference'.\nWhat does this mean? Why is it hanging on to each instance of the frame?\n", "Between Eclipse/SWT or Netbeans/Matisse, what does either Java GUI editor give you in terms of rapid development and maintainability?\n", "I'm using Java, and need to generate a simple, standards-compliant RSS feed. How can I go about this?\n", "Java supplies standard User Interface guidelines for applications built using Java Swing. The basic guidelines are good, but I really feel the look and feel is really boring and outdated. \nIs anyone aware of a publicly available Java User Interface Guide that has better look & feel guidelines than the Sun provided guidelines?\n", "How do we decide on the best implementation of hashCode() method for a collection (assuming that equals method has been overridden correctly) ?\n", "I'm getting a random unreproducible Error when initializing a JSplitPane in with JDK 1.5.0_08. Note that this does not occur every time, but about 80% of the time:\nException in thread \"AWT-EventQueue-0\" java.lang.ClassCastException: javax.swing.KeyStroke\nat java.util.TreeMap.compare(TreeMap.java:1093)\nat java.util.TreeMap.put(TreeMap.java:465)\nat java.util.TreeSet.add(TreeSet.java:210)\nat javax.swing.plaf.basic.BasicSplitPaneUI.installDefaults(BasicSplitPaneUI.java:364)\nat javax.swing.plaf.basic.BasicSplitPaneUI.installUI(BasicSplitPaneUI.java:300)\nat javax.swing.JComponent.setUI(JComponent.java:652)\nat javax.swing.JSplitPane.setUI(JSplitPane.java:350)\nat javax.swing.JSplitPane.updateUI(JSplitPane.java:378)\nat javax.swing.JSplitPane.<init>(JSplitPane.java:332)\nat javax.swing.JSplitPane.<init>(JSplitPane.java:287)\n    ...\n\nThoughts? I've tried cleaning and rebuilding my project so as to minimize the probability of corrupted class files.\nEdit #1 See http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6434148 - seems to be a JDK bug. Any known workarounds? None are listed on the bug entry page.\n", "When a getter returns a property, such as returning a List of other related objects, should that list and it's objects be immutable to prevent code outside of the class, changing the state of those objects, without the main parent object knowing?\nFor example if a Contact object, has a getDetails getter, which returns a List of ContactDetails objects, then any code calling that getter:\n\ncan remove ContactDetail objects from that list without the Contact object knowing of it.\ncan change each ContactDetail object without the Contact object knowing of it.\n\nSo what should we do here? Should we just trust the calling code and return easily mutable objects, or go the hard way and make a immutable class for each mutable class?\n", "What are the consequences of running a Java class file compiled in JDK 1.4.2 on JRE 1.6 or 1.5?\n", "I have an Eclipse RCP app I'm working on. It has some view-specific menus and one of the menu items is an item which I would like to display a tick next to when the corresponding functionality is enabled. Similarly, the next time the item is selected, the item should become unticked to reflect that the corresponding functionality is disabled.\nMy question is this: how do I set the toggle state of these menu items? I have an IHandler to deal with the event when the menu item is selected but I'm unsure how to update the GUI element itself.\nDoes the StackOverflow community have any thoughts on how I might solve this?\n", "We use Hudson as a continuous integration system to execute automated builds (nightly and based on CVS polling) of a lot of our projects.\nSome projects poll CVS every 15 minutes, some others poll every 5 minutes and some poll every hour.\nEvery few weeks we'll get a build that fails with the following output:\nFATAL: java.io.IOException: Too many open files\njava.io.IOException: java.io.IOException: Too many open files\n    at java.lang.UNIXProcess.<init>(UNIXProcess.java:148)\n\nThe next build always worked (with 0 changes) so we always chalked it up to 2 build jobs being run at the same time and happening to have too many files open during the process.\nThis weekend we had a build fail Friday night (automatic nightly build) with the message and every other nightly build also failed.  Somehow this triggered Hudson to continuously build every project which failed until the issue was resolved.  This resulted in a build every 30 minutes or so of every project until sometime Saturday night when the issue magically disappeared. \n", "I am trying to implement position-sensitive zooming inside a JScrollPane. The JScrollPane contains a component with a customized paint that will draw itself inside whatever space it is allocated - so zooming is as easy as using a MouseWheelListener that resizes the inner component as required.\nBut I also want zooming into (or out of) a point to keep that point as central as possible within the resulting zoomed-in (or -out) view (this is what I refer to as 'position-sensitive' zooming), similar to how zooming works in google maps. I am sure this has been done many times before - does anybody know the \"right\" way to do it under Java Swing?. Would it be better to play with Graphic2D's transformations instead of using JScrollPanes?\nSample code follows:\npackage test;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.*;\nimport javax.swing.*;\n\npublic class FPanel extends javax.swing.JPanel {\n\nprivate Dimension preferredSize = new Dimension(400, 400);    \nprivate Rectangle2D[] rects = new Rectangle2D[50];\n\npublic static void main(String[] args) {        \n    JFrame jf = new JFrame(\"test\");\n    jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    jf.setSize(400, 400);\n    jf.add(new JScrollPane(new FPanel()));\n    jf.setVisible(true);\n}    \n\npublic FPanel() {\n    // generate rectangles with pseudo-random coords\n    for (int i=0; i<rects.length; i++) {\n        rects[i] = new Rectangle2D.Double(\n                Math.random()*.8, Math.random()*.8, \n                Math.random()*.2, Math.random()*.2);\n    }\n    // mouse listener to detect scrollwheel events\n    addMouseWheelListener(new MouseWheelListener() {\n        public void mouseWheelMoved(MouseWheelEvent e) {\n            updatePreferredSize(e.getWheelRotation(), e.getPoint());\n        }\n    });\n}\n\nprivate void updatePreferredSize(int n, Point p) {\n    double d = (double) n * 1.08;\n    d = (n > 0) ? 1 / d : -d;\n    int w = (int) (getWidth() * d);\n    int h = (int) (getHeight() * d);\n    preferredSize.setSize(w, h);\n    getParent().doLayout();\n    // Question: how do I keep 'p' centered in the resulting view?\n}\n\npublic Dimension getPreferredSize() {\n    return preferredSize;\n}\n\nprivate Rectangle2D r = new Rectangle2D.Float();\npublic void paint(Graphics g) {\n    super.paint(g);\n    g.setColor(Color.red);\n    int w = getWidth();\n    int h = getHeight();\n    for (Rectangle2D rect : rects) {\n        r.setRect(rect.getX() * w, rect.getY() * h, \n                rect.getWidth() * w, rect.getHeight() * h);\n        ((Graphics2D)g).draw(r);\n    }       \n  }\n}\n\n", "If I'm deploying to servers with WebSphere 6.1 (Java 1.5), should I use IBM's JDK on my build box?  Or will Sun's JDK compile to the same binary?\nIf I should use IBM's, where can I get the Windows x64 version?\n", "Summary\nIs that possible for webapps deployed on linux + tomcat5.5 to use/see all /usr/share/java/ jars automatically?\nDetails\nI'm packaging my java webapp for Ubuntu (yet the question is related to any linux-based distro) and going to make it depend on tomcat.\nI'm going to put context descriptor (an xml file) to /usr/share/tomcat5.5/conf/Catalina/localhost/ to make my app deployed.\nHaving my web dir here: /usr/share/<appname>/web, how can I enable my app to use java jar libs installed in the system (/usr/share/java)?\nI can't just symlink /usr/share/java -> <webdir>/WEB-INF/lib, since I have my custom jars need to be placed in lib dir.\nBad Solution\nThe solution I've found so far is to symlink each required jar to <webdir>/WEB-INF/lib/.\nThis is not so good, because I have to symlink a lot of jars and even worse to symlink all jars my direct dependency lib (jar) requires (and so on). In case my direct dependency lib changes its list of required jars I'll have to maintain that symlinks.\n", "There's something very unsatisfactory about this code:\n/*\nGiven a command string in which the first 8 characters are the command name\npadded on the right with whitespace, construct the appropriate kind of \nCommand object.\n*/\npublic class CommandFactory {\n     public Command getCommand(String cmd) {\n         cmdName = cmd.subString(0,8).trim();\n\n         if(cmdName.equals(\"START\")) {\n             return new StartCommand(cmd);\n         }\n         if(cmdName.equals(\"END\")) {\n             return new EndCommand(cmd);\n         }\n         // ... more commands in more if blocks here\n         // else it's a bad command.\n         return new InvalidCommand(cmd);\n     }\n}\n\nI'm unrepentant about the multiple exit points - the structure is clear. But I'm not happy about the series of near-identical if statements. I've considered making a Map of Strings to Commands:\ncommandMap = new HashMap();\ncommandMap.put(\"START\",StartCommand.class);\n// ... etc.\n\n... then using Reflection to make instances of the appropriate class looked up from the Map. However while conceptually elegant, this involves a fair amount of Reflection code that whoever inherits this code might not appreciate - although that cost might be offset by the benefits. All the lines hardcoding values into the commandMap smell almost as bad as the if block.\nEven better would be if the factory's constructor could scan the classpath for subclasses of Command, query them for String representations, and automatically add them them to its repertoire.\nSo - how should I go about refactoring this?\nI guess some of the frameworks out there give me this kind of thing for free. Let's assume I'm not in a position to migrate this stuff into such a framework.\n", "I'm wandering myself what component is the best for displaying fast search results in swing. I want to create something like this, make a text field where user can enter some text, during his entering I'll improve in back end fast search on database, and I want to show data bellow the text box, and he will be able to browse the results and on pres enter result will be displayed in table. So my question is is there any component which already have this logic for displaying?\nOr is it's not, what is the best way to implement that.\nThis search will be something what ajax gives me on web, same logic same look and feel, if it's possible on desktop application.\n", "In Java you can give the number zero as a single parameter for the Socket or DatagramSocket constructor. Java binds that Socket to a free port then. Is it possible to limit the port lookup to a specific range?\n", "I recently asked a question about Oracle Encryption.  Along the way to finding a solution for myself I decided to move the encryption (well, obfuscation) to the application side for certain tasks.  \nMy problem is that the database is already encrypting data a certain way and I need Java code to duplicate that functionality, so that text encrypted by one system can be decrypted by the other and vice versa.\nI want the encryption to be compatible with what the DB was already doing but couldn't find the documentation that describes exactly what Oracle is doing.  How do I replicate this in Java?\ndbms_obfuscation_toolkit.DESEncrypt(\n  input_string => v_string,\n  key_string => key_string,\n  encrypted_string => encrypted_string );\nRETURN UTL_RAW.CAST_TO_RAW(encrypted_string);\n\nNo matter what I try, it seems as if the Java DES encryption is different than Oracle's.\n", "I once wrote this line in a Java class. This compiled fine in Eclipse but not on the command line. \nThis is on\n\nEclipse 3.3\nJDK 1.5\nWindows XP Professional\n\nAny clues?\nError given on the command line is:\nIcons.java:16: code too large\n            public static final byte[] compileIcon = { 71, 73, 70, 56, 57, 97, 50,\n                                       ^\n\nThe code line in question is:\npublic static final byte[] compileIcon = { 71, 73, 70, 56, 57, 97, 50,\n            0, 50, 0, -9, 0, 0, -1, -1, -1, -24, -72, -72, -24, -64, -64,\n            -8, -16, -24, -8, -24, -24, -16, -24, -32, -1, -8, -8, 48, 72,\n            -72, -24, -80, -80, 72, 96, -40, -24, -24, -8, 56, 88, -56,\n            -24, -40, -48, -24, -48, -64, 56, 80, -64, 64, 88, -48, -56,\n            -64, -64, -16, -24, -24, -32, -40, -40, -32, -88, -96, -72,\n            -72, -72, -48, -56, -56, -24, -32, -32, -8, -8, -1, -24, -40,\n            -56, -64, -72, -72, -16, -32, -40, 48, 80, -72, -40, -96, -104,\n            -40, -96, -96, -56, -104, -104, 120, 88, -104, -40, -64, -80,\n            -32, -88, -88, -32, -56, -72, -72, -80, -80, -32, -80, -88,\n            104, -96, -1, -40, -40, -40, -64, -104, -104, -32, -56, -64,\n            -112, 104, 112, -48, -104, -112, -128, -112, -24, -72, -80,\n            -88, -8, -8, -8, -64, -112, -120, 72, 104, -40, 120, 96, -96,\n            -112, -96, -24, -112, -120, -72, -40, -88, -88, -48, -64, -72,\n            -32, -72, -80, -48, -72, -88, -88, -72, -24, 64, 88, -56, -120,\n            96, 104, 88, -128, -72, 48, 56, 56, 104, 104, 120, 112, -120,\n            -16, -128, 104, -88, -40, -48, -48, 88, -120, -24, 104, 88,\n            -104, -40, -56, -72, -128, 112, -88, -128, 96, -88, -104, -88,\n            -24, -96, -120, 120, -88, -128, -80, -56, -56, -64, 96, 120,\n            -8, -96, -128, -88, -80, -96, -104, -32, -72, -72, 96, 104,\n            112, 96, -104, -8, -72, -112, -112, -64, -72, -80, 64, 64, 72,\n            -128, -120, -96, -128, 88, 88, -56, -72, -80, 88, 96, 120, -72,\n            -128, 112, 72, 112, -40, 96, 120, -56, 88, -112, -16, 64, 104,\n            -48, -64, -80, -88, -88, -120, -80, 88, 88, 96, -56, -96, -120,\n            -40, -56, -64, 96, 104, 120, -120, -80, -24, -104, -88, -40,\n            -48, -72, -80, -64, -56, -16, -88, -112, -128, -32, -48, -56,\n            -24, -16, -8, -64, -120, 120, -96, -96, -88, 80, -128, -24,\n            -56, -72, -88, -96, 120, 88, -72, -112, 120, -64, -104, 120,\n            -48, -56, -64, -120, -104, -32, -104, 120, -80, -96, -112,\n            -120, 56, 88, -64, -128, 96, 64, 88, 120, -40, -80, -104, -120,\n            -104, -128, 104, 96, -104, -24, -72, -120, -128, 56, 96, -56,\n            -128, 112, 104, -48, -88, -112, 96, 96, 104, -104, -88, -72,\n            -40, -88, -96, -72, -88, -96, -120, 120, 104, -80, -88, -96,\n            72, 72, 80, -120, 88, 96, 120, -120, -24, 96, -104, -16, 104,\n            80, 48, -56, -80, -96, -56, -88, -104, -104, 120, -88, -88,\n            120, 104, -72, -120, -120, -24, -32, -40, 112, 88, -104, 120,\n            96, -104, -32, -32, -32, -96, 96, 96, 80, 80, 88, 64, 88, 120,\n            72, 120, -40, 72, 88, 112, -88, -96, -104, -56, -80, -88, -72,\n            -88, -104, -56, -64, -72, -80, -120, 104, -80, -120, -80, -112,\n            112, -88, 120, 112, 112, 112, -96, -24, -120, -120, -64, -120,\n            120, -80, 64, 96, -128, 96, 64, 64, 96, -128, -32, 80, 112,\n            -24, 112, -120, -24, 104, -96, -8, 96, 120, -16, -88, 120, 120,\n            -72, -56, -16, -128, -128, -128, -104, -120, -72, -64, -96,\n            -120, -32, -64, -64, -40, -48, -56, -64, -88, -96, -64, -104,\n            -72, -96, -88, -24, -104, -96, -40, -96, -128, 96, -128, -128,\n            -96, 104, 88, 80, 112, -88, -8, -64, -104, -80, -96, -120, 112,\n            96, 120, -32, 56, 80, -72, -104, -88, -32, 104, -128, -24, -56,\n            -88, -120, -80, -72, -8, -96, -128, -128, -64, -128, 96, -72,\n            -96, -120, 72, 104, -32, -96, 96, 64, -72, -96, -112, -32, -40,\n            -48, -64, -88, -112, -88, -128, 96, -88, -128, -88, -64, -64,\n            -32, -128, -96, -32, -88, -104, -112, 32, 32, 64, -120, 104,\n            -88, 120, -120, -16, -104, 120, -72, -24, -48, -56, -96, -96,\n            -96, -64, 96, 96, 96, 64, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 44, 0, 0, 0, 0,\n            50, 0, 50, 0, 0, 8, -1, 0, 1, 8, 28, 72, -80, -96, -63, -125,\n            8, 19, 42, 92, -120, 112, 0, 3, 6, 12, 23, 6, -104, 72, -79,\n            -94, -59, -117, 19, 39, -124, 64, -128, -128, 3, -121, 9, 19,\n            48, -118, -92, 24, 81, 33, -118, 8, 40, 7, -88, 84, -55, -64,\n            12, 6, 6, 45, 74, -54, 52, 8, 73, -60, 24, 22, 25, 92, 73, 40,\n            64, -96, -64, 74, -121, 24, 94, -58, -100, 25, -79, -59, 47,\n            17, 3, 52, -120, 88, -125, 105, 73, 6, 42, -102, -68, 96, -16,\n            -71, 18, 3, -118, 6, 13, 14, -114, -36, 26, -64, 69, 7, 18, 28,\n            -61, -110, -32, -32, -62, -54, -94, 72, -61, -48, -88, -40, 72,\n            34, -60, 4, 21, 23, -119, 14, -92, 80, -58, 6, -108, 10, 18,\n            44, 68, -8, 57, -96, -128, 16, 98, 70, -24, -48, 97, -45, 6, 4,\n            6, 16, 67, -27, 18, 52, -79, -52, -89, -46, 49, -105, -74, -32,\n            109, -45, -85, -63, -49, 2, 13, 88, -51, -62, 5, 40, 80, 31,\n            91, 103, 20, 11, -116, 32, -124, -81, -54, 2, 40, -58, -40,\n            -103, -59, -122, 13, 43, 51, 12, 122, 106, 96, -48, 0, -105,\n            40, 29, 106, 32, 17, 20, -64, -69, -73, -17, -33, -68, 25, 113,\n            13, 80, -125, 44, -102, 72, 108, -84, -88, 80, 49, -127, -61,\n            -94, 28, -97, -108, -4, -98, -103, 102, 9, -127, -21, -40, -81,\n            23, -32, 35, -126, 39, -10, 2, 32, -116, 29, -1, 27, -74, 37,\n            -40, 29, 60, 90, -60, -120, -90, 0, -122, -118, -23, -107, 54,\n            -36, -72, -15, 2, 66, -61, -23, -39, 24, -8, -36, -7, -108,\n            -27, -128, 44, -59, -112, -16, -64, 67, 3, -39, 21, 72, 0, 6,\n            34, 120, -31, -123, 124, 124, 52, 16, 84, 3, -119, -88, 82,\n            -62, 28, -2, 21, 4, -36, -123, -83, -92, -96, 97, 13, 20, 117,\n            112, 2, -121, 24, 77, -128, 6, 48, -64, 72, -93, -62, 31, 104,\n            -56, 48, 68, 16, 65, 112, 49, 29, 67, 82, 8, 24, 72, 118, 18,\n            84, 48, 66, 6, 63, 72, 96, 96, 1, 26, -128, 64, -97, 8, 50, 24,\n            114, -64, -112, -22, -51, -28, 7, 24, 77, 116, -15, 75, 1, 123,\n            53, 2, -63, 15, 22, 88, 0, 1, 5, 44, 72, 32, -127, 74, -78,\n            -47, -122, -62, 27, -90, -24, 49, -28, 1, 69, -106, -108, 76,\n            21, -99, 8, -127, -119, 29, -81, 60, 41, -63, 15, 16, -116, 80,\n            65, -114, 22, -44, 40, 72, 6, 111, 60, 4, 77, 3, 34, -124, 1,\n            -60, -105, 7, 40, 96, -31, -123, -68, 49, -111, 66, 30, 32,\n            102, -92, 66, 30, 86, 60, -47, -63, 12, 30, 42, 58, 67, 13, 51,\n            120, -32, 1, 35, 30, 112, 112, -62, 39, -114, -80, 24, -124,\n            116, 47, 30, 116, 6, 15, -120, 24, -104, 93, 3, -105, 44, -79,\n            12, 11, -103, -116, 112, 35, 20, 52, -96, 64, 3, 32, 91, -40,\n            -1, 114, 5, -97, 126, -106, 36, 5, 24, -106, -67, 103, 26, 3,\n            32, -68, -14, 10, 20, 44, 88, -78, -124, 37, 91, -124, -47,\n            -33, -105, 112, -56, -28, 7, -103, -70, -86, 116, -57, 29, 52,\n            80, 37, -101, 8, 54, 24, 99, -121, 17, 82, -108, -80, 0, -83,\n            7, 93, 56, 70, 14, 41, -96, -78, -107, 11, -117, -48, 97, -42,\n            12, 127, 32, 64, 66, 91, 19, -96, -88, -94, 35, -16, 110, 10,\n            -88, 65, 103, 76, -62, 67, 19, 114, -120, -102, 93, 49, 107,\n            -108, 65, -121, 29, -121, -36, 65, -116, 16, 24, -32, 121,\n            -125, 33, -70, 108, -96, 112, -97, 37, 5, -127, 100, 23, -128,\n            -4, 68, 65, 5, 123, -103, 102, -63, 24, 101, -20, 49, -51, 33,\n            -121, -40, 80, 65, 9, 122, 40, -84, 112, -78, 17, 73, 81, 69,\n            -110, -110, -28, -38, -105, 9, 84, -30, 69, 21, -106, 60, 106,\n            32, 68, 25, -127, -96, -96, -25, 6, 14, 56, -96, 112, -83, 90,\n            81, 116, 2, -72, 57, 16, 66, 8, 88, 28, 49, 26, 66, 8, 51, 60,\n            -15, -60, 9, 51, -128, -75, -82, 91, 19, 116, 96, -87, 12, 31,\n            84, 93, -75, 18, 91, 13, 100, -126, -67, 125, 72, 50, 72, 45,\n            63, 89, -112, 1, 5, 20, -104, 96, 65, 1, 38, -4, 48, 49, 4,\n            -82, 60, 84, 48, 13, -90, 92, -111, -13, -36, 60, 39, -44, 66,\n            40, 96, -12, -47, -59, 32, 81, -20, -1, -15, 19, 4, 18, 68, 80,\n            64, 5, 72, -80, 0, -127, 9, 17, 72, -112, 9, 20, -106, -48,\n            -48, -86, -79, 56, -49, 77, -14, 66, -76, -100, -68, 119, 20,\n            59, 44, -15, 19, -53, 20, 0, 30, 103, -101, 110, -66, 97, -122,\n            25, 52, 44, 33, -125, -74, 11, -92, -98, 115, -35, 90, -55, 1,\n            52, 33, 83, 76, 33, -118, 10, 97, 73, -70, 81, 7, 29, 44, -35,\n            1, -46, 29, 76, -22, 2, 7, 30, -84, 50, -60, 7, 48, 60, 114,\n            -11, 112, 0, -124, -95, 67, 21, -110, 96, -66, -61, 14, 12,\n            -84, 36, -27, 8, -99, -101, 80, -128, 5, 72, -36, -104, -55,\n            23, -92, 83, -95, -116, 19, 14, -92, 46, 62, -21, 8, 21, 1, 68,\n            9, -93, -124, -78, 3, 51, 59, -68, -84, 82, -30, 72, 84, 64, 1,\n            18, 121, 85, 0, -123, 32, -126, -80, -112, 6, -56, 11, -32, 32,\n            -2, -28, 10, -71, -64, 5, -80, 48, 7, 74, 56, -63, 16, 58, -40,\n            65, 45, -28, -16, 5, -108, 56, 16, 37, -112, -80, 17, 5, 70,\n            -16, 6, 87, 124, -127, 5, -98, 0, -126, 3, 30, -128, -125, 14,\n            -30, 64, 1, 2, 12, -95, 8, 67, 8, 0, -118, 108, -126, 8, 31,\n            -16, 1, 40, 100, -96, -120, 20, 76, 33, 18, 121, -104, 64, 88,\n            102, 24, 2, -78, 48, 66, 5, -101, -96, 26, 12, 118, -72, 67,\n            100, 12, 103, 34, 4, 89, 65, 18, -1, 72, -127, -125, 2, 30, 80,\n            7, -107, -24, -37, 22, 26, -15, -66, 2, 20, -96, 17, 12, 64,\n            65, 52, -30, -74, -128, 7, 88, -47, -118, -28, 99, -120, 2,\n            122, -112, -124, 36, -100, 34, 1, 14, -48, -126, 26, 74, -128,\n            -121, 80, 68, 33, 10, -127, -80, -127, 6, 98, -122, 1, 42, 120,\n            34, 11, 27, -72, -94, 21, 1, 56, 19, 50, 116, -47, -117, -89,\n            32, -59, 3, 28, 112, 5, 39, -108, 0, -119, 81, 16, -123, 17,\n            108, 96, 6, 42, -8, 65, 91, 15, 72, -128, 28, -77, -120, 16,\n            -116, -64, -30, 25, 113, -120, 100, 36, -101, -15, 8, 24, -84,\n            80, 6, 46, -116, 93, 36, -124, -9, 1, 34, 120, -46, -109, 71,\n            -8, 33, 73, 16, 66, -122, 21, -12, -32, -108, 61, 40, 5, 47,\n            18, 48, -121, 62, -2, 113, 18, 58, 112, -62, 6, 18, 64, -53,\n            90, 50, 82, 49, 10, 40, -62, 41, 11, -63, 75, 94, -68, 32, 117,\n            106, -16, -93, 30, 18, 89, -53, 4, -60, 64, 52, 10, 81, -128,\n            47, 86, -64, 76, 102, -106, 34, 23, 47, -48, -126, 22, 28, 80,\n            76, 90, -34, 82, 32, 6, -56, -90, 54, 69, 25, 0, 38, -64, -126,\n            11, 71, 8, -89, 56, -107, -96, 8, 31, -104, -45, 7, 68, -32, 2,\n            55, -127, 72, -108, 11, -112, -95, 8, 49, -120, -89, 60, 71,\n            -15, -126, 122, 38, -32, -102, -56, 60, -120, 2, 110, 80, 51,\n            -124, 126, -58, -94, 8, -62, -88, -25, 49, -13, 41, 23, 5,\n            -112, -31, 6, 8, 93, 65, 64, -15, -39, -56, 117, 98, -124, 9,\n            51, -72, -59, 45, 56, -95, 78, -121, 6, -128, -96, 5, -39, 39,\n            67, 49, -54, -47, -114, 122, -44, 32, 1, 1, 0, 59 };\n\n", "For example I have such query:\nQuery q = sess.createQuery(\"from Cat cat\");\nList cats = q.list();\n\nIf I try to make something like this it will show warning \"Type safety: The expression of type List needs unchecked conversion to conform to List\":\nList<Cat> cats = q.list();\n\nIs there a way to avoid it?\n", "I'm getting an error message when I try to build my project in eclipse:\nThe type weblogic.utils.expressions.ExpressionMap cannot be resolved. It is indirectly referenced \n from required .class files\nI've looked online for a solution and cannot find one (except for those sites that make you pay for help).  Anyone have any idea of a way to find out how to go about solving this problem?  Any help is appreciated, thanks!\n", "Should I keep project filesm like Eclipse's .project, .classpath, .settings, under version control (e.g. Subversion, GitHub, CVS, Mercurial, etc)?\n", "Some files in our repository are individual to each developer. For example some developers use a local database, which is configured in a properties file in the project. So each developer has different settings. When one developer commits, he always has to take care to not commit his individually configured files.\nHow do you handle this?\n", "I'm used to python, so this is a bit confusing to me. I'm trying to take in input, line-by-line, until a user inputs a certain number. The numbers will be stored in an array to apply some statistical maths to them. Currently, I have a main class, the stats classes, and an \"reading\" class.\nTwo Questions:\n\nI can't seem to get the input loop to work out, what's the best practice for doing so.\nWhat is the object-type going to be for the reading method? A double[], or an ArrayList?\n\nHow do I declare method-type to be an arraylist?\nHow do I prevent the array from having more than 1000 values stored within it?\n\n\nLet me show what I have so far:\npublic static java.util.ArrayList readRange(double end_signal){\n    //read in the range and stop at end_signal\n\n    ArrayList input = new ArrayList();\n    Scanner kbd = new Scanner( System.in );\n    int count = 0;\n    do{\n        input.add(kbd.nextDouble());\n        System.out.println(input); //debugging\n        ++count;\n    } while(input(--count) != end_signal);\n    return input;\n}\n\nAny help would be appreciated, pardon my newbieness...\n", "I'm working for a customer with a huge legacy codebase consisting of various Java en JSP based applications.\nMost querying is done using the home-build 'orm' system. Some applications use Plain Old JDBC. Some applications are based on Hibernate (yes HQL build with plus signs is a potential problem as well). Some of the older applications are entirely writen in JSP. \nI've found a couple of SQL inject bugs manually. But I could really use some sort of tool to search for potential weak spots.\nAny ideas?\n", "While googling, I see that using java.io.File#length() can be slow.\nFileChannel has a size() method that is available as well.\nIs there an efficient way in java to get the file size?\n", "I'm developing a Mac App in Java that logs into any one of our client's databases.  My users want to have several copies of this program running so they can log into a couple clients at the same time, rather than logging out and logging back in.\nHow can I allow a user to open several copies of my App at once?\nI'm using Eclipse to develop, and Jarbundler to make the app.\nEdit: More Importantly, is there a way to do so in the code base, rather than have my user do something funky on their system?  I'd rather just give them a 'Open New Window' menu item, then have them typing things into the Terminal.\n", "I need to determine if a Class object representing an interface extends another interface, ie:\n package a.b.c.d;\n    public Interface IMyInterface extends a.b.d.c.ISomeOtherInterface{\n    }\n\naccording to the spec Class.getSuperClass() will return null for an Interface.  \n\nIf this Class represents either the\n  Object class, an interface, a\n  primitive type, or void, then null is\n  returned.\n\nTherefore the following won't work.\nClass interface = Class.ForName(\"a.b.c.d.IMyInterface\")\nClass extendedInterface = interface.getSuperClass();\nif(extendedInterface.getName().equals(\"a.b.d.c.ISomeOtherInterface\")){\n    //do whatever here\n}\n\nany ideas?\n", "I was asked to make some drools traning for my teammates. Just to show them how it can be used and how usefull it may be. To do this training I first have to learn Drools, and I figured that the best way to learn it will be small project centered around drools. \nAny interesting ideas? \nMy idea for this project was to do some webMethods flow files validation (just some example validations). I'd do validation only - we have in-house parser of that file format. \nBut something that actually does some work would be nice. \n", "I'm experiencing an issue on a test machine running Red Hat Linux (kernel version is 2.4.21-37.ELsmp) using Java 1.6 (1.6.0_02 or 1.6.0_04). The problem is, once a certain number of threads are created in a single thread group, the operating system is unwilling or unable to create any more.\nThis seems to be specific to Java creating threads, as the C thread-limit program was able to create about 1.5k threads. Additionally, this doesn't happen with a Java 1.4 JVM... it can create over 1.4k threads, though they are obviously being handled differently with respect to the OS.\nIn this case, the number of threads it's cutting off at is a mere 29 threads. This is testable with a simple Java program that just creates threads until it gets an error and then prints the number of threads it created. The error is a java.lang.OutOfMemoryError: unable to create new native thread\nThis seems to be unaffected by things such as the number of threads in use by other processes or users or the total amount of memory the system is using at the time. JVM settings like Xms, Xmx, and Xss don't seem to change anything either (which is expected, considering the issue seems to be with native OS thread creation).\nThe output of \"ulimit -a\" is as follows:\n\ncore file size        (blocks, -c) 0\ndata seg size         (kbytes, -d) unlimited\nfile size             (blocks, -f) unlimited\nmax locked memory     (kbytes, -l) 4\nmax memory size       (kbytes, -m) unlimited\nopen files                    (-n) 1024\npipe size          (512 bytes, -p) 8\nstack size            (kbytes, -s) 10240\ncpu time             (seconds, -t) unlimited\nmax user processes            (-u) 7168\nvirtual memory        (kbytes, -v) unlimited\n\nThe user process limit does not seem to be the issue. Searching for information on what could be wrong has not turned up much, but this post seems to indicate that at least some Red Hat kernels limit a process to 300 MB of memory allocated for stack, and at 10 MB per thread for stack, it seems like the issue could be there (though it seems strange and unlikely as well).\nI've tried changing the stack size with \"ulimit -s\" to test this, but any value other than 10240 and the JVM does not start with an error of:\nError occurred during initialization of VM\nCannot create VM thread. Out of system resources.\nI can generally get around Linux, but I really don't know much about system configuration, and I haven't been able to find anything specifically addressing this kind of situation. Any ideas on what system or JVM settings could be causing this would be appreciated.\nEdits: Running the thread-limit program mentioned by plinth, there was no failure until it tried to create the 1529th thread.\nThe issue also did not occur using a 1.4 JVM (does occur with 1.6.0_02 and 1.6.0_04 JVMs, can't test with a 1.5 JVM at the moment).\nThe code for the thread test I'm using is as follows:\npublic class ThreadTest {\n\n   public static void main(String[] pArgs) throws Exception {\n\n      try {\n         // keep spawning new threads forever\n         while (true) {\n            new TestThread().start();\n         }\n      }\n      // when out of memory error is reached, print out the number of\n      // successful threads spawned and exit\n      catch ( OutOfMemoryError e ) {\n         System.out.println(TestThread.CREATE_COUNT);\n         System.exit(-1);\n      }\n   }\n\n   static class TestThread extends Thread {\n      private static int CREATE_COUNT = 0;\n      public TestThread() {\n         CREATE_COUNT++;\n      }\n      // make the thread wait for eternity after being spawned\n      public void run() {\n         try {\n            sleep(Integer.MAX_VALUE);\n         }\n         // even if there is an interruption, dont do anything\n         catch (InterruptedException e) {\n         }\n      }\n   }\n}\n\nIf you run this with a 1.4 JVM it will hang when it can't create any more threads and require a kill -9 (at least it did for me).\nMore Edit:\nIt turns out that the system that is having the problem is using the LinuxThreads threading model while another system that works fine is using the NPTL model. \n", "I am tasked with writing an authentication component for an open source JAVA app.  We have an in-house authentication widget that uses https.  I have some example php code that accesses the widget which uses cURL to handle the transfer.  \nMy question is whether or not there is a port of cURL to JAVA, or better yet, what base package will get me close enough to handle the task? \nUpdate:\nThis is in a nutshell, the code I would like to replicate in JAVA:\n$cp = curl_init();\n$my_url = \"https://\" . AUTH_SERVER . \"/auth/authenticate.asp?pt1=$uname&pt2=$pass&pt4=full\";\ncurl_setopt($cp, CURLOPT_URL, $my_url);\ncurl_setopt($cp, CURLOPT_RETURNTRANSFER, 1);\n$result = curl_exec($cp);\ncurl_close($cp);\n\nHeath, I think you're on the right track, I think I'm going to end up using HttpsURLConnection and then picking out what I need from the response.\n", "Does anybody know, if closures will be in Java 7? \n", "What java GUI layout manager does everyone use?  Lately, I have been using MigLayout, which has some powerful component controls.  Just wanted to see what other developers are using other than the standard JDK ones.\n", "I'm trying to get started on what I'm hoping will be a relatively quick web application in Java, yet most of the frameworks I've tried (Apache Wicket, Liftweb) require so much set-up, configuration, and trying to wrap my head around Maven while getting the whole thing to play nice with Eclipse, that I spent the whole weekend just trying to get to the point where I write my first line of code!\nCan anyone recommend a simple Java webapp framework that doesn't involve Maven, hideously complicated directory structures, or countless XML files that must be manually edited?\n", "I would like to be able to monitor my major system health indicators from inside our Java-based system.  Major points of interest include CPU temperature, motherboard temperature, fan speed, etc.  \nIs there a package available that:\n\nMakes this sort of data available to Java?\nWorks on Windows or Linux or both?\nIs open / free / cheap?\n\n", "I have a search form with a query builder. The builder is activated by a button. Something like this\n<h:form id=\"search_form\">\n  <h:outputLabel for=\"expression\" value=\"Expression\"/>\n  <h:inputText id=\"expression\" required=\"true\" value=\"#{searcher.expression}\"/>\n  <button onclick=\"openBuilder(); return false;\">Open Builder</button>\n  <h:commandButton value=\"Search\" action=\"#{searcher.search}\"/>\n</h:form>\n\nThe result is HTML that has both a <button/> and an <input type=\"submit\"/> in the form. If the user enters a string into the expression field and hits the enter key rather than clicking the submit button, the query builder is displayed when the expected behavior is that the search be submitted. What gives?\n", "I'm evaluating Terracotta to help me scale up an application which is currently RAM-bounded. It is a collaborative filter and stores about 2 kilobytes of data per-user. I want to use Amazon's EC2, which means I'm limited to 14GB of RAM, which gives me an effective per-server upper-bound of around 7 million users. I need to be able to scale beyond this.\nBased on my reading so-far I gather that Terracotta can have a clustered heap larger than the available RAM on each server. Would it be viable to have an effective clustered heap of 30GB or more, where each of the servers only supports 14GB?\nThe per-user data (the bulk of which are arrays of floats) changes very frequently, potentially hundreds of thousands of times per minute. It isn't necessary for every single one of these changes to be synchronized to other nodes in the cluster the moment they occur. Is it possible to only synchronize some object fields periodically? \n", "I have few asynchronous tasks running and I need to wait until at least one of them is finished (in the future probably I'll need to wait util M out of N tasks are finished).\nCurrently they are presented as Future, so I need something like\n/**\n * Blocks current thread until one of specified futures is done and returns it. \n */\npublic static <T> Future<T> waitForAny(Collection<Future<T>> futures) \n        throws AllFuturesFailedException\n\nIs there anything like this? Or anything similar, not necessary for Future. Currently I loop through collection of futures, check if one is finished, then sleep for some time and check again. This looks like not the best solution, because if I sleep for long period then unwanted delay is added, if I sleep for short period then it can affect performance.\nI could try using \nnew CountDownLatch(1)\n\nand decrease countdown when task is complete and do \ncountdown.await()\n\n, but I found it possible only if I control Future creation. It is possible, but requires system redesign, because currently logic of tasks creation (sending Callable to ExecutorService) is separated from decision to wait for which Future. I could also override \n<T> RunnableFuture<T> AbstractExecutorService.newTaskFor(Callable<T> callable)\n\nand create custom implementation of RunnableFuture with ability to attach listener to be notified when task is finished, then attach such listener to needed tasks and use CountDownLatch, but that means I have to override newTaskFor for every ExecutorService I use - and potentially there will be implementation which do not extend AbstractExecutorService. I could also try wrapping given ExecutorService for same purpose, but then I have to decorate all methods producing Futures.\nAll these solutions may work but seem very unnatural. It looks like I'm missing something simple, like \nWaitHandle.WaitAny(WaitHandle[] waitHandles)\n\nin c#. Are there any well known solutions for such kind of problem?\nUPDATE:\nOriginally I did not have access to Future creation at all, so there were no elegant solution. After redesigning system I got access to Future creation and was able to add countDownLatch.countdown() to execution process, then I can countDownLatch.await() and everything works fine.\nThanks for other answers, I did not know about ExecutorCompletionService and it indeed can be helpful in similar tasks, but in this particular case it could not be used because some Futures are created without any executor - actual task is sent to another server via network, completes remotely and completion notification is received.\n", "I have a web application using JPA and JTA with Spring. I would like to support both JBoss and Tomcat. When running on JBoss, I'd like to use JBoss' own TransactionManager, and when running on Tomcat, I'd like to use JOTM.\nI have both scenarios working, but I now find that I seem to need two separate Spring configurations for the two cases. With JOTM, I need to use Spring's JotmFactoryBean:\n<bean id=\"transactionManager\" \n class=\"org.springframework.transaction.jta.JtaTransactionManager\">\n    <property name=\"userTransaction\">\n        <bean class=\"org.springframework.transaction.jta.JotmFactoryBean\"/>\n    </property>\n</bean>\n\nIn JBoss, though, I just need to fetch \"TransactionManager\" from JNDI:\n<bean id=\"transactionManager\" \n class=\"org.springframework.transaction.jta.JtaTransactionManager\">\n    <property name=\"transactionManager\">\n        <bean class=\"org.springframework.jndi.JndiObjectFactoryBean\">\n             <property name=\"resourceRef\" value=\"true\" />\n             <property name=\"jndiName\" value=\"TransactionManager\" />\n             <property name=\"expectedType\" \n               value=\"javax.transaction.TransactionManager\" />\n        </bean>\n    </property>\n</bean>\n\nIs there a way to configure this so that the appropriate TransactionManager - JBoss or JOTM - is used, without the need for two different configuration files?\n", "(Java question)\nIf I reference a field in an inner class, does this cause a circular dependency between the enclosing class and the inner class?\nHow can I avoid this? \nHere is an example:\npublic class Outer {\n\n  private Other o;\n  private Inner i;    \n\n  public Outer() {\n    o = new Other();\n\n    i = new Inner() {\n      public void doSomething() {\n        o.foo();\n      }\n    };\n\n  }\n}\n\n", "When a class field is accessed via a getter method by multiple threads, how do you maintain thread safety? Is the synchronized keyword sufficient?\nIs this safe:\npublic class SomeClass {\n    private int val;\n\n    public synchronized int getVal() {\n        return val;\n    }\n\n    private void setVal(int val) {\n        this.val = val;\n    }\n}\n\nor does the setter introduce further complications?\n", "I have done some searches looking for information about how to do logging with the Spring Framework.\nWe currently have an application that has no logging in it except for system.out statements (very bad way).\nWhat I would like to do, is add logging, but also want to be able to control the logging at run time, with say JMX.\nWe are using Rad 7.0 / WebSphere 6.1\nI am interesting to find out what is the best way(s) to accomplish this (I figure there may be several).\nUpdate:  Thoughts on the following Spring AOP Logging Good ideal or not.  This is in reference to a question posted here on logging:  Conditional Logging.  Does this improve things or just makes it more difficult in the area of logging?\n", "Do you know any libraries similar to java.util.Properties that support more advanced features like grouping properties, storing arrays, etc? \nI am not looking for some heavy super-advanced solution, just something light and useful for any project.\nThanks.\n", "How do I truncate a java String so that I know it will fit in a given number of bytes storage once it is UTF-8 encoded?\n", "Are there any industry standard conventions for naming jar files?\n", "When calling a remote service (e.g. over RMI) to load a list of entities from a database using Hibernate, how do you manage it to initialize all the fields and references the client needs?\nExample: The client calls a remote method to load all customers. With each customer the client wants the reference to the customer's list of bought articles to be initialized.\nI can imagine the following solutions:\n\nWrite a remote method for each special query, which initializes the required fields \n(e.g. Hibernate.initialize()) and returns the domain objects to the client.\nLike 1. but create DTOs\nSplit the query up into multiple queries, e.g. one for the customers, a second for the customers' articles, and let the client manage the results\nThe remote method takes a DetachedCriteria, which is created by the client and executed by the server\nDevelop a custom \"Preload-Pattern\", i.e. a way for the client to specify explicitly which properties to preload.\n\n", "We have our domain model declared in rusty old hbm files,  we wish to move to POJOs annotated with the javax.persistence.* annotations.\nHas anyone had experience doing so?  \nAre there tools that we could employ?\n", "Our Java code (not the test code) reads files from the current directory, which means the working directory needs to be set properly whenever we run the code.\nWhen launching a JUnit test from within Eclipse, a launch configuration automatically gets created. The problem is, that the working directory in that launch configuration is always by default the root project directory which is always wrong, the test fails, I have to open the launch configuration dialog, change the working directory and relaunch the test. This is very annoying. The same thing happens when I run a single test method.\nI've already considered these:\n\nChanging the current directory from the test code - not possible by design.\nWhen opening a file, pass a parent directory parameter - too difficult, since this would affect lots of places.\nUse the Copy launch configuration feature of Eclipse to create new launch configurations from existing ones that already have a correct working directory set. This doesn't really makes sense here, since I would like to launch a test or a test method quickly, just by invoking \"run this test / method as JUnit test\".\n\nAll in all, it looks like it's responsibility of Eclipse, not the code.\nIs there a way to set the default working directory for all future, newly created JUnit launch configurations?\n", "Please suggest some good resources to start writing Java Web services.\n", "I am reading image files in Java using\njava.awt.Image img = Toolkit.getDefaultToolkit().createImage(filePath);\n\nOn some systems this doesn't work, it instead throws an AWTError complaining about sun/awt/motif/MToolkit.\nHow else can you create a java.awt.Image object from an image file?\n", "I'm looking for a way to do query auto-completion/suggestions in Lucene. I've Googled around a bit and played around a bit, but all of the examples I've seen seem to be setting up filters in Solr. We don't use Solr and aren't planning to move to using Solr in the near future, and Solr is obviously just wrapping around Lucene anyway, so I imagine there must be a way to do it!\nI've looked into using EdgeNGramFilter, and I realise that I'd have to run the filter on the index fields and get the tokens out and then compare them against the inputted Query... I'm just struggling to make the connection between the two into a bit of code, so help is much appreciated!\nTo be clear on what I'm looking for (I realised I wasn't being overly clear, sorry) - I'm looking for a solution where when searching for a term, it'd return a list of suggested queries. When typing 'inter' into the search field, it'll come back with a list of suggested queries, such as 'internet', 'international', etc.\n", "I am wanting to find the distance between two different points. This I know can be accomplished with the great circle distance.\nhttp://www.meridianworlddata.com/Distance-calculation.asp\nOnce done, with a point and distance I would like to find the point that distance north, and that distance east in order to create a box around the point.\n", "Do you have any tips for effective profiling using Netbeans?\nThe profiler is quite nice and powerful.  I've used it to find problems in some of my Eclipse RCP client applications.  However, I get the feeling that I could get some more value out of it.\nNormally I set it to profile either all my classes (starting with xxx.mydomain) using an inclusive filter, or I use an exclude filter to remove all org.eclipse classes.  This helps keep the overhead down.   After running the section of code I am interested, I take a snapshot.  I analyze for hotspots and then change the code, repeat the profiling, take another snapshot and compare again.\nAny other suggestions or tips on how to get the most out of the profiler with client applications?\n", "Is there anyway in Java to delete data (e.g., a variable value, object) and be sure it can't be recovered from memory? Does assigning null to a variable in Java delete the value from memory? Any ideas? Answers applicable to other languages are also acceptable.\n", "I'm trying to run SQuirreL SQL.\nI've downloaded it and installed it, but when I try to run it I get this error message: \n\nJava Virtual Machine Launcher.\n  Could not find the main class.\n  Program will exit.  \n\nI get the gist of this, but I have not idea how to fix it.  Any help?  \nmore info:\n\nI'm on Windows XP pro.  \nI have java 1.6 installed, and other apps are running OK.  \nThe install ran OK.  \nI believe I've followed the installation instructions correctly.  \nTo run it, I'm invoking the squirrel-sql.bat file.  \n\nUpdate\nThis question: \"Could not find the main class: XX. Program will exit.\"  gives some background on this error from the point of view of a java developer.  \n", "When developing distributed applications, all written in Java by the same company, would you choose Web Services or RMI? What are the pros and cons in terms of performance, loose coupling, ease of use, ...? Would anyone choose WS? Can you build a service-oriented architecture with RMI?\n", "Many times, a Java app needs to connect to the Internet. The most common example happens when it is reading an XML file and needs to download its schema.\nI am behind a proxy server. How do I set my JVM to use the proxy ?\n", "Hey all. Newbie question time. I'm trying to setup JMXQuery to connect to my MBean, so far this is what I got.\njava -classpath jmxquery org.nagios.JMXQuery -U service:jmx:rmi:///jndi/rmi://localhost:8004/jmxrmi -O java.lang:type=Memory -A \"NonHeapMemoryUsage\"\nHere's what I get.\nJMX CRITICAL Authentication failed! Credentials required\nI got the credentials, but how do I pass them to JMXQuery?\n/Ace\n", "My quick search reveals the reference implementation (http://stax.codehaus.org), the Woodstox implementation (http://woodstox.codehaus.org), and Sun's SJSXP implementation (https://sjsxp.dev.java.net/).\nPlease comment on the relative merits of these, and fill me in on any other implementations I should consider.\n", "I'm currently looking for ways to create automated tests for a JAX-RS (Java API for RESTful Web Services) based web service. \nI basically need a way to send it certain inputs and verify that I get the expected responses. I'd prefer to do this via JUnit, but I'm not sure how that can be achieved.\nWhat approach do you use to test your web-services?\nUpdate: As entzik pointed out, decoupling the web service from the business logic allows me to unit test the business logic. However, I also want to test for the correct HTTP status codes etc.\n", "I'm looking for a framework to generate Java source files.\nSomething like the following API:\nX clazz = Something.createClass(\"package name\", \"class name\");\nclazz.addSuperInterface(\"interface name\");\nclazz.addMethod(\"method name\", returnType, argumentTypes, ...);\n\nFile targetDir = ...;\nclazz.generate(targetDir);\n\nThen, a java source file should be found in a sub-directory of the target directory.\nDoes anyone know such a framework?\n\nEDIT:\n\nI really need the source files.\nI also would like to fill out the code of the methods.\nI'm looking for a high-level abstraction, not direct bytecode manipulation/generation.\nI also need the \"structure of the class\" in a tree of objects.\nThe problem domain is general: to generate a large amount of very different classes, without a \"common structure\".\n\n\nSOLUTIONS\nI have posted 2 answers based in your answers... with CodeModel and with Eclipse JDT.\nI have used CodeModel in my solution, :-)\n", "What is the best way to reduce the size of the viewstate hidden field in JSF?\nI have noticed that my view state is approximately 40k this goes down to the client and back to the server on every request and response espically coming to the server this is a significant slowdown for the user.  \nMy Environment JSF 1.2, MyFaces, Tomcat, Tomahawk, RichFaces\n", "Java Newbie here. I have a JFrame that I added to my netbeans project, and I've added the following method to it, which creates a JTable. Problem is, for some reason when I call this method, the JTable isn't displayed. Any suggestions?\npublic void showFromVectors(Vector colNames, Vector data) {     \n    jt = new javax.swing.JTable(data, colNames);\n    sp = new javax.swing.JScrollPane(jt);\n    //NB: \"this\" refers to my class DBGridForm, which extends JFrame\n    this.add(sp,java.awt.BorderLayout.CENTER);\n    this.setSize(640,480);\n}\n\nThe method is called in the following context:\nDBGridForm gf = new DBGridForm(); //DBGridForm extends JFrame\nDBReader.outMatchesTable(gf);\ngf.setVisible(true);\n\n... where DBReader.outMatchesTable() is defined as\nstatic public void outMatchesTable(DBGridForm gf) {\n    DBReader ddb = new DBReader();\n    ddb.readMatchesTable(null);\n    gf.showFromVectors(ddb.lastRsltColNames, ddb.lastRsltData);\n}\n\nMy guess is I'm overlooking something, either about the swing classes I'm using, or about Java. Any ideas?\n", "I have two threads in an Android application, one is the view thread, and the other is the worker thread. What I want to do is, sleep the worker thread until the view thread terminates the handling of the onDraw method.\nHow i can do this? is there any wait for the signal or something?\n", "I want to filter a java.util.Collection based on a predicate.\n", "I'm a big fan of the Jadclipse plugin and I'd really like to upgrade to Eclipse 3.4 but the plugin currently does not work. Are there any other programs out there that let you use jad to view source of code you navigate to from Eclipse? (Very useful when delving into ambiguous code in stack traces).\n", "I have a class that defines the names of various session attributes, e.g.\nclass Constants {\n    public static final String ATTR_CURRENT_USER = \"current.user\";\n}\n\nI would like to use these constants within a JSP to test for the presence of these attributes, something like:\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n<%@ page import=\"com.example.Constants\" %>\n\n<c:if test=\"${sessionScope[Constants.ATTR_CURRENT_USER] eq null}\">\n    <%-- Do somthing --%>\n</c:if>\n\nBut I can't seem to get the sytax correct. Also, to avoid repeating the rather lengthy tests above in multiple places, I'd like to assign the result to a local (page-scoped) variable, and refer to that instead. I believe I can do this with <c:set>, but again I'm struggling to find the correct syntax.\nUPDATE: Further to the suggestion below, I tried:\n<c:set var=\"nullUser\" scope=\"session\"\nvalue=\"${sessionScope[Constants.ATTR_CURRENT_USER] eq null}\" />\n\nwhich didn't work. So instead, I tried substituting the literal value of the constant. I also added the constant to the content of the page, so I could verify the constant's value when the page is being rendered\n<c:set var=\"nullUser\" scope=\"session\"\nvalue=\"${sessionScope['current.user'] eq null}\" />\n<%= \"Constant value: \" + WebHelper.ATTR_CURRENT_PARTNER %>\n\nThis worked fine and it printed the expected value \"current.user\" on the page. I'm at a loss to explain why using the String literal works, but a reference to the constant doesn't, when the two appear to have the same value. Help.....\n", "I have a Java application that monitors a folder for incoming XML files.  When a new file is detected I need to test the file that it is not currently being updated and is closed.  My thought is to use File.canWrite() to test this.  Is there any issue with doing this?  Is this a good way to test that a file has been completely written?  \nOther ideas I am throwing around are:\n\nParse the incoming XML file and test\nthat the closing tag is there.\nCheck for the EoF character.\n\nI just am not sure that any of these methods will handle all scenarios.\n", "I have a method that's about ten lines of code.  I want to create more methods that do exactly the same thing, except for a small calculation that's going to change one line of code.  This is a perfect application for passing in a function pointer to replace that one line, but Java doesn't have function pointers.  What's my best alternative?\n", "Every time I try to run a small application that uses a Derby DB I get this error message:\n\nMessage: Database at /path/to/db/TheDB has an incompatible format with the current version of the software.  The database was created by or upgraded by version 10.4.\n\nI've added the library from Netbeans, and still have the same problem.\nI'm not sure what to do here.\n", "Right now I'm making an extremely simple website- about 5 pages. Question is if it's overkill and worth the time to integrate some sort of database mapping solution or if it would be better to just use plain old JNDI. I'll have maybe a dozen things I need to read/write from the database. I guess I have a basic understanding of these technologies but it would still take a lot of referring to the documentation. Anyone else faced with the decision before?\nEDIT: Sorry, I should've specified JNDI to lookup the DB connection and JDBC to perform the operations.\n", "Is it possible to throw an exception in a JSP without using scriptlet code?\n", "That's the question: Which library can help me to access data available via WebDAV in my Java-programs? OpenSource is preferred.\n", "When I try the following lookup in my code:\nContext initCtx = new InitialContext();\nContext envCtx = (Context) initCtx.lookup(\"java:comp/env\");\nreturn (DataSource) envCtx.lookup(\"jdbc/mydb\"); \n\nI get the following exception:\njava.sql.SQLException: QueryResults: Unable to initialize naming context: \n    Name java:comp is not bound in this Context at \n    com.onsitemanager.database.ThreadLocalConnection.getConnection\n    (ThreadLocalConnection.java:130) at     \n    ...\n\nI installed embedded JBoss following the JBoss wiki instructions.  And I configured Tomcat using the \"Scanning every WAR by default\" deployment as specified in the configuration wiki page.\nQuoting the config page:\n\nJNDI\nEmbedded JBoss components like connection pooling, EJB, JPA, and transactions make \n  extensive use of JNDI to publish services. Embedded JBoss overrides Tomcat's JNDI \n  implementation by layering itself on top of Tomcat's JNDI instantiation. There are a few > reasons for this:\n\nTo avoid having to declare each and every one of these services within server.xml\nTo allow seemeless integration of the java:comp namespace between web apps and \n  EJBs.\nTomcat's JNDI implementation has a few critical bugs in it that hamper some JBoss \n  components ability to work\nWe want to provide the option for you of remoting EJBs and other services that can > be remotely looked up\n\n\nAnyone have any thoughts on how I can configure the JBoss naming service which according to the above quote is overriding Tomcat's JNDI implementation so that I can do a lookup on java:comp/env?  \nFYI - My environment Tomcat 5.5.9, Seam 2.0.2sp, Embedded JBoss (Beta 3), \nNote:  I do have a -ds.xml file for my database connection properly setup and accessible on the class path per the instructions.\nAlso note: I have posted this question in embedded Jboss forum and seam user forum.  \n", "Is there a Java package providing funcionality like the .Net System.Data namespace ?\nSpecificaly the DataSet and Adaptor classes ?\n", "I am building a small website for fun/learning using a fairly standard Web/Service/Data Access layered design.\nTo save me from constantly having to create instances of my service layer/data access layer classes, I have made the methods in them all static. I shouldn't get concurrency issues as they use local variables etc and do not share any resources (things are simple enough for this at the moment).\nAs far as I can see the only trade-off for this is that I am not really following a true OO approach, but then again it keeps the code much cleaner.\nIs there any reason this would not be a viable approach? What sort of problems might arise later on? Would it be better to have a \"factory\" class that can return me instances of the service and data layer classes as needed?\n", "Anyone know if it is possible to write an app that uses the Java Sound API on a system that doesn't actually have a hardware sound device?\nI have some code I've written based on the API that manipulates some audio and plays the result but I am now trying to run this in a server environment, where the audio will be recorded to a file instead of played to line out.\nThe server I'm running on has no sound card, and I seem to be running into roadblocks with Java Sound not being able to allocate any lines if there is not a Mixer that supports it. (And with no hardware devices I'm getting no Mixers.)\nAny info would be much appreciated -\nthanks.\n", "I need to determine the ID of a form field from within an action handler. The field is a part of a included facelets component and so the form will vary.\nincluded.xhtml \n<ui:component>\n  <h:inputText id=\"contained_field\"/>\n  <h:commandButton actionListener=\"#{backingBean.update}\" value=\"Submit\"/>\n</ui:component>\n\nexample_containing.xhtml\n<h:form id=\"containing_form\">\n  <ui:include src=\"/included.xhtml\"/>\n</h:form>\n\nHow may I determine the ID of the form in the update method at runtime? Or better yet, the ID of the input field directly.\n", "what configuration needs to be tweaked, and where does it live, in order to increase the maximum allowed post size?\n", "Question\nCan I build a image database/library that has an e-commerce style checkout system and a powerful search in Oracle/Java? Are there existing elements out there I should be aware of? Or, is this better in another dev environment like PHP/MySQL?\nOverview\nI am working on an image database/library dev team on the UI side of things, but I can't help but feel the team is tracking a bit off course on this one. \nOrdinarily, I would look to see this entirely within an open-source, license-free environment like a PHP/MySQL/Apache server environment, however strict IT approvals processes have limited the areas of exploration to Oracle as the DB component with Java then making the likely programming environment.\nWith that noted, I have never worked with either, and don't know how complicated it would be to put the following features together:\n\nkeyword and metadata based search\ne-commerce style checkout system (no payment methods or infrastructure required)\ngallery groupings of images (edited by a central editor)\ntag cloud generation and search\ncomponent to parse metadata from embedded metadata (in XMP) to the database\nweb-based back end for database management, maintenance of controlled keyword lists and administration of content\n\nI've uploaded a pdf of screenshots of the UI I've developed for the web side of things.\nUI Sceenshots\nSorry for the complicated Q, having a hard time with it myself.\n", "does any one know how to get the current motherboard, processor or HD temperature statistics?\nIn GNU/Linux, I know I could use something like hddtemp or sensord to get the info, and then parse it... but in Windows: How can I do this?  And, Can it be done with with C# or Java or any other hight level programming language?\nThanks!\n", "I have an Enum called Status defined as such:\npublic enum Status { \n\n    VALID(\"valid\"), OLD(\"old\");\n\n    private final String val;\n\n    Status(String val) {\n        this.val = val;\n    }\n\n    public String getStatus() {\n        return val;\n    }\n\n}\n\nI would like to access the value of VALID from a JSTL tag. Specifically the test attribute of the <c:when> tag. E.g.\n<c:when test=\"${dp.status eq Status.VALID\">\n\nI'm not sure if this is possible, so any help would be much appreciated.\n", "I would like to know if there is some way to share a variable or an object between two or more Servlets, I mean some \"standard\" way. I suppose that this is not a good practice but is a easier way to build a prototype.\nI don't know if it depends on the technologies used, but I'll use Tomcat 5.5\n\nI want to share a Vector of objects of a simple class (just public attributes, strings, ints, etc). My intention is to have a static data like in a DB, obviously it will be lost when the Tomcat is stopped. (it's just for Testing)\n", "I'm processing, let's say a list of \"Document\" objects. Before I record the processing of the document successful I first want to check a couple of things. Let's say, the file referring to the document should be present and something in the document should be present. Just two simple checks for the example but think about 8 more checks before I have successfully processed my document.\nWhat would have your preference?\nfor (Document document : List<Document> documents) {\n    if (!fileIsPresent(document)) {\n        doSomethingWithThisResult(\"File is not present\");\n        continue;\n    }\n    if (!isSomethingInTheDocumentPresent(document)) {\n        doSomethingWithThisResult(\"Something is not in the document\");\n        continue;\n    }\n    doSomethingWithTheSucces();\n}\n\nOr\nfor (Document document : List<Document> documents) {\n    try {\n        fileIsPresent(document);\n        isSomethingInTheDocumentPresent(document);\n        doSomethingWithTheSucces();\n    } catch (ProcessingException e) {\n        doSomethingWithTheExceptionalCase(e.getMessage());\n    }\n}\n\npublic boolean fileIsPresent(Document document) throws ProcessingException {\n    ... throw new ProcessingException(\"File is not present\");\n}     \n\npublic boolean isSomethingInTheDocumentPresent(Document document) throws ProcessingException {\n    ... throw new ProcessingException(\"Something is not in the document\");\n}\n\nWhat is more readable. What is best? Is there even a better approach of doing this (maybe using a design pattern of some sort)? \nAs far as readability goes my preference currently is the Exception variant... \nWhat is yours?\n", "I will choose Java as an example, most people know it, though every other OO language was working as well.\nJava, like many other languages, has interface inheritance and implementation inheritance. E.g. a Java class can inherit from another one and every method that has an implementation there (assuming the parent is not abstract) is inherited, too. That means the interface is inherited and the implementation for this method as well. I can overwrite it, but I don't have to. If I don't overwrite it, I have inherited the implementation.\nHowever, my class can also \"inherit\" (not in Java terms) just an interface, without implementation. Actually interfaces are really named that way in Java, they provide interface inheritance, but without inheriting any implementation, since all methods of an interface have no implementation.\nNow there was this article, saying it's better to inherit interfaces than implementations, you may like to read it (at least the first half of the first page), it's pretty interesting. It avoids issues like the fragile base class problem. So far this makes all a lot of sense and many other things said in the article make a lot of sense to me.\nWhat bugs me about this, is that implementation inheritance means code reuse, one of the most important properties of OO languages. Now if Java had no classes (like James Gosling, the godfather of Java has wished according to this article), it solves all problems of implementation inheritance, but how would you make code reuse possible then?\nE.g. if I have a class Car and Car has a method move(), which makes the Car move. Now I can sub-class Car for different type of cars, that are all cars, but are all specialized versions of Car. Some may move in a different way, these need to overwrite move() anyway, but most would simply keep the inherited move, as they move alike just like the abstract parent Car. Now assume for a second that there are only interfaces in Java, only interfaces may inherit from each other, a class may implement interfaces, but all classes are always final, so no class can inherit from any other class.\nHow would you avoid that when you have an Interface Car and hundred Car classes, that you need to implement an identical move() method for each of them? What concepts for code reuse other than implementation inheritance exist in the the OO world?\nSome languages have Mixins. Are Mixins the answer to my question? I read about them, but I cannot really imagine how Mixins would work in a Java world and if they can really solve the problem here.\nAnother idea was that there is a class that only implements the Car interface, let's call it AbstractCar, and implements the move() method. Now other cars implement the Car interface as well, internally they create an instance of AbstractCar and they implement their own move() method by calling move() on their internal abstract Car. But wouldn't this be wasting resources for nothing (a method calling just another method - okay, JIT could inline the code, but still) and using extra memory for keeping internal objects, you wouldn't even need with implementation inheritance? (after all every object needs more memory than just the sum of the encapsulated data) Also isn't it awkward for a programmer to write dummy methods like\npublic void move() {\n    abstractCarObject.move();\n}\n\n?\nAnyone can imagine a better idea how to avoid implementation inheritance and still be able to re-use code in an easy fashion?\n", "If my code throws an exception, sometimes - not everytime - the jsf presents a blank page. I\u00b4m using facelets for layout.\nA similar error were reported at this Sun forumn\u00b4s post, but without answers.\nAnyone else with the same problem, or have a solution?\n;)\nDue to some requests. Here follow more datails:\nweb.xml\n <error-page>\n        <exception-type>com.company.ApplicationResourceException</exception-type>\n        <location>/error.faces</location>\n </error-page>\n\nAnd the stack related to jsf is printed after the real exception:\n####<Sep 23, 2008 5:42:55 PM GMT-03:00> <Error> <HTTP> <comp141> <AdminServer> <[ACTIVE] ExecuteThread: '3' for queue: 'weblogic.kernel.Default (self-tuning)'> <<WLS Kernel>> <> <> <1222202575662> <BEA-101107> <[weblogic.servlet.internal.WebAppServletContext@6d46b9 - appName: 'ControlPanelEAR', name: 'ControlPanelWeb', context-path: '/Web'] Problem occurred while serving the error page.\njavax.servlet.ServletException: viewId:/error.xhtml - View /error.xhtml could not be restored.\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:249)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:226)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:124)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:283)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:175)\n    at weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:525)\n    at weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:261)\n    at weblogic.servlet.internal.ForwardAction.run(ForwardAction.java:22)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n    at weblogic.security.service.SecurityManager.runAs(Unknown Source)\n    at weblogic.servlet.internal.ErrorManager.handleException(ErrorManager.java:144)\n    at weblogic.servlet.internal.WebAppServletContext.handleThrowableFromInvocation(WebAppServletContext.java:2201)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2053)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1366)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:200)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:172)\njavax.faces.application.ViewExpiredException: viewId:/error.xhtml - View /error.xhtml could not be restored.\n    at com.sun.faces.lifecycle.RestoreViewPhase.execute(RestoreViewPhase.java:180)\n    at com.sun.faces.lifecycle.LifecycleImpl.phase(LifecycleImpl.java:248)\n    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:117)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:244)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:226)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:124)\n\nI\u00b4m using the jsf version Mojarra 1.2_09, richfaces 3.2.1.GA and  facelets 1.1.13.\nHope some help :(\n", "I have a method that periodically (e.g. once in every 10 secs) try to connect to a server and read some data from it. The server might not be available all the time. If the server is not available the method throws an exception.\nWhat would be the best way to implement a wrapper method that doesn't throw an exception except if the server wasn't available for at least one minute?\n", "I know Googling I can find an appropriate answer, but I prefer listening to your personal (and maybe technical) opinions.\nWhat is the main reason of the difference between Java and C# in throwing exceptions?\nIn Java the signature of a method that throws an exception has to use the \"throws\" keyword, while in C# you don't know in compilation time if an exception could be thrown.\n", "Mixing the use of primitive data types and their respective wrapper classes, in Java, can lead to a lot of bugs. The following example illustrates the issue:\nint i = 4;\n...\nif (i == 10)\n  doStuff();\n\nLater on you figure that you want the variable i to be either defined or undefined, so you change the above instantiation to:\nInteger i = null;\n\nNow the equality check fails.\nIs it good Java practise to always use the primitive wrapper classes? It obviously would get some bugs out of the way early, but what are the downsides to this? Does it impact performance or the application's memory footprint? Are there any sneaky gotchas?\n", "So I'm using hibernate and working with an application that manages time.\nWhat is the best way to deal with times in a 24 hour clock?\nI do not need to worry about TimeZone issues at the beginning of this application but it would be best to ensure that this functionality is built in at the beginning.\nI'm using hibernate as well, just as an fyi\n", "I know this is a subjective question, but why does Hibernate seem to be designed for short lived sessions?  Generally in my apps I create DAOs to abstract my data layer, but since I can't predict how the entity objects are going to be used some of its collections are lazy loaded, or I should say fail to load once the session is closed.\nWhy did they not design it so that it would automatically re-open the session, or have sessions always stay open?\n", "This question is specifically related to overriding the equals() method for objects with a large number of fields.  First off, let me say that this large object cannot be broken down into multiple components without violating OO principles, so telling me \"no class should have more than x fields\" won't help.  \nMoving on, the problem came to fruition when I forgot to check one of the fields for equality.  Therefore, my equals method was incorrect.  Then I thought to use reflection:\n--code removed because it was too distracting--\n\nThe purpose of this post isn't necessarily to refactor the code (this isn't even the code I am using), but instead to get input on whether or not this is a good idea.  \nPros:\n\nIf a new field is added, it is automatically included \nThe method is much more terse than 30 if statements\n\nCons:\n\nIf a new field is added, it is automatically included, sometimes this is undesirable\nPerformance:  This has to be slower, I don't feel the need to break out a profiler\nWhitelisting certain fields to ignore in the comparison is a little ugly\n\nAny thoughts?\n", "I'm currently turning an array of pixel values (originally created with a java.awt.image.PixelGrabber object) into an Image object using the following code:\npublic Image getImageFromArray(int[] pixels, int width, int height) {\n    MemoryImageSource mis = new MemoryImageSource(width, height, pixels, 0, width);\n    Toolkit tk = Toolkit.getDefaultToolkit();\n    return tk.createImage(mis);\n}\n\nIs it possible to achieve the same result using classes from the ImageIO package(s) so I don't have to use the AWT Toolkit?\nToolkit.getDefaultToolkit() does not seem to be 100% reliable and will sometimes throw an AWTError, whereas the ImageIO classes should always be available, which is why I'm interested in changing my method.\n", "How do I pick a random element from a set?\nI'm particularly interested in picking a random element from a\nHashSet or a LinkedHashSet, in Java.\nSolutions for other languages are also welcome. \n", "I am having an issue where Tomcat is treating extra path information as part of the servlet name.  This is breaking a bunch of RESTFul functionality in our webapp (we use extra path info rather than ?name=value pairs for crawler friendly links).\nIt was working correctly before, but it broke after adding explicit mappings and removing the Invoker servlet that we previously used to serve our servlets.  For example consider the following link:\n\nhttp://mydomain.com/servlet/MyServlet/param1/param2/param3\n\nMyServlet used to be called correctly, and \"/param1/param2/param3\" was returned by getPathInfo() on the HttpServletRequest.\nNow, it appears that Tomcat is trying to load MyServlet/param1/param2/param3 as the servlet:\n\n[23/Sep/2008:16:44:23 -0700] \"GET\n  /servlet/MyServlet/param1/param2/param3\n  HTTP/1.0\" 404\n\nHere is the way they are defined and mapped in the web.xml, and just hitting\n\"http://mydomain.com/servlet/MyServlet\" works fine.\n<servlet>\n  <servlet-name>MyServlet</servlet-name>\n  <servlet-class>com.myclass.etcetera.MyServlet</servlet-class>\n</servlet>\n\n<servlet-mapping>\n  <servlet-name>MyServlet</servlet-name>\n  <url-pattern>/servlet/MyServlet</url-pattern>\n</servlet-mapping>\n\n", "I'm looking for the simplest, most straightforward way to implement the following:\n\nThe main program instantiates worker\nthreads to do a task.\nOnly n tasks can be running at once.\nWhen n is reached, no more workers\nare started until the count of\nrunning threads drops back below n.\n\n", "In Java, web apps are bundled in to WARs. By default, many servlet containers will use the WAR name as the context name for the application.\nThus myapp.war gets deployed to http://example.com/myapp.\nThe problem is that the webapp considers its \"root\" to be, well, \"root\", or simply \"/\", whereas HTML would consider the root of your application to be \"/myapp\".\nThe Servlet API and JSP have facilities to help manage this. For example, if, in a servlet, you do: response.sendRedirect(\"/mypage.jsp\"), the container will prepend the context and create the url: http://example.com/myapp/mypage.jsp\".\nHowever, you can't do that with, say, the IMG tag in HTML. If you do <img src=\"/myimage.gif\"/> you will likely get a 404, because what you really wanted was \"/myapp/myimage.gif\".\nMany frameworks have JSP tags that are context aware as well, and there are different ways of making correct URLs within JSP (none particularly elegantly).\nIt's a nitty problem for coders to jump in an out of when to use an \"App Relative\" url, vs an absolute url.\nFinally, there's the issue of Javascript code that needs to create URLs on the fly, and embedded URLs within CSS (for background images and the like).\nI'm curious what techniques others use to mitigate and work around this issue. Many simply punt and hard code it, either to server root or to whatever context they happen to be using. I already know that answer, that's not what I'm looking for.\nWhat do you do?\n", "We've got a Java server application that runs on a number of computers, all connected to the Internet, some behind firewalls. We need to remotely update the JAR files and startup scripts from a central site, with no noticeable interruption to the app itself.\nThe process has to be unattended and foolproof (i.e. we can't afford to break the app due to untimely internet outages).\nIn the past we've used a variety of external scripts and utilities to handle similar tasks, but because they have their own dependencies, the result is harder to maintain and less portable. Before making something new, I want to get some input from the community.\nHas anyone found a good solution for this already? Got any ideas or suggestions?\nJust to clarify: This app is a server, but not for web applications (no webapp containers or WAR files here). It's just an autonomous Java program.\n", "I've been looking into OSGi recently and think it looks like a really good idea for modular Java apps.\nHowever, I was wondering how OSGi would work in a web application, where you don't just have code to worry about - also HTML, images, CSS, that sort of thing.\nAt work we're building an application which has multiple 'tabs', each tab being one part of the app. I think this could really benefit from taking an OSGi approach - however I'm really not sure what would be the best way to handle all the usual web app resources.\nI'm not sure whether it makes any difference, but we're using JSF and IceFaces (which adds another layer of problems because you have navigation rules and you have to specify all faces config files in your web.xml... doh!)\nEdit: according to this thread, faces-config.xml files can be loaded up from JAR files - so it is actually possible to have multiple faces-config.xml files included without modifying web.xml, provided you split up into JAR files.\nAny suggestions would be greatly appreciated :-)\n", "Problem. I need a way to find Starteam server time through Starteam Java SDK 8.0. Version of server is 8.0.172 so method Server.getCurrentTime() is not available since it was added only in server version 9.0.\nMotivation. My application needs to use views at specific dates. So if there's some difference in system time between client (where the app is running) and server then obtained views are not accurate. In the worst case the client's requested date is in the future for server so the operation results in exception.\n", "Is it possbile to execute linux commands with java? I am trying to create a web servlet to allow ftp users to change their passwords without ssh login access. I would like to execute the next commands:  \n# adduser -s /sbin/nologin clientA -d /home/mainclient/clientA\n# passwd clientA\n# cd /home/mainclient; chgrp -R mainclient clientA\n# cd /home/mainclient/clientA; chmod 770 .\n\n", "I'm trying to run a process and do stuff with its input, output and error streams. The obvious way to do this is to use something like select(), but the only thing I can find in Java that does that is Selector.select(), which takes a Channel. It doesn't appear to be possible to get a Channel from an InputStream or OutputStream (FileStream has a  getChannel() method but that doesn't help here)\nSo, instead I wrote some code to poll all the streams:\nwhile( !out_eof || !err_eof )\n{\n    while( out_str.available() )\n    {\n        if( (bytes = out_str.read(buf)) != -1 )\n        {\n            // Do something with output stream\n        }\n        else\n            out_eof = true;\n    }\n    while( err_str.available() )\n    {\n        if( (bytes = err_str.read(buf)) != -1 )\n        {\n            // Do something with error stream\n        }\n        else\n            err_eof = true;\n    }\n    sleep(100);\n}\n\nwhich works, except that it never terminates. When one of the streams reaches end of file, available() returns zero so read() isn't called and we never get the -1 return that would indicate EOF.\nOne solution would be a non-blocking way to detect EOF. I can't see one in the docs anywhere. Alternatively is there a better way of doing what I want to do?\nI see this question here:\nlink text\nand although it doesn't exactly do what I want, I can probably use that idea, of spawning separate threads for each stream, for the particular problem I have now. But surely that isn't the only way to do it? Surely there must be a way to read from multiple streams without using a thread for each?\n", "Since the release of Adobe AIR I am wondering why Java Web Start has not gained more attention in the past as to me it seems to be very similar, but web start is available for a much longer time.\nIs it mainly because of bad marketing from Sun, or are there more technical concerns other than the need of having the right JVM installed? Do you have bad experiences using Web Start? If yes, which? What are you recommendations when using Web Start for distributing applications?\n", "Is it possible to pass a function/callback from javascript to a java applet?\nFor example i have an applet with a button that when pressed it will call the passed js callback\nfunction onCommand() {alert('Button pressed from applet');}\napplet.onCommand(onCommand);\n\n", "I am doing a project at the moment, and in the interest of code reuse, I went looking for a library that can perform some probabilistic accept/reject of an item: \ni.e., there are three people (a, b c), and each of them have a probability P{i} of getting an item, where p{a} denotes the probability of a. These probabilities are calculated at run time, and cannot be hardcoded. \nWhat I wanted to do is to generate one random number (for an item), and calculate who gets that item based on their probability of getting it. The alias method (http://books.google.com/books?pg=PA133&dq=alias+method+walker&ei=D4ORR8ncFYuWtgOslpVE&sig=TjEThBUa4odbGJmjyF4daF1AKF4&id=ERSSDBDcYOIC&output=html) outlined here explained how, but I wanted to see if there is a ready made implementation so I wouldn't have to write it up.\n", "When I launch the \"mvn install\" command, maven sometimes tries to download dependencies that it has already downloaded. That's expected for SNAPSHOT but why does maven do that for other JARs?\nI know I can avoid that behavior by \"-o\" flag but I just wonder what the cause is.\n", "I've created an implementation of the QAbstractListModel class in Qt Jambi 4.4 and am finding that using the model with a QListView results in nothing being displayed, however using the model with a QTableView displays the data correctly.\nBelow is my implementation of QAbstractListModel:\npublic class FooListModel extends QAbstractListModel\n{\n    private List<Foo> _data = new Vector<Foo>();\n\n    public FooListModel(List<Foo> data)\n    {\n        if (data == null)\n        {\n            return;\n        }\n\n        for (Foo foo : data)\n        {\n            _data.add(Foo);\n        }\n\n        reset();\n    }\n\n    public Object data(QModelIndex index, int role)\n    {\n        if (index.row() < 0 || index.row() >= _data.size())\n        {\n            return new QVariant();\n        }\n\n        Foo foo = _data.get(index.row());\n\n        if (foo == null)\n        {\n            return new QVariant();\n        }\n\n        return foo;\n    }\n\n    public int rowCount(QModelIndex parent)\n    {\n        return _data.size();\n    }\n}\n\nAnd here is how I set the model:\nFoo foo = new Foo();\nfoo.setName(\"Foo!\");\n\nList<Foo> data = new Vector<Foo>();\ndata.add(foo);\n\nFooListModel fooListModel = new FooListModel(data);\nui.fooListView.setModel(fooListModel);\nui.fooTableView.setModel(fooListModel);\n\nCan anyone see what I'm doing wrong? I'd like to think it was a problem with my implementation because, as everyone says, select ain't broken!\n", "Does anyone know how to solve this java error?\njava.io.IOException: Invalid keystore format\n\nI get it when I try and access the certificate store from the Java option in control panels. It's stopping me from loading applets that require elevated privileges.\nError Image\n", "I need to compress portions of our application's network traffic for performance.  I presume this means I need to stay away from some of the newer algorithms like bzip2, which I think I have heard is slower.\n", "I have a constructor like as follows:\npublic Agent(){\n\n    this.name = \"John\";\n    this.id = 9;\n    this.setTopWorldAgent(this, \"Top_World_Agent\", true);\n\n}\n\nI'm getting a null pointer exception here in the method call. It appears to be because I'm using 'this' as an argument in the setTopWorldAgent method. By removing this method call everything appears fine. Why does this happen? Has anyone else experienced this?\n", "I am looking for a library that will allow me to look up the status of a windows service to verify that the service is started and running.  I looked into the Sigar library, but it is GPL and therefor I cannot use it.  A Commercial or BSD(ish) license is required as this will be bundled into commercial software.\n", "I have a class that defines the names of various constants, e.g.\nclass Constants {\n    public static final String ATTR_CURRENT_USER = \"current.user\";\n}\n\nI would like to use these constants within a JSP without using Scriptlet code such as:\n<%@ page import=\"com.example.Constants\" %>\n<%= Constants.ATTR_CURRENT_USER %>\n\nThere appears to be a tag in the Apache unstandard taglib that provides this functionality. However, I cannot find any way to download this taglib. I'm beginning to wonder if it's been deprecated and the functionality has been moved to another (Apache) tag library?\nDoes anyone know where I can get this library, or if it's not available, if there's some other way I can access constants in a JSP without using scriptlet code?\nCheers,\nDon\n", "Why does the following method hang?\n\npublic void pipe(Reader in, Writer out) {\n    CharBuffer buf = CharBuffer.allocate(DEFAULT_BUFFER_SIZE);\n    while( in.read(buf) >= 0 ) {\n      out.append(buf.flip());\n    }\n}\n\n", "Is there a more concise/standard idiom (e.g., a JDK method) for \"piping\" an input to an output in Java than the following?\n\npublic void pipe(Reader in, Writer out) {\n    CharBuffer buf = CharBuffer.allocate(DEFAULT_BUFFER_SIZE);\n    while( in.read(buf) >= 0 ) {\n      out.append(buf.flip());\n      buf.clear();\n    }\n}\n\n[EDIT] Please note the Reader and Writer are given. The correct answer will demonstrate how to take in and out and form a pipe (preferably with no more than 1 or 2 method calls). I will accept answers where in and out are an InputStream and an OutputStream (preferably with a conversion from/to Reader/Writer). I will not accept answers where either in or out is a subclass of Reader/InputStream or Writer/OutputStrem.\n", "I am attempting to read a large XML document and I wanted to do it in chunks vs XmlDocument's way of reading the entire file into memory. I know I can use XmlTextReader to do this but I was wondering if anyone has used SAX for .NET? I know Java developers swear by it and I was wondering if it is worth giving it a try and if so what are the benefits in using it. I am looking for specifics.\n", "When I iterate over the values or keys are they going to correlate?  Will the second key map to the second value?\n", "I'm writing a custom file selection component. In my UI, first the user clicks a button, which pops a JFileChooser; when it is closed, the absolute path of the selected file is written to a JTextField.\nThe problem is, absolute paths are usually long, which causes the text field to enlarge, making its container too wide.\nI've tried this, but it didn't do anything, the text field is still too wide:\nfileNameTextField.setMaximumSize(new java.awt.Dimension(450, 2147483647));\n\nCurrently, when it is empty, it is already 400px long, because of GridBagConstraints attached to it.\nI'd like it to be like text fields in HTML pages, which have a fixed size and do not enlarge when the input is too long.\nSo, how do I set the max size for a JTextField ?\n", "I have a Java process that opens a file using a FileReader. How can I prevent another (Java) process from opening this file, or at least notify that second process that the file is already opened? Does this automatically make the second process get an exception if the file is open (which solves my problem) or do I have to explicitly open it in the first process with some sort of flag or argument?\nTo clarify:\nI have a Java app that lists a folder and opens each file in the listing for processing it. It processes each file after the other. The processing of each file consists of reading it and doing some calculations based on the contents and it takes about 2 minutes. I also have another Java app that does the same thing but instead writes on the file. What I want is to be able to run these apps at the same time so the scenario goes like this. ReadApp lists the folder and finds files A, B, C. It opens file A and starts the reading. WriteApp lists the folder and finds files A, B, C. It opens file A, sees that is is open (by an exception or whatever way) and goes to file B. ReadApp finishes file A and continues to B. It sees that it is open and continues to C. It is crucial that WriteApp doesn't write while ReadApp is reading the same file or vice versa. They are different processes.\n", "In Java, I use a class in which some fields can be null. For example:\nclass Foo {\n    String bar;\n    //....\n}\n\nI want to write a BarComparator for this class,\n    private static class BarComparator\n            implements Comparator<Foo> {\n        public int compare( final Foo o1, final Foo o2 )\n        {\n            // Implementation goes here\n        }\n    }\n\nIs there a standard way to deal with the fact that any of o1, o2, o1.bar, o2.bar can be null, without writing lots of nested if...else?\nCheers!\n", "I have several log files of events (one event per line). The logs can possibly overlap. The logs are generated on separate client machines from possibly multiple time zones (but I assume I know the time zone). Each event has a timestamp that was normalized into a common time (by instantianting each log parsers calendar instance with the timezone appropriate to the log file and then using getTimeInMillis to get the UTC time). The logs are already sorted by timestamp. Multiple events can occur at the same time, but they are by no means equal events.\nThese files can be relatively large, as in, 500000 events or more in a single log, so reading the entire contents of the logs into a simple Event[] is not feasible.\nWhat I am trying do is merge the events from each of the logs into a single log. It is kinda like a mergesort task, but each log is already sorted, I just need to bring them together. The second component is that the same event can be witnessed in each of the separate log files, and I want to \"remove duplicate events\" in the file output log.\nCan this be done \"in place\", as in, sequentially working over some small buffers of each log file? I can't simply read in all the files into an Event[], sort the list, and then remove duplicates, but so far my limited programming capabilities only enable me to see this as the solution. Is there some more sophisticated approach that I can use to do this as I read events from each of the logs concurrently?\n", "Given an Item that has been appended to a Form, whats the best way to find out what index that item is at on the Form?\nForm.append(Item) will give me the index its initially added at, but if I later insert items before that the index will be out of sync.\n", "I'm trying to define a task that emits (using echo) a message when a target completes execution, regardless of whether that target was successful or not.  Specifically, the target executes a  task to run some unit tests, and I want to emit a message indicating where the results are available:\n<target name=\"mytarget\">\n  <testng outputDir=\"${results}\" ...>\n    ...\n  </testng>\n  <echo>Tests complete.  Results available in ${results}</echo>\n</target>\n\nUnfortunately, if the tests fail, the  task fails and execution aborts.  So the message is only output if the tests pass - the opposite of what I want.  I know I can put the  task before the  task, but this will make it easier for users to miss this message.  Is what I'm trying to do possible?\nUpdate: It turns out I'm dumb.  I had haltOnFailure=\"true\" in my <testng> task, which explains the behaviour I was seeing.  Now the issue is that setting this to false causes the overall ant build to succeed even if tests fail, which is not what I want.  The answer below using the  task looks like it might be what I want..\n", "I have an application - more like a utility - that sits in a corner and updates two different databases periodically. \nIt is a little standalone app that has been built with a Spring Application Context. The context has two Hibernate Session Factories configured in it, in turn using Commons DBCP data sources configured in Spring. \nCurrently there is no transaction management, but I would like to add some. The update to one database depends on a successful update to the other.\nThe app does not sit in a Java EE container - it is bootstrapped by a static launcher class called from a shell script. The launcher class instantiates the Application Context and then invokes a method on one of its beans. \nWhat is the 'best' way to put transactionality around the database updates?\nI will leave the definition of 'best' to you, but I think it should be some function of 'easy to set up', 'easy to configure', 'inexpensive', and 'easy to package and redistribute'. Naturally FOSS would be good.\n", "I'm looking for a way to visualize a piece of GML I'm receiving. What is the best freely available java library to use for this task?\n", "In Java, I have a subclass Vertex of the Java3D class Point3f. Now Point3f computes equals() based on the values of its coordinates, but for my Vertex class I want to be stricter: two vertices are only equal if they are the same object. So far, so good:\nclass Vertex extends Point3f {\n\n    // ...\n\n    public boolean equals(Object other) {\n        return this == other;\n    }\n}\n\nI know this violates the contract of equals(), but since I'll only compare vertices to other vertices this is not a problem.\nNow, to be able to put vertices into a HashMap, the hashCode() method must return results consistent with equals(). It currently does that, but probably bases its return value on the fields of the Point3f, and therefore will give hash collisions for different Vertex objects with the same coordinates.\nTherefore I would like to base the hashCode() on the object's address, instead of computing it from the Vertex's fields. I know that the Object class does this, but I cannot call its hashCode() method because Point3f overrides it.\nSo, actually my question is twofold:\n\nShould I even want such a shallow equals()?\nIf yes, then, how do I get the object's address to compute the hash code from?\n\nEdit: I just thought of something... I could generate a random int value on object creation, and use that for the hash code. Is that a good idea? Why (not)?\n", "I'm not committed to any particular GUI tookit or anything - just needs to be Java based. I want to do simple syntax highlighting ( XML and XQuery ) inside editable text areas.\nMy only candidate so far is Swing's JTextPane, as it supports seems to support the styling of text, but I have no idea how to implement it in this context.\nIf a particular toolkit has something like this out of the box, that would be awesome, but I'm open to doing this by hand if need be.\n", "Essentially the only thing I can deploy to my deployment machine is a JAR file.  I can't install JRuby, nor can I install Glassfish or Tomcat.\nIs it possible to package up a Rails application (including Rails, vendored, of course) to a JAR file such that I can do\nc:\\my_server> java rails_app.jar\n\nand have it run WEBRick or Mongrel within the JVM?\n", "I have recently been thinking about the difference between the two ways of defining an array:\n\nint[] array\nint array[]\n\nIs there a difference?\n", "Is there a way to format a UTC time into any arbitrary string format I want in java?  Basically I was thinking of having some class take the timestamp and I pass it is string telling it how I want it formated, and it returns the formatted string for me.  Is there a way to do this?\n", "Is there a way to statically/globally request a copy of the ApplicationContext in a Spring application?\nAssuming the main class starts up and initializes the application context, does it need to pass that down through the call stack to any classes that need it, or is there a way for a class to ask for the previously created context?  (Which I assume has to be a singleton?)\n", "There have been a few questions asked here about why you can't define static methods within interfaces, but none of them address a basic inconsistency: why can you define static fields and static inner types within an interface, but not static methods?\nStatic inner types perhaps aren't a fair comparison, since that's just syntactic sugar that generates a new class, but why fields but not methods?\nAn argument against static methods within interfaces is that it breaks the virtual table resolution strategy used by the JVM, but shouldn't that apply equally to static fields, i.e. the compiler can just inline it?\nConsistency is what I desire, and Java should have either supported no statics of any form within an interface, or it should be consistent and allow them.  \n", "If you are using Java or JavaScript, is there a good way to do something like a String subtraction so that given two strings:\norg.company.project.component\norg.company.project.component.sub_component\n\nyou just get:\nsub_component\n\nI know that I could just write code to walk the string comparing characters, but I was hoping there was a way to do it in a really compact way.  \nAnother use-case is to find the diff between the strings:\norg.company.project.component.diff\norg.company.project.component.sub_component\n\nI actually only want to remove the sections that are identical.\n", "I need to serialize a huge amount of data (around 2gigs) of small objects into a single file in order to be processed later by another Java process. Performance is kind of important. Can anyone suggest a good method to achieve this?\n", "What property in Netbeans to I need to change to set the name of my java swing app in the OS X menubar and dock? I found info.plist, but changing @PROJECTNAMEASIDENTIFIEER@ in multiple keys here had no effect.\nThanks,\nhating netbeans.\n", "Is it possible to convert a com.vividsolutions.jts.geom.Geometry (or a subclass of it) into a class that implements java.awt.Shape? Which library or method can I use to achieve that goal?\n", "I am a really young software engineer/QA Team leader.  I have been developing software for about 2 years and for 1 of those years I have also been the head of the QA team at a software development company.  Currently I am still working as the QA team leader/software engineer for QA tools.  Recently I have been invited to join a group of friends and associates who would like to start a software company.  They want me to be the architect/tech lead of the software (a special chat client written in Java is all I can say about it).  I am very good at learning under fire and I learn a great deal by doing.  However, I worry that my lack of experience will cause the project to fail (or at least be developed poorly).  So I am wondering would you suggest I take the position, do my best and learn as I go? Or would you suggest I refuse?  \nIf you would suggest I take the position would you please provide one or to resources that would be good for a beginning Java Architect?\n", "I recently inherited a small Java program that takes information from a large database, does some processing and produces a detailed image regarding the information. The original author wrote the code using a single thread, then later modified it to allow it to use multiple threads. \nIn the code he defines a constant;\n//  number of threads\npublic static final int THREADS =  Runtime.getRuntime().availableProcessors();\n\nWhich then sets the number of threads that are used to create the image.\nI understand his reasoning that the number of threads cannot be greater than the number of available processors, so set it the the amount to get the full potential out of the processor(s). Is this correct? or is there a better way to utilize the full potential of the processor(s)?\nEDIT: To give some more clarification, The specific algorithm that is being threaded scales to the resolution of the picture being created, (1 thread per pixel). That is obviously not the best solution though. The work that this algorithm does is what takes all the time, and is wholly mathematical operations, there are no locks or other factors that will cause any given thread to sleep. I just want to maximize the programs CPU utilization to decrease the time to completion.\n", "I use both ruby on rails and Java.  I really enjoy using migrations when I am working on a rails project.  so I am wondering is there a migrations like tool for Java? If there is no such tool is it a good idea to use migrations as a tool to control a database used by a Java project? \n", "How to read a web server log file in Java. This file is getting updated all the time.  If I open a new FileInputStream, will it read the log real time?\nRegards \n", "Is there any way (in Java Servlet) to determine whether a HTTP POST or GET request is a result from a submission from a HTML form or otherwise?\n", "Eclipse 3.4[.x] - also known as Ganymede - comes with this new mechanism of provisioning called p2.\n\"Provisioning\" is the process allowing to discover and update on demand some parts of an application, as explained in general in this article on the Sun Web site.\nEclipse has an extended  wiki section in which p2 details are presented. \nSpecifically, it says in this wiki page that p2 will look for new components\nHowever after reading it.\nI suppose (but you may confirm that point by your own experience), that p2 can function file \"file://\" protocol, which would allow it to provision with local file (either on your computer or on an UNC path '\\server\\path'), as illustrated here, but also by the files:\n\n[eclipse-SDK-3.4-win32]\\eclipse\\configuration\\.settings\\org.eclipse.equinox.p2.artifact.repository.prefs\n[eclipse-SDK-3.4-win32]\\eclipse\\configuration\\.settings\\org.eclipse.equinox.p2.metadata.repository.prefs\n\np2 mechanism is used to update eclipse itself, through an eclipse 3.4 update site, and reference in those '.prefs' files with line like:\n\nrepositories/file:_C:_jv_eclipse_eclipse-SDK-3.4-win32_eclipse/url=file:/C:/jv/eclipse/eclipse-SDK-3.4-win32/eclipse/\n\nNow, how could I replicate the eclipse components present in that update site into a local directory and reference those components through the mentioned '.prefs' files, in order to have an upgrade process entirely run locally, without having to access the web?\nI suppose that some p2 metadata files present in the distant 'update site' need to be replicated and changed as well.\nDo you have any thoughts/advice/tips on that ? (i.e. on how to discover and retrieve and update the complete structure needed for a full eclipse installation, in order to run that installation locally)\n", "I'm writing a Perl script and I've come to a point where I need to parse a Java source file line by line checking for references to a fully qualified Java class name. I know the class I'm looking for up front; also the fully qualified name of the source file that is being searched (based on its path). \nFor example find all valid references to foo.bar.Baz inside the com/bob/is/YourUncle.java file.\nAt this moment the cases I can think of that it needs to account for are:\n\nThe file being parsed is in the same package as the search class. \nfind  foo.bar.Baz references in foo/bar/Boing.java\nIt should ignore comments.\n// this is a comment saying this method returns a foo.bar.Baz or Baz instance \n// it shouldn't count\n\n/*   a multiline comment as well\n this shouldn't count\n if I put foo.bar.Baz or Baz in here either */\n\nIn-line fully qualified references.\nfoo.bar.Baz fb = new foo.bar.Baz();\n\nReferences based off an import statement.\nimport foo.bar.Baz;\n...\nBaz b = new Baz();\n\n\nWhat would be the most efficient way to do this in Perl 5.8? Some fancy regex perhaps?\nopen F, $File::Find::name or die;\n# these three things are already known\n# $classToFind    looking for references of this class\n# $pkgToFind      the package of the class you're finding references of\n# $currentPkg     package name of the file being parsed\nwhile(<F>){\n  # ... do work here   \n}\nclose F;\n# the results are availble here in some form\n\n", "I am trying to copy a file using the following code:\nFile targetFile = new File(targetPath + File.separator + filename);\n...\ntargetFile.createNewFile();\nfileInputStream = new FileInputStream(fileToCopy);\nfileOutputStream = new FileOutputStream(targetFile);\nbyte[] buffer = new byte[64*1024];\nint i = 0;\nwhile((i = fileInputStream.read(buffer)) != -1) {\n    fileOutputStream.write(buffer, 0, i);\n}\n\nFor some users the targetFile.createNewFile results in this exception:\njava.io.IOException: The filename, directory name, or volume label syntax is incorrect\n    at java.io.WinNTFileSystem.createFileExclusively(Native Method)\n    at java.io.File.createNewFile(File.java:850)\n\nFilename and directory name seem to be correct. The directory targetPath is even checked for existence before the copy code is executed and the filename looks like this: AB_timestamp.xml\nThe user has write permissions to the targetPath and can copy the file without problems using the OS.\nAs I don't have access to a machine this happens on yet and can't reproduce the problem on my own machine I turn to you for hints on the reason for this exception.\n", "I deploy a webapp on two different containers (Tomcat and Jetty), but their default servlets for serving the static content have a different way of handling the URL structure I want to use (details).\nI am therefore looking to include a small servlet in the webapp to serve its own static content (images, CSS, etc.). The servlet should have the following properties:\n\nNo external dependencies\nSimple and reliable\nSupport for If-Modified-Since header (i.e. custom getLastModified method)\n(Optional) support for gzip encoding, etags,...\n\nIs such a servlet available somewhere? The closest I can find is example 4-10 from the servlet book.\nUpdate: The URL structure I want to use - in case you are wondering - is simply:\n    <servlet-mapping>\n            <servlet-name>main</servlet-name>\n            <url-pattern>/*</url-pattern>\n    </servlet-mapping>\n    <servlet-mapping>\n            <servlet-name>default</servlet-name>\n            <url-pattern>/static/*</url-pattern>\n    </servlet-mapping>\n\nSo all requests should be passed to the main servlet, unless they are for the static path. The problem is that Tomcat's default servlet does not take the ServletPath into account (so it looks for the static files in the main folder), while Jetty does (so it looks in the static folder).\n", "When I'm writing a Spring command line application which parses command line arguments, how do I pass them to Spring? Would I want to have my main() structured so that it first parses the command line args and then inits Spring? Even so, how would it pass the object holding the parsed args to Spring?\n", "I vahe eclipse rcp app. In my plugin A I use 3rd party plugin B.\nIn plugin B there is plugin.xml with some extensions. In my plugin A I have added some extensions to extensions defined in plugin B, and it works.\nNow I tried to overwrite some values in some extensions from B in plugin A.\nNow, when I run app sometimes it uses old values (from plugin.xml in plugin B), sometimes it uses my new values (from plugin A plugin.xml). It's consistent in one execution of app, but changes from execution to execution.\nCode that gets these values is in plugin B and I wouldn't like to change it. And looks like that:\nIExtensionPoint extensionPoint = Platform.getExtensionRegistry().getExtensionPoint(\"org.jbpm.gd.common.xmlMappings\");\nIExtension[] extensions = extensionPoint.getExtensions();\n\nHow can I ensure my values will be used?\nI think it's matter of setting right order of loading of plugin.xml files, so my plugin.xml will be last, and my values will overwrite theirs, but I'm not sure how to do it.\n", "I am trying to run a diff on two svn urls using SVNkit.  The problem is that I get the error when diff.doDiff is called.\n\norg.tmatesoft.svn.core.SVNException: svn: Unable to create\n  SVNRepository object for\n  'http://svn.codehaus.org/jruby/trunk/jruby/src/org/jruby/Finalizable.java'\n    at\n  org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:55)\n    at\n  org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:40)\n    at\n  org.tmatesoft.svn.core.io.SVNRepositoryFactory.create(SVNRepositoryFactory.java:199)\n    at\n  org.tmatesoft.svn.core.wc.DefaultSVNRepositoryPool.createRepository(DefaultSVNRepositoryPool.java:213)\n    at\n  org.tmatesoft.svn.core.wc.SVNClientManager.createRepository(SVNClientManager.java:242)\n    at\n  org.tmatesoft.svn.core.wc.SVNBasicClient.createRepository(SVNBasicClient.java:231)\n    at\n  org.tmatesoft.svn.core.wc.SVNDiffClient.doDiffURLURL(SVNDiffClient.java:769)\n    at\n  org.tmatesoft.svn.core.wc.SVNDiffClient.doDiff(SVNDiffClient.java:310)\n    at SVNTest.main(SVNTest.java:30)\n\nI have double checked the URLs (I can open them in TortoiseSVN client).  Can anybody help me know what is going on?  I have posted the code I am running below.\nSVNClientManager manager = SVNClientManager.newInstance(SVNWCUtil.createDefaultOptions(false), user, pass);\n\nSVNDiffClient diff = manager.getDiffClient();\n    //ISVNDiffStatusHandler diffStatus = new ISVNDiffStatusHandler();\n\ntry {\nSVNURL oldURL = SVNURL.parseURIDecoded(url);    \ndiff.doDiff(SVNURL.parseURIDecoded(url), SVNRevision.create(oldVersion), SVNURL.parseURIDecoded(url), SVNRevision.HEAD, false, false, System.out);\n} catch (SVNException e) {\n// TODO Auto-generated catch block\ne.printStackTrace();\n}\n\n", "I'm writing a Resource Adaptor which does not support two phase commit.\nI know there is an optimization technique called: \"Last Resource Optimization\".\nOn JBoss your XAResource class should implement LastResource in order to have the optimization.\nMy question is: how this can be done in WebLogic, WebSpehre, Glassfish, etc...\n", "Is there a way to define a generic constraint in Java which would be analogous to the following C# generic constratint ?\nclass Class1<I,T> where I : Interface1, Class2 : I\n\nI'm trying to do it like this:\nclass Class1<I extends Interface1, T extends I & Class2>\n\nBut the compiler complains about the \"Class2\" part: Type parameter cannot be followed by other bounds.\n", "I have some application code which generates XML documents, which are then validated against an XML Schema. The schema makes use of NMTOKEN types, and occasionally, the generated XML contains string values which are illegal NMTOKENs (e.g. they contain spaces or weird punctuation).  The Xerces schema validation catches it OK, of course, but I'd like to catch it earlier, in my own code, and handle it more gracefully.\nI was going to write my own isValidNMTOKEN method, and check that each charcter is valid according to the schema spec, but I was hoping there was an existing utility out there that would do this for me.\nSort of like a commons-lang for XML. Nothing useful in xml.apache.org/commons, sadly.\n", "I was wondering what are the benefits of using anything else but Java for Mobile Application Development.\n", "I would need to perform Diffs between Java strings. I would like to be able to rebuild a string from the original string and diff versions. Does anyone has done this in Java? What library do you use?\nString a1; // This can be a long text\nString a2; // ej. above text with spelling corrections\nString a3; // ej. above text with spelling corrections and an additional sentence\n\nDiff diff = new Diff();\nString differences_a1_a2 = Diff.getDifferences(a,changed_a);\nString differences_a2_a3 = Diff.getDifferences(a,changed_a);    \nString[] diffs = new String[]{a,differences_a1_a2,differences_a2_a3};\nString new_a3 = Diff.build(diffs);\na3.equals(new_a3); // this is true\n\n", "I have a Java client that calls a web service at the moment using the Http protocol.\nWhen i try to use the Https protocol i keep getting this error\njava.io.IOException: DerInputStream.getLength(): lengthTag=127, too big.\nAny ideas what could be up?\nThanks\nDamien\n", "How to sort list of values using only one variable?\nEDIT: according to @Igor's comment, I retitled the question.\n", "I've been writing a little application that will let people upload & download files to me.  I've added a web service to this applciation to provide the upload/download functionality that way but I'm not too sure on how well my implementation is going to cope with large files.\nAt the moment the definitions of the upload & download methods look like this (written using Apache CXF):\nboolean uploadFile(@WebParam(name = \"username\") String username,\n    @WebParam(name = \"password\") String password,\n    @WebParam(name = \"filename\") String filename,\n    @WebParam(name = \"fileContents\") byte[] fileContents)\n    throws UploadException, LoginException;\n\nbyte[] downloadFile(@WebParam(name = \"username\") String username,\n    @WebParam(name = \"password\") String password,\n    @WebParam(name = \"filename\") String filename) throws DownloadException,\n    LoginException;\n\nSo the file gets uploaded and downloaded as a byte array.  But if I have a file of some stupid size (e.g. 1GB) surely this will try and put all that information into memory and crash my service.\nSo my question is - is it possible to return some kind of stream instead?  I would imagine this isn't going to be terribly OS independent though.  Although I know the theory behind web services, the practical side is something that I still need to pick up a bit of information on.\nCheers for any input,\nLee\n", "I have a maven POM file for a web service. For one of the dependencies I have to specify several exclusions for jar files that are already kept at a higher-level in the web-application server (accessible to all web-applications, not just this particular one). One example of such exclusion is the JAR containing my JDBC driver.\nExample (with fictional details):\n<dependency>\n    <groupId>mygroup</groupId>\n     <artifactId>myartifact</artifactId>\n     <version>1.0.0</version>\n     <exclusions>\n         <!--The jdbc driver causes hot-deployment issues-->\n         <exclusion>\n             <groupId>db.drivers</groupId>\n             <artifactId>jdbc</artifactId>\n         </exclusion>\n     </exclusions>\n </dependency>\n\nThe problem I am encountering is that I need the JDBC driver for my tests. My tests currently fail since they cannot load the JDBC driver.\nHow can I configure the POM so that the excluded parts are accessible to my tests, but do not get included into my WAR file?\nUpdate: I cannot make changes to the POM for mygroup.myartifact since this it is being depended on by many other projects, and this exclusion requirement is unique for my project.\nUpdate 2: It seems I did a poor job of phrasing this question. Lars's solution below is perfect for one exclusion (as the example shows), however in my real scenario I have multiple exclusions, and adding additional dependencies for each seems smelly. The solution that seems to work is to set the scope of the shown dependency to compile and then create a second dependency the same artifact (mygroup.myartifact) with no exclusions and the scope set to test. Since Lars both answered my poorly phrased question correctly, as well as led me in the direction of the actual solution, I will mark his reply as the answer.\n", "I have a bunch of JSP files and backend in Tomcat. I have 3 different versions of JSP with same logic inside but with different layouts. So if I change some logic I have three JSP file to fix.\nWhat is the proper soution for such a scenario? I thought of some XML and XSLT stack: backend gives only data in XML and than for each layout I have XSLT that does some magic. \nJust imagine that you need to provide stackoverflow in various languages in JSP. Logic the same but layout different.\nCould you point me into some direction?\n", "Most Java-XML binding frameworks and code generators need XML Schema Defintions. Can you suggest the best way to generate binding code from DTD.\nI know that the XJC in JAXB 2 supports DTD but it is considered experimental.\nIn the spirit of Stack Overflow, one suggestion per answer please - to be voted up or down instead of duplicated\n", "I want to discover all xml files that my ClassLoader is aware of using a wildcard pattern.  Is there any way to do this?\n", "We want test the JTAPI feature of our application. Are there any emulator for JTAPI available? The testing with real hardware is a little diffcult.\n", "I'm using Java 6, Tomcat 6, and Metro. I use WebService and WebMethod annotations to expose my web service. I would like to obtain information about the request. I tried the following code, but wsCtxt is always null. What step must I take to not get null for the WebServiceContext.\nIn other words: how can I execute the following line to get a non-null value for wsCtxt?\nMessageContext msgCtxt = wsCtxt.getMessageContext();\n@WebService\npublic class MyService{\n\n  @Resource\n  WebServiceContext wsCtxt;\n\n  @WebMethod\n  public void myWebMethod(){\n    MessageContext msgCtxt = wsCtxt.getMessageContext();\n    HttpServletRequest req = (HttpServletRequest)msgCtxt.get(MessageContext.SERVLET_REQUEST);\n    String clientIP = req.getRemoteAddr();\n  }\n\n", "When I use the  task, the property is only set to TRUE if the resource (say file) is available. If not, the property is undefined.\nWhen I print the value of the property, it gives true if the resource was available, but otherwise just prints the property name.\nIs there a way to set the property to some value if the resource is not available? I have tried setting the property explicitly before the available check, but then ant complains:\n\n[available] DEPRECATED -  used to override an existing property.\n[available]   Build file should not reuse the same property name for different values.\n\n", "I have a webapp that I am in the middle of doing some load/performance testing on, particularily on a feature where we expect a few hundred users to be accessing the same page and hitting refresh about every 10 seconds on this page. One area of improvement that we found we could make with this function was to cache the responses from the web service for some period of time, since the data is not changing.\nAfter implementing this basic caching, in some further testing I found out that I didn't consider how concurrent threads could access the Cache at the same time. I found that within the matter of ~100ms, about 50 threads were trying to fetch the object from the Cache, finding that it had expired, hitting the web service to fetch the data, and then putting the object back in the cache.\nThe original code looked something like this:\nprivate SomeData[] getSomeDataByEmail(WebServiceInterface service, String email) {\n\n  final String key = \"Data-\" + email;\n  SomeData[] data = (SomeData[]) StaticCache.get(key);\n\n  if (data == null) {\n      data = service.getSomeDataForEmail(email);\n\n      StaticCache.set(key, data, CACHE_TIME);\n  }\n  else {\n      logger.debug(\"getSomeDataForEmail: using cached object\");\n  }\n\n  return data;\n}\n\nSo, to make sure that only one thread was calling the web service when the object at key expired, I thought I needed to synchronize the Cache get/set operation, and it seemed like using the cache key would be a good candidate for an object to synchronize on (this way, calls to this method for email b@b.com would not be blocked by method calls to a@a.com).\nI updated the method to look like this:\nprivate SomeData[] getSomeDataByEmail(WebServiceInterface service, String email) {\n\n\n  SomeData[] data = null;\n  final String key = \"Data-\" + email;\n\n  synchronized(key) {      \n    data =(SomeData[]) StaticCache.get(key);\n\n    if (data == null) {\n        data = service.getSomeDataForEmail(email);\n        StaticCache.set(key, data, CACHE_TIME);\n    }\n    else {\n      logger.debug(\"getSomeDataForEmail: using cached object\");\n    }\n  }\n\n  return data;\n}\n\nI also added logging lines for things like \"before synchronization block\", \"inside synchronization block\", \"about to leave synchronization block\", and \"after synchronization block\", so I could determine if I was effectively synchronizing the get/set operation.\nHowever it doesn't seem like this has worked. My test logs have output like:\n\n(log output is 'threadname' 'logger name' 'message')\n  http-80-Processor253 jsp.view-page - getSomeDataForEmail: about to enter synchronization block\n  http-80-Processor253 jsp.view-page - getSomeDataForEmail: inside synchronization block\n  http-80-Processor253 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired\n  http-80-Processor253 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]\n  http-80-Processor263 jsp.view-page - getSomeDataForEmail: about to enter synchronization block\n  http-80-Processor263 jsp.view-page - getSomeDataForEmail: inside synchronization block\n  http-80-Processor263 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired\n  http-80-Processor263 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]\n  http-80-Processor131 jsp.view-page - getSomeDataForEmail: about to enter synchronization block\n  http-80-Processor131 jsp.view-page - getSomeDataForEmail: inside synchronization block\n  http-80-Processor131 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired\n  http-80-Processor131 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]\n  http-80-Processor104 jsp.view-page - getSomeDataForEmail: inside synchronization block\n  http-80-Processor104 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired\n  http-80-Processor104 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]\n  http-80-Processor252 jsp.view-page - getSomeDataForEmail: about to enter synchronization block\n  http-80-Processor283 jsp.view-page - getSomeDataForEmail: about to enter synchronization block\n  http-80-Processor2 jsp.view-page - getSomeDataForEmail: about to enter synchronization block\n  http-80-Processor2 jsp.view-page - getSomeDataForEmail: inside synchronization block  \n\nI wanted to see only one thread at a time entering/exiting the synchronization block around the get/set operations.\nIs there an issue in synchronizing on String objects? I thought the cache-key would be a good choice as it is unique to the operation, and even though the final String key is declared within the method, I was thinking that each thread would be getting a reference to the same object and therefore would synchronization on this single object.\nWhat am I doing wrong here?\nUpdate: after looking further at the logs, it seems like methods with the same synchronization logic where the key is always the same, such as \nfinal String key = \"blah\";\n...\nsynchronized(key) { ...\n\ndo not exhibit the same concurrency problem - only one thread at a time is entering the block.\nUpdate 2: Thanks to everyone for the help! I accepted the first answer about intern()ing Strings, which solved my initial problem - where multiple threads were entering synchronized blocks where I thought they shouldn't, because the key's had the same value.\nAs others have pointed out, using intern() for such a purpose and synchronizing on those Strings does indeed turn out to be a bad idea - when running JMeter tests against the webapp to simulate the expected load, I saw the used heap size grow to almost 1GB in just under 20 minutes.\nCurrently I'm using the simple solution of just synchronizing the entire method - but I really like the code samples provided by martinprobst and MBCook, but since I have about 7 similar getData() methods in this class currently (since it needs about 7 different pieces of data from a web service), I didn't want to add almost-duplicate logic about getting and releasing locks to each method. But this is definitely very, very valuable info for future usage. I think these are ultimately the correct answers on how best to make an operation like this thread-safe, and I'd give out more votes to these answers if I could!\n", "I have a JSP that allows users to dynamically create additional form fields to create multiple objects. Perhaps I want to allow users to be able to submit as many line items as they want when submitting an invoice form.\nHow do I create a Struts 2 Action that will be able to take in an ArrayList populated with objects created from those dynamically generated fields.\n", "I am able to serialize an object into a file and then restore it again as is shown in the next code snippet. I would like to serialize the object into a string and store into a database instead. Can anyone help me?\nLinkedList<Diff_match_patch.Patch> patches = // whatever...\nFileOutputStream fileStream = new FileOutputStream(\"foo.ser\");\nObjectOutputStream os = new ObjectOutputStream(fileStream);\nos.writeObject(patches1);\nos.close();\n\nFileInputStream fileInputStream = new FileInputStream(\"foo.ser\");\nObjectInputStream oInputStream = new ObjectInputStream(fileInputStream);\nObject one = oInputStream.readObject();\nLinkedList<Diff_match_patch.Patch> patches3 = (LinkedList<Diff_match_patch.Patch>) one;\nos.close();\n\n", "I have a data table with a variable number of columns and a data scroller. How can I enable server side sorting? I prefer that it be fired by the user clicking the column header.\n<rich:datascroller for=\"instanceList\" actionListener=\"#{pageDataModel.pageChange}\"/>\n<rich:dataTable id=\"instanceList\" rows=\"10\" value=\"#{pageDataModel}\"\n                var=\"fieldValues\" rowKeyVar=\"rowKey\">\n  <rich:columns value=\"#{pageDataModel.columnNames}\" var=\"column\" index=\"idx\">\n    <f:facet name=\"header\">\n      <h:outputText value=\"#{column}\"/>\n    </f:facet>          \n    <h:outputText value=\"#{classFieldValues[idx]}\" />\n  </rich:columns>\n</rich:dataTable>\n\nI already have a method on the bean for executing the sort.\npublic void sort(int column)\n\n", "Stateless beans in Java do not keep their state between two calls from the client. So in a nutshell we might consider them as objects with business methods. Each method takes parameters and return results. When the method is invoked some local variables are being created in execution stack. When the method returns the locals are removed from the stack and if some temporary objects were allocated they are garbage collected anyway.\nFrom my perspective that doesn\u2019t differ from calling method of the same single instance by separate threads. So why cannot a container use one instance of a bean instead of pooling a number of them?\n", "I have developed in C++ many years ago, but these days I am primarily a Java software engineer.  Given I own an iPhone, am ready to spring for a MacBook next month, and am generally interested in getting started with Mac OS developmentmt (using Objective C), I thought I would just put this question out there: What Next?\nMore specifically, what books should I pick up, and are there any web resources that some folks could point me to?  Some books that I am planning to purchase:\n\nProgramming in Objective-C 2.0\nCocoa(R) Programming for Mac OS X (3rd Edition)\n\nAnyone familiar with these titles?  Finally, I would be very interested in a summary of what I should be prepared to expect, once I embark on this journey.  As someone that develops in Java using IntelliJ IDEA, what are some key differences I will notice as I move over to writing ObjectiveC code in Xcode?  What's the differences between Mac OS desktop development and iPhone development? Being used to Java garbage collection, what should I know about ObjectiveC garbage collection / memory management.  Any other language specific issues that anyone would like to point out?  How about building UIs?  Is it closer to Swing, building Visual C++ resource files that code interacts with, or is it more like some of the borland IDEs that will generate code for guis?\n", "What is the fastest list implementation (in java) in a scenario where the list will be created one element at a time then at a later point be read one element at a time? The reads will be done with an iterator and then the list will then be destroyed.\nI know that the Big O notation for get is O(1) and add is O(1) for an ArrayList, while LinkedList is O(n) for get and O(1) for add. Does the iterator behave with the same Big O notation?\n", "I need to validate this simple pick list:\n<select name=\"<%= key %>\">\n    <option value=\"ETC\" SELECTED>Select an option...</option>\n    <option value=\"ONE\">Lorem ipsum</option>\n    <option value=\"TWO\">dolor sit amet</option>\n</select>\n\nSo the user would never submit the form with the, excuse the repetition, \"Select an option...\" option selected. In principle I'm allowed to use JavaScript but It'd be interesting to learn how to solve it within JSP too.\n", "It's my understanding that a corelet is a Motorola-ism, but does anyone know what the difference is?  Do corelets have certain abilities that midlets don't?\n", "I haven't been able to find an adequate answer to what exactly the following error means:\njava.net.SocketException: Software caused connection abort: recv failed \nNotes:\n\nThis error is infrequent and unpredictable; although getting this error means that all future requests for URIs will also fail.\nThe only solution that works (also, only occasionally) is to reboot Tomcat and/or the actual machine (Windows in this case).\nThe URI is definitely available (as confirmed by asking the browser to do the fetch).\n\nRelevant code:\nBufferedReader reader;\ntry { \n URL url = new URL(URI);\n reader = new BufferedReader(new InputStreamReader(url.openStream())));\n} catch( MalformedURLException e ) { \n throw new IOException(\"Expecting a well-formed URL: \" + e); \n}//end try: Have a stream\n\nString buffer;\nStringBuilder result = new StringBuilder();\nwhile( null != (buffer = reader.readLine()) ) { \n result.append(buffer); \n}//end while: Got the contents.\nreader.close();\n\n", "If you have two jars in your classpath that contain different versions of the same class, the classpath order becomes critical.\nI am looking for a tool that can detect and flag such potential conflicts in a given classpath or set of folders.\nCertainly a script that starts:\nclasses=`mktemp`\nfor i in `find . -name \"*.jar\"`\ndo\n    echo \"File: $i\" > $classes\n    jar tf $i > $classes\n    ...\ndone\n\nwith some clever sort/uniq/diff/grep/awk later on has potential, but I was wondering if anyone knows of any existing solutions.\n", "I'm trying to send an email in Java but when I read the body of the email in Outlook, it's gotten rid of all my linebreaks. I'm putting \\n at the ends of the lines but is there something special I need to do other than that? The receivers are always going to be using Outlook. \nI found a page on microsoft.com that says there's a 'Remove line breaks' \"feature\" in Outlook so does this mean there's no solution to get around that other than un-checking that setting?\nThanks\n", "We recently started using maven for dependency management. Our team uses eclipse as it's IDE. Is there an easy way to get eclipse to refresh the maven dependencies without running mvn eclipse:eclipse?\nThe dependencies are up to date in the local maven repository, but eclipse doesn't pick up the changes until we use the eclipse:eclipse command. This regenerates a lot of eclipse configuration files.\n", "Right now, I have two Eclipse projects - they both use Maven 2 for all their jar-dependency goodness.\nInside eclipse, I have project Foo included in project Bar's build path, so that I can use Foo's classes from project Bar.  This works really well in eclipse land, but when I try:\nmvn compile \n\ninside Bar's directory, it fails because Maven doesn't know about the project-to-project relationship in Eclipse's build path.\nIf I were using ant, I would just use it to do something silly like copy foo.jar into project Bar's classpath, but as far as I can tell, things are done a lot less hackishly in Maven-land.\nI'm wondering if there's a standard workaround for this type of problem - it seems like it would be fairly common, and I'm just missing something basic about how Maven works.\n", "I need to determine the current year in Java as an integer. I would like to be able to use this value as a counter that I can, for example, use to run from now until a specified year in the past (i.e. my value starts at 2008, and I have a \"firstYearOfData\" value that is set to 1994. I can now run my process from 2008 back to 1994). I could just use java.util.Date(), but it is deprecated.\n", "I have a set of objects in a Vector from which I'd like to select a random subset (e.g. 100 items coming back; pick 5 randomly). In my first (very hasty) pass I did an extremely simple and perhaps overly clever solution:\nVector itemsVector = getItems();\n\nCollections.shuffle(itemsVector);\nitemsVector.setSize(5);\n\nWhile this has the advantage of being nice and simple, I suspect it's not going to scale very well, i.e. Collections.shuffle() must be O(n) at least. My less clever alternative is\nVector itemsVector = getItems();\n\nRandom rand = new Random(System.currentTimeMillis()); // would make this static to the class    \n\nList subsetList = new ArrayList(5);\nfor (int i = 0; i < 5; i++) {\n     // be sure to use Vector.remove() or you may get the same item twice\n     subsetList.add(itemsVector.remove(rand.nextInt(itemsVector.size())));\n}\n\nAny suggestions on better ways to draw out a random subset from a Collection?\n", "Does any one know of an opensource Java VNC server, that can be run from a web page, so requiring no installation on the server end, possibley applet based.\n", "I'm writing an app and our designers want to use gradients for some of the backgrounds on a few of our composites. \nI wrote the following code:\ncomposite.addListener (SWT.Paint, new Listener () {\n    public void handleEvent (Event e) {\n            GC gc = e.gc;\n            Rectangle rect = composite.getClientArea ();\n            Color color1 = new Color (display, 0, 0, 0);\n            Color color2 = new Color (display, 255, 255, 255);\n            gc.setForeground(color1);\n            gc.setBackground(color2);\n            gc.fillGradientRectangle (rect.x, rect.y, rect.width, rect.height , true);\n\n        }\n    });\n\nThis draws the gradient fine on the composite, but we have Label/CLabels, Canvases and Links on top of the composite. \nIn these areas, the background is just the plain gray you get when drawing an empty canvas. \nI've tried forcing the Labels to inherit the background like so:\nlabel.setBackgroundMode(SWT.INHERIT_DEFAULT) //SWT.INHERIT_FORCE Doesn't work either\n\nBut this leaves me with the same default gray and no gradient behind the components on top of the Composite. \nAny suggestions for getting the gradient to be the background of each element?\nI wouldn't be opposed to drawing the Gradient onto a gc with an image supplied and then setting the background to that Image. However that method just hasn't been working at all, composite or any of its elements. \nAlso it's not possible for me to set the gradient individually to my knowledge. We want the whole composite to be one uniform flowing gradient. \n[edit] I uploaded an example upto twitpic here.\nThanks,\nBrian Gianforcaro\n", "I have a Hashtable<Integer, Sport> called sportMap and a list of sportIds (List<Integer> sportIds) from my backing bean.  The Sport object has a List<String> equipmentList.  Can I do the following using the unified EL to get the list of equipment for each sport?\n<h:dataTable value=\"#{bean.sportIds}\" var=\"_sportId\" > \n  <c:forEach items=\"#{bean.sportMap[_sportId].equipmentList}\" var=\"_eqp\">\n    <h:outputText value=\"#{_eqp}\"></h:outputText>\n    <br/>\n  </c:forEach>\n</h:dataTable>\n\nI get the following exception when trying to run this JSP code.\n 15:57:59,438 ERROR [ExceptionFilter] exception root cause\njavax.servlet.ServletException: javax.servlet.jsp.JspTagException: \n      Don't know how to iterate over supplied \"items\" in &lt;forEach&gt;\nHere's a print out of my environment\n\nServer: JBossWeb/2.0.1.GA\nServlet Specification: 2.5\nJSP version: 2.1\nJSTL version: 1.2\nJava Version: 1.5.0_14\n\nNote:  The following does work using a JSF tag.  It prints out the list of equipment for each sport specified in the list of sportIds. \n<h:dataTable value=\"#{bean.sportIds}\" var=\"_sportId\" > \n    <h:outputText value=\"#{bean.sportMap[_sportId].equipmentList}\">\n    </h:outputText>\n</h:dataTable>\n\nI would like to use the c:forEach tag.  Does anyone know if this is possible?  If not, anyone have suggestions?  In the end I want a stacked list instead of the comma seperated list provided by equipmentList.toString();  (Also, don't want to override toString()).\n", "After reading this answer:\nbest way to pick a random subset from a collection?\nIt got me wondering, how does one pick a random seed in Java?\nAnd don't say use System.currentTimeMillis() or System.nanoTime().  Read the article to see why not.\nThat's a hard question, but let me make it harder.  Let's say you need to generate a random seed without connecting to the internet, without using user input (IE, there's no gui), and it has to be cross platform (therefore no JNI to access hardware).\nIs there some JVM variables we can monitor as a source of our randomness?\nCan this be done?  Or is it impossible?\n", "I just found myself creating a class called \"InstructionBuilderFactoryMapFactory\".  That's 4 \"pattern suffixes\" on one class.  It immediately reminded me of this:\nhttp://www.jroller.com/landers/entry/the_design_pattern_facade_pattern\nIs this a design smell? Should I impose a limit on this number?  \nI know some programmers have similar rules for other things (e.g. no more than N levels of pointer indirection in C.)\nAll the classes seem necessary to me.  I have a (fixed) map from strings to factories - something I do all the time.  The list is getting long and I want to move it out of the constructor of the class that uses the builders (that are created by the factories that are obtained from the map...)  And as usual I'm avoiding Singletons.\n", "I've used ZenTest and autotest to work on Ruby projects before, and I used to using them for test-driven development a la this configuration. I have a project that I'm currently working on in Java, and I was wondering if there is something similar in the Java world to achieve the same effect.\n", "If you want a cryptographically strong random number in Java, you use SecureRandom. Unfortunately, SecureRandom can be very slow. If it uses /dev/random on Linux, it can block waiting for sufficient entropy to build up. How do you avoid the performance penalty?\nHas anyone used Uncommon Maths as a solution to this problem?\nCan anybody confirm that this performance problem has been solved in JDK 6?\n", "I'm setting up my first job in Hudson, and I'm running into some problems. The job monitors two repositories, one containing our DB setup files, the other a bit of code that validates and tests the DB setup files.\nPart of the code that runs will throw the validated setup files at PostgreSQL, using the psql command line tool, using Runtime.exec(). This code works perfectly on my machine, but when Hudson executes it (different machine) I get the following error:\njava.io.IOException: Cannot run program \"psql\": CreateProcess error=2, The system cannot find the file specified\npsql.exe is on the path, and I can execute it by typing the whole thing at the command line, from the same place Hudson is executing the code. The file that's meant to be passed into psql exists.\nAny ideas?\n", "I'm wanting to execute a program and as it runs read in it's output and pipe out the output into a zipped file.  The output of the program can be quite large so the idea is to not hold too much in memory - just to send it to the zip as I get it.\n", "There are so many Linux distributions to choose from!  What is the \"best\" linux flavor for a web hosting environment running primarily:\nApache HTTP, Tomcat or JBoss, MySQL and Alfresco (not necessarily all in the same instance).\nAre there any significant differences in terms of ease of administration and configuration, performance and stability for such applications, etc.?\nWhat would you recommend?\nThanks!\nMike\n", "In Java, there is a practice of declaring every variable (local or class), parameter final \nif they really are.\nThough this makes the code a lot more verbose, \nthis helps in easy reading/grasping of the code and also prevents mistakes\nas the intention is clearly marked.\nWhat are your thoughts on this and what do you follow?\n", "Is it possible to call a COM API from Java (specifically the HP/Mercury Quality Center OTA API)? If so, what's the best way?\nIs something like JACOB appropriate?\nCode fragments would be helpful for the basics :-)\n", "I need to find the PID of the current running process on a Linux platform (it can be a system dependent solution).  Java does not support getting the process ID, and JRuby currently has a bug with the Ruby method, Process.pid.\nIs there another way to obtain the PID?\n", "GWT's serializer has limited java.io.Serializable support, but for security reasons there is a whitelist of types it supports.  The documentation I've found, for example this FAQ entry says that any types you want to serialize \"must be included in the serialization policy whitelist\", and that the list is generated at compile time, but doesn't explain how the compiler decides what goes on the whitelist.\nThe generated list contains a number of types that are part of the standard library, such as java.lang.String and java.util.HashMap. I get an error when trying to serialize java.sql.Date, which implements the Serializable interface, but is not on the whitelist.  How can I add this type to the list?\n", "Hey, I've been developing an application in the windows console with Java, and want to put it online in all of its console-graphics-glory.\nIs there a simple web applet API I can use to port my app over?\nI'm just using basic System.out and System.in functionality, but I'm happy to rebuild my I/O wrappers.\nI think something along these lines would be a great asset to any beginning Java developers who want to put their work online.\n", "I have a third party .NET Assembly and a large Java application. I need to call mothods provided by the .NET class library from the Java application. The assembly is not COM-enabled.\nI have searched the net and so far i have the following:\nC# code (cslib.cs):\nusing System;\n\nnamespace CSLib\n{\n    public class CSClass\n    {\n        public static void SayHi()\n        {\n            System.Console.WriteLine(\"Hi\");\n        }\n    }\n}\n\ncompiled with (using .net 3.5, but the same happens when 2.0 is used):\ncsc /target:library cslib.cs\n\nC++ code (clib.cpp):\n#include <jni.h>\n#using <CSLib.dll>\n\nusing namespace CSLib;\n\nextern \"C\" _declspec(dllexport) void Java_CallCS_callCS(JNIEnv* env, jclass cls) {\n    CSLib::CSClass::SayHi();\n}\n\ncompiled with (using VC 2008 tools, but the same happens when 2003 tools are used):\ncl /clr /LD clib.cpp\nmt -manifest clib.dll.manifest -outputresource:clib.dll;2\n\nJava code (CallCS.java):\nclass CallCS {\n    static {\n       System.loadLibrary(\"clib\");\n    }\n    private static native void callCS();\n    public static void main(String[] args) {\n        callCS();\n    }\n}\n\nWhen I try to run the java class, the Java VM crashes while invoking the method (it is able to load the library):\n\n#\n# An unexpected error has been detected by Java Runtime Environment:\n#\n#  Internal Error (0xe0434f4d), pid=3144, tid=3484\n#\n# Java VM: Java HotSpot(TM) Client VM (10.0-b19 mixed mode, sharing windows-x86)\n# Problematic frame:\n# C  [kernel32.dll+0x22366]\n#\n...\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  CallCS.callCS()V+0\nj  CallCS.main([Ljava/lang/String;)V+0\nv  ~StubRoutines::call_stub\n\nHowever, if I create a plain cpp application that loads clib.dll and calls the exported function Java_CallCS_callCS, everything is OK. \nI have tried this on both x86 and x64 environments and the result is the same. I have not tried other versions of Java, but I need the code to run on 1.5.0.\nMoreover, if I modify clib.cpp to call only System methods everything works fine even from Java:\n#include <jni.h>\n#using <mscorlib.dll>\n\nusing namespace System;\n\nextern \"C\" _declspec(dllexport) void Java_CallCS_callCS(JNIEnv* env, jclass cls) {\n    System::Console::WriteLine(\"It works\");\n}\n\nTo wrap up:\n\nI am ABLE to call System methods from Java -> clib.dll -> mscorlib.dll\nI am ABLE to call any methods from CPPApp -> clib.dll -> cslib.dll\nI am UNABLE to call any methods from Java -> clib.dll -> cslib.dll\n\nI am aware of a workaround that uses 1. above - I can use reflection to load the assmebly and invoke desired methods using only System calls, but the code gets messy and I am hoping for a better solution. \nI know about dotnetfromjava project, which uses the reflection method, but prefer not to add more complexity than needed. I'll use something like this if there is no other way, however.\nI have looked at ikvm.net also, but my understanding is that it uses its own JVM (written in C#) to do the magic. However, running the entire Java application under its VM is no option for me.\nThanks.\n", "From within my Java program I want to determine which .NET Framework is installed on the system. What is the best (and easiest) way to do this?\nAnswer Thanks scubabbl! It worked to check the directory System.getenv( \"WINDIR\" ) + \"\\\\Microsoft.NET\\\\Framework\" for its directories starting with the letter \"v\".\n", "I know there's some JAVA_OPTS to set to remotely debug a Java program.\nWhat are they and what do they mean ?\n", "I have a swing gui with a tabbed pane in the north. Several key events are added to its input map:\nInputMap paneInputMap = pane.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);\npaneInputMap.put( KeyStroke.getKeyStroke( KeyEvent.VK_E, KeyEvent.CTRL_MASK ), \"finish\");\npaneInputMap.put( KeyStroke.getKeyStroke( KeyEvent.VK_F1, KeyEvent.CTRL_MASK ), \"toggletoolbar\");\n\nIf the tabbed pane or another button in a toolbar has the focus, Ctrl+F1 has no function. If another component is focused (e.g. JTree), Ctrl+F1 executes the action.\nThe problem is, that it workes everywhere if I change the Keycode to e.g. VK_F2.\nThe key F1 is'nt used anywhere else in the program.\nAny idea?\nThanks,\nAndr\u00e9\nEdit: A full text search in the java source code gave the answer: The ToolTipManager registeres the Key Ctrl+F1 to display the tooltip text if the key combination is pressed. So if a button with a tooltip is focused, Ctrl+F1 is handled by the ToolTipManager. Otherwise my action is called.\n", "Is there a way to create an html link using h:outputLink, other JSF tag or code to create a non faces request (HTTP GET) with request parameters?\nFor example I have the following navigation-rule\n<navigation-rule>\n    <navigation-case>\n        <from-outcome>showMessage</from-outcome>\n        <to-view-id>/showMessage.jsf</to-view-id>\n        <redirect/>\n    </navigation-case>\n</navigation-rule>\n\nIn my page I would like to output the following html code:\n<a href=\"/showMessage.jsf?msg=23\">click to see the message</a>\n\nI could just write the html code in the page, but I want to use the navigation rule in order to have all the urls defined in a single configurable file.\n", "Is there a way to add a single criteria on a session factory(configuration) level wich will apply to all entites retreived with a Session ?\nWe have a requirement to not delete any rows from our database but \"mark\" deleted entities as such so that they will not participate in any further operations.\nI know that we can just retrive all entites through a common interface (e.g. a common base Dao object), but the approach with global filtering would be less error-prone as it doesn't require the knowledge of using this common interface.\n", "I have a JComboBox and would like to have a separator in the list of elements. How do I do this in Java?\nA sample scenario where this would come in handy is when making a combobox for font-family-selection; similar to the font-family-selection-control in Word and Excel. In this case I would like to show the most-used-fonts at the top, then a separator and finally all font-families below the separator in alphabetical order.\nCan anyone help me with how to do this or is this not possible in Java?\n", "We've got some problems with an external company trying in integrate into a WCF service we expose and they are a Java shop. I was wondering if there are more than one toolkit that they can try to solve their issues and would like a list to suggest to them but I'm not familiar with the Java world at all.\nEssentially they've got some memory leak (apparently!) but they are very sketchy in the details.\n", "I need to get UTF-8 working in my Java webapp (servlets + JSP, no framework used) to support \u00e4\u00f6\u00e5 etc. for regular Finnish text and Cyrillic alphabets like \u0426\u0436\u0424 for special cases.\nMy setup is the following:\n\nDevelopment environment: Windows XP\nProduction environment: Debian\n\nDatabase used: MySQL 5.x\nUsers mainly use Firefox2 but also Opera 9.x, FF3, IE7 and Google Chrome are used to access the site.\nHow to achieve this?\n", "I'd like my application to have a full-screen mode. What is the easiest way to do this, do I need a third party library for this or is there something in the JDK that already offers this?\n", "I have a Java String that contains XML, with no line feeds or indentations. I would like to turn it into a String with nicely formatted XML. How do I do this?\nString unformattedXml = \"<tag><nested>hello</nested></tag>\";\nString formattedXml = new [UnknownClass]().format(unformattedXml);\n\nNote: My input is a String. My output is a String.\n", "when i use setDefaultLookAndFeelDecorated(true) method in Java\nwhy is the Frame appear FullScreen when i maximize the Frame ?\nand how can i disaple the FullScreen mode in this method ?\n", "what is an efficient way to get a certain time for the next day in Java?\nLet's say I want the long for tomorrow 03:30:00.\nSetting Calendar fields and Date formatting are obvious.\nBetter or smarter ideas, thanks for sharing them!\nOkami\n", "I mean, how does Java decide which protocols are available? I run some code from inside Eclipse, and it works just fine. Then I run the same code from outside Eclipse, and I get \"unknown protocol\" MalformedURLException. Probably it has to do with the code base, or something? Any hints would be helpful.\nThanks!\n", "Is it a good idea for me to use Qt Jambi in Java as a toolkit? \nI see that Qt Jambi is hard to learn, and Swing is easier than Qt Jambi, but I think that Qt Jambi is more powerful.\n", "I have an Xtext/Xpand (oAW 4.3, Eclipse 3.4) generator plug-in, which I run together with the editor plug-in in a second workbench. There, I'd like to run Xpand workflows programmatically on the model file I create. If I set the model file using the absolute path of the IFile I have, e.g. with:\nString dslFile = file.getLocation().makeAbsolute().toOSString();\n\nOr if I use a file URI retrieved with:\nString dslFile = file.getLocationURI().toString();\n\nThe file is not found:\norg.eclipse.emf.ecore.resource.Resource$IOWrappedException: Resource '/absolute/path/to/my/existing/dsl.file' does not exist. \nat org.openarchitectureware.xtext.parser.impl.AbstractParserComponent.invokeInternal(AbstractParserComponent.java:55)\n\nTo what value should I set the model file attribute (dslFile) in the map I hand to the WorkflowRunner:\nMap properties = new HashMap();\nproperties.put(\"modelFile\", dslFile);\n\nI also tried leaving the properties empty and referencing the model file relative to the workflow file (inside the workflow file), but that yields a FileNotFoundException. Running all of this in a normal app (not in a second workbench) works fine.\n", "I've just solved another *I-though-I-was-using-this-version-of-a-library-but-apparently-my-app-server-has-already-loaded-an-older-version-of-this-library-*issue (sigh).\nDoes anybody know a good way to verify (or monitor) whether your application has access to all the appropriate jar-files, or loaded class-versions?\nThanks in advance!\n[P.S. A very good reason to start using the OSGi module architecture in my view!]\nUpdate: This article helped as well! It gave me insight which classes JBoss' classloader loaded by writing it to a log file.\n", "I have a problem with setting the TTL on my Datagram packets.  I am calling the setTTL(...) method on the packet before sending the packet to the multicastSocket but if I capture the packet with ethereal the TTL field is always set to 0\n", "Right now, I'm testing a Java Application with QTP (really expensive software). \nI decided to move my web application testing to Selenium (using Java) and I was wondering if there were any other good tools to test my Java Application or if there are some libraries that tell allow me to click/type into Java Applications like Selenium does for web applications.\nI'm looking for something like Selenium but for Java Applications (ie. if you wanted to test Eclipse IDE, you'd use this).\n", "I have a Serializable object which is supposed to hold a java.awt.Image as its member. How should I go about serializing it?\n(Edited from a not so clear first version, sorry.)\n", "When a Java VM crashes with an EXCEPTION_ACCESS_VIOLATION and produces an hs_err_pidXXX.log file, what does that indicate? The error itself is basically a null pointer exception. Is it always caused by a bug in the JVM, or are there other causes like malfunctioning hardware or software conflicts?\nEdit: there is a native component, this is an SWT application on win32.\n", "Alright.  So I have a very large amount of binary data (let's say, 10GB) distributed over a bunch of files (let's say, 5000) of varying lengths.\nI am writing a Java application to process this data, and I wish to institute a good design for the data access.  Typically what will happen is such:\n\nOne way or another, all the data will be read during the course of processing.\nEach file is (typically) read sequentially, requiring only a few kilobytes at a time.  However, it is often necessary to have, say, the first few kilobytes of each file simultaneously, or the middle few kilobytes of each file simultaneously, etc.\nThere are times when the application will want random access to a byte or two here and there.\n\nCurrently I am using the RandomAccessFile class to read into byte buffers (and ByteBuffers).  My ultimate goal is to encapsulate the data access into some class such that it is fast and I never have to worry about it again.  The basic functionality is that I will be asking it to read frames of data from specified files, and I wish to minimize the I/O operations given the considerations above.\nExamples for typical access:\n\nGive me the first 10 kilobytes of all my files!\nGive me byte 0 through 999 of file F, then give me byte 1 through 1000, then give me 2 through 1001, etc, etc, ...\nGive me a megabyte of data from file F starting at such and such byte!\n\nAny suggestions for a good design?\n", "Linux supports sending an arbitrary Posix-Signal such as SIGINT or SIGTERM to a process using  the kill-Command. While SIGINT and SIGTERM are just boring old ways to end a process in a friendly or not-so-friendly kind of way, SIGQUIT is meant to trigger a core dump. This can be used to trigger a running Java VM to print out a thread dump, including the stacktraces of all running threads -- neat! After printing the debugging info, the Java VM will continue doing whatever it was doing before; in fact the thread dump just happens in another spawned thread of maximum priority. (You can try this out yourself by using kill -3 <VM-PID>.)\nNote that you can also register your own signal handlers using the (unsupported!) Signal and SignalHandler classes in the sun.misc-package, so you can have all kinds of fun with it.\nHowever, I have yet to find a way to send a signal to a Windows process. Signals are created by certain user inputs: Ctrl-C triggers a SIGINT on both platforms, for instance. But there does not seem to be any utility to manually send a signal to a running, but non-interactive process on Windows. The obvious solution is to use the  Cygwin kill executable, but while it can end Windows processes using the appropriate Windows API, I could not send a SIGBREAK (the Windows equivalent to SIGQUIT) with it; in fact I think the only signal it is able to send to Windows processes is SIGTERM.\nSo, to make a long story short and to repeat the headline: How to I send an arbitrary signal to a process in Windows?\n", "I want to consume a web service over https from a java client.\nWhat steps will i need to take in order to do this?\n", "I am looking for a way to convert a long string (from a dump), that represents hex values into a byte array.\nI couldn't have phrased it better than the person that posted the same question here:\nhttp://www.experts-exchange.com/Programming/Programming_Languages/Java/Q_21062554.html\nBut to keep it original, I'll phrase it my own way: suppose I have a string \"00A0BF\" that I would like interpreted as the byte[] {0x00,0xA0,0xBf} what should I do?\nI am a Java novice and ended up using BigInteger and watching out for leading hex zeros. But I think it is ugly and I am sure I am missing something simple... \n", "My company is considering changing continuous integration servers (I won't say which one we have now, so I won't skew your responses in anyway :) ) I wondering if anybody has any recommendations?  Best user experience, level of difficulty to maintain, etc...\nOur code is all in java, and we use ANT as a build tool.\n", "I was using an enum in which the constant was a Class. I needed to invoke a method on the constant but could not introduce a compile time dependency and the enum was not always available at runtime (part of optional install). Therefore, I wanted to use reflection.  \nThis is easy, but I hadn't used reflection with enums before.  \nThe enum looked something like this:  \npublic enum PropertyEnum {\n\n  SYSTEM_PROPERTY_ONE(\"property.one.name\", \"property.one.value\"),\n\n  SYSTEM_PROPERTY_TWO(\"property.two.name\", \"property.two.value\");\n\n  private String name;  \n\n  private String defaultValue;\n\n  PropertyEnum(String name) {\n    this.name = name;\n  }\n\n  PropertyEnum(String name, String value) {\n    this.name = name;\n    this.defaultValue = value;\n  } \n\n  public String getName() {\n    return name;\n  }\n\n  public String getValue() {\n    return System.getProperty(name);\n  }\n\n  public String getDefaultValue() {\n    return defaultValue;\n  }  \n\n}\n\nWhat is an example of invoking a method of the constant using reflection?\n", "I came aboard a new project with a new company and we are trying to use JPA to do some DB work.  So we have an Ear with an EJB, a webservice, and then there is a app client in the ear that really does all the work.  The Webservice, calls the EJB, and the EJB calls the client to do the DB work.  So within the appclient I want to load an EntityManager via annotations, but it does not seem to work (em is always null):\n@Entity\npublic class Whatever...{\n    @PersistenceContext(unitName=\"pu\")\n    EntityManager em;\n\n}\n\nSo I was thinking that I need to load the EntityManager at the EJB, but that didn't work either, because it seems that JPA didn't see the Entity classes since they are in the appclient and not the EJB.  Can anyone give me some guidance?\n", "In Java you can do File.listFiles() and receive all of the files in a directory.  You can then easily recurse through directory trees.\nIs there an analogous way to do this in Python?\n", "I am writing a web server in Java and I want it to support HTTP 1.1 Keep-Alive connections. But how can I tell when the client is done sending requests for a given connection? (like a double end-of-line or something). \nLets see how stackoverflow handles this very obscure question -- answers for which, on Google, are mired in technical specifications and obscure language. I want a plain-english answer for a non-C programmer :)\n\nI see. that confirms my suspicion of having to rely on the SocketTimeoutException. But i wasn't sure if there was something i could rely on from the client that indicates it is done with the connection--which would allow me to close the connections sooner in most cases--instead of waiting for the timeout. Thanks\n", "\"Dirty reads\", meaning reading an object's value even though it is write-locked by another thread, are described on Terracotta's website, yet I've heard that they shouldn't be used, even if you don't care about the possibility that you might get old data when you dirty-read the locked object.\nDoes anyone have any experience of using dirty reads in Terracotta, and are they safe to use if you don't care about the possibility of reading an old value?\n", "The following method does not work because the inner block declares a variable of the same name as one in the outer block. Apparently variables belong to the method or class in which they are declared, not to the block in which they are declared, so I therefore can't write a short little temporary block for debugging that happens to push a variable in the outer scope off into shadow just for a moment:\nvoid methodName() {\n  int i = 7;\n  for (int j = 0; j < 10; j++) {\n    int i = j * 2;\n  }\n}\n\nAlmost every block-scoped language I've ever used supported this, including trivial little languages that I wrote interpreters and compilers for in school.  Perl can do this, as can Scheme, and even C.  Even PL/SQL supports this!\nWhat's the rationale for this design decision for Java?\nEdit: as somebody pointed out, Java does have block-scoping.  What's the name for the concept I'm asking about?  I wish I could remember more from those language-design classes. :)\n", "I've seen reference in some C# posted questions to a \"using\" clause.\nDoes java have the equivalent?\n", "What is the difference between using the Runnable and Callable interfaces when designing a concurrent thread in Java, why would you choose one over the other?\n", "I installed Tomcat 6.0.18 on a windows server 2003 box and it will not start as a service.\nI'm running it with jdk 1.6.0_07.\nIt runs when I start it with tomcat6.exe.\nI got a vague error in the System Event Log on Windows.\nThe Apache Tomcat 6 service terminated with service-specific error 0 (0x0).\n", "I want to be able to explore the contents of a DB for this version of the DB. I was thinking of using the Squirrel DB client (which needs a JDBC driver).\nTherefore, I'm looking for a JDBC type 4 driver for SQL SERVER 3.5.  Can somone point me to a FREE OR open source or trial ware ?\nIf no JDBC driver, how do MS developers explore a given .SDF file ?\nThank you,\nBR,\n~A\n", "I'm not sure if this even exists or not, so I figured I would tap the wisdom of others.. \nI was wondering if there are any Java libraries out there that can be used to validate a SQL query's syntax. I know that there are many deviations from common SQL spec, so it would probably only work against something like SQL:2006, but that would certainly suffice. \nMy goal is to use this for unit-testing purposes without needing to attempt the execution against the DB. I know it's of limited use, but it would still be useful. \nThanks!\n", "I have a loop that looks something like this:\nfor (int i = 0; i < max; i++) {\n    String myString = ...;\n    float myNum = Float.parseFloat(myString);\n    myFloats[i] = myNum;\n}\n\nThis is the main content of a method whose sole purpose is to return the array of floats. I want this method to return null if there is an error, so I put the loop inside a try...catch block, like this:\ntry {\n    for (int i = 0; i < max; i++) {\n        String myString = ...;\n        float myNum = Float.parseFloat(myString);\n        myFloats[i] = myNum;\n    }\n} catch (NumberFormatException ex) {\n    return null;\n}\n\nBut then I also thought of putting the try...catch block inside the loop, like this:\nfor (int i = 0; i < max; i++) {\n    String myString = ...;\n    try {\n        float myNum = Float.parseFloat(myString);\n    } catch (NumberFormatException ex) {\n        return null;\n    }\n    myFloats[i] = myNum;\n}\n\nIs there any reason, performance or otherwise, to prefer one over the other?\n\nEdit: The consensus seems to be that it is cleaner to put the loop inside the try/catch, possibly inside its own method. However, there is still debate on which is faster. Can someone test this and come back with a unified answer?\n", "Two main ways to deploy a J2EE/Java Web app (in a very simplistic sense):\nDeploy assembled artifacts to production box\nHere, we create the .war (or whatever) elsewhere, configure it for production (possibly creating numerous artifacts for numerous boxes) and place the resulting artifacts on the production servers.\n\nPros: No dev tools on production boxes, can re-use artifacts from testing directly, staff doing deployment doesn't need knowledge of build process\nCons: two processes for creating and deploying artifacts; potentially complex configuration of pre-built artifacts could make process hard to script/automate; have to version binary artifacts \n\nBuild the artifacts on the production box\nHere, the same process used day-to-day to build and deploy locally on developer boxes is used to deploy to production.\n\nPros: One process to maintain; and it's heavily tested/validated by frequent use.  Potentially easier to customize configuration at artifact creation time rather than customize pre-built artifact afterword; no versioning of binary artifacts needed.\nCons: Potentially complex development tools needed on all production boxes; deployment staff needs to understand build process; you aren't deploying what you tested\n\nI've mostly used the second process, admittedly out of necessity (no time/priority for another deployment process).  Personally I don't buy arguments like \"the production box has to be clean of all compilers, etc.\", but I can see the logic in deploying what you've tested (as opposed to building another artifact).  \nHowever, Java Enterprise applications are so sensitive to configuration, it feels like asking for trouble having two processes for configuring artifacts.\nThoughts?\nUpdate\nHere's a concrete example:\nWe use OSCache, and enable the disk cache.  The configuration file must be inside the .war file and it references a file path.  This path is different on every environment.  The build process detects the user's configured location and ensures that the properties file placed in the war is correct for his environment.   \nIf we were to use the build process for deployment, it would be a matter of creating the right configuration for the production environment (e.g. production.build.properties).\nIf we were to follow the \"deploy assembled artifacts to the production box\", we would need an additional process to extract the (incorrect) OSCache properties and replace it with one appropriate to the production environment.\nThis creates two processes to accomplish the same thing.\nSo, the questions are:\n\nIs this avoidable without \"compiling on production\"?\nIf not, is this worth it?  It the value of \"no compiling on production\" greater than \"Don't Repeat Yourself\"?\n\n", "I am having troubles migrating from OC4J 10.1.2.3 to 10.1.3.1.4.  The problem is for applications that have multiple EJBs (all are 2.1, no EJB 3.0). Jdeveloper will take the default ejb-jar.xml (the one required for Jdeveloper to run it on its stand-alone OC4J instance) and package it into each EJB JAR module NO MATTER what. This results in the app server drilling into each EJB JAR module when deploying, and find the same ejb-jar.xml file N times (where N = number of EJB Modules). This results in duplicate EJB references and will break any JNDI lookups such as: \"java:comp/env/ejb/EJBName\". Thus deploying an app that has 3 EJBs, EJB1, EJB2 and EJB3 causes the app server to register 9 EJBs instead of 3. I need a best practices way, but in between the way 10.1.3.4 and JDeveloper are acting the situation is rather dire...\nSide note: They will work if the web app's JNDI look-up code is refractored to just \"ejb/EJBName\". This is not desirable though.\n", "If I do not specify the following in my web.xml file:\n<session-config>\n    <session-timeout>10</session-timeout>\n</session-config>\n\nWhat will be my default session timeout? (I am running Tomcat 6.0)\n", "This must be a classic .NET question for anyone migrating from Java.  \n.NET does not seem to have a direct equivalent to java.io.StreamTokenizer, however the JLCA provides a SupportClass that attempts to implement it.  I believe the JLCA also provides a Tokenizer SupportClass that takes a String as the source, which I thought a StreamTokenizer would be derived from, but isn't.\nWhat is the preferred way to Tokenize both a Stream and a String? or is there one? How are streams tokenized in .Net?  I'd like to have the flexibility that java.io.StreamTokenizer provides.  Any thoughts?\n", "I'm trying to write an automated test of an application that basically translates a custom message format into an XML message and sends it out the other end.  I've got a good set of input/output message pairs so all I need to do is send the input messages in and listen for the XML message to come out the other end.\nWhen it comes time to compare the actual output to the expected output I'm running into some problems.  My first thought was just to do string comparisons on the expected and actual messages.  This doens't work very well because the example data we have isn't always formatted consistently and there are often times different aliases used for the XML namespace (and sometimes namespaces aren't used at all.)\nI know I can parse both strings and then walk through each element and compare them myself and this wouldn't be too difficult to do, but I get the feeling there's a better way or a library I could leverage. \nSo, boiled down, the question is:\nGiven two Java Strings which both contain valid XML how would you go about determining if they are semantically equivalent?  Bonus points if you have a way to determine what the differences are.\n", "How do I locate resources on the classpath in java? \nSpecifically stuff that ends in .hbm.xml.\nMy goal is to get a List of all resources on the classpath that end with \".hbm.xml\".\n", "I have the following code that shows either a bug or a misunderstanding on my part.\nI sent the same list, but modified over an ObjectOutputStream.  Once as [0] and other as [1].  But when I read it, I get [0] twice.  I think this is caused by the fact that I am sending over the same object and ObjectOutputStream must be caching them somehow.\nIs this work as it should, or should I file a bug?\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class OOS {\n\n    public static void main(String[] args) throws Exception {\n        Thread t1 = new Thread(new Runnable() {\n            public void run() {\n                try {\n                    ServerSocket ss = new ServerSocket(12344);\n                    Socket s= ss.accept();\n\n                    ObjectOutputStream oos = new ObjectOutputStream(s.getOutputStream());\n                    List same = new ArrayList();\n                    same.add(0);\n                    oos.writeObject(same);\n                    same.clear();\n                    same.add(1);\n                    oos.writeObject(same);\n\n                } catch(Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        t1.start();\n\n        Socket s = new Socket(\"localhost\", 12344);\n        ObjectInputStream ois = new ObjectInputStream(s.getInputStream());\n\n        // outputs [0] as expected\n        System.out.println(ois.readObject());\n\n        // outputs [0], but expected [1]\n        System.out.println(ois.readObject());\n        System.exit(0);\n    }\n}\n\n", "Sometimes when using eclipse it loses references to the JRE.\ni.e. It cannot find classes like Object or Arraylist.\nSome projects report a problem while others don't and they both use the same JRE.\nI have found that if you switch the installed JRE to another and then back again to the one you want to use, it will then work again\nIs there a better way to stop it doing this?\nEDIT: Reloading Eclipse doesn't solve the problem\n", "I have a method lets say:\nprivate static String drawCellValue(\n    int maxCellLength, String cellValue, String align) { }\n\nand as you can notice, I have a parameter called align. Inside this method I'm going to have some if condition on whether the value is a 'left' or 'right'.. setting the parameter as String, obviously I can pass any string value.. I would like to know if it's possible to have an Enum value as a method parameter, and if so, how?\nJust in case someone thinks about this; I thought about using a Boolean value but I don't really fancy it. First, how to associate true/false with left/right ? (Ok, I can use comments but I still find it dirty) and secondly, I might decide to add a new value, like 'justify', so if I have more than 2 possible values, Boolean type is definitely not possible to use.\nAny ideas?\n", "Is there a way to call an EJB that is served through WebSphere (iiop://host:port/ejbName) from a vanilla JRE (like Sun). A lot of people have been telling me that this type of architecture relies in a homogenous environment. Thoughts?\n", "What are some methods of utilising Eclipse for Dependency Management?\n", "Is there a way to deploy a given war file on Tomcat server? I want to do this without using the web interface.\n", "We are currently researching ways of enhancing image quality prior to submission to OCR.  The OCR engine we are currently utilizing is the Scansoft API from Nuance (v15).  We were researching the Lead Tools but have since decided to look elsewhere.  The licensing costs associated with Lead Tools is just too great.  To start with we are looking for simple image enhancement features such as: deskewing, despeckling, line removal, punch hole removal, sharpening, etc.  We are running a mix of .NET and Java software, but java solution would be preferred.\n", "I'm working on an application that consists of an overall Quartz-based scheduler and \"CycledJob\" run using CronTriggers. The purpose of the application is to process inputs from different email inboxes based on the source country. \nBased on the country that it comes in from (i.e. US, UK, FR, etc.) the application triggers one job thread to run each country's processing cycle, so there would be a UK Worker thread, one for US, France, etc. When formatting the output to log4j, I'm using the thread parameter, so it emits [ApplicationName_Worker-1], [ApplicationName_Worker-2] etc. Try as I might, I can't find a way to name the threads since they're pulled out of Quartz's Thread Pools. Although I could possibly go so far as to extend Quartz, I'd like to work out a different solution instead of messing with the standard library.\nHere's the problem: When using log4j, I'd like to have all log items from the US thread output to a US only file, likewise for each of the country threads. I don't care if they stay in one unified ConsoleAppender, the FileAppender split is what I'm after here. I already know how to specify multiple file appenders and such, my issue is I can't differentiate based on country. There are 20+ classes within the application that can be on the execution chain, very few of which I want to burden with the knowledge of passing an extra \"context\" parameter through EVERY method... I've considered a Strategy pattern extending a log4j wrapper class, but unless I can let every class in the chain know which thread it's on to parameterize the logger call, that seems impossible. Without being able to name the thread also creates a challenge (or else this would be easy!).\nSo here's the question: What would be a suggested approach to allow many subordinate classes in an application that are each used for every different thread to process the input know that they are within the context of a particular country thread when they are logging?\nGood luck understanding, and please ask clarifying questions! I hope someone is able to help me figure out a decent way to tackle this. All suggestions welcome.\n", "I've been a C++ programmer for quite a while but I'm new to Java and new to Eclipse.  I want to use the touch graph \"Graph Layout\" code to visualize some data I'm working with.\nThis code is organized like this:\n./com\n./com/touchgraph\n./com/touchgraph/graphlayout\n./com/touchgraph/graphlayout/Edge.java\n./com/touchgraph/graphlayout/GLPanel.java\n./com/touchgraph/graphlayout/graphelements\n./com/touchgraph/graphlayout/graphelements/GESUtils.java\n./com/touchgraph/graphlayout/graphelements/GraphEltSet.java\n./com/touchgraph/graphlayout/graphelements/ImmutableGraphEltSet.java\n./com/touchgraph/graphlayout/graphelements/Locality.java\n./com/touchgraph/graphlayout/graphelements/TGForEachEdge.java\n./com/touchgraph/graphlayout/graphelements/TGForEachNode.java\n./com/touchgraph/graphlayout/graphelements/TGForEachNodePair.java\n./com/touchgraph/graphlayout/graphelements/TGNodeQueue.java\n./com/touchgraph/graphlayout/graphelements/VisibleLocality.java\n./com/touchgraph/graphlayout/GraphLayoutApplet.java\n./com/touchgraph/graphlayout/GraphListener.java\n./com/touchgraph/graphlayout/interaction\n./com/touchgraph/graphlayout/interaction/DragAddUI.java\n./com/touchgraph/graphlayout/interaction/DragMultiselectUI.java\n./com/touchgraph/graphlayout/interaction/DragNodeUI.java\n./com/touchgraph/graphlayout/interaction/GLEditUI.java\n./com/touchgraph/graphlayout/interaction/GLNavigateUI.java\n./com/touchgraph/graphlayout/interaction/HVRotateDragUI.java\n./com/touchgraph/graphlayout/interaction/HVScroll.java\n./com/touchgraph/graphlayout/interaction/HyperScroll.java\n./com/touchgraph/graphlayout/interaction/LocalityScroll.java\n./com/touchgraph/graphlayout/interaction/RotateScroll.java\n./com/touchgraph/graphlayout/interaction/TGAbstractClickUI.java\n./com/touchgraph/graphlayout/interaction/TGAbstractDragUI.java\n./com/touchgraph/graphlayout/interaction/TGAbstractMouseMotionUI.java\n./com/touchgraph/graphlayout/interaction/TGAbstractMousePausedUI.java\n./com/touchgraph/graphlayout/interaction/TGSelfDeactivatingUI.java\n./com/touchgraph/graphlayout/interaction/TGUIManager.java\n./com/touchgraph/graphlayout/interaction/TGUserInterface.java\n./com/touchgraph/graphlayout/interaction/ZoomScroll.java\n./com/touchgraph/graphlayout/LocalityUtils.java\n./com/touchgraph/graphlayout/Node.java\n./com/touchgraph/graphlayout/TGAbstractLens.java\n./com/touchgraph/graphlayout/TGException.java\n./com/touchgraph/graphlayout/TGLayout.java\n./com/touchgraph/graphlayout/TGLensSet.java\n./com/touchgraph/graphlayout/TGPaintListener.java\n./com/touchgraph/graphlayout/TGPanel.java\n./com/touchgraph/graphlayout/TGPoint2D.java\n./com/touchgraph/graphlayout/TGScrollPane.java\n./TG-APACHE-LICENSE.txt\n./TGGL ReleaseNotes.txt\n./TGGraphLayout.html\n./TGGraphLayout.jar\n\nHow do I add this project in Eclipse and get it compiling and running quickly?\n", "An existing Java site is designed to run under \"/\" on tomcat and there are many specific references to fixed absolute paths like \"/dir/dir/page\".\nWant to migrate this to Java EE packaging, where the site will need to run under a context-root e.g. \"/dir/dir/page\" becomes \"/my-context-root/dir/dir/page\"\nNow, the context-root can be easily with ServletRequest.getContextPath(), but that still means a lot of code changes to migrate a large code base. Most of these references are in literal HTML.\nI've experimented with using servlet filters to do rewrites on the oubound HTML, and that seems to work fine. But it does introduce some overhead, and I wouldn't see it as a permanent solution. (see EnforceContextRootFilter-1.0-src.zip  for the servlet filter approach).\nAre there any better approaches to solving this problem? Anything obvious I'm missing? All comments appreciated!\n", "Let's say I have one class Foo that has a bunch of logic in it and another class Bar which is essentially the same. However, as Foo and Bar are different (but related) entities I need the difference to be apparent from my code (i.e. I can tell whether an instance is a Foo or a Bar)\nAs I was whacking this together without much thought I ended up with the following:\npublic class Foo {\n  /* constructors, fields, method, logic and what-not */\n}\n\npublic class Bar extends Foo {\n  /* nothing here but constructors */ \n}\n\nIs this OK? Is it better to make Bar a composite class? e.g:\npublic class Bar {\n  private Foo foo;\n\n  /* constructors and a bunch of wrapper methods that call\n     into foo */\n}\n\nOr even, while we're at it, something much more low-tech:\npublic class Foo {\n  /* constructors, fields, method, logic and what-not */\n\n  private boolean isABar; // Could be an enum\n}\n\nWhat do you think? How do you deal with these 'marker classes'?\n\nAs an example of how my code may wish to treat Foo and Bar differently, my code would need to be able to do stuff like List<Foo> and List<Bar>. A Foo couldn't go in a List<Bar> and vice versa.\n", "For example if I have an Enum with two cases, does it make take more memory than a boolean? Languages: Java, C++\n", "I believe any programmer who has been dealing with database requests in a gui application has run into some or all of the following problems:\n\nYour GUI freezes because you call\ndatabase layer from within the event\ndispatch thread\nWhen you have multiple windows/panels/jframes where user can start a db request your performance degrades because you don't have any control about the threads your user creates\nUser may be able to lock down the application and even the database because he calls any action many times before the first action has been finished\n\nWhat I'd like to know about: are there any frameworks that handle the requirements of handling an ordered set of long running actions (including but not limited to database calls, i.e. calculations) outside the event dispatch thread?\nNote: I know of SwingWorker ;-)\n", "I am writing a graphics application in Java. Eventually I would like to build in a scripting language so things are programmable. Which language library do you recommend?\nLikely suspects are:\n\nRhino (JavaScript)\nJRuby (Ruby)\nJython (Python)\n\nLess likely candidates are:\n\nWhip up my own language using JavaCC\nLuaJava (Lua)\nGroovy\nJavaFX\nScript-Fu\n\nThe target audience are probably not hardcore programmers, so less arcane language is preferred. My guess is that JavaScript is more acceptable by them even with its quirks just because they've seen it more. \nLua seems to be popular in C/C++, but at least LuaJava requires additional .dll/.so, which makes deployment complicated.\nEDIT:\nPhiLho wrote that there's a Java implementation of Lua called kahlua.\n\nRelated questions:\n\nWhich scripting language to support in an existing codebase? (in C/C++)\nAdding Scripting functionality to .net Apps\nWhat is the best scripting language to embed in a C# desktop application.\n\n", "I'm now in search for a Java Text to Speech (TTS) framework. During my investigations I've found several JSAPI1.0-(partially)-compatible frameworks listed on JSAPI Implementations page, as well as a pair of Java TTS frameworks which do not appear to follow JSAPI spec (Mary, Say-It-Now). I've also noted that currently no reference implementation exists for JSAPI.\nBrief tests I've done for FreeTTS (first one listed in JSAPI impls page) show that it is far from reading simple and obvious words (examples: ABC, blackboard). Other tests are currently in progress.\nAnd here goes the question (6, actually):\n\nWhich of the Java-based TTS frameworks have you used?\nWhich ones, by your opinion, are capable of reading the largest wordbase?\nWhat about their voice quality?\nWhat about their performance?\nWhich non-Java frameworks with Java bindings are there on the scene?\nWhich of them would you recommend?\n\nThank you in advance for your comments and suggestions.\n", "Going back to my previous question on OCSP, does anybody know of \"reliable\" OCSP libraries  for Python, Java and C?\nI need \"client\" OCSP functionality, as I'll be checking the status of Certs against an OCSP responder, so responder functionality is not that important.\nThanks\n", "Any recommended crypto libraries for Java. What I need is the ability to parse X.509 Certificates to extract the information contained in them.\nThanks\n", "I've been thinking a lot lately about a music-oriented project I'd like to work on. Kind of like a game... kind of like a studio workstation (FL Studio, Reason).\nI guess the best way to describe it would be: like \"Guitar Hero\", but with no canned tracks. All original music--composed by you, on the fly--but the software would use its knowledge of music theory (as well as some supervised learning algorithms) to make sure that your input gets turned into something that sounds great.\nIt sounds a little silly, explaining it like that, but there ya go. It's something I think would make an interesting side project.\nAnyhow, I'm looking for a Java library for generating the actual audio. Browsing around on sourceforge, there are countless software synths, and I have no idea which to choose.\nMy top priority is that it should sound incredible... Really rich, layered, textured synths, with gobs of configurable parameters. Emulation of acoustic instruments is not important to me.\nMy second priority is that it ought to be straightforward to use strictly as a library, with no GUI involved at all. (If there's a synth with really breathtaking output, but it's tightly-coupled with a GUI, then I might consider ripping the audio portion out of the application, but I'd rather start with a nicely contained library).\nI know I could send MIDI to a standalone synth, but I think it'd be cool to read the actual synth code and learn a little DSP while I'm at it.\nAny suggestions?\nOh yeah, I'm on Windows, so posix-only stuff is a no go.\nThanks!\n", "This may seem like a programming 101 question and I had thought I knew the answer but now find myself needing to double check. In this piece of code below, will the exception thrown in the first catch block then be caught by the general Exception catch block below?\ntry {\n  // Do something\n} catch(IOException e) {\n  throw new ApplicationException(\"Problem connecting to server\");\n} catch(Exception e) {\n  // Will the ApplicationException be caught here?\n}\n\nI always thought the answer would be no, but now I have some odd behaviour that could be caused by this. The answer is probably the same for most languages but I'm working in Java.\n", "Sometimes we deploy applications behind customer firewall and we need read only access to their DB for debugging issues as sometimes their IT people are not SQL savvy. We want to bundle our application with some web based application that will expose the database and allow us to fire adhoc SQL queries and show their output in HTML table. We dont want to write home grown code and we can bundle Java/JSP based applications.\nOur backend is Oracle so we need a solution that can connect to oracle server and expose it over the web.\n", "I asked a somewhat related question but I want it to make it more concrete and 'programming' oriented, so here it goes:\nDoes any body know, if there is a .NET, JAVA or any other Framework, library, .jar file or what ever: to access S.M.A.R.T. Statistics?\nThanks!\n", "I just installed Ganymede and am exploring an old project in it. All of my JSPs are giving me weird validation errors. I'm seeing stuff like - \nSyntax error on token \"}\", delete this token\nSyntax error on token \"catch\", Identifier expected\nSyntax error, insert \"Finally\" to complete TryStatement\n\nI'm doing best practice stuff here, no scriplets or anything, so I think that Eclipse is incorrectly applying a Java class validator to my JSPs. Any idea on how to stop that from happening?\nUnder Options/Editors/File Associations I have the following for JSPs:\nJSP Editor (default)\nWeb Page Editor\nText Editor\nCSS JSP Editor\n\nAm I missing something?\nAlso I think this is correct, but just in case it's not, here is my page directive - \n<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\npageEncoding=\"ISO-8859-1\"%>\n\n", "How do I deploy an ADF business component to the middle tier and call it using RMI?\nI just cannot find any good documentation on this!\n", "A couple of days ago, I read a blog entry (http://ayende.com/Blog/archive/2008/09/08/Implementing-generic-natural-language-DSL.aspx) where the author discuss the idea of a generic natural language DSL parser using .NET.\nThe brilliant part of his idea, in my opinion, is that the text is parsed and matched against classes using the same name as the sentences. \nTaking as an example, the following lines:\n\nCreate user user1 with email test@email.com and password test\nLog user1 in\nTake user1 to category t-shirts\nMake user1 add item Flower T-Shirt to cart\nTake user1 to checkout\n\nWould get converted using a collection of \"known\" objects, that takes the result of parsing. Some example objects would be (using Java for my example):\npublic class CreateUser {\n    private final String user;\n    private String email;\n    private String password;\n\n    public CreateUser(String user) {\n    this.user = user;\n    }\n\n    public void withEmail(String email) {\n    this.email = email;\n    }\n\n    public String andPassword(String password) {\n        this.password = password;\n    }\n}\n\nSo, when processing the first sentence, CreateUser class would be a match (obviously because it's a concatenation of \"create user\") and, since it takes a parameter on the constructor, the parser would take \"user1\" as being the user parameter. \nAfter that, the parser would identify that the next part, \"with email\" also matches a method name, and since that method takes a parameter, it would parse \"test@email.com\" as being the email parameter. \nI think you get the idea by now, right? One quite clear application of that, at least for me, would be to allow application testers create \"testing scripts\" in natural language and then parse the sentences into classes that uses JUnit to check for app behaviors.\nI'd like to hear ideas, tips and opinions on tools or resource that could code such parser using Java. Better yet if we could avoid using complex lexers, or frameworks like ANTLR, which I think maybe would be using a hammer to kill a fly.\nMore than that, if anyone is up to start an open source project for that, I would definitely be interested.\n", "I have a large codebase, and I'd like to refactor the package structure so that classes which interact heavily go in the same package.\nIt seems that it should be possible to create a tool that could look at the interactions between classes, and then group together those classes that interact heavily.  These groupings might then suggest a good hierarchy for packages.\nDoes such a tool exist? (open source is preferred).\n", "I'm searching a small Java based RSS/Feed Generator, something like the FeedCreator.class.php library, any suggestions?, thanks!\n", "I'm used to working with PHP but lately I've been working with Java and I'm having a headache trying to figure this out. I want to save this representation in Java:\n\nArray ( \n        [\"col_name_1\"] => Array ( \n                               1 => [\"col_value_1\"], \n                               2 => [\"col_value_2\"], \n                               ... , \n                               n => [\"col_value_n\"] \n                          ),\n        [\"col_name_n\"] => Array ( \n                               1 => [\"col_value_1\"], \n                               2 => [\"col_value_2\"], \n                               ... , \n                               n => [\"col_value_n\"] \n                          )\n)\n\nIs there a clean way (i.e. no dirty code) to save this thing in Java? Note; I would like to use Strings as array indexes (in the first dimension) and I don't know the definite size of the arrays.. \n", "I require a tree / directed acyclic graph implementation something like this:\npublic class TreeNode<K, V> {\n    private K key; // 'key' for this node, always present\n    private V value; // 'value' for this node, doesn't have to be set\n\n    private TreeNode<K, V> parent;\n    private Set<TreeNode<K, V>> children; \n}\n\n\nThere is no sorting of any kind. \nThe TreeNode is just a wrapper around the key and a possible value (nodes don't have to have values set).\nI require links to both the parent and the children.\n\nIs there anything out there in the standard APIs or Commons etc that will do this for me?\nI don't mind writing it myself (and I'm certainly not asking you folks to) I just don't want to re-invent the wheel.\n", "What is the window which is displayed when you first install Eclipse called, and how can I find it?\n", "Unfortunately, sometimes the only way to debug a program is by going through its long log files. \nI searched for a decent log viewer for a while now, and haven't found a real solution. The only program that seemed to be most appropriate was Chainsaw with its Socket connector but after a few short uses the program proved to be buggy and unresponsive at best. \nFor my purposes, a log viewer should at least be able to mark log levels (for example with different colors) and perform easy filtering based on packages and free-text. \nIs there any other (free) log viewer? I'm looking for anything that could work well with log4j.  \n", "I'm using an XYPlot in JFreeChart. All the lines on it are XYSeries objects. Both axes are NumberAxis objects. The Y-Axis range is from 0-1, with ticks every .1. Along with displaying the numbers though, I'd like to display text on the Y-Axis, like High/Medium/Low. High would cover .7-1, etc. What is the best way to go about doing this? \n", "What's the easiest way to centre a java.awt.Window, such as a JFrame or a JDialog?\n", "When Using Dynamic Proxies, how do I access the underlying object's Annotations?\nSpecifically I'm annotating settings of a ORM object with @Column(\"client_id\") and then making a Dynamic Proxy keep track of when the annotated setters are called, but...\nIt doesn't seem that the annotated proxy keeps any of the underlying annotations so short of performing reflection on every invocation, how do I make the proxy have the annotations of the class it's Proxying?\nThank you,\nAllain\n", "I haven't been around Java development for 8 years, but am starting to build a NetBeans Web Application. When I walk through the Web Application wizard, it asks for the server I'm going to be using. \nWhat would be the best and simplest server for me to start using with NetBeans?\n", "Is there any libraries that would allow me to use the same known notation as we use in BeanUtils for extracting POJO parameters, but for easily replacing placeholders in a string?\nI know it would be possible to roll my own, using BeanUtils itself or other libraries with similar features, but I didn't want to reinvent the wheel.\nI would like to take a String as follows:\nString s = \"User ${user.name} just placed an order. Deliver is to be\nmade to ${user.address.street}, ${user.address.number} - ${user.address.city} / \n${user.address.state}\";\n\nAnd passing one instance of the User class below:\npublic class User {\n   private String name;\n   private Address address; \n   // (...)\n\n   public String getName() { return name; } \n   public Address getAddress() {  return address; } \n}\n\npublic class Address {\n   private String street;\n   private int number;\n   private String city;\n   private String state;\n\n   public String getStreet() { return street; }\n   public int getNumber() {  return number; }\n   // other getters...\n}\n\nTo something like:\nSystem.out.println(BeanUtilsReplacer.replaceString(s, user));\n\nWould get each placeholder replaced with actual values.\nAny ideas?\n", "My understanding is that C/C++ produces native code to run on a particular machine architecture.  Conversely, languages like Java and C# run on top of a virtual machine which abstracts away the native architecture.  Logically it would seem impossible for Java or C# to match the speed of C++ because of this intermediate step, however I've been told that the latest compilers (\"hot spot\") can attain this speed or even exceed it.\nPerhaps this is more of a compiler question than a language question, but can anyone explain in plain English how it is possible for one of these virtual machine languages to perform better than a native language?\n", "Does anyone know where to get the source code for LambdaProbe? \nAlternatively, does anyone know if the project could be moved to a community repository?\nBesides the tool not being updated for over a year, the LambdaProbe website has been down since late September 2008. \nBackground: Lambda Probe is a useful tool for viewing stats on a running tomcat server. It used to be found at http://www.lambdaprobe.org.\n", "Title is the entire question. Can someone give me a reason why this happens?\n", "I am trying to setup a multi module SpringMVC appfuse applicaiton in Eclipse but it seems that I'm facing lots of errors in Eclipse after I import the project in Eclipse. Can anyone please help me with a step by step guideline showing the ideal way to setup such application in Eclipse?\n", "Is there a built-in way to escape user input in java using the JDBC? Something similar to the php version mysql_real_escape() function. What's the best way to validate input?\n", "What's the best cross platform Java Swing browser component at least able to play nicely in a swing interface (lightweight component ?) and able to run on MacOSX and Windows ?\nThings like : FlyingSaucer, JDIC, maybe others ?\n", "I've managed to get a memory 'leak' in a java application I'm developing. When running my JUnit test suite I randomly get out of memory exceptions (java.lang.OutOfMemoryError).\nWhat tools can I use to examine the heap of my java application to see what's using up all my heap so that I can work out what's keeping references to objects which should be able to be garbage collected.\n", "I need to setup LookAndFeel Files in JDK 1.6.\nI have two files:\n\nnapkinlaf-swingset2.jar\nnapkinlaf.jar\n\nHow can I set this up and use it?\nI would like a GTK look and feel OR Qt look and feel, Are they available?\n", "I'm doing some Android dev, and I much prefer Visual Studio, but I'll have to use Eclipse for this.\nHas anyone made a tool that switches Eclipse to look and behave more like visual studio? I mainly can't stand its clippyesqe suggestions on how I should program (Yes, I know I have not yet used that private field! Thanks Eclipse!), or its incredibly lousy intellisense.\nFor example, in eclipse, if I don't type this first, its intellisense won't realize I want to look for locally scoped members. Also, the TAB to complete VS convention is drilled into my head, and Eclipse is ENTER to complete, I could switch everything by hand but that would take hours, and I was hoping someone had some sort of theme or something that has already done it :)\n", "In python you can use a tuple in a formatted print statement and the tuple values are used at the indicated positions in the formatted string.  For example:\n>>> a = (1,\"Hello\",7.2)\n>>> print \"these are the values %d, %s, %f\" % a\nthese are the values 1, Hello, 7.200000\n\nIs there some way to use any array or collection in a java printf statement in a similar way?\nI've looked at the documentation and it appears to have built in support for some types like Calendar, but I don't see anything for collections.  \nIf this isn't provided in java, is there any java idiom that would be used in a case like this where you are populating collections and then printing the values from many collections using one format string (other than just nested looping)?\n", "I can't for the life of me figure out a use case for being able to annotate interfaces in Java. \nMaybe someone smarter than I am could give me an example?\n", "I am trying to make a JTable that has column spans available. Specifically, I am looking to nest a JTable inside another JTable, and when the user clicks to view the nested table, it should expand to push down the rows below and fill the empty space. This is similar to what you see in MS Access where you can nest tables, and clicking the expand button on a row will show you the corresponding entries in the nested table. \nIf someone knows of a way to perform a column span with JTable, can you please point me in the right direction? Or if you know of an alternative way to do this, I am open to suggestions. The application is being built with Swing. Elements in the table, both high level and low level, have to be editable in any solution. Using nested JTables this won't be a problem, and any other solution would have to take this into consideration as well.\n", "The method signature of a Java main() method is:\npublic static void main(String[] args){\n    ...\n}\n\nIs there a reason for this method to be static?\n", "Is the D language a credible alternative to Java and C++? What will it take to become a credible alternative? Should I bother learning it? Does it deserve evangelizing?\nThe main reason I ask is that with the new C++ standard (c++0x) almost here, it's clear to me that the language has gone well past the point of no return with respect to anyone ever understanding it. I know that C/C++ will never die but at some point we need to move on. Even COBOL had its day and Java has in many respects undone C++. So what's next? Does D fill the bill?\n", "I am working with a log of events where there are about 60 different \"types\" of events. Each event shares about 10 properties, and then there are subcategories of events that share various extra properties.\nHow I work with these events does depend on their type or what categorical interfaces they implement.\nBut it seems to be leading to code bloat. I have a lot of redundancy in the subclass methods because they implement some of the same interfaces.\nIs it more appropriate to use a single event class with a \"type\" property and write logic that checks type and maintain some organization of categories of types (e.g. a list of event types that are category a, a second list that are category b, etc)? Or is the subclass design more appropriate in this case?\nFirst Approach:\npublic interface Category1 {}\npublic interface Category2 {}\n\npublic abstract class Event {\n private base properties...;\n}\n\npublic class EventType1 extends Event implements Category1, Category2 {\n private extra properties ...;\n}\n\npublic class EventType2 extends Event implements Category3, Category4 {\n private extra properties ...;\n}\n\nSecond Approach:\npublic enum EventType {TYPE1, TYPE2, TYPE3, ...}\npublic class Event {\n private union of all possible properties;\n private EventType type;\n}\n\nMy personal opinion is that it seems like a single event object is what is appropriate, because, if I am thinking about it correctly, there is no need for using inheritance to represent the model because it is really only the behavior and my conditions that alter based on the type. \nI need to have code that does stuff like:\nif(event instanceof Category1) {\n  ...\n}\n\nThis works well in the first approach in that instead of instanceof I can just call the method on the event and implement \"the same code\" in each of the appropriate subclasses. \nBut the second approach is so much more concise. Then I write stuff like:\nif(CATEGORY1_TYPES.contains(event.getEventType()) {\n ...\n}\n\nAnd all my \"processing logic\" can be organized into a single class and none of it is redundantly spread out among the subclasses. So is this a case where although OO appears more appropriate, it would be better not too?\n", "If I have a Java source file (*.java) or a class file (*.class), how can I convert it to a .exe file?\nI also need an installer for my program.\nIs there an open source program that can do that?\n", "I have a self built JSP webapp and at the moment I'm using tomcats built in admin pannel to manage user accounts (that are stored in tomcats config xml files) but this is limited because i can not create new accounts from within the web-app (eg. I can not have a sign up website) and need to manually create the accounts. \nWhat is the most straight forward way of implementing accounts in a tomcat environment?\ndennis\n", "It is much more convenient and cleaner to use a single statement like\nimport java.awt.*;\n\nthan to import a bunch of individual classes\nimport java.awt.Panel;\nimport java.awt.Graphics;\nimport java.awt.Canvas;\n...\n\nWhat is wrong with using a wildcard in the import statement?\n", "PMD would report a violation for:\nArrayList<Object> list = new ArrayList<Object>();\n\nThe violation was \"Avoid using implementation types like 'ArrayList'; use the interface instead\".\nThe following line would correct the violation:\nList<Object> list = new ArrayList<Object>();\n\nWhy should the latter with List be used instead of ArrayList?\n", "I made a Java Applet with some Standard GUI Components on it. I used the MigLayout Manager.\nIf I move the mouse slowly over the various GUI Components everything appears to be fine, but if I move the mouse fast, it flickers.\nWhat could make that nasty ugly redraw?\n(Core 2 Duo 6300, 2GB Ram, Windows XP)\n", "I have the problem that an specific step in Ant can only be executed when we have Java 1.5 installed in the build computer.  The task definition uses  uses a jar file that was compiled using 1.5, so running with a 1.4 virtual machine will throw an IncompatibleClassVersion exception.\nI have to find a solution meanwhile to have this task working for this specific project that requires 1.4, but a question came to me.  How can I avoid defining this task and executing this optional step if I don't have a specific java version?\nI could use the \"if\" or \"unless\" tags on the target tag, but those only check if a property is set or not.  I also would like to have a solution that doesn't require extra libraries, but I don't know if the build-in functionality in standard is enough to perform such a task.\n", "I have one hibernate sequence, that generates all sequence-numbers in my app. When I generate the schemas from hibernate (target Oracle10), it genererates:\ncreate sequence hibernate_sequence;\n\nI would like to change the configuration of the sequence. I have to use something like:\ncreate sequence hibernate_sequence order nocache;\n\nI don't like to change the generated scripts, everytime I create them. Where can I customize the sequence generated by hibernate?\n", "I have created my own Tree implementation for various reasons and have come up with two classes, a 'base' class that is a generic tree node that is chock full of logic and another class that extends that one which is more specialised.\nIn my base class certain methods involve instantiating new tree nodes (e.g. adding children). These instantations are inside logic (in a nested loop, say) which makes the logic hard to separate from the instantation.\nSo, if I don't override these instantations in the specific class the wrong type of node will be created. However, I don't want to override those methods because they also contained shared logic that shouldn't be duplicated!\nThe problem can be boiled down to this:\npublic class Foo {\n    public String value() { return \"foo\"; }\n\n    public Foo doStuff() {\n        // Logic logic logic..\n        return new Foo();\n    }\n}\n\nclass Bar extends Foo {\n    public String value() { return \"bar\"; } \n}\n\nnew Bar().doStuff().value(); // returns 'foo', we want 'bar'\n\nThe first thing that popped into my head would have a 'create hook' that extending classes could override:\npublic Foo createFooHook(/* required parameters */) {\n  return new Foo();\n}\n\nNow. while it was a fine first thought, there is a stench coming off that code something awful. There is something very... wrong about it. \nIt's like cooking while naked-- it feels dangerous and unnecessary.\nSo, how would you deal with this situation?\n", "Should be pretty simple: I have an InputStream where I want to peek at (not read) the first two bytes, i.e. I want the \"current position\" of the InputStream to stil be at 0 after my peeking. What is the best and safest way to do this?\nAnswer - As I had suspected, the solution was to wrap it in a BufferedInputStream which offers markability. Thanks Rasmus.\n", "last time I asked how to populate a data structure here. Now I would like to know if there's something in Java, like the print_r I use in PHP, to represent what I have populated in the Maps and lists without having to do my own algorithm.\nAny ideas?\n", "I want to be able to access custom URLs with apache httpclient. Something like this:\nHttpClient client = new HttpClient();\nHttpMethod method = new GetMethod(\"media:///squishy.jpg\");\nint statusCode = client.executeMethod(method);\n\nCan I somehow register a custom URL handler? Or should I just register one with Java, using\nURL.setURLStreamHandlerFactory(...)\n\nRegards.\n", "I'm in the process of writing a Java 2D game. I'm using the built-in Java 2D drawing libraries, drawing on a Graphics2D I acquire from a BufferStrategy from a Canvas in a JFrame (which is sometimes full-screened). The BufferStrategy is double-buffered. Repainting is done actively, via a timer. I'm having some performance issues though, especially on Linux.\nAnd Java2D has so very many ways of creating graphics buffers and drawing graphics that I just don't know if I'm doing the right thing. I've been experimenting with graphics2d.getDeviceConfiguration().createCompatibleVolatileImage, which looks promising, but I have no real proof it it's going to be any faster if I switch the drawing code to that.\nIn your experience, what is the fastest way to render 2D graphics onto the screen in Java 1.5+? Note that the game is quite far ahead, so I don't want to switch to a completely different method of drawing, like OpenGL or a game engine. I basically want to know how to get the fastest way of using a Graphics2D object to draw stuff to the screen.\n", "I have a java class:\n\nit.eng.ancona.view.RuoliView$TabElaborazioneFattureValidazione$ElencoDettaglioElaborazioneFattureValidazione$RigaElencoDettaglioElaborazioneFattureValidazione\n\nIt's so long for multiple inner class.\nIf I use 1.4.2_07-b05 on Eclipse and I call this class, all goes fine.\nIf I use 1.4.2_07-b05 on Tomcat 5.0 it throws NoClassDefFoundError.\nI try to cut the class name, and after this all works fine.\nI've searched the internet and I've found that the max length for a class name is 65000, so the length should be ok. And on eclipse all works.\nThe OS is Vista.\nSomeone know if it's a bug or anything else?\n", "Is it possible to access a constant value (i.e. a public static final variable defined in a Java class) from a Velocity template?\nI would like to be able to write something like this:\n#if ($a lt Long.MAX_VALUE)\n\nbut this is apparently not the right syntax.\n", "I have a custom class loader so that a desktop application can dynamically start loading classes from an AppServer I need to talk to. We did this since the amount of jars that are required to do this are ridiculous (if we wanted to ship them). We also have version problems if we don't load the classes dynamically at run time from the AppServer library.\nNow, I just hit a problem where I need to talk to two different AppServers and found that depending on whose classes I load first I might break badly... Is there any way to force the unloading of the class without actually killing the JVM?\nHope this makes sense\n", "There are situations, where it is practical to have a type-cast return a null value instead of throwing a ClassCastException. C# has the as operator to do this. Is there something equivalent available in Java so you don't have to explicitly check for the ClassCastException?\n", "I'm trying to create a ImageIcon from a animated gif stored in a jar file.\nImageIcon imageIcon = new ImageIcon(ImageIO.read(MyClass.class.getClassLoader().getResourceAsStream(\"animated.gif\")));\n\nThe image loads, but only the first frame of the animated gif.  The animation does not play. \nIf I load the animated gif from a file on the filesystem, everything works as expected.  The animation plays through all the of frames.  So this works:\nImageIcon imageIcon = new ImageIcon(\"/path/on/filesystem/animated.gif\");\n\nHow can I load an animated gif into an ImageIcon from a jar file?\nEDIT:   Here is a complete test case, why doesn't this display the animation?\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\npublic class AnimationTest extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                AnimationTest test = new AnimationTest();\n                test.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                test.setVisible(true);\n            }\n        });\n    }\n\n    public AnimationTest() {\n        super();\n        try {\n            JLabel label = new JLabel();\n            ImageIcon imageIcon = new ImageIcon(ImageIO.read(AnimationTest.class.getClassLoader().getResourceAsStream(\"animated.gif\")));\n            label.setIcon(imageIcon);\n            imageIcon.setImageObserver(label);\n            add(label);\n            pack();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n", "What are the possibilities to enforce restrictions on the package dependencies in a Java build system? For example, the myapp.server.bl.Customer class should not be allowed to refer to the myapp.client.ui.customlayout package.\nI'm interested in either Ant-based or IDE-specific solutions. \nI'd like to get an error message in the build indicating that a (custom) package dependency rule has been violated and the build aborted. I also would like to maintain the dependencies in a list, preferably in a text file, outside of the Ant scripts or IDE project files.\n(I don't know Maven but I've read it here it has better support for module dependency management)\n", "I'm investigating an annotation-based approach to validating Spring beans using spring modules. In this tutorial, the following bean (getters and setters omitted) is used as an example:\npublic final class User {  \n\n  @NotBlank  \n  @Length(max = 80)  \n  private String name;  \n\n  @NotBlank  \n  @Email  \n  @Length(max = 80)  \n  private String email;  \n\n  @NotBlank  \n  @Length(max = 4000)  \n  private String text;  \n}\n\nThe error message that is used if a particular validation rule is disobeyed should follow this format:\nbean-class.bean-propery[validation-rule]=Validation Error message\n\nExamples for the class shown above include:\nUser.email[not.blank]=Please enter your e-mail address.  \nUser.email[email]=Please enter a valid e-mail address.  \nUser.email[length]=Please enter no more than {2} characters.\n\nThe fact that the message keys contain the class name presents a couple of problems:\n\nIf the class is renamed, the message keys also need to be changed\nIf I have another class (e.g. Person) with an email property that is validated identically to User.email, I need to duplicate the messages, e.g.\nPerson.email[not.blank]=Please enter your e-mail address.\nPerson.email[email]=Please enter a valid e-mail address.\nPerson.email[length]=Please enter no more than {2} characters.\n\nIn fact, the documentation claims that is possible to configure a default message for a particular rule (e.g. @Email) like this:\nemail=email address is invalid\n\nThis default message should be used if a bean-specific message for the rule cannot be found. However, my experience is that this simply does not work. \nAn alternative mechanism for avoiding duplicate messages is to pass the key of the error message to the rule annotation. For example, assume I have defined the following default error message for the @Email rule\nbadEmail=Email address is invalid\n\nThis message should be used if I annotate the relevant property like this:\n@Email(errorCode=\"badEmail\")\nprivate String email;\n\nHowever I tried this, out and again, it just doesn't seem to work. Has anyone found a way to avoid duplicating error messages when using this validation framework?\n", "It's helpful to name threads so one can sort out which threads are doing what for diagnostic and debugging purposes.\nIs there a particular naming convention for threads in a heavily multi-threaded application that works better than another? Any guidelines? What kind of information should go into the name for a thread? What have you learned about naming your threads that could be helpful to others?\n", "Is there a way to deploy a Java program in a format that is not reverse-engineerable? \nI know how to convert my application into an executable JAR file, but I want to make sure that the code cannot be reverse engineered, or at least, not easily. \nObfuscation of the source code doesn't count... it makes it harder to understand the code, but does not hide it.\nA related question is How to lock compiled Java classes to prevent decompilation?\n\nOnce I've completed the program, I would still have access to the original source, so maintaining the application would not be the problem. If the application is distributed, I would not want any of the users to be able to decompile it. Obfuscation does not achieve this as the users would still be able to decompile it, and while they would have difficulty following the action flows, they would be able to see the code, and potentially take information out of it.\nWhat I'm concerned about is if there is any information in the code relating to remote access. There is a host to which the application connects using a user-id and password provided by the user. Is there a way to hide the host's address from the user, if that address is located inside the source code?\n", "How do I list and export a private key from a keystore?\n", "Even nowadays I often see underscores in Java variables and methods, an example are member variables (like \"m_count\" or \"_count\"). As far as I remember, to use underscores in these cases is called bad style by Sun.\nThe only place they should be used is in constants (like in \"public final static int IS_OKAY = 1;\"), because constants should be all upper case and not camel case. Here, the underscore should make the code more readable.\nDo you think using underscores in Java is bad style? If so (or not), why?\n", "I'm wondering if there are any architectural frameworks out there to create desktop or standalone applications, in Java or C# for instance. It seems that there are tons of them available for web applications but I can't find many good resources on frameworks or architectural best-practices for desktop development.\nIdeally I would like to know if there is any source code available of desktop applications that would be considered to have a good architecture or are built with a certain framework.\n", "Excluding the check digit, what is the minimum length number the luhn algorithm will work on?  \nMy thoughts are that it would work on any number greater than 2 digits (again, excluding the check digit).\nThe reason I ask is this:\nif i iterates over all digits in the number from right to left.\nThis causes i%2 == 0 (used to find alternate positions in the number) in my luhn validation to fail if the number is 3 digits or smaller (e.g. 125 -- which on paper seems to be a valid number)\nObviously I could change my condition from i%2== 0 to something else but if it's not the correct behavior for the algorithm it'd be nice to know.\n", "I'm trying to create a new Excel file using jxl, but am having a hard time finding examples in their API documentation and online.\n", "This is along similar lines as these recent questions:\nBest Java Obfuscation Application For Size Reduction\nCreating non-reverse-engineerable Java programs\nHowever, one ends up recommending yGuard and the other ProGuard but neither mention both. I wonder if we could get a comparison of each one and hear peoples experiences from both sides of the fence. Looking at this comparison chart on the ProGuard website its clearly angled towards ProGuard. But what about real-world experience of each - which one produces smaller output? which one is harder to decompile from? what Java versions are supported by each?\nPersonally I'm particularly interested from a J2ME point of view but please don't limit the discussion to that.\n", "I'd like to get at least one JRE/JDK level on my Windows machine where I have the JRE/JDK source that matches the exact level of the JRE/JDK. My purpose is to be able to go into the system classes while debugging. Any suggestions about how to do this? Thanks in advance.\n", "Here is the directory layout that was installed with Leopard.  What is the \"A\" directory and why the \"Current\" directory in addition to the \"CurrentJDK\"?\nIt seems like you can easily switch the current JDK by move the CurrentJDK link, but then the contents under Current and A will be out of sync.\n\nlrwxr-xr-x  1 root  wheel    5 Jun 14 15:49 1.3 -> 1.3.1\ndrwxr-xr-x  3 root  wheel  102 Jan 14  2008 1.3.1\nlrwxr-xr-x  1 root  wheel    5 Feb 21  2008 1.4 -> 1.4.2\nlrwxr-xr-x  1 root  wheel    3 Jun 14 15:49 1.4.1 -> 1.4\ndrwxr-xr-x  8 root  wheel  272 Feb 21  2008 1.4.2\nlrwxr-xr-x  1 root  wheel    5 Feb 21  2008 1.5 -> 1.5.0\ndrwxr-xr-x  8 root  wheel  272 Feb 21  2008 1.5.0\nlrwxr-xr-x  1 root  wheel    5 Jun 14 15:49 1.6 -> 1.6.0\ndrwxr-xr-x  8 root  wheel  272 Jun 14 15:49 1.6.0\ndrwxr-xr-x  8 root  wheel  272 Jun 14 15:49 A\nlrwxr-xr-x  1 root  wheel    1 Jun 14 15:49 Current -> A\nlrwxr-xr-x  1 root  wheel    3 Jun 14 15:49 CurrentJDK -> 1.5\nsteve-mbp /System/Library/Frameworks/JavaVM.framework/Versions $ \n\nand the contents of A\n\n-rw-r--r--   1 root  wheel    1925 Feb 29  2008 CodeResources\ndrwxr-xr-x  34 root  wheel    1156 Jun 14 15:49 Commands\ndrwxr-xr-x   3 root  wheel     102 Mar  6  2008 Frameworks\ndrwxr-xr-x  16 root  wheel     544 Jun 14 15:49 Headers\n-rwxr-xr-x   1 root  wheel  236080 Feb 29  2008 JavaVM\ndrwxr-xr-x  29 root  wheel     986 Jun 14 15:49 Resources\nsteve-mbp /System/Library/Frameworks/JavaVM.framework/Versions/A $ \n\n", "I am converting an excel sheet formula to java but I can't understand how excel manages to take the following: 0.22\nApplies a formula: =TEXT(R5/14, \"h:mm\")\nand somehow arrives at: 0.22\nAgain if I provide: 2.8\nit arrives at 4.48\nCan someone please explain to me how it does this. I have read a little regarding decimal and I understand the conversion but this hasn't yet helped to explain the above.\n", "How do you detect if Socket#close() has been called on a socket on the remote side?\n", "I'm making a mini ORM for a Java program I'm writing... there is a class for each table in my db, all inheriting from ModelBase.\nModelBase is abstract & provides a bunch of static methods for finding & binding objects from the db, for example:\npublic static ArrayList findAll(Class cast_to_class) {\n  //build the sql query & execute it \n}\n\nSo you can do things like ModelBase.findAll(Albums.class) to get a list of all persisted albums. \nMy problem is that in this static context, I need to get the appropriate sql string from the concrete class Album. I can't have a static method like \npublic class Album extends ModelBase {\n  public static String getSelectSQL() { return \"select * from albums.....\";}\n}\n\nbecause there is no polymorphism for static methods in Java. But I don't want to make getSelectSQL() an instance method in Album because then I need to create an instance of it just to get a string that is really static in behavior.\nAt the moment, findAll() uses reflection to get the appropriate sql for the class in question:\nselect_sql = (String)cast_to_class.getDeclaredMethod(\"getSelectSql\", new Class[]{} ).invoke(null, null);\n\nBut that's pretty gross. \nSo any ideas? It's a general problem I'm having time and time again - the inability to specify abstract static methods in classes or interfaces. I know why static method polymorphism doesn't and can't work, but that doesn't stop me from wanting to use it time again!\nIs there any pattern/construct that allows me to ensure that concrete subclasses X and Y implement a class method(or failing that, a class constant!)?\n", "What is the best way to free resources (in this case unlock the ReadWriteLock) when leaving the scope ? How to cover all possible ways (return, break, exceptions etc)?\n", "I agree, that programming against interfaces is a good practice. In most cases in Java \"interface\" in this sense means the language construct interface, so that you write an interface and an implementation class and that you use the interface instead of the implementation class most of the time.\nI wonder if this is a good practice for writing domain models as well. So, for example if you've got a domain class Customer and each customer may have a list of Orders, would you generally also write interfaces ICustomer and IOrder. And also would Customer have a list of IOrders instead of Orders? Or would you use interfaces in the domain model, only if it is really driven by the domain, e.g. you've got at least two different types of Orders? In other words, would you use interfaces because of only technical needs in the domain model, or only when it is really appropriate with respect to the actual domain?\n", "I have a class proposing translations utilities. The translations themselves should be reloaded every 30 minutes. I use Spring Timer support for that. Basically, my class looks like :\npublic interface Translator {\n    public void loadTranslations();\n    public String getTranslation(String key);\n}\n\nloadTranslations() can be pretty long to run, so while it is running the old translations are still available. This is done by loading the translations in a local Map and just changing the reference when all translations are loaded.\nMy problem is : how do I make sure that when a thread is already loading translations, is a second one also tries to run, it detects that and returns immediately, without starting a second update.\nA synchronized method will only queue the loads ... I'm still on Java 1.4, so no java.util.concurrent.\nThanks for your help !\n", "I'm using StringBuffer in Java to concat strings together, like so:\nStringBuffer str = new StringBuffer();\n\nstr.append(\"string value\");\n\nI would like to know if there's a method (although I didn't find anything from a quick glance at the documentation) or some other way to add \"padding\".\nLet me explain; every time I append something to the string, I want to add a space in the end, like so:\nString foo = \"string value\";\nstr.append(foo + \" \");\n\nand I have several calls to append.. and every time, I want to add a space. Is there a way to set the object so that it will add a space automatically after each append?\nEDIT --\nString input\nStringBuffer query = new StringBuffer();\nScanner scanner = new Scanner(System.in);\nscanner.UseDelimiter(\"\\n\");\n\ndo {\n   System.out.println(\"sql> \");\n\n   input = scanner.next();\n\n   if (!empty(input)) query.append(input);\n\n   if (query.toString().trim().endsWith(\";\")) {\n         //run query\n   }\n}\nwhile (!input.equalsIgnoreCase(\"exit\");\n\nI'll use StringBuilder though as grom suggested, but that's how the code looks right now\n", "I'm working on a Java library and would like to remove some functions from it. My reasons for this is public API and design cleanup. Some objects have setters, but should be immutable, some functionality has been implemented better/cleaner in different methods, etc.\nI have marked these methods 'deprecated', and would like to remove them eventually. At the moment I'm thinking about removing these after few sprints (two week development cycles).\nAre there any 'best practices' about removing redundant public code?\n/JaanusSiim \n", "I would like to know how to make use of an Axiom database resource inside a Safe function. \nRight now I'm just handling the connection manually but I know it would be better to use the already defined resources.\n", "I fill a collection one single time when my J2EE webapp starts.\nThen, several thread may access it at same time but only to read it.\nI know using a synchronized collection is mandatory for parallels write but do I still need it for parallels read ?\n", "I am relatively new to matchers. I am toying around with hamcrest in combination with JUnit and I kinda like it.\nIs there a way, to state that one of multiple choices is correct?\nSomething like\nassertThat( result, is( either( 1, or( 2, or( 3 ) ) ) ) ) //does not work in hamcrest\n\nThe method I am testing returns one element of a collection. The list may contain multiple candidates. My current implementation returns the first hit, but that is not a requirement. I would like my testcase to succeed, if any of the possible candidates is returned. How would you express this in Java?\n(I am open to hamcrest-alternatives)\n", "I'm wondering if a Java library can be called from a VB.net application.\n(A Google search turns up lots of shady answers, but nothing definitive)\n", "I'm absolutely in love with the way GWT does RPC. Is there anything similar for Java SE you have experience with that:\n\nIs not spring\nDoesn't require a Java EE/Servlet container to run the server side\nIs not RMI that comes with Java SE\n\n", "The interop library is slow and needs MS Office installed. \nMany times you don't want to install MS Office on servers.\nI'd like to use Apache POI, but I'm on .NET.\nI need only to extract the text portion of the files, not creating nor \"storing information\" in Office files.\nI need to tell you that I've got a very large document library, and I can't convert it to newer XML files.\nI don't want to write a parser for the binaries files. \nA library like Apache POI does this for us. Unfortunately, it is only for the Java platform. Maybe I should consider writing this application in Java.\nI am still not finding an open source alternative to POI in .NET, I think I'll write my own application in Java.\n", "i am planning to use 2 dedicated root servers rented at a hosting provider. those machines will run tomcat 6 in a cluster.\nif i will add additional machines later on - it is unlikely that they will be accessible with multicast, because they will be located in different subnets.\nis it possible to run tomcat without multicast? all tutorials for tomcat 6 clustering include multicast heartbeat. are there any alternatives to SimpleTcpCluster?\nor are other alternatives more appropriate in this situation?\n", "I'm starting a project using a Restful architecture implemented in Java (using the new JAX-RS standard)\nWe are planning to develop the GUI with a Flex application. I have already found some problems with this implementation using the HTTPService component (the response error codes, headers access...).\nAny of you guys have some experience in a similar project. Is it feasible?\n", "I am currently using JUnit 4 and have a need to divide my tests into groups that can be run selectively in any combination. I know TestNG has a feature to annotate tests to assign them to groups, but I can't migrate to TestNG right now. It seems this could easily be accomplished in JUnit with some custom annotations and a custom JUnit TestRunner. I've checked both the JUnit docs and searched the web but couldn't find such a thing. Is anyone aware of such a TestRunner?\nUpdate: Thanks for your replies regarding test suites. I should have addressed these in my original question. Here we go: I don't want to use test suites because they would require me to manually create and manage them, which means touching ALL my tests and arranging them into suites manually (too much work and a maintenance nightmare). All I need to do is run all unit tests, except a few that are really integration tests. So I want to annotate these, and run all others. At other times, I want to just run the integration tests. I also have the need to put a unit test into multiple groups, which is not possible with suites. Hope this helps to clear things up.\nUpdate 2: If JUnit doesn't have this OOB, I'm looking for an Open Source library that adds this to JUnit (annotations + custom JUnit Test Runner).\n", "I love the way I can profile a Java/.Net app to find performance bottlenecks or memory problems. For example, it's very easy to find a performance bottleneck looking at the call tree with execution times and invocation counts per method. In SQL Server, I have stored procedures that call other stored procedures that depend on views, which is similar to Java/.Net methods calling other methods. So it seems the same kind of profiler would be very helpful here. However, I looked far and wide and could not find one. Is anyone aware of such tools, either for SQL Server or any other DBMS?\nUpdate: Thanks fro your replies around SQL Server Profiler, but this tool is very limited. Take a look at the screenshot.\n", "I have a Tapestry application that is serving its page as UTF-8. That is, server responses have header:\nContent-type: text/html;charset=UTF-8\n\nNow within this application there is a single page that should be served with ISO-8859-1 encoding. That is, server response should have this header:\nContent-type: text/html;charset=ISO-8859-1\n\nHow to do this? I don't want to change default encoding for whole application.\nBased on google searching I have tried following:\n @Meta({    \"org.apache.tapestry.output-encoding=ISO-8859-1\", \n    \"org.apache.tapestry.response-encoding=ISO-8859-1\", \n    \"org.apache.tapestry.template-encoding=ISO-8859-1\",\n    \"tapestry.response-encoding=ISO-8859-1\"})\n abstract class MyPage extends BasePage {\n\n    @Override\n    protected String getOutputEncoding() {\n        return \"ISO-8859-1\";\n    }\n }\n\nBut neither setting those values with @Meta annotation or overriding getOutputEncoding method works.\nI am using Tapestry 4.0.2.\nEDIT: I ended up doing this with a Servlet filter with subclassed HttpServletResposeWrapper. The wrapper overrides setContentType() to force required encoding for the response.\n", "Is there a tool out there that can automatically convert Python to Java? \nCan Jython do this?\n", "What I would like is a method to convert a double to a string which rounds using the half-up method - i.e. if the decimal to be rounded is 5, it always rounds up to the previous number. This is the standard method of rounding most people expect in most situations.\nI also would like only significant digits to be displayed - i.e. there should not be any trailing zeroes.\nI know one method of doing this is to use the String.format method:\nString.format(\"%.5g%n\", 0.912385);\n\nreturns:\n0.91239\n\nwhich is great, however it always displays numbers with 5 decimal places even if they are not significant: \nString.format(\"%.5g%n\", 0.912300);\n\nreturns:\n0.91230\n\nAnother method is to use the DecimalFormatter:\nDecimalFormat df = new DecimalFormat(\"#.#####\");\ndf.format(0.912385);\n\nreturns:\n0.91238\n\nHowever as you can see this uses half-even rounding. That is it will round down if the previous digit is even. What I'd like is this:\n0.912385 -> 0.91239\n0.912300 -> 0.9123\n\nWhat is the best way to achieve this in Java?\n", "When I want to validate my XML docuemnts against a schema in my server-side Java, I use the built-in JRE Xerces implementation and javax.xml.validation.Schema.  It works fine, but when validation fails, Xerces gives error messages that are very close to useless, for example:\ncvc-minLength-valid: Value '' with length = '0' is not facet-valid with respect to minLength '1' for type 'PopulatedStringType'\n\nThese can take an age to diagnose and track down to the particular part of the XML document that fails validation, and all because of a poor error message.\nSo my question is, do you use an alternative means of validating XML against Schema, that gives a more useful output on validation failure?  \nPlease not that this is server-side Java, so please don't say \"use XML Spy\" or similar.\n", "I\u2019m trying to create an instance of: java.awt.geom.Point2D.Double in ColdFusion.\nPoint2D.Double is a nested class inside of the abstract class Point2D.  I have tried to instantiate the class using:\n<cfset PointClass = createObject(\"java\", \"java.awt.geom.Point2D.Double\")>\n\nThis fails because ColdFusion cannot find the class.\nAnd <cfset PointClass = createObject(\"java\", \"java.awt.geom.Point2D\")> which does not work because Point2D is an abstract class and there is not a public constructor on which you can call PointClass.init(x,y).\nRight now, I\u2019ve resorted to making my own Point class that wraps the Point2D.Double class so that I can instantiate it in ColdFusion.  I don\u2019t think this is ideal and am looking for ideas about how to directly create a Point2D.Double class in ColdFusion.\nI'm also using ColdFusion 8.\n", "I want to have a class which implements an interface, which specifies the specific subclass as a parameter.\npublic abstract Task implements TaskStatus<Task> {\n  TaskStatus<T> listener;\n\n  protected complete() {\n      // ugly, unsafe cast\n      callback.complete((T) this);\n  }\n}\n\npublic interface TaskStatus<T> {\n   public void complete(T task);\n}\n\nBut instead of just task, or , I want to guarantee the type-arg used is that of the specific class extending this one.\nSo the best I've come up with is:\npublic abstract Task<T extends Task> implements TaskStatus<T> {\n}\n\nYou'd extend that by writing:\npublic class MyTask extends Task<MyTask> {\n}\n\nBut this would also be valid:\npublic class MyTask extends Task<SomeOtherTask> {\n}\n\nAnd the invocation of callback will blow up with ClassCastException. So, is this approach just wrong and broken, or is there a right way to do this I've somehow missed?\n", "Pattern pattern = Pattern.compile(\"^[a-z]+$\");\nString string = \"abc-def\";\nassertTrue( pattern.matcher(string).matches() ); // obviously fails\n\nIs it possible to have the character class match a \"-\" ?\n", "I tried:\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument doc = db.parse(f);\nNode mapNode = getMapNode(doc);\nSystem.out.print(\"\\r\\n elementName \"+ mapNode.getNodeName());//This works fine.\n\nElement e = (Element) mapNode; //This is where the error occurs\n//it seems to work on my machine, but not on the server.\ne.setAttribute(\"objectId\", \"OBJ123\");\n\nBut this throws a java.lang.ClassCastException error on the line that casts it to Element.  mapNode is a valid node.  I already have it printing out \nI think maybe this code does not work in Java 1.4.  What I really need is an alternative to using Element.  I tried doing\nNamedNodeMap atts = mapNode.getAttributes();\n    Attr att = doc.createAttribute(\"objId\");\n    att.setValue(docId);    \n    atts.setNamedItem(att);\n\nBut getAttributes() returns null on the server.  Even though its not and I am using the same document locally as on the server.  And it can print out the getNodeName() its just that the getAttributes() does not work.\n", "We have a distributed system with components (including the ActiveMQ broker) running on jdk 1.6.\nA potential customer would like to integrate a component that was built on jdk 1.4 with our system. While this customer is willing to write code to integrate with our system, they are not comfortable moving from jdk 1.4.\nWould there be any problems with a system where one client is running off of an older jdk?\n", "One of our programs is sometimes getting an OutOfMemory error on one user's machine, but of course not when I'm testing it.  I just ran it with JProfiler (on a 10 day evaluation license because I've never used it before), and filtering on our code prefix, the biggest chunk both in total size and number of instances is 8000+ instances of a particular simple class.  \nI clicked the \"Garbage Collect\" button on JProfiler, and most instances of other classes of ours went away, but not these particular ones.  I ran the test again, still in the same instance, and it created 4000+ more instances of the class, but when I clicked \"Garbage Collect\", those went away leaving the 8000+ original ones.\nThese instances do get stuck into various Collections at various stages.  I assume that the fact that they're not garbage collected must mean that something is holding onto a reference to one of the collections so that's holding onto a reference to the objects.\nAny suggestions how I can figure out what is holding onto the reference?  I'm looking for suggestions of what to look for in the code, as well as ways to find this out in JProfiler if there are.\n", "I've found a couple of references (for example) that suggest using final as much as possible and I'm wondering how important that is. This is mainly in the the context of method parameters and local variables, not final methods or classes. For constants, it makes obvious sense.\nOn one hand, the compiler can make some optimizations and it makes the programmer's intent clearer. On the other hand, it adds verbosity and the optimizations may be trivial.\nIs it something I should make an effort to remember to do?\n", "Does anybody know if Hibernate's static initialize() method, which populates a proxy object, will attempt to hit the second-level cache before going to the database?  My code seems to be behaving that way, and I can't seem to find anything in the documentation about this.  The Javadoc is (as usual) sparse.  \nThanks!\n", "In terms of Java, when someone asks: \n\nwhat is polymorphism?\n\nWould overloading or overriding be an acceptable answer?\nI think there is a bit more to it than that. \nIF you had a abstract base class that defined a method with no implementation, and you defined that method in the sub class, is that still overridding?\nI think overloading is not the right answer for sure.\n", "At the moment we use HSQLDB as an embedded database, but we search for a database with less memory footprint as the data volume grows.\nDerby / JavaDB is not an option at the moment because it stores properties globally in the system properties. So we thought of h2.\nWhile we used HSQLDB we created a Server-object, set the parameters and started it. This is described here (and given as example in the class org.hsqldb.test.TestBase).\nThe question is: Can this be done analogous with the h2 database, too? Do you have any code samples for that? Scanning the h2-page, I did not find an example.\n", "The use of weak references is something that I've never seen an implementation of so I'm trying to figure out what the use case for them is and how the implementation would work. When have you needed to use a WeakHashMap or WeakReference and how was it used?\n", "I'd like to eliminate dependencies on hardcoded paths for configuration data in my Java apps, I understand that using ResourceBundle will help me use the classloader to find resources.\nCan someone tell me how I would replace a hardcoded path to a resource (say a .properties configuration data file required by a class) with appropriate use of ResourceBundle? Simple clear example if possible, thanks all.\n", "I'm using the GL class from JOGL, which basically contains all OpenGL functions. Now I just installed the Javadoc for JOGL, because it's nice to have the parameter names if you can't remember the order.\nHowever, with this Javadoc installed, it takes about half a minute to show the autocompletion list whenever I type GL.. Since I'm making a lot of OpenGL calls, this is hugely annoying.\nApart from uninstalling or disabling the JOGL Javadoc, is there any way to make the list appear faster, or not at all?\n", "I'm writing a Java Tree in which tree nodes could have children that take a long time to compute (in this case, it's a file system, where there may be network timeouts that prevent getting a list of files from an attached drive).\nThe problem I'm finding is this:\n\ngetChildCount() is called before the user specifically requests opening a particular branch of the tree.  I believe this is done so the JTree knows whether to show a + icon next to the node.\nAn accurate count of children from getChildCount() would need to perform the potentially expensive operation \nIf I fake the value of getChildCount(), the tree only allocates space for that many child nodes before asking for an enumeration of the children.  (If I return '1', I'll only see 1 child listed, despite that there are more)\n\nThe enumeration of the children can be expensive and time-consuming, I'm okay with that.  But I'm not okay with getChildCount() needing to know the exact number of children.\nAny way I can work around this?\nAdded: The other problem is that if one of the nodes represents a floppy drive (how archaic!), the drive will be polled before the user asks for its files; if there's no disk in the drive, this results in a system error.\nUpdate: Unfortunately, implementing the TreeWillExpand listener isn't the solution.  That can allow you to veto an expansion, but the number of nodes shown is still restricted by the value returned by TreeNode.getChildCount().\n", "When I parse my xml file (variable f) in this method, I get an error \n\nC:\\Documents and Settings\\joe\\Desktop\\aicpcudev\\OnlineModule\\map.dtd (The system cannot find the path specified)\n\nI know I do not have the dtd, nor do I need it.  How can I parse this File object into a Document object while ignoring DTD reference errors?\nprivate static Document getDoc(File f, String docId) throws Exception{\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    DocumentBuilder db = dbf.newDocumentBuilder();\n    Document doc = db.parse(f);\n\n\n    return doc;\n}\n\n", "Where can I get an inexpensive Java code signing certificate? \nEverywhere I look they want USD200 to USD300 per year! Unfortunately I cannot use a self-signed one as I'm trying to get rid of the scary warnings so that users will be more likely to accept my application. And as far as I know (per Stack Overflow question Are Java code signing certificates the same as SSL certificates?), it has to be a code signing certificate, it cannot be an SSL certificate.\n", "I had a look in the reference doc, and Spring seems to have pretty good support for sending mail. However, I need to login to a mail account, read the messages, and download any attachments. Is downloading mail attachments supported by the Spring mail API?\nI know you can do this with the Java Mail API, but in the past I've found that very verbose and unpleasant to work with.\nEDIT: I've received several replies pointing towards tutorials that describe how to send mail with attachments, but what I'm asking about is how to read attachments from received mail.\nCheers,\nDon\n", "I've always had an interest in creating my own games, and now at university I have the opportunity to create some 2D and 3D games using Java and C++ for those who are that way inclined.\nI've never really programmed a game before, let alone graphics, so I'm completely new to the area. After a quick trip to the library today I came across very little information on starting 2D game development or even graphics programming in Java or C++. I can program in Java at a reasonable level, but I have never touched C++.\n\nCan someone recommend any good books on starting Graphics Programming in Java or C++?\nI have no C++ experience, but I've programmed in C and Java and feel reasonably comfortable in both. Should I take the jump and dive into C++ when important marks are at stake? I hear a lot of good things about C++ as far as Games Programming goes so I'm unsure as to what is the best option for me.\nI'm looking to write a 2D game in my own time for a bit of fun before I start getting into the heavy work at university. Can anyone recommend some good resources for those interested in writing their own games using OpenGL and Java/C++.\nFor those who have followed my other questions here I am terrible at Maths and hold very little knowledge of even the foundations. Is this going to be a serious problem for me? If I were to need Math knowledge what do you recommend I brush up on?\n\nI apologise if my questions seem a bit vague, as I'm a complete newbie when it comes to a lot of these topics. Any help you could provide would be much appreciated.\nEDIT: I've already checked out the question titled \"game programming\", but have found it to not really cater for my specific questions.\n", "I have a very basic question about MVC web applications in Java.\nSince the olden days of raw JSP up until current technologies like Seam, a very basic pattern has always been the internal dispatch from the controller that initially accepted the request to the view layer that creates the output to be sent to the client.\nThis internal dispatch is generally done (although the mechanism may be hidden through an extra layer of configuration) by asking the servlet container for a new resource using a URL. The mapping of these URL are done by the same web.xml that also defines the \"real\" URL to the outside.\nUnless special measures are taken, it is often possible to directly access the view layer directly. Witness the Seam \"registration\" demo, where you can bypass \"register.seam\" and directly go to \"registered.xhtml\". This is a potential security problem. At the very least, it leaks view template source code. \nI am aware that this is only a basic sample application, but it is also strange that any extra measures should need to be taken to declare these internal resources invisible to the outside.\nWhat is the easiest way to restrict URL entry points?\nIs there maybe something like the \"WEB-INF\" directory, a magic URL path component that can only be accessed by internal requests?\n", "Java & Oracle both have a timestamp type called Date. Developers tend to manipulate these as if they were calendar dates, which I've seen cause nasty one-off bugs.\n\nFor a basic date quantity you can simply chop off the time portion upon input, i.e., reduce the precision. But if you do that with a date range, (e.g.: 9/29-9/30), the difference between these two values is 1 day, rather than 2. Also, range comparisons require either 1) a truncate operation: start < trunc(now) <= end, or 2) arithmetic: start < now < (end + 24hrs). Not horrible, but not DRY.\nAn alternative is to use true timestamps: 9/29 00:00:00 - 10/1 00:00:00. (midnight-to-midnight, so does not include any part of Oct). Now durations are intrinsically correct, and range comparisons are simpler: start <= now < end. Certainly cleaner for internal processing, however end dates do need to be converted upon initial input (+1), and for output (-1), presuming a calendar date metaphor at the user level.\n\nHow do you handle date ranges on your project? Are there other alternatives? I am particularly interested in how you handle this on both the Java and the Oracle sides of the equation.\n", "Is there a good reason why there is no Pair in Java? What would be the equivalent of this C++ construct? I would rather avoid reimplementing my own.\nIt seems that 1.6 is providing something similar (AbstractMap.SimpleEntry), but this looks quite convoluted.\n", "I'm not happy with the rendering of HTML by Swing's JEditorPane. In particular bullets for unordered lists are hideous. Customising the rendering seems extremely difficult. Therefore I'm looking for a replacement with better HTML rendering.\nDoes this exist? (I asked Google, and found nothing except a promising dead link).\n", "How can I use JUnit4 idiomatically to test that some code throws an exception?\nWhile I can certainly do something like this:\n@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n  boolean thrown = false;\n\n  try {\n    foo.doStuff();\n  } catch (IndexOutOfBoundsException e) {\n    thrown = true;\n  }\n\n  assertTrue(thrown);\n}\n\nI recall that there is an annotation or an Assert.xyz or something that is far less kludgy and far more in-the-spirit of JUnit for these sorts of situations.\n", "Alright, I have been doing the following (variable names have been changed):\n\nFileInputStream fis = null;\ntry\n{\n    fis = new FileInputStream(file);\n\n    ... process ...\n\n}\ncatch (IOException e)\n{\n    ... handle error ...\n}\nfinally\n{\n    if (fis != null)\n        fis.close();\n}\n\n\nRecently, I started using FindBugs, which suggests that I am not properly closing streams.  I decide to see if there's anything that can be done with a finally{} block, and then I see, oh yeah, close() can throw IOException.  What are people supposed to do here?  The Java libraries throw too many checked exceptions.\n", "I'd like to check if a Class object represents a subclass of other class \nfor example\nClass class1 = Class.forName(\"Class1\");\nClass class2 = Class.forName(\"Class2\");\n\n if(class1.isSubClassOf(class2)) // fake methos isSubClassOf\n{\n  // do sth\n}\n\nHow can I implement this isSubClassOf method ?\n", "What modes are the best?\nAnd any tips or tricks that make developing java in emacs a bit better.\n", "We are using fmt:setBundle to load a resource bundle from a database (we extended the ResourceBundle class to do that).\nWhen we modify a value in database, we have to reload the web server to display the new value on the web app.\nIs there any simple way to use the new value without restarting the web server ?\n(We do not want to always look up the value from database but we would like to invalidate the cache, for example by calling a special 'admin' URL)\nEDIT : We are using JDK 1.4, so I would prefer a solution on that version. :)\n", "I am very new to creating webservers - and I have had several goes at trying to understand them and write a quick webserver, but it's never quite 'clicked'.  At the moment I am under the impression that REST would be most suitable for my purposes (I will explain later).\nCan anyone either show me a basic code example in Java (using Tomcat Apache) or a tutorial resource to show how a webserver:\n\nCan be used for security - i.e. pass in some kind of value to identify the client - from their the webserver will either deny or grant access to the client dependant on some criteria - maybe a lookup list.\nOnce the client is successfully accepted they will be allowed to pass in some more values to the webserver that will be used to write a row in a database table.\n\nMany thanks.\nPS - I would have thought there might have been soemthing that comes with Eclipse Ganymede? If someone can confirm?\n", "Do you have a common base class for Hibernate entities, i.e. a MappedSuperclass with id, version and other common properties? Are there any drawbacks?\nExample:\n@MappedSuperclass()\npublic class BaseEntity {\n\n    private Long id;\n    private Long version;\n    ...\n\n    @Id @GeneratedValue(strategy = GenerationType.AUTO)\n    public Long getId() {return id;}\n\n    public void setId(Long id) {this.id = id;}\n\n    @Version\n    public Long getVersion() {return version;}\n    ...\n\n    // Common properties\n    @Temporal(TemporalType.TIMESTAMP)\n    public Date creationDate() {return creationDate;}\n    ...\n}\n\n@Entity\npublic class Customer extends BaseEntity {\n    private String customerName;\n    ...\n}\n\n", "In my environment here I use Java to serialize the result set to XML.\nIt happens basically like this:\n//foreach column of each row\nxmlHandler.startElement(uri, lname, \"column\", attributes);\nString chars = rs.getString(i);\nxmlHandler.characters(chars.toCharArray(), 0, chars.length());\nxmlHandler.endElement(uri, lname, \"column\");\n\nThe XML looks like this in Firefox:\n<row num=\"69004\">\n    <column num=\"1\">10069</column>\n    <column num=\"2\">sd&#26;</column>\n    <column num=\"3\">FCVolume                      </column>\n</row>\n\nBut when I parse the XML I get the a\n\norg.xml.sax.SAXParseException: Character reference \"&#26\" is an\n  invalid XML character.\n\nMy question now is: Which charactes do I have to replace or how do I have to encode my characters, that they will be valid XML?\n", "I'm having a problem with my Seam code and I can't seem to figure out what I'm doing wrong.  It's doing my head in :)  Here's an excerpt of the stack trace:\nCaused by: java.lang.IllegalArgumentException: Can not set java.lang.Long field com.oobjects.sso.manager.home.PresenceHome.customerId to java.lang.String\n\nI'm trying to get a parameter set on my URL passed into one of my beans.  To do this, I've got the following set up in my pages.xml:\n<page view-id=\"/customer/presences.xhtml\">\n  <begin-conversation flush-mode=\"MANUAL\" join=\"true\" />\n  <param name=\"customerId\" value=\"#{presenceHome.customerId}\" />\n  <raise-event type=\"PresenceHome.init\" />\n  <navigation>\n    <rule if-outcome=\"persisted\">\n      <end-conversation />\n      <redirect view-id=\"/customer/presences.xhtml\" />\n    </rule>\n  </navigation>\n</page>\n\nMy bean starts like this:\n@Name(\"presenceHome\")\n@Scope(ScopeType.CONVERSATION)\npublic class PresenceHome extends EntityHome<Presence> implements Serializable {\n  @In\n  private CustomerDao customerDao;\n\n  @In(required = false)\n  private Long presenceId;\n\n  @In(required = false)\n  private Long customerId;\n\n  private Customer customer;\n\n  // Getters, setters and other methods follow. They return the correct types defined above\n}\n\nFinally the link I use to link one one page to the next looks like this:\n<s:link styleClass=\"#{selected == 'presences' ? 'selected' : ''}\"\n    view=\"/customer/presences.xhtml\" title=\"Presences\" propagation=\"none\">\n    <f:param name=\"customerId\" value=\"#{customerId}\" />\n    Presences\n</s:link>\n\nAll this seems to work fine.  When I hover over the link above in my page, I get a URL ending in something like \"?customerId=123\".  So the parameter is being passed over and it's something that can be easily converted into a Long type.  But for some reason, it's not.  I've done similar things to this before in other projects and it's worked then.  I just can't see what it isn't working now.\nIf I remove the  element from my page declaration, I get through to the page fine.\nSo, does anyone have any thoughts?\n", "This is a followup question of How to encode characters from Oracle to Xml?\nIn my environment here I use Java to serialize the result set to xml. I have no access to the output stream itself, only to a org.xml.sax.ContentHandler.\nWhen I try to output characters in a CDATA Section:\nIt happens basically like this:\nxmlHandler.startElement(uri, lname, \"column\", attributes);\nString chars = \"<![CDATA[\"+rs.getString(i)+\"]]>\";\nxmlHandler.characters(chars.toCharArray(), 0, chars.length());\nxmlHandler.endElement(uri, lname, \"column\");\n\nI get this:\n<column>&lt;![CDATA[33665]]&gt;</column>\n\nBut I want this:\n<column><![CDATA[33665]]></column>\n\nSo how can I output a CDATA section with a Sax ContentHandler?\n", "Ok, here's one for the Java/JavaScript gurus:\nIn my app, one of the controllers passes a TreeMap to it's JSP. This map has car manufacturer's names as keys and Lists of Car objects as values. These Car objects are simple beans containing the car's name, id, year of production etc.\nSo, the map looks something like this (this is just an example, to clarify things a bit):\nKey: Porsche\nValue: List containing three Car objects(for example 911,Carrera,Boxter with their respectable years of production and ids)\nKey: Fiat\nValue: List containing two Car objects(for example, Punto and Uno)\netc...\nNow, in my JSP i have two comboboxes. One should receive a list of car manufacturers(keys from the map - this part I know how to do), and the other one should dynamicaly change to display the names of the cars when the user selects a certain manufacturer from the first combobox. So, for example, user selects a \"Porsche\" in the first combobox, and the second immediately displays \"911, Carrera, Boxter\"...\nAfter spending a couple of days trying to find out how to do this, I'm ready to admit defeat. I tried out a lot of different things but every time I hit a wall somewehere along the way. Can anybody suggest how I should approach this one?\nYes, I'm a JavaScript newbie, if anybody was wondering...\n\nEDIT: I've retagged this as a code-challenge. Kudos to anybody who solves this one without using any JavaScript framework (like JQuery).\n", "I am working on developing an on-screen keyboard with java.  This keyboard has a JComponent for every possible key.  When a mouse down is detected on the button, I want to send a specific keyboard code to the application currently on focus.  The keyboard itself is within a JFrame with no decorations and set to always-on-top.\nI found that the Robot class can be used to simulate these keyboard events on the native queue.  However, in this case, selecting the JComponent would mean that the key-press is received on the JFrame, and I wouldn't be able to receive it in the other application\nHow can I keep my on-screen keyboard \"Always-without-focus\"? Is it maybe possible to use another approach to send the key-press? \n", "I'm looking for a good way to convert Office (mostly Microsoft) documents to PDF in Java. I've been looking at using the OpenOffice SDK but from the samples I've looked at it looks like this requires having OpenOffice running in server mode to do the work.\nDoes anyone know of a good way to do this? Good meaning the less external requirements, the better. A 100% Java API would be best, but I don't expect that actually exists.\n", "I have a JLabel (actually, it is a JXLabel).\nI have put an icon and text on it.\n<icon><text>\nNow I wand to add some spacing on the left side of the component, like this:\n<space><icon><text>\nI DON'T accept suggestion to move the JLabel or add spacing by modifying the image.\nI just want to know how to do it with plain java code.\n", "I'd like to limit the size of the file that can be uploaded to an application. To achieve this, I'd like to abort the upload process from the server side when the size of the file being uploaded exceeds a limit.\nIs there a way to abort an upload process from the server side without waiting the HTTP request to finish?\n", "Anybody knows how to do this? I got all the information of the email (body, subject, from , to, cc, bcc) and need to generate an .eml file out of it.\n", "I was reading this article about \"Double-Checked locking\" and out of the main topic of the article I was wondering why at some point of the article the author uses the next Idiom:  \n\nListing 7. Attempting to solve the out-of-order write problem  \npublic static Singleton getInstance()  \n{\n    if (instance == null)\n    {\n        synchronized(Singleton.class) {      //1\n            Singleton inst = instance;         //2\n            if (inst == null)\n            {\n                synchronized(Singleton.class) {  //3\n                    inst = new Singleton();        //4\n                }\n                instance = inst;                 //5\n            }\n        }\n    }\n    return instance;\n}\n\n\nAnd my question is: \nIs there any reason to synchronize twice some code with the same lock?\nHave this any purpose it?\nMany thanks in advance.\n", "How can this line in Java be translated to Ruby:\n    String className = \"java.util.Vector\";\n    ...\n    Object o = Class.forName(className).newInstance();  \nThanks!\n", "I have to work on an old 1.3 JVM and I'm asked to create a secure connection to another server. Unfortunately the HttpsURLConnection only appears sinc JVM 1.4. \nIs there another way to create a secure connection? Is there a library that I could you to add this fonctionnality?\n", "What is the benefit of using the servletContext as opposed the request in order to obtain a requestDispatcher?\nservletContext.getRequestDispatcher(dispatchPath)\n\nand using \nargRequest.getRequestDispatcher(dispatchPath)\n\n", "Imagine this sample java class:\nclass A {\n    void addListener(Listener obj);\n    void removeListener(Listener obj);\n}\n\nclass B {\n    private A a;\n    B() {\n        a = new A();\n        a.addListener(new Listener() {\n            void listen() {}\n        }\n }\n\nDo I need to add a finalize method to B to call a.removeListener?  Assume that the A instance will be shared with some other objects as well and will outlive the B instance.\nI am worried that I might be creating a garbage collector problem here.  What is the best practice?\n", "I have an array that is initialized like:\nElement[] array = {new Element(1), new Element(2), new Element(3)};\n\nI would like to convert this array into an object of the ArrayList class.\nArrayList<Element> arraylist = ???;\n\n", "Using the Sun Java VM 1.5 or 1.6 on Windows, I connect a non-blocking socket. I then fill  a ByteBuffer with a message to output, and attempt to write() to the SocketChannel.\nI expect the write to complete only partially if the amount to be written is greater than the amount of space in the socket's TCP output buffer (this is what I expect intuitively, it's also pretty much my understanding of the docs), but that's not what happens. The write() always seems to return reporting the full amount written, even if it's several megabytes (the socket's SO_SNDBUF is 8KB, much, much less than my multi-megabyte output message).\nA problem here is that I can't test the code that handles the case where the output is partially written (registering an interest set of WRITE to a selector and doing a select() to wait until the remainder can be written), as that case never seems to happen. What am I not understanding?\n", "Is there a way to validate on the client side browser whether the size of a file being uploaded from a JSP page is over a set size limit without forcing the user to upload the entire file only to find out it was too large?\nI would like to stay away from any proprietary controls or techniques like Flash or ActiveX if possible.\nThanks!\n", "I've been reading through a lot of the rookie Java questions on finalize() and find it kind of bewildering that no one has really made it plain that finalize() is an unreliable way to clean up resources.  I saw someone comment that they use it to clean up Connections, which is really scary since the only way to come as close to a guarantee that a Connection is closed is to implement try (catch) finally.  \nI was not schooled in CS, but I have been programming in Java professionally for close to a decade now and I have never seen anyone implement finalize() in a production system ever.  This still doesn't mean that it doesn't have its uses, or that people I've worked with have been doing it right.\nSo my question is, what use cases are there for implementing finalize() that cannot be handled more reliably via another process or syntax within the language?  \nPlease provided specific scenarios or your experience, simply repeating a Java text book, or finalize's intended use is not enough, and is not the intent of this question.\n", "I am starting a project for which we will have a thin client, sending requests and getting responses from a server.\nWe are still in the planning stages, so we have a choice to settle on either an Eclipse based GUI (Eclipse plugin) or using GWT as a fromtend for the application.\nI am not very familiar with Eclipse as a GUI (Nor with GWT) but do know 'normal' Java.\nWhat would be the main benefits and drawbacks of either approach?\nEdit: Addressing the questions posed:\n\nThe project, if Eclipse based, would be using the core Eclipse gui (No coding tools, just bare bones) and the GUI would be packaged with it.\nI have been looking at GWT and so far seems the best choice, but still have some research to do.\nCommunication method is a variant of CORBA (In house libraries)\n\n", "I need to remove temp files on Tomcat startup, the pass to a folder which contains temp files is in applicationContext.xml.\nIs there a way to run a method/class only on Tomcat startup?\n", "I have a temporary file with data that's returned as part of a SOAP response via a MTOM binary attachment.  I would like to trash it as soon as the method call \"ends\" (i.e., finishes transferring).  What's the best way for me to do this?  The best way I can figure out how to do this is to delete them when the session is destroyed, but I'm not sure if there's a more 'immediate' way to do this.\nFYI, I'm NOT using Axis, I'm using jax-ws, if that matters.\nUPDATE:  I'm not sure the answerers are really understanding the issue.  I know how to delete a file in java.  My problem is this:\n@javax.jws.WebService \npublic class MyWebService {\n...\n\n @javax.jws.WebMethod \n public MyFileResult getSomeObject() {\n   File mytempfile = new File(\"tempfile.txt\");\n   MyFileResult result = new MyFileResult();\n   result.setFile(mytempfile);  // sets mytempfile as MTOM attachment\n\n   // mytempfile.delete() iS WRONG\n   // can't delete mytempfile because it hasn't been returned to the web service  client\n   // yet.  So how do I remove it?\n\n   return result;\n }\n}\n\n", "I just stumbled upon MainSoft's Grasshopper, which claims to cross-compile .Net ILM to Java bytecode. It seems to use the Mono implementation of the .Net libraries. All of the samples refer to web apps, but my requirement would be to cross-compile a .Net API (class library) to a Java API so that Java clients can use the API. Does anyone have any experience of using Grasshopper, and can you you see any problems with my plan?\n", "I want to delete all directories and subdirectories under a root directory that are contain \"tmp\" in their names. This should include any .svn files too. My first guess is to use \n<delete>\n    <dirset dir=\"${root}\">\n          <include name=\"**/*tmp*\" />\n    </dirset>\n</delete>\n\nThis does not seem to work as you can't nest a dirset in a delete tag.\nIs this a correct approach, or should I be doing something else?\n\nant version == 1.6.5.\njava version == 1.6.0_04\n\n", "Let's say you have a function that returns a date:\nDate myFunc(paramA, paramB){\n   //conditionally return a date?\n}\n\nIs it appropriate to return null from this function?  This seems ugly because it forces clients to check for null.\nThe \"null object\" pattern is an implementation pattern that addresses this concern.\nI'm not a huge fan of the null object pattern, but yes, it makes sense to always return a list, even if is empty, rather than to return null.\nHowever, say in Java, a null date would be one that is cleared and has the year 1970.\nWhat is the best implementation pattern here?\n", "I need to parse a string like \"February 12, 1981\" as a Date. I use SimpleDateFormat. But if I do:\nnew SimpleDateFormat(\"MMMMM dd, yyyy\").parse(\"February 12, 1981\")\n\nI get java.text.ParseException.\nI tried to reduce it to see where the problem is. First:\nnew SimpleDateFormat(\"MMMMM\").parse(\"February\")\n\nworks. Then:\nnew SimpleDateFormat(\"MMMMM dd\").parse(\"February 12\")\n\ndoesn't work anymore. Anyone know why? I also tried new SimpleDateFormat(\"MMMMM' 'dd\").\nI'm using JRE 1.6.0_06.\n", "In Eclipse, its easy to specify buttons for your toolbar using the ActionSets extension point.  However, when I need to specify some items programmatically, I can't get the same look.  I don't believe that the framework is using native buttons for these, but so far, I can't find the right recipe to match the Eclipse look.  I wanted to see if anyone has found the right snippet to duplicate this functionality in code.\n", "I've organized my code so that the data is organized hierarchically.  I find myself crawling up the tree using code like the following:\nFile clientFolder = task.getActionPlan().getClientFile().getClient().getDocumentsFolder();\n\nNow, since I'm not drilling down into the task object, I'm drilling up to its parents, I don't think I'm loosing anything in terms of encapsulation, but there's a flag going off in the back of my mind telling me there's something dirty about doing it this way.\nThoughts?\n", "I'm writing some JNI code in C++ to be called from an applet on Windows XP.  I've been able to successfully run the applet and have the JNI library loaded and called, even going so far as having it call functions in other DLLs.  I got this working by setting up the PATH system environment variable to include the directory all of my DLLs are in.\nSo, the problem, is that I add another call that uses a new external DLL, and suddenly when loading the library, an UnsatisfiedLinkError is thrown.  The message is: 'The specified procedure could not be found'.  This doesn't seem to be a problem with a missing dependent DLL, because I can remove a dependent DLL and get a different message about dependent DLL missing.  From what I've been able to find online, it appears that this message means that a native Java function implementation is missing from the DLL, but it's odd that it works fine without this extra bit of code.\nDoes anyone know what might be causing this?  What kinds of things can give a 'The specified procedure could not be found' messages for an UnsatisifedLinkError?\n", "I'm trying to write a resolution selection dialog that pops up when a program first starts up. To prevent boring the user, I want to implement the fairly standard feature that you can turn off that dialog with a checkbox, but get it back by holding down the alt key at startup.\nUnfortunately, there is no obvious way to ask java whether a given key is currently being pressed. You can only register to be informed of new key presses via a KeyListener, but that doesn't help if the keypress starts before the app launches.\n", "I have a rather big number of source files that I need parse and extract all string literals and put them in a file as play old java constant.\nFor exemple:\nLabel l = new Label(\"Cat\");\n\nWould become:\nLabel l = new Label(Constants.CAT);\n\nAnd in Constants.java I would have:\npublic final static String CAT = \"Cat\";\n\nI do not want the strings to be externalized in a property text file.\nOne reason is for consistency and code readability.\nThe other is that our client code uses GWT, which does not support Java property text file mechanism.\nI could write some sort of parser (using ant replace task maybe)?\nBut I wondered if an IDE already does this sort of thing automatically.\n", "My group is a Perl shop in an organization that is very heterogenous.  Although we support the odd Java, PHP, or Python installation, we're using Perl for nearly all of our web applications and systems/data marshalling tasks.  All of our boxes are Linux, although we interface with IIS systems as well.\nWe're coming under some pressure from management to move to Java for at least some of our work.  I'd like to use the right tool for the right task, but for our work, and due to our collective experience, Perl seems like the right tool for everything.\nMy initial thought is to use Java for applications that are open to the organization at large, since there is more Java mindshare out there than Perl.  \nDoes anyone have similar experience?  If I'm given the choice, what kinds of tasks should we start with applying Java?  What kinds of tasks should we insist on sticking with Perl?  Does it make any difference?  Why or why not?\n", "I personally like the 'exclusive or' operator when it makes sense in context of boolean checks because of its conciseness.  I much prefer to write\nif (boolean1 ^ boolean2)\n{\n  //do it\n}\n\nthan\nif((boolean1 && !boolean2) || (boolean2 && !boolean1))\n{\n  //do it\n}\n\nbut I often get confused looks (from other experienced java developers, not just the newbies), and sometimes comments about how it should only be used for bitwise operations.  I'm curious as to the best practices others use around the '^' operator.\n", "What Abstract Datatypes should be added to OpenJDK7 ?\n", "If I have two variables:\nObject obj;\nString methodName = \"getName\";\n\nWithout knowing the class of obj, how can I call the method identified by methodName on it?\nThe method being called has no parameters, and a String return value. It's a getter for a Java bean.\n", "I have the following problem.\nMy tomcat 5.5 based web application is using a trust store to verify SSL connections.\nThe application allows the user to add or remove CA certificates to be used in the verification process.\nHowever, adding or removing certificates from the trust store doesn't change a thing. The application 'recognizes' only the certificates that were in the trust store when tomcat started. For it to recognize the new set of certificates, I need to restart tomcat.\nThis is not a valid solution, however.\nWhat I do need is a code based solution.\nPlease advice.\n", "Hibernate has a handful of methods that, one way or another, takes your object and puts it into the database. What are the differences between them, when to use which, and why isn't there just one intelligent method that knows when to use what?\nThe methods that I have identified thus far are:\n\nsave()\nupdate()\nsaveOrUpdate()\nsaveOrUpdateCopy()\nmerge()\npersist()\n\n", "Is there a way of forcing a (child) class to have constructors with particular signatures or particular static methods in C# or Java?\nYou can't obviously use interfaces for this, and I know that it will have a limited usage. One instance in which I do find it useful is when you want to enforce some design guideline, for example:\nExceptions\nThey should all have the four canonical constructors, but there is no way to enforce it. You have to rely on a tool like FxCop (C# case) to catch these.\nOperators\nThere is no contract that specifies that two classes can be summed (with operator+ in C#)\nIs there any design pattern to work around this limitation?\nWhat construct could be added to the language to overcome this limitation in future versions of C# or Java?\n", "I'm using org.w3c XML API to open an existing XML file. I'm removing some nodes , and I'm adding others instead.\nThe problem is that the new nodes that are added are written one after the other, with no newline and no indentation what so ever. While it's true that the XML file is valid , it is very hard for a human to examine it.\nIs there anyway to add indentation , or at least a newline after each node?\n", "How should I configure the class to bind three dropdowns (date, month, year) to a single Date property so that it works the way it works for 'single request parameter per property' scenario ?\nI guess a should add some custom PropertyEditors by overriding initBinder method. What else ?\n", "I've been reading Skype4Java (java api for skype) and noticed they use jni to access the skype client.\nintuitively I'd assume that there already is a standard library in java that has an  OS-sensitive jni implementation to access other processes. I set up to look for one, but couldn't find it.\nIs there such a library? if not, is there a best practice to access another process in the os, not necessarily a skype client?\n", "I need to get the Class of an object at runtime.\nFor an non-abstract class I could do something like:\npublic class MyNoneAbstract{\n    public static Class MYNONEABSTRACT_CLASS = new MyNoneAbstract().getClass();\n\nBut for an abstract class this does NOT work (always gives me Object)\npublic abstract class MyAbstract{\n    public static Class MYABSTRACT_CLASS = MyAbstract.class.getClass();\n\nThis code will be running in JavaME environments.\n", "Should methods in a Java interface be declared with or without the public access modifier?\nTechnically it doesn't matter, of course. A class method that implements an interface is always public. But what is a better convention?\nJava itself is not consistent in this. See for instance Collection vs. Comparable, or Future vs. ScriptEngine.\n", "I'd like to invoke bash using a string as input. Something like:\nsh -l -c \"./foo\"\n\nI'd like to do this from Java. Unfortunately, when I try to invoke the command using getRuntime().exec,  I get the following error: \n      foo\": -c: line 0: unexpected EOF while looking for matching `\"'\n\n      foo\": -c: line 1: syntax error: unexpected end of file\n\nIt seems to be related to my string not being terminated with an EOF. \nIs there a way to insert a platform specific EOF into a Java string? Or should I be looking for another approach, like writing to a temp script before invoking \"sh\" ?\n", "I'm reading data from a table( from a MySQL Database) with Hibernate SQL Query.\nThe thing is, the table contains a colum that is mapped to a char in Hibernate Model, and sometimes this column is empty.\nAnd I suppose this is where my exception comes from.\nHow can I map a colum of char to my hibernate model without getting this error ?\nThanks for your answers !\n\nThank you for your answer !\nMy column is not nullable (I 'm using MySQL and this column is NOT NULL)\nThen, I don't think that \nif (str == null) {\n\nis appropriate.\nthe error is : \n15:30:35,289  INFO CharacterType:178 - could not read column value from result set: LSFUS11_20_; String index out of range: 0\n\nwhich results in the following exception  :\njava.lang.StringIndexOutOfBoundsException: String index out of range: 0\n    at java.lang.String.charAt(String.java:558)\n\nI think I may try your solution, but with : \nif (str == \"\") {\n\nsince it can't be null, it's just an empty String.\nThanks for your piece code, I'm going to try that  !\n", "We have the usual web.xml for our web application which includes some jsp and jsp tag files.  I want to switch to using pre-compiled jsp's.  I have the pre-compilation happening in the build ok, and it generates the web.xml fragment and now I want to merge the fragment into the main web.xml.\nIs there an include type directive for web.xml that will let me include the fragment.  \nIdeally I will leave things as is for DEV- as its useful to change jsp's on the fly and see the changes immediately but then for UAT/PROD, the jsp's will be pre-compiled and thus work faster.\n", "When used like this:\nimport static com.showboy.Myclass;\n\npublic class Anotherclass{}\n\nwhat's the difference between import static com.showboy.Myclass and import com.showboy.Myclass?\n", "What role is Spring taking in Struts + Spring + Hibernate?\n", "There is a select dropdown and I want to add \"No selection\" item to the list wich should give me 'null' when submitted.\nI'm using SimpleFormController derived controller.\nprotected Map referenceData(HttpServletRequest httpServletRequest, Object o, Errors errors) throws Exception {\n    Map<String, Object> map = new HashMap<String, Object>();\n\n    map.put(\"countryList\", Arrays.asList(Country.values()));\n\n    return map;\n}\n\nAnd the jspx part is\n<form:select path=\"country\" items=\"${countryList}\" title=\"country\"/>\n\nOne possible solution seems to be in adding a null value to the beginning of the list and then using a custom PropertyEditor to disply this 'null' as 'No selection'.\nIs there a better solution?\n@Edit: I have solved this with a custom validation annotation which checks if the selected value is \"No Selection\". Is there a more standard and easier solution?\n", "What tools do you use to find unused/dead code in large java projects? Our product has been in development for some years, and it is getting very hard to manually detect code that is no longer in use. We do however try to delete as much unused code as possible.\nSuggestions for general strategies/techniques (other than specific tools) are also appreciated.\nEdit: Note that we already use code coverage tools (Clover, IntelliJ), but these are of little help. Dead code still has unit tests, and shows up as covered. I guess an ideal tool would identify clusters of code wich have very little other code depending on it, allowing for docues manual inspection.\n", "We have some COBOL programs running on our mainframe and we need one of those to communicate with our back end vault through a Java API. Is there any way a Cobol program can invoke the Java program?\nWould it be possible to use a Web Service from Cobol? How would I integrate a Cobol program with anything else?\n", "I've executed a JDBC query to obtain a resultset. Before iterating over it, I'd like to quickly find out how many rows were returned. How can I do this with high performance?\nI'm using Java 6, Oracle 11g, and the latest Oracle JDBC drivers.\n", "I'm using Enunciate to build a prototype REST api and need to include a jar containing custom code as a library.\nMy Ant Script looks like this:\n\n<!--include all jars-->\n<path id=\"en.classpath\">\n    <fileset dir=\"${lib}\">\n        <include name=\"**/*.jar\" />\n    </fileset>\n</path>\n\n<!--define the task-->\n<taskdef name=\"enunciate\" classname=\"org.codehaus.enunciate.main.EnunciateTask\">\n    <classpath refid=\"en.classpath\" />\n</taskdef>\n\n<mkdir dir=\"${dist}\" />\n\n<enunciate dir=\"${src}\" configFile=\"${basedir}/enunciate.xml\">\n    <include name=\"**/*.java\" />\n    <classpath refid=\"en.classpath\"/>\n    <export artifactId=\"spring.war.file\" destination=\"${dist}/${war.name}\" />\n</enunciate>\n\n\nThe problem is that my custom jar is being excluded from the WAR file.  It is necessary to compile the enunciate annotated classes so the jar is obviously on the classpath at compile time but enunciate is failing to include it in the distribution.  I have also noticed that several of the jars needed by enunciate are not being included in the WAR file.\nWhy are they being excluded and how do I fix it?\n", "If I can do this, how do I call Java code (methods for instance) from within JavaScript code, in Wicket. \n", "I'm developing a an eclipse plugin that uses an SWT interface.  I need to display text, and within that text there needs to be links.  The only two widgets that I've found that will allow me to include clickable links in text are Link and Browser.  Browser, however, is overkill for my needs, and I couldn't properly customize the look of it.  This only leaves the Link widget.\nThe problem is I need the Link widget to inherit a gradient from the Composite in which it is in.  It does this correctly, only when it is resized or scrolled the Link component flickers.  The Link is the only component in which I have seen this effect.\nIn an attempt to fix this I've tried manipulating other components into having clickable links, but I haven't found a good solution yet.\nIs there anyway to fix the flickering effect on the Link, or is there a different component which would support links?\nThanks,\nBrian\n", "I am looking for a toolkit that will allow me to design widgets containing 2D graphics for an elevator simulation in Java. Once created, those widgets will be integrated with SWT, Swing, or QtJambi framework.\nBackground information: \nI am developing an Elevator Simulator for fun. My main goal is to increase my knowledge of Java, Eclipse IDE, and more importantly concurrency. It is certainly fun and I enjoyed implementing this State Machine Pattern.\nAnyway, I am at a point where I would like to see the Elevator on the screen and not limit myself to log its operations on the console. \nI will probably choose SWT, Swing, or QtJambi for the UI controls but I am wondering what to do with the graphical part of the simulation.\n", "I use RegexBuddy while working with regular expressions. From its library I copied the regular expression to match URLs. I tested successfully within RegexBuddy. However, when I copied it as Java String flavor and pasted it into Java code, it does not work. The following class prints false: \npublic class RegexFoo {\n\n    public static void main(String[] args) {\n        String regex = \"\\\\b(https?|ftp|file)://[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|]\";\n        String text = \"http://google.com\";\n        System.out.println(IsMatch(text,regex));\n}\n\n    private static boolean IsMatch(String s, String pattern) {\n        try {\n            Pattern patt = Pattern.compile(pattern);\n            Matcher matcher = patt.matcher(s);\n            return matcher.matches();\n        } catch (RuntimeException e) {\n        return false;\n    }       \n}   \n}\n\nDoes anyone know what I am doing wrong?\n", "I have the following code that won't compile and although there is a way to make it compile I want to understand why it isn't compiling. Can someone enlighten me as to specifically why I get the error message I will post at the end please?\npublic class Test {\n    public static void main(String args[]) {\n        Test t = new Test();\n        t.testT(null);\n    }\n\n    public <T extends Test> void testT(Class<T> type) {\n        Class<T> testType = type == null ? Test.class : type; //Error here\n        System.out.println(testType);\n    }\n}\n\nType mismatch: cannot convert from Class<capture#1-of ? extends Test> to Class<T>\nBy casting Test.class to Class<T> this compiles with an Unchecked cast warning and runs perfectly.\n", "Is there a way to use Enum values inside a JSP without using scriptlets.\ne.g. \npackage com.example;\n\npublic enum Direction {\n    ASC,\n    DESC\n}\n\nso in the JSP I want to do something like this\n<c:if test=\"${foo.direction ==<% com.example.Direction.ASC %>}\">...\n\n", "As a follow-up to another question, I was wondering what would be the best way to use SVG in a Java project.\n", "I'm working on a configuration script for a JNI wrapper. One of the configuration parameters is the path to jni.h. What's a good quick-and-dirty Autoconf test for whether this parameter is set correctly for C++ compilation? You can assume you're running on Linux and g++ is available.\nAlternatively, is there a way to get javah (or a supporting tool) to give me this path directly?\n", "A co worker of mine asked me to review some of my code and he sent me a diff file.  I'm not new to diffs or version control in general but the diff file was very difficult to read because of the changes he made.  Specifically, he used the \"extract method\" feature and reordered some methods.  Conceptually, very easy to understand but looking at the diff, it was very hard to tell what he had done.  It was much easier for me to checkout the previous revision and use Eclipse's \"compare\" feature, but it was still quite clunky.\nIs there any version control system that stores metadata related to refactoring.  Of course, it would be IDE and Programming Language specific, but we all use Eclipse and Java!  Perhaps there might be some standard on which IDEs and version control implementations can play nicely?\n", "Is there any built-in functionality for classical set operations on the java.util.Collection class? My specific implementation would be for ArrayList, but this sounds like something that should apply for all subclasses of Collection. I'm looking for something like:\nArrayList<Integer> setA ...\nArrayList<Integer> setB ...\nArrayList<Integer> setAintersectionB = setA.intersection(setB);\nArrayList<Integer> setAminusB = setA.subtract(setB);\n\nAfter some searching, I was only able to find home-grown solutions. Also, I realize I may be confusing the idea of a \"Set\" with the idea of a \"Collection\", not allowing and allowing duplicates respectively. Perhaps this is really just functionality for the Set interface?\nIn the event that nobody knows of any built-in functionality, perhaps we could use this as a repository for standard practice Java set operation code? I imagine this wheel has been reinvented numerous times.\n", "When designing a collection class, is there any reason not to implement locking privately to make it thread safe? Or should I leave that responsibility up to the consumer of the collection?\n", "I'm trying to write a Selenium test for a web page that uses an onbeforeunload event to prompt the user before leaving. Selenium doesn't seem to recognize the confirmation dialog that comes up, or to provide a way to hit OK or Cancel. Is there any way to do this? I'm using the Java Selenium driver, if that's relevant.\n", "When creating reports using BIRT 2.3.1, I don't want page breaks inside tables or groups; if the table doesn't fit in the space available at the page, I want to put the entire element in the next page. \nUsing previous versions of BIRT it was possible to set pageBreakInside to \"avoid\", but it didn't work. In BIRT 2.3.1 this (useless) option was removed, since it wasn't implemented correctly. \n", "I'm playing around with BCEL.  I'm not using it to generate bytecode, but instead I'm trying to inspect the structure of existing compiled classes.\nI need to be able to point to an arbitrary .class file anywhere on my hard drive and load a JavaClass object based on that.  Ideally I'd like to avoid having to add the given class to my classpath.\n", "I'm working on a project where we're doing a lot of remote object transfer between a Java service and clients written in other various languages. Given our current constraints I've decided to see what it would take to generate code based on an existing Java class. Basically I need to take a .class file (or a collection of them) parse the bytecode to determine all of the data members and perhaps getters/setters and then write something that can output code in a different language to create a class with the same structure.\nI'm not looking for standard decompilers such as JAD. I need to be able to take a .class file and create an object model of its data members and methods. Is this possible at all?\n", "Does anyone know the root cause of this error?  I am feeding known good data to the fmt:parseDate tag (its db driven data controlled by us), and yet this error randomly pops up.  I can't seem to find a way to replicate what causes this exception.\n", "How can I write from Java to the Windows Event Log?\n", "This is an excerpt of code from a class I am working with in Java (below). Obviously the code is defining a static variable named EPSILON with the data type double. What I don't understand is the \"1E-14\" part. What kind of number is that? What does it mean?\nfinal double EPSILON = 1E-14;\n", "I'm failing to understand exactly what the IF statement is doing, from what I can see it is checking if the variable x is equal to the int 0. If this is true the ABSOLUTE value of the variable y is returned... this is when I lose the plot, why would the return statement then go on to include <= ESPILON? Surely this means less than or equal to the value of epsilon? if so how is that working? If it doesn't mean that then what does it mean?\n(JAVA CODE)\nfinal double EPSILON = 1E-14;\nif (x == 0)\n    return Math.abs(y) <= EPSILON;\n\n", "I've been working on porting some of my Processing code over to regular Java in NetBeans. So far so well, most everything works great, except for when I go to use non-grayscale colors. \nI have a script that draws a spiral pattern, and should vary the colors in the spiral based on a modulus check. The script seems to hang, however, and I can't really explain why.\nIf anyone has some experience with Processing and Java, and you could tell me where my mistake is, I'd really love to know.\nFor the sake of peer-review, here's my little program:\npackage spirals;\nimport processing.core.*;\n\npublic class Main extends PApplet\n{\n    float x, y;\n    int i = 1, dia = 1;\n\n    float angle = 0.0f, orbit = 0f;\n    float speed = 0.05f;\n\n    //color palette\n    int gray = 0x0444444;\n    int blue = 0x07cb5f7;\n    int pink = 0x0f77cb5;\n    int green = 0x0b5f77c;\n\n    public Main(){}\n\n    public static void main( String[] args )\n    {\n        PApplet.main( new String[] { \"spirals.Main\" } );\n    }\n\n    public void setup()\n    {\n        background( gray );\n        size( 400, 400 );\n        noStroke();\n        smooth();\n    }\n\n    public void draw()\n    {\n        if( i % 11 == 0 )\n            fill( green );\n        else if( i % 13 == 0 )\n            fill( blue );\n        else if( i % 17 == 0 )\n            fill( pink );\n        else\n            fill( gray );\n\n        orbit += 0.1f; //ever so slightly increase the orbit\n        angle += speed % ( width * height );\n\n        float sinval = sin( angle );\n        float cosval = cos( angle );\n\n        //calculate the (x, y) to produce an orbit\n        x = ( width / 2 ) + ( cosval * orbit );\n        y = ( height / 2 ) + ( sinval * orbit );\n\n        dia %= 11; //keep the diameter within bounds.\n        ellipse( x, y, dia, dia );\n        dia++;\n        i++;\n    }\n}\n\n", "Some of the other questions and answers here on SO extol the virtues of using an enterprise repository tool like Archiva, Artifactory, or Nexus. What are the pros and cons of each? How do I choose between them?\nIn case it helps:\n\nWe use both Maven 1 and Maven 2 (at least for a while)\nWe want to store both internally-generated artifacts, publicly-available ones (ibiblio, codehaus, etc.), and proprietary ones (e.g. Sun's licensed JARs like the Servlet API).\nWe would like something that runs on Windows, Linux, or both.\nWe use Luntbuild as our CI server (but intend moving to Hudson some time).\n\nN.B. this question is not a duplicate of either this one or this one.\n", "Hey peoples, I've been studying Java for a couple of weeks, and have decided to produce my own version of Breakout. The game is working fine, apart from the method which is supposed to modify the ball (GOval) speed based on the speed of the paddle (GRect). Anyway, this is  the method:\nprivate double paddleVelocity(){\n            double paddleTracker=(paddleXTracker+paddleXTrackerTwo+paddleXTrackerThree)/3; //get the average x-coordinate for the paddle\n            if(loopCounter>3){ //if the game has been through the loop more than three times (to ensure three x-coordinates have been stored)\n                paddleVelocity=(paddle.getX()-paddleTracker)/50; //set paddleVelocity to the current paddle x-coordinate minus the average of the previous three paddle x-coordinates (which therefore finds the velocity and direction)\n            }else{\n                paddleVelocity=(paddle.getX()-paddleXTracker)/50; //takes the previous paddle x-coordinate and subtracts it from the current x-coordinate (which therefore finds the velocity and direction)\n            }\n\n            return (paddleVelocity);\n        }\n\nAnd this is the method that calls it:\n            private void detectCollisionPaddle(){;\n                double ballY = ball.getY()+(BALL_RADIUS*2);\n                if(paddle.getY()<=ballY && ball.getX()+BALL_RADIUS>=paddle.getX() && ball.getX()+BALL_RADIUS/2<=(paddle.getX()+PADDLE_WIDTH)){ //a mess of code which ensures the ball is within the bounds of the paddle\n                    yVel=-yVel; //make the ball bounce off\n                    bounceClip.play(); //play the bounce clip\n                    xVel=xVel+paddleVelocity(); //increase the velocity of the ball in the direction and speed of the paddle\n} }\n\nThe instance variables include:\nprivate int loopCounter; //how many loops of the game code have been executed\nprivate double paddleVelocity; //velocity of the paddle\nprivate double paddleXTracker = 1; //value of the x-coordinate of the paddle one loop previous\nprivate double paddleXTrackerTwo; //value of the x-coordinate of the paddle two loops previous\nprivate double paddleXTrackerThree; //value of the x-coordinate of the paddle three loops previous\nprivate double yVel = -1; //y velocity of the ball\nprivate double xVel = 1; //x velocity of the ball\n\nBasically I want paddleVelocity to grab three consecutive x-coordinates of the paddle, and  compare them to the current position (paddle.getX()). This allows me to determine the speed and direction that the user has moved the paddle. I then return the result (paddleVelocity) which is supposed to add to the current velocity of the ball (xVel). However, this doesn't seem to function properly. When the call for paddleVelocity() is removed, the code works perfectly (albeit without acceleration). So I know there's an issue with the paddleVelocity method. It seems to be biased to the right side. Perhaps you guys can help, afterall, this is my first serious attempt at programming. Here's the game atm: http://cyb3rglitch.com/games/Glitchout_0.1/\nYes, the bricks don't break yet. :P Cheers!\nEDIT: To make it easier, here's all the code in its messy glory:\n/*\n * File: Breakout.java\n * -------------------\n * Name: Vito Cassisi\n */\n\nimport acm.graphics.*;\nimport acm.program.*;\nimport acm.util.*;\n\nimport java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Breakout extends GraphicsProgram {\n\n/** Width and height of application window in pixels */\n    public static final int APPLICATION_WIDTH = 400;\n    public static final int APPLICATION_HEIGHT = 600;\n\n/** Dimensions of game board (usually the same) */\n    private static final int WIDTH = APPLICATION_WIDTH;\n    private static final int HEIGHT = APPLICATION_HEIGHT;\n\n/** Dimensions of the paddle */\n    private static final int PADDLE_WIDTH = 60;\n    private static final int PADDLE_HEIGHT = 10;\n\n/** Offset of the paddle up from the bottom */\n    private static final int PADDLE_Y_OFFSET = 30;\n\n/** Number of bricks per row */\n    private static final int NBRICKS_PER_ROW = 10;\n\n/** Number of rows of bricks */\n    private static final int NBRICK_ROWS = 10;\n\n/** Separation between bricks */\n    private static final int BRICK_SEP = 4;\n\n/** Width of a brick */\n    private static final int BRICK_WIDTH =\n      (WIDTH - (NBRICKS_PER_ROW - 1) * BRICK_SEP) / NBRICKS_PER_ROW;\n\n/** Height of a brick */\n    private static final int BRICK_HEIGHT = 8;\n\n/** Radius of the ball in pixels */\n    private static final int BALL_RADIUS = 10;\n\n/**Ball speed in milliseonds*/\n    private static final int DELAY = 10;\n\n/** Offset of the top brick row from the top */\n    private static final int BRICK_Y_OFFSET = 70;\n\n/** Number of turns */\n    private static final int NTURNS = 3;\n\n    private static final int COUNTDOWN = 200;\n\n    private GOval ball;\n    private GRect paddle;\n    private GRect block;\n    private GLabel life;\n    private GLabel countDown;\n    private GObject getObject;\n    AudioClip bounceClip = MediaTools.loadAudioClip(\"bounce.au\");\n\n/* Method: run() */\n/** Runs the Breakout program. */\n    public void run() {\n        drawBlocks();\n        drawPaddle();\n        drawBall();\n        drawLife();\n        addMouseListeners();\n\n        while(!lose) {\n            detectCollisionWall();\n            detectCollisionBlock();\n            detectCollisionPaddle();\n            decelerate();\n            assignPaddleTrackers();\n            pause(DELAY);\n            loopCounter++;\n        }\n        GLabel youLose = new GLabel(\"You lose!\",APPLICATION_WIDTH/2,APPLICATION_HEIGHT/2);\n        youLose.setLocation((getWidth()-youLose.getWidth())/2, (getHeight()-youLose.getAscent())/2);\n        add(youLose);\n    }   \n        private void drawBlocks(){\n        /**Draw as many rows as defined in the constant 'NBRICKS_PER_ROW'*/ \n            for(int i = 0;i<NBRICK_ROWS;i++){\n                blockX=(APPLICATION_WIDTH-((BRICK_WIDTH+BRICK_SEP)*NBRICKS_PER_ROW))/2; //center the blocks horizontally\n                drawRow(); //draw the row\n                blockY+=BRICK_HEIGHT+BRICK_SEP; //move the row down\n            }\n        }\n\n        private void drawRow(){\n        /**Draw as many bricks as defined in the constant 'NBRICKS_PER_ROW'*/   \n            for(int i = 0;i<NBRICKS_PER_ROW;i++){\n                block = new GRect(blockX,blockY,BRICK_WIDTH,BRICK_HEIGHT); //initialise the blocks\n                add(block); //draw the blocks\n                blockX+=BRICK_WIDTH+BRICK_SEP; //move x co-ordinate across\n            }\n        }\n\n        private void drawPaddle(){\n            paddle = new GRect((APPLICATION_WIDTH-PADDLE_WIDTH)/2,(APPLICATION_HEIGHT-PADDLE_Y_OFFSET-PADDLE_HEIGHT),PADDLE_WIDTH, PADDLE_HEIGHT);\n            add(paddle);\n        }\n\n        private void drawBall(){\n            double diameter = BALL_RADIUS*2;\n            ball = new GOval((APPLICATION_WIDTH-diameter)/2,APPLICATION_HEIGHT-PADDLE_Y_OFFSET-PADDLE_HEIGHT*2-diameter,diameter,diameter);\n            add(ball);\n        }\n\n        private void moveBall(){\n\n            ball.move(xVel, yVel);\n        }\n\n        private void detectCollisionWall(){\n            if(ball.getY()+(BALL_RADIUS*2)<getHeight() && ball.getY()>0 && ball.getX()+(BALL_RADIUS*2)<getWidth() && ball.getX()>0){\n                moveBall();\n            }\n            if(ball.getY()+(BALL_RADIUS*2)>getHeight()){\n                yVel=-yVel;\n                turnsLeft--;\n                testForLose();\n                bounceClip.play();\n            }\n            if(ball.getY()<0){\n                yVel=-yVel;\n                bounceClip.play();\n            }\n            if(ball.getX()+(BALL_RADIUS*2)>=getWidth()){\n                xVel=-xVel;\n                bounceClip.play();\n            }\n            if(ball.getX()<=0){\n                xVel=-xVel;\n                bounceClip.play();\n            }\n            moveBall();\n        }\n\n        private void testForLose(){\n            if(turnsLeft==0){\n                lose=true;\n                life.setLabel(\"You have \"+turnsLeft+\" lives!\");\n                return;\n            }\n            life.setLabel(\"You have \"+turnsLeft+\" lives!\");\n            remove(ball);\n            drawBall();\n            xVel=1;\n            yVel=-1;\n            drawCountDown();\n        }\n\n        private void drawCountDown(){\n            GLabel countDown = new GLabel(\"\",APPLICATION_WIDTH/2,APPLICATION_HEIGHT/2);\n            for(int i=3;i>0;i--){\n                countDown.setLabel(\"Respawn in: \"+i);\n                countDown.setLocation((getWidth()-countDown.getWidth())/2, (getHeight()-countDown.getAscent())/2);\n                add(countDown);\n                pause(COUNTDOWN);\n            }\n            countDown.setLabel(\"Go\");\n            countDown.setLocation((getWidth()-countDown.getWidth())/2, (getHeight()-countDown.getAscent())/2);\n            pause(COUNTDOWN);\n            remove(countDown);\n        }\n\n        private void drawLife(){\n            life = new GLabel(\"You have \"+turnsLeft+\" lives!\", APPLICATION_WIDTH/2,15);\n            life.setLocation((getWidth()-life.getWidth())/2, 20);\n            add(life);\n        }\n\n        private void detectCollisionBlock(){\n            GObject collisionObject = detectObject(ball, BALL_RADIUS*2, BALL_RADIUS*2);\n            if(collisionObject==block){\n                remove(collisionObject);\n                yVel=-yVel;\n            }\n        }\n\n        private double paddleVelocity(){\n            double paddleTracker=(paddleXTracker+paddleXTrackerTwo+paddleXTrackerThree)/3;\n            if(loopCounter>3){\n                paddleVelocity=(paddle.getX()-paddleTracker)/50;\n                //paddleXTracker=paddle.getX();\n            }else{\n                paddleVelocity=(paddle.getX()-paddleXTracker)/50;\n            }\n\n            return (paddleVelocity);\n        }\n\n        private void detectCollisionPaddle(){;\n            double ballY = ball.getY()+(BALL_RADIUS*2);\n            //double ballX = ball.getX()+(BALL_RADIUS*2);\n            /*if(ball.getY()+BALL_RADIUS*2>=paddle.getY() && ball.getX()+BALL_RADIUS*2>=paddle.getX() && ball.getX()<=paddle.getX()){\n                ball.setLocation(ball.getX(),paddle.getY()-BALL_RADIUS*2-1);\n            }*/\n            if(paddle.getY()<=ballY && ball.getX()+BALL_RADIUS>=paddle.getX() && ball.getX()+BALL_RADIUS/2<=(paddle.getX()+PADDLE_WIDTH)){\n                yVel=-yVel;\n                bounceClip.play();\n                xVel=xVel+paddleVelocity();\n            /*\n            int x = 4;\n            int center = PADDLE_WIDTH/2;\n            double parts=center/x;\n            int location=0;\n            if(ball.getX()+BALL_RADIUS*2>paddle.getX()&& ball.getX()<paddle.getX()+PADDLE_WIDTH){\n            for(int i = 0;i<x;i++){\n                if (ball.getX()<center+paddle.getX() && ball.getX()>(parts*i)+paddle.getX()){\n\n                }else{\n                    location = i;\n                    break;  \n                }\n\n            }\n            xVel=x/location;\n            }\n            }\n            //\n\n            if(ball.getX()+BALL_RADIUS<paddle.getX()+PADDLE_WIDTH/4){\n                if(xVel!=1){\n                    if(xVel<0)\n                    {\n                        xVel=xVel-1;\n                    }else{\n                        xVel=-xVel-1;\n                    }\n                }\n            }\n            if (ball.getX()>paddle.getX()+(PADDLE_WIDTH-PADDLE_WIDTH/4)){\n                if(xVel>0){\n                    xVel=xVel+1;\n                }else{\n                    xVel=-xVel+1;\n                }\n            }\n            if (ball.getX()<paddle.getX()+(PADDLE_WIDTH-PADDLE_WIDTH/4) && ball.getX()+BALL_RADIUS>paddle.getX()+PADDLE_WIDTH/4){\n                if(xVel>1){\n                    xVel=xVel-1;\n                }\n                if(xVel<-1){\n                    xVel=xVel+1;\n                }\n            }\n            */\n            }\n\n\n        }\n\n        public void mouseMoved(MouseEvent e){\n            paddle.move((e.getX()-paddle.getX()-PADDLE_WIDTH/2),0);\n        }\n\n        /*Passes in an object to be checked, i.e. the ball, and asks for it's height and width. It returns the object if one is present, otherwise it retuns null.**/\n        private GObject detectObject(GObject object, int width, int height){\n            double right = object.getX()+width;\n            double bottom = object.getY()+height;\n            getObject = getElementAt(object.getX(),object.getY());\n\n            if(getObject==null){\n                getObject = getElementAt(right,object.getY());\n            }else{\n                return getObject;\n            }\n\n            if(getObject==null){\n                getObject = getElementAt(object.getX(),bottom);\n            }else{\n                return getObject;\n            }\n\n            if(getObject==null){\n                getObject = getElementAt(right,bottom);\n            }else{\n                return getObject;\n            }\n\n            if(getObject==null){\n            return null;\n            }else{\n                return getObject;\n            }\n\n        }\n\n        private void decelerate(){\n            if(xVel<-1){\n                xVel=xVel+0.01;\n            }\n            if(xVel>1){\n                xVel=xVel-0.01;\n            }\n        }\n\n        private void assignPaddleTrackers(){\n            paddleXTrackerThree=paddleXTrackerTwo;\n            paddleXTrackerTwo=paddleXTrackerThree;\n            paddleXTracker=paddle.getX();\n        }\n\n    private int loopCounter;\n    private double paddleVelocity;\n    private double paddleXTracker = 1;\n    private double paddleXTrackerTwo;\n    private double paddleXTrackerThree;\n    private double yVel = -1;\n    private double xVel = 1;\n    private int turnsLeft = NTURNS;\n    private int blockY = BRICK_Y_OFFSET;\n    private int blockX = 0;\n    private static boolean lose = false;\n    private RandomGenerator rgen = RandomGenerator.getInstance();\n\n}\n\n", "what does it mean by value semantics and what is mean by implicit pointer semantics?\n", "So most Java resources when speaking of packages mention a com.yourcompany.project setup. However, I do not work for a company, and don't have a website. Are there any naming conventions that are common? An email address, perhaps?\n", "Is there any substantial difference between those two terms?. I understand that JDK stands for Java Development Kit that is a subset of SDK (Software Development Kit). But specifying Java SDK, it should mean the same as JDK.\n", "what is the best way of displaying/using the revision number in a java webapp?\nwe just use ant to build our .war archive, no buildserver or such. i'd hope there was some kind if $ref that i could write in a resource file, but this is only updated when the file in question is committed. i need it globally.\nwhat would you recommend? post-commit triggers that update certain files?\ncustom ant scripts? is there a more non-hacky way of doing this?\nor it it better to have my own version number independent of svn.\nedit: great suggestions! thanks a lot for the answers!\n", "I need to zip and password-protect a file. Is there a good (free) library for this?\nThis needs to be opened by a third party, so the password protection needs to work with standard tools.\n", "I have a the following scenarios. I am trying to calculate throughput of the java's XSLT transformer. I have 10 threrads, each iterates 1000 times. The task of the thread is to read the XML and XSLT file and trasnform it and write to a new file. \nI want to calculate the TPS. Can you please suggest the way to calculate TPS?\nThanks and Regards,\nSrinivas.\n", "I was wondering if it would be possible to retrieve the complete list of security roles defined in a web.xml file in the java code? And if so how to do it?\nI am aware of the 'isUserInRole' method but I also want to handle cases where a role is requested but not defined (or spelled differently) in the web.xml file.\n", "Suppose I have a base class B, and a derived class D.  I wish to have a method foo() within my base class that returns a new object of whatever type the instance is.  So, for example, if I call B.foo() it returns an object of type B, while if I call D.foo() it returns an object of type D; meanwhile, the implementation resides solely in the base class B.\nIs this possible?\n", "Is it possible to have a different set of dependencies in a maven pom.xml file for different profiles?\ne.g.\nmvn -P debug\nmvn -P release\n\nI'd like to pick up a different dependency jar file in one profile that has the same class names and different implementations of the same interfaces.\n", "As a new Eclipse user, I am constantly annoyed by how long it takes compiler error messages to display. This is mostly only a problem for long errors that don't fit in the status bar or the \"Problems\" tab. But I get enough long errors in Java\u2014especially with generics\u2014that this is a nagging issue. (Note: The correct answer to this question is not \"get better at using generics.\" ;-) \nThe ways I have found to display an error are:\n\nPress Ctrl+. or execute the command \"Next Annotation\". The next error is highlighted and its associated message appears in the status bar (if it is short enough). The error is also highlighted in the \"Problems\" tab, if it is open, but the tab is not automatically brought to the top.\nHover the mouse over the error. After a noticeable lag, the error message appears as a \"tool tip\", along with any associated \"Quick Fixes.\"\nHover the mouse over the error icon on the left side of the editing pane. After a noticeable lag, all of the error messages for that line appear as a \"tool tip.\" Clicking on the icon brings up \"Quick Fixes.\"\n\nWhat I would like is for Ctrl+. to automatically and instantly bring up the complete error message (I don't care where). Is this a configurable option?\n[UPDATE] @asterite's \"Ctrl+. F2\" is almost it. How do I make \"Next Annotation, then Show Tooltip Description\" a macro bound to a single keystroke?\n", "I've inherited a large Java app that uses Struts, Spring, and Hibernate. The classes and interfaces I deal with daily are: Struts Actions, Struts ActionForms, Value Objects, Service Interfaces and Implementations, DAO Interfaces and Implementations, and Entities. I'm pretty clear on the how and why of most of these, except I'm unsure about the correct separation of responsibilities between the ActionForms, Value Objects, and Entities. I should also mention that the Domain Model (i.e. all of the entities) doesn't contain much (if any) real business logic. This is essentially a CRUD app and most of the real logic is in the database (yuck!). Anyway, there are several distinct Java related issues that I'm wondering about:\n1) It seems there is not much difference between the Entities and the Value Objects (VOs), and a lot of code must be written to transform on into the other when they pass through the service layer in either direction (Struts Actions deal only with VOs, DAOs deal only with Entities). So, VOs and Entities seem somewhat redundant. Why have them both?\n2) Where should the VO<->Entity translation code go? The service layer, the Entity, the VO?\n3) VOs are placed directly into ActionForms and directly bound to tags in the JSP (e.g. ). Is this a good practice? If not, what's the appropriate design?\n4) It is unclear how to properly handle foreign key dependencies in the Value Objects. For example, certain VOs have a type field that, in database terms, represent a foreign key relationship into a type table. In the UI, this translates into a dropdown field that lets the user pick the type, OR a label that simply displays the textual representation of the type (depending on which screen it is). Now, should the VO have a property for the type ID, the textual representation of the type, or both? Who is responsible for translating between the two, and when?\n5) The VOs have a field for their database ID. I thought VOs don't have identities? What's up with this?\nI hope these questions are generic enough to be of general interest. It seems this would come up all the time in this type of architecture.\nAlso, I have the suspicion that this architecture is way to heavy for this app, and if you have suggestions about a better one, go ahead. But I'm mainly interested in the answer to the above questions since a different architecture is a long-term refactoring that I can't do right now.\n", "I am looking for an addon that can say characters vocally. It is for non-commercial use, and it would be nice if it can vocalize more languages, like asian, english etc...\nI have googled it, but can't seem to find anything for free use.\nUpdate: This is for web use\n", "I am currently investigating how to make a connection to a SQL Server database from my Java EE web application using Windows Authentication instead of SQL Server authentication. I am running this app off of Tomcat 6.0, and am utilizing the Microsoft JDBC driver. My connection properties file looks as follows:\ndbDriver              = com.microsoft.sqlserver.jdbc.SQLServerDriver\ndbUser                = user\ndbPass                = password\ndbServer              = localhost:1433;databaseName=testDb\ndbUrl                 = jdbc:sqlserver://localhost:1433\n\nI have zero problems with connecting to a SQL Server database in this fashion when using SQL Server authentication.\nIs there any way I can retrieve the credentials of the user's Windows Authentication and use that authentication for SQL Server?\nUPDATE: I know in ASP.net there is a way to set up Windows Authentication for access to the webapp, which is exactly what I am looking for, except I want to pass that token off to SQL Server for access to the database.\n", "I have recently been exposed to naked objects. It looks like a pretty decent framework. However I do not see it in widespread use like say, Spring. So why is this framework not getting any mainstream application credit. What are its shortcomings as you see?\n", "I recently began profiling an osgi java application that I am writing using VisualVM.  One thing I have noticed is that when the application starts sending data to a client (over JMS), the number of loaded classes starts increasing at a steady rate.  The Heap size and the PermGen size remains constant, however.  The number of classes never falls, even after it stops sending data. Is this a memory leak?  I think it is, because the loaded classes have to be stored somewhere, however the heap and permgen never increase even after I run the application for several hours.\nFor the screenshot of my profiling application go here\n", "I'm using hibernate validator framework with Spring. A class implementing the Spring Validator validates objects with Hibernate's ClassValidator. To localize ClassValidator's error messages I need to pass a ResourceBundle into the class' constructor. My ApplicationCountext has a MessageSource bean (ReloadableResourceBundleMessageSource) which is used throught the application. It makes sense to use this same MessafeSource for the ClassValidator. But how do I convert the MessageSource to a ResourceBundle? Is there any adapter class?\n", "I've been using Xcode for the usual C/C++/ObjC development. I'm wondering what are practical considerations, opinions of Xcode, Eclipse or NetBeans usage on a Mac for Java development? \nPlease don't include my current usage of Xcode in your analysis. \n", "I have a some JPA entities that inherit from one another and uses discriminator to determine what class to be created (untested as of yet).\n@Entity(name=\"switches\")\n@DiscriminatorColumn(name=\"type\")\n@DiscriminatorValue(value=\"500\")\npublic class DmsSwitch extends Switch implements Serializable {}\n\n@MappedSuperclass\npublic abstract class Switch implements ISwitch {}\n\n@Entity(name=\"switch_accounts\")\npublic class SwitchAccounts implements Serializable {\n    @ManyToOne()\n    @JoinColumn(name=\"switch_id\")\n    DmsSwitch _switch;\n}\n\nSo in the SwitchAccounts class I would like to use the base class Switch because I don't know which object will be created until runtime.  How can I achieve this?\n", "One of the few annoying things about the Eclipse Java plug-in is the absence of a keyboard shortcut to build the project associated with the current resource.  Anyone know how to go about it?\n", "In Java, suppose I have a String variable S, and I want to search for it inside of another String T, like so:\n   if (T.matches(S)) ...\n\n(note: the above line was T.contains() until a few posts pointed out that that method does not use regexes.  My bad.)\nBut now suppose S may have unsavory characters in it.  For instance, let S = \"[hi\".  The left square bracket is going to cause the regex to fail.  Is there a function I can call to escape S so that this doesn't happen?  In this particular case, I would like it to be transformed to \"\\[hi\".\n", "I'm looking for recommendations on books about MVC on the desktop.  If they use Java, that is a bonus.\nSome background:\nI'm writing a desktop application in Java.  It's an audio application that has a number of views and a central model called a Library with playlists, effects lists and a folder structure to organize them.  In this application I'd like to have menus, context-menus and drag and drop support for various user actions.  I've been struggling with how to achieve this using MVC.\nI started with all the logic/controllers in the main class but have started to separate them out into their own classes.  Now I need to start using listeners and observers to handle messages between the views and the controller.  This led to me creating a number of interfaces and looping through my listeners in several places to fire off various messages.  But that loop code keeps getting repeated (not DRY), so I'm assuming that now I should create different types of Event classes, create those events in my views and use a single method within the view to fire it off to the various listeners.\nUpdate: Arguabley it shouldn't matter much but I'm using SWT, not Swing.\n", "I have an third-party applet that requires JRE v1.5_12 to work correctly.  THe user is installing JRE v1.6.07 or better.  It used to be with 1.5 and below, that I could have multiple JRE's on the machine and specify which one to use - but with 1.6 that apepars to be broken.  How do I tell the browser I want to use v1.5_12 instead of the latest one installed?\n", "I'm porting a Java library to C#. I'm using Visual Studio 2008, so I don't have the discontinued Microsoft Java Language Conversion Assistant program (JLCA).\nMy approach is to create a new solution with a similar project structure to the Java library, and to then copy the java code into a c# file and convert it to valid c# line-by-line. Considering that I find Java easy to read, the subtle differences in the two languages have surprised me.\nSome things are easy to port (namespaces, inheritance etc.) but some things have been unexpectedly different, such as visibility of private members in nested classes, overriding virtual methods and the behaviour of built-in types. I don't fully understand these things and I'm sure there are lots of other differences I haven't seen yet.\nI've got a long way to go on this project. What rules-of-thumb I can apply during this conversion to manage the language differences correctly?\n", "Is there a Generics Friendly way of using Collection.EMPTY_LIST in my Java Program.\nI know I could just declare one myself, but I'm just curious to know if there's a way in the JDK to do this.\nSomething like users = Collections<User>.EMPTY_LIST;\n", "I have this web application that has grown to an unmanageable mess. \nI want to split it into a common \"framework\" part (that still includes web stuff like pages and images) and several modules that add extra functionality and screens. I want this refactoring to also be useful as a plugin system for third-party extensions.\nAll modules need to be separate unit of deployments, ideally a war or jar file.\nI tried to just make several regular war files, but Tomcat keeps (according to the servlet spec) these war files completely separate from each-other, so that they cannot share their classes, for example.\nI need to plugins to be able to see the \"main\" classpath.\nI need to main application to have some control over the plugins, such as being able to list them, and set their configuration.\nI would like to maintain complete separation between the plugins themselves (unless they specify dependencies) and any other unrelated web applications that may be running on the same Tomcat.\nI would like them to be rooted under the \"main\" application URL prefix, but that is not necessary.\nI would like to use Tomcat (big architectural changes need to be coordinated with too many people), but also to hear about a clean solution in the EJB or OSGi world if there are. \n", "I've been looking for a generic way to deal with bidirectional associations and a way to handle the inverse updates in manual written Java code.\nFor those who don't know what I'm talking about, here is an example. Below it are my current results of (unsatisfying) solutions.\npublic class A {\n    public B getB();\n    public void setB(B b);\n}\n\npublic class B {\n    public List<A> getAs();\n}\n\nNow, when updating any end of the association, in order to maintain consistency, the other end must be updated as well. Either manually each time \na.setB(b);\nb.getA().add(a);\n\nor by putting matching code in the setter / getter and use a custom List implementation.\nI've found an outdated, unmaintained project whose dependencies are no longer available (https://e-nspire-gemini.dev.java.net/). It deals with the problem by using annotations that are used to inject the necessary code automatically.\nDoes anyone know of another framework that deals with this in a generic, unobtrusive way ala gemini?\nciao,\nElmar\n", "We're running a web app on Tomcat 6 and Apache mod_proxy 2.2.3.  Seeing a lot of 502 errors like this:\n\nBad Gateway!\n  The proxy server received an invalid response from an upstream server.\nThe proxy server could not handle the request GET /the/page.do.\nReason: Error reading from remote server\nIf you think this is a server error, please contact the webmaster.\nError 502 \n\nTomcat has plenty of threads, so it's not thread-constrained. We're pushing 2400 users via JMeter against the app.  All the boxes are sitting inside our firewall on a fast unloaded network, so there shouldn't be any network problems.  \nAnyone have any suggestions for things to look at or try?  We're heading to tcpdump next.\nUPDATE 10/21/08: Still haven't figured this out. Seeing only a very small number of these under load.  The answers below haven't provided any magical answers...yet. :)\n", "I am searching for an open source Java library to generate thumbnails for a given URL.  I need to bundle this capability, rather than call out to external services, such as Amazon or websnapr.\nhttp://www.webrenderer.com/ was mentioned in this post: Server generated web screenshots, but it is a commercial solution.\nI'm hoping for a Java based solution, but may need to look into executing an external process such as khtml2png, or integrating something like html2ps.\nAny suggestions?\n", "Is it possible, in Java, to enforce that a class have a specific set of subclasses and no others? For example:\npublic abstract class A {}\npublic final class B extends A {}\npublic final class C extends A {}\npublic final class D extends A {}\n\nCan I somehow enforce that no other subclasses of A can ever be created?\n", "I'm trying to get into java again (it's been a few years). I never really did any GUI coding in java. I've been using Netbeans to get started with this.\nWhen using winforms in C# at work I use a usercontrols to build parts of my UI and add them to forms dynamically. \nI've been trying to use JPanels like usercontrols in C#. I created a JPanel form called BlurbEditor. This has a few simple controls on it. I am trying to add it to another panel at run time on a button event. \nHere is the code that I thought would work:\nmainPanel.add(new BlurbEditor());\nmainPanel.revalidate();\n//I've also tried all possible combinations of these too\n//mainPanel.repaint();\n//mainPanel.validate();\n\nThis unfortunately is not working. What am I doing wrong?\n", "I'm working through previous years ACM Programming Competition problems trying to get better at solving Graph problems.  \nThe one I'm working on now is I'm given an arbitrary number of undirected graph nodes, their neighbors and the distances for the edges connecting the nodes.  What I NEED is the distance between the two farthest nodes from eachother (the weight distance, not by # of nodes away).\nNow, I do have Dijkstra's algorithm in the form of:\n// Dijkstra's Single-Source Algorithm\nprivate int cheapest(double[] distances, boolean[] visited)\n{\n        int best = -1;\n        for (int i = 0; i < size(); i++)\n        {\n                if (!visited[i] && ((best < 0) || (distances[i] < distances[best])))\n                {\n                        best = i;\n                }\n        }\n        return best;\n}\n\n// Dijkstra's Continued\npublic double[] distancesFrom(int source)\n{\n        double[] result = new double[size()];\n        java.util.Arrays.fill(result, Double.POSITIVE_INFINITY);\n        result[source] = 0; // zero distance from itself\n        boolean[] visited = new boolean[size()];\n        for (int i = 0; i < size(); i++)\n        {\n                int node = cheapest(result, visited);\n                visited[node] = true;\n                for (int j = 0; j < size(); j++)\n                {\n                        result[j] = Math.min(result[j], result[node] + getCost(node, j));\n                }\n\n        }\n        return result;\n}\n\nWith this implementation I can give it a particular node and it will give me a list of all the distances from that node.  So, I could grab the largest distance in that list of distances but I can't be sure that any particular node is one of the two furthest ones at either end.  \nSo the only solution I can think of is to run this Dijkstra's algorithm on every node, go through each returned list of distances and looking for the largest distance.  After exhausting each node returning it's list of distances I should have the value of the largest distance between any two nodes (the \"road\" distance between the two most widely seperated villages).  There has got to be an easier way to do this because this seems really computationally expensive.  The problem says that there could be sample inputs with up to 500 nodes so I wouldn't want it to take prohibitively long. Is this how I should do it?\nHere is a sample input for the problem:\nTotal Nodes: 5  \nEdges:\nNodes 2 - Connect - Node 4.  Distance/Weight 25\nNodes 2 - Connect - Node 5.  Distance/Weight 26\nNodes 3 - Connect - Node 4.  Distance/Weight 16\nNodes 1 - Connect - Node 4.  Distance/Weight 14  \nThe answer to this sample input is \"67 miles\".  Which is the length of the road between the two most widely separated villages.\nSo should I do it how I described or is there a much simpler and much less computationally expensive way?\n", "I want to save the objects I generated in a program. After restart the App should load automaticly all Objects in an Array. I want to write them in a file and parse them after restart. Are the other smarter possibilities than do it by hand?\nThank you\n", "I realize that since UNIX sockets are platform-specific, there has to be some non-Java code involved.  Specifically, we're interested in using JDBC to connect to a MySQL instance which only has UNIX domain sockets enabled.  \nIt doesn't look like this is supported, but from what I've read it should be at least possible to write a SocketFactory for JDBC based on UNIX sockets if we can find a decent implementation of UNIX sockets for Java.  \nHas anyone tried this?  Does anyone know of such an implementation?\n", "I'm wondering how you would go about designing a good permgen space string in Java. Based on my research and understanding I've come up with the following:\nexample: JAVA_OPTS='-Xmx512m -XX:MaxPermSize=256m -server -Djava.awt.headless=true'\nSorry the example didn't paste when I first posted the question......\n", "I'm writing a game in Java, and I want the user to be able to provide input from both the command line and my GUI. Currently, I use this method to get input:\n    static String getInput(){\n        System.out.println(\"Your move:\");\n        Scanner sc = new Scanner(System.in);\n        return sc.nextLine();\n    }\n\nI want to keep using this, but let a mousePressed event emulate the user actually typing in their input as well.  It's not that efficient of a solution, but it makes sense in my application. So the question is: how do I simulate a user typing to System.in from the code side?\n", "I am attempting to use Ant's XMLValidate task to validate an XML document against a DTD.  The problem is not that it doesn't work, but that it works too well.  My DTD contains an xref element with an \"@linkend\" attribute of type IDREF.  Most of these reference IDs outside of the current document.  Because of this, my build fails, since the parser complains that the ID that the IDREF is referencing doesn't exist.  So, is there any way that I can validate my XML document against the DTD, but ignore errors of this type?  \nA few things I've tried:  Setting the \"lenient\" option on XMLValidate makes the task only check the document's well-formedness, not it's validity against a DTD.  The XMLValidate task in the Ant manual lists some JAXP and SAX options you can set, but none seem applicable.\nHere's my code:\n <target name=\"validate\">\n        <echo message=\"Validating ${input}\"/>\n        <xmlvalidate file=\"${input}\" failonerror=\"yes\"\n            classname=\"org.apache.xml.resolver.tools.ResolvingXMLReader\">\n            <classpath refid=\"xslt.processor.classpath\"/>\n        </xmlvalidate>\n </target>\n\nAs you can see, I'm using ResolvingXMLReader to resolve the DTD against a catalog of public identifiers.  However, I get the same behavior if I specify the DTD directly using a nested xmlcatalog element. \n", "I've always been able to allocate 1400 megabytes for Java SE running on 32-bit Windows XP (Java 1.4, 1.5 and 1.6).\njava -Xmx1400m ...\n\nToday I tried the same option on a new Windows XP machine using Java 1.5_16 and 1.6.0_07 and got the error:\nError occurred during initialization of VM\nCould not reserve enough space for object heap\nCould not create the Java virtual machine.\n\nThrough trial and error it seems 1200 megabytes is the most I can allocate on this machine.\nAny ideas why one machine would allow 1400 and another only 1200?\nEdit: The machine has 4GB of RAM with about 3.5GB that Windows can recognize.\n", "I have a project written in Java (>1.5).\nIs it possible to write parts of the project with C#?\nFor instance the GUI and calling the methods and instantiate the classes written in java?\nIf yes, how?\n", "How do i delete all the tables in the schema on Apache Derby DB using JDBC?\n", "When receiving a bug report or an it-doesnt-work message one of my initials questions is always what version? With a different builds being at many stages of testing, planning and deploying this is often a non-trivial question.\nI the case of releasing Java JAR (ear, jar, rar, war) files I would like to be able to look in/at the JAR and switch to the same branch, version or tag that was the source of the released JAR.\nHow can I best adjust the ant build process so that the version information in the svn checkout remains in the created build?\nI was thinking along the lines of:\n\nadding a VERSION file, but with what content?\nstoring information in the META-INF file, but under what property with which content?\ncopying sources into the result archive\nadded svn:properties to all sources with keywords in places the compiler leaves them be\n\n\nI ended up using the svnversion approach (the accepted anwser), because it scans the entire subtree as opposed to svn info which just looks at the current file / directory. For this I defined the SVN task in the ant file to make it more portable. \n<taskdef name=\"svn\" classname=\"org.tigris.subversion.svnant.SvnTask\">\n  <classpath>\n    <pathelement location=\"${dir.lib}/ant/svnant.jar\"/>\n    <pathelement location=\"${dir.lib}/ant/svnClientAdapter.jar\"/>\n    <pathelement location=\"${dir.lib}/ant/svnkit.jar\"/>\n    <pathelement location=\"${dir.lib}/ant/svnjavahl.jar\"/>\n  </classpath>        \n</taskdef>\n\nNot all builds result in webservices. The ear file before deployment must remain the same name because of updating in the application server. Making the file executable is still an option, but until then I just include a version information file.\n<target name=\"version\">\n  <svn><wcVersion path=\"${dir.source}\"/></svn>\n  <echo file=\"${dir.build}/VERSION\">${revision.range}</echo>\n</target>\n\nRefs:\nsvnrevision: http://svnbook.red-bean.com/en/1.1/re57.html\nsvn info http://svnbook.red-bean.com/en/1.1/re13.html\nsubclipse svn task: http://subclipse.tigris.org/svnant/svn.html\nsvn client: http://svnkit.com/\n", "Is there a destructor for Java? I don't seem to be able to find any documentation on this. If there isn't, how can I achieve the same effect?\nTo make my question more specific, I am writing an application that deals with data, and the specification say that there should be a 'reset' button that brings the application back to its original just launched state. However, all data have to be 'live' unless application is closed or reset button is pressed.\nBeing usually a C/C++ programmer, I thought this would be trivial to implement. (And hence I planned to implement it last.) I structured my program such that all the 'reset-able' objects would be in a same class so that I can just destroy all 'live' objects when reset button is pressed.\nI was thinking, if all I did was just to dereference the data and wait for the garbage collector to collect them, wouldn't there be a memory leak if my user repeatedly entered data and pressed the reset button? I was also thinking, since Java is quite mature as a language, there should be a way to prevent this from happening or gracefully tackle this.\n", "I want to write a program in which plays an audio file that reads a text. \nI want to highlite the current syllable that the audiofile plays in green and the rest of the current word in red.\nWhat kind of datastructure should I use to store the audio file and the information that tells the program when to switch to the next word/syllable?\n", "I am trying to use the BGGA closures prototype with an existing JDK 6 (standard on Mac OS X Leopard).  The sample code I'm compiling is from a BGGA tutorial:\npublic static void main(String[] args) {\n  // function with no arguments; return value is always 42\n  int answer = { => 42 }.invoke();\n  System.out.println(answer);\n}\n\nI have tried the following, and none work:\n\nCopied closures.jar to /System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home/lib\nRan javac with -Xbootclasspath/a:/path/to/closures.jar\nRan javac with -J-Xbootclasspath/a:/path/to/closures.jar\nTried from eclipse ganymede by defining my own system library and attaching it to my project with code utilizing BGGA.\n\nIn all four cases, I get compilation errors, indicating that the compiler did not pick up closures.jar on the bootstrap classpath.  I'd really like to get this working from eclipse, or at the very least maven.  Thanks!\n", "I've been using JSch for a couple of weeks now.  It seems to work okay, but its API is a little bit cumbersome.  I'm also a little off put by its total lack of documentation (not even javadoc style comments).  Has anyone used a good Java SSH2 library that they'd recommend.  I'm particularly interested in SCP file transfer and issuing commands to a remote Linux box programmatically via the SSH protocol.\n", "When I insert a DVD or CD, I want to programmatically know what type of media(DVD or CD) is it.\n", "I have applied a Formatter to a JFormattedTextField using a FormatterFactory, when a user clicks into the text field I want to select the contents. \nA focus listener does not work as expected because the formatter gets called, which eventually causes the value to be reset which ultimately de-selects the fields contents. I think what is happening is that after the value changes, the Caret moves to the rightmost position and this deselects the field.\nDoes anyone have any knowledge of how to get around this and select the fields contents correctly?\n", "I'm working on a source-code visualization project that uses the Processing core library.  The processing library has the option to use the jogl OpenGL library to render graphics which really improves performance.  However, the JNI files that jogl uses aren't necessarily available at runtime, depending on who is using the project and on what platform.\nCurrently we just have the user specify if they want to use OpenGL, but it would obviously be much nicer if we could use OpenGL by default and only fall back to software rendering when it's not available.  The Processing libraries don't seem to make this easy, you're only supposed to specify a renderer once, and changing renderers gives\u2026 novel behavior.\nAny idea how to figure out if the necessary JNIs for jogl are available and working at runtime?\n", "Depends on your experience could you recommend something?\nI've use izpack, and it's very nice tool, is  there any other, better tool? \n", "  1st phase\nI have a problem shutting down my running JBoss instance under Eclipse since I changed\n  the JNDI port of JBoss. Of course I can shut it down from the console view but not with\n  the stop button (it still searches JNDI port at the default 1099 port). I'm looking\n  forward to any solutions. Thank you! \nUsed environment:\n\nJBoss 4.0.2  (using default)\nEclipse 3.4.0. (using JBoss Tools 2.1.1.GA)\n\nDefault ports: 1098, 1099\nChanged ports: 11098, 11099\nI changed the following part in jbosspath/server/default/conf/jboss-service.xml:\n   <!-- ==================================================================== -->\n   <!-- JNDI                                                                 -->\n   <!-- ==================================================================== -->\n\n   <mbean code=\"org.jboss.naming.NamingService\"\n      name=\"jboss:service=Naming\"\n      xmbean-dd=\"resource:xmdesc/NamingService-xmbean.xml\">\n      <!-- The call by value mode. true if all lookups are unmarshalled using\n      the caller's TCL, false if in VM lookups return the value by reference.\n      -->\n      <attribute name=\"CallByValue\">false</attribute>\n      <!-- The listening port for the bootstrap JNP service. Set this to -1\n        to run the NamingService without the JNP invoker listening port.\n      -->\n      <attribute name=\"Port\">11099</attribute>\n      <!-- The bootstrap JNP server bind address. This also sets the default\n      RMI service bind address. Empty == all addresses\n       -->\n      <attribute name=\"BindAddress\">${jboss.bind.address}</attribute>\n      <!-- The port of the RMI naming service, 0 == anonymous -->\n      <attribute name=\"RmiPort\">11098</attribute>\n      <!-- The RMI service bind address. Empty == all addresses\n       -->\n      <attribute name=\"RmiBindAddress\">${jboss.bind.address}</attribute>\n      <!-- The thread pool service used to control the bootstrap lookups -->\n      <depends optional-attribute-name=\"LookupPool\"\n         proxy-type=\"attribute\">jboss.system:service=ThreadPool</depends>\n   </mbean>\n\n   <mbean code=\"org.jboss.naming.JNDIView\"\n        name=\"jboss:service=JNDIView\"\n        xmbean-dd=\"resource:xmdesc/JNDIView-xmbean.xml\">\n   </mbean>\n\nEclipse setup:\nhttp://img03.picoodle.com/img/img03/3/10/6/f_jbossm_3960e2f.png\nAbout my JBoss Tools preferences: \nI had a previous version, I got this problem, I read about some bugfix in JbossTools, so updated to 2.1.1.GA. Now the buttons changed, and I've got a new preferences view, but I cannot modify anything...seems to be abnormal as well:\nhttp://img29.picoodle.com/img/img29/3/10/5/f_jtoolsprefsm_2ce5348.png\nError dialog:\nhttp://img02.picoodle.com/img/img02/3/10/6/f_errorm_aa37ad4.png\nThe stacktrace:\njavax.naming.CommunicationException: Could not obtain connection to any of these urls: localhost:1099 [Root exception is javax.naming.CommunicationException: Failed to connect to server localhost:1099 [Root exception is javax.naming.ServiceUnavailableException: Failed to connect to server localhost:1099 [Root exception is java.net.ConnectException: Connection refused: connect]]]\n    at org.jnp.interfaces.NamingContext.checkRef(NamingContext.java:1385)\n    at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:579)\n    at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:572)\n    at javax.naming.InitialContext.lookup(InitialContext.java:347)\n    at org.jboss.Shutdown.main(Shutdown.java:202)\nCaused by: javax.naming.CommunicationException: Failed to connect to server localhost:1099 [Root exception is javax.naming.ServiceUnavailableException: Failed to connect to server localhost:1099 [Root exception is java.net.ConnectException: Connection refused: connect]]\n    at org.jnp.interfaces.NamingContext.getServer(NamingContext.java:254)\n    at org.jnp.interfaces.NamingContext.checkRef(NamingContext.java:1370)\n    ... 4 more\nCaused by: javax.naming.ServiceUnavailableException: Failed to connect to server localhost:1099 [Root exception is java.net.ConnectException: Connection refused: connect]\n    at org.jnp.interfaces.NamingContext.getServer(NamingContext.java:228)\n    ... 5 more\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:305)\n    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:171)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:158)\n    at java.net.Socket.connect(Socket.java:452)\n    at java.net.Socket.connect(Socket.java:402)\n    at java.net.Socket.<init>(Socket.java:309)\n    at java.net.Socket.<init>(Socket.java:211)\n    at org.jnp.interfaces.TimedSocketFactory.createSocket(TimedSocketFactory.java:69)\n    at org.jnp.interfaces.TimedSocketFactory.createSocket(TimedSocketFactory.java:62)\n    at org.jnp.interfaces.NamingContext.getServer(NamingContext.java:224)\n    ... 5 more\nException in thread \"main\" \n\n 2nd phase:\nAfter creating a new Server in File/new/other/server, it did appear in the preferences tab. Now the stop button is working (the server receives the shutdown messages without any additional modification of the jndi port -- there is no opportunity for it now) but it still throws an error message, though different, it's without exception stack trace: \"Server JBoss 4.0 Server failed to stop.\"\n", "I read that you could call JavaScript code from a Java Applet by calling\nJApplet.getAppletContext().showDocument( \"javascript:alert('Hello World');\" );\n\nHowever, when I do this i get the following error:\njava.net.MalformedURLException: unknown protocol: javascript\n\nHow do I work around this?\n", "I have seen the official demos on lwjgl.org but I would like to see some more tutorial level examples.\n", "Most often the cleanup rules (Preferences > Java > Code Style > Clean Up) in Eclipse work perfectly and create nice-looking code.\nBut sometimes, especially with comments and concatenated string snippets (like inline SQL queries), the cleanup just messes things up, and destroys my formatting.\nIs there a way to say to Eclipse \"Don't touch this block of text! I have formatted it just the way I like, and you would make it just less readable\"?\n", "I know how to draw basic objects using JOGL or LWJGL to connect to OpenGL. What I would like is something that can generate some kind of geometry for trees, similar to what SpeedTree is famous for. Obviously I don't expect the same quality as SpeedTree.\nI want the trees to not look repetitive. Speed is not a concern, I do not expect to need more than 100 trees on screen at one time. \nAre there free tree-drawing libraries available in Java? Or sample code or demos?\nIs there anything in other languages which I could port or learn from?\n", "If I safe an Array and reload it, is there a possibility to get the size if its unknown? \nThanks\n", "I'm trying to have my Struts2 app redirect to a generated URL. In this case, I want the URL to use the current date, or a date I looked up in a database. So /section/document becomes /section/document/2008-10-06\nWhat's the best way to do this?\n", "Is there anyway to upgrade the installed JRE in the system? We are having 1.5.0_08 installed in out HP Unix system.We have to upgrade this to 1.5.0_15.Is there a way to patch up the existing JRE and upgrade to a newer version.Or can this only be achieved by installing the newer JRE and set this in the system PATH.\nThanks for your time.\nRegards,\nVivek\n", "Consider the following method signatures:\npublic fooMethod (Foo[] foos) { /*...*/ }\n\nand\npublic fooMethod (Foo... foos) { /*...*/ }\n\nExplanation: The former takes an array of Foo-objects as an argument - fooMethod(new Foo[]{..}) - while the latter takes an arbitrary amount of arguments of type Foo, and presents them as an array of Foo:s within the method - fooMethod(fooObject1, fooObject2, etc...).\nJava throws a fit if both are defined, claiming that they are duplicate methods. I did some detective work, and found out that the first declaration really requires an explicit array of Foo objects, and that's the only way to call that method. The second way actually accepts both an arbitrary amount of Foo arguments AND also accepts an array of Foo objects.\nSo, the question is, since the latter method seems more flexible, are there any reasons to use the first example, or have I missed anything vital?\n", "Assuming I have an ArrayList\nArrayList<MyClass> myList;\n\nAnd I want to call toArray, is there a performance reason to use\nMyClass[] arr = myList.toArray(new MyClass[myList.size()]);\n\nover\nMyClass[] arr = myList.toArray(new MyClass[0]);\n\n?\nI prefer the second style, since it's less verbose, and I assumed that the compiler will make sure the empty array doesn't really get created, but I've been wondering if that's true.\nOf course, in 99% of the cases it doesn't make a difference one way or the other, but I'd like to keep a consistent style between my normal code and my optimized inner loops...\n", "Are JKS (Java Key Store) files encrypted? Do they provide full protection for encryption keys, or do I need to rely solely on access control?\nIs there a way to ensure that the keys are protected?\nI'm interested in the gritty details, including algorithm, key management, etc. Is any of this configurable?\n", "Eclipse is a really great editor, which I prefer to use, but the GUI design tools for Eclipse are lacking.  On the other hand, NetBeans works really well for GUI design.  \nAre there any tips, tricks or pitfalls for using NetBeans for GUI design and Eclipse for everything else on the same project?\nEDIT: I tried Maven, and it does not seem to work (too complex for my needs).\n", "Java SE 6 (64 bit only) is now on OS X and that is a good thing. As I understand it since Eclipse is still Carbon and thus 32 bit, it cannot be used for 1.6 on Leopard, only 1.5. \nDoes anyone know if NetBeans 6.x can be used with Java SE 6 on Leopard utilizing its JVM?\n", "I am looking for a replacement for javadeps, which I used to use to generate sections of a Makefile to specify which classes depended on which source files.\nUnfortunately javadeps itself has not been updated in a while, and cannot parse generic types or static imports.\nThe closest thing I've found so far is Dependency Finder.  It almost does what I need but does not match non-public classes to their source files (as the source filename does not match the class name.)  My current project has an interface whose only client is an inner class of a package-private class, so this is a significant problem.\nAlternatively if you are not aware of a tool that does this, how do you do incremental compilation in large Java projects using command-line tools?  Do you compile a whole package at a time instead?\nNotes:\n\njavadeps is not to be confused with jdepend, which is for a very different purpose.\nThis question is a rewrite of \"Tool to infer dependencies for a java project\" which seemed to be misunderstood by 2 out of 3 responders.\n\n", "Seeing as Java doesn't have nullable types, nor does it have a TryParse(),\nhow do you handle input validation without throwing an exceptions?\nThe usual way:\nString userdata = /*value from gui*/\nint val;\ntry\n{\n   val = Integer.parseInt(userdata);\n}\ncatch (NumberFormatException nfe)\n{\n   // bad data - set to sentinel\n   val = Integer.MIN_VALUE;\n}\n\nI could use a regex to check if it's parseable, but that seems like a lot of overhead as well.\nWhat's the best practice for handling this situation?\nEDIT: Rationale:\nThere's been a lot of talk on SO about exception handling, and the general attitude is that exceptions should be used for unexpected scenarios only. However, I think bad user input is EXPECTED, not rare.  Yes, it really is an academic point.\nFurther Edits: \nSome of the answers demonstrate exactly what is wrong with SO.  You ignore the question being asked, and answer another question that has nothing to do with it.  The question isn't asking about transition between layers.  The question isn't asking  what to return if the number is un-parseable.  For all you know, val = Integer.MIN_VALUE; is exactly the right option for the application that this completely context free code snippet was take from.\n", "Is there a recommended way to upgrade Quartz in JBoss 4.2.x?\nJBoss bundles quartz 1.5.2, but I have encountered issues (QUARTZ-399, QUARTZ-520) that I want to avoid.\nI would not want to patch quartz.jar in JBoss just to resolve the errors, but instead provide a new quartz.jar (plus associated configuration artifacts). The Quartz 1.6 migration notes only contain information specific to Quartz, and I could not find any additional information during my search.\nIt does not seem to work to just put the new quartz.jar into the EAR file, because the old version is loaded at the server level (in the server's lib directory).\nI am quite sure somebody has already tried that, and hope that this person could share or provide some links.\n", "We have a number of projects that use the same and/or similar package names. Many or these projects will build jar files that are used by other projects. We have found a number of foo.util foo.db and foo.exceptions where the same class names are being used leading to name space conflicts. \nDoes anyone know of a tool that will search a set of java code bases and automatically find name space conflicts and ambiguous imports?\n", "I want completely automated integration testing for a Maven project.  The integration tests require that an external (platform-dependent) program is started before running.  Ideally, the external program would be killed after the unit tests are finished, but is not necessary.  \nIs there a Maven plugin to accomplish this?  Other ideas?\n", "It appears that our implementation of using Quartz - JDBCJobStore along with Spring, Hibernate and Websphere is throwing unmanaged threads.  \nI have done some reading and found a tech article from IBM stating that the usage of Quartz with Spring will cause that.  They make the suggestion of using CommnonJ to address this issue.\nI have done some further research and the only examples I have seen so far all deal with the plan old JobStore that is not in a database.\nSo, I was wondering if anyone has an example of the solution for this issue.\nThanks\n", "I want to save and store simple mail objects via serializing, but I get always an error and I can't find where it is.\npackage sotring;\nimport java.io.*;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.*;\n\nimport com.sun.org.apache.bcel.internal.generic.INEG;\n\npublic class storeing {\n\n    public static void storeMail(Message[] mail){\n        try {\n            ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(\"mail.ser\"));\n            out.writeObject(mail);\n            out.flush();\n            out.close();\n\n        } catch (IOException e) {\n        }   \n    }\n\n        public static Message[] getStoredMails(){\n\n     try\n     {\n\n        ObjectInputStream in = new ObjectInputStream(new FileInputStream(\"mail.ser\"));\n        Message[] array = (Message[]) in.readObject() ;\n        for (int i=0; i< array.length;i++)\n            System.out.println(\"EMail von:\"+ array[i].getSender() + \" an \" + array[i].getReceiver()+ \" Emailbetreff: \"+ array[i].getBetreff() + \" Inhalt: \" + array[i].getContent());\n\n        System.out.println(\"Size: \"+array.length);  //return array;\n        in.close();\n        return array;    \n     }\n     catch(IOException ex)\n     {\n        ex.printStackTrace();\n        return null;\n     }\n     catch(ClassNotFoundException ex)\n     {\n        ex.printStackTrace();\n        return null;\n     }  \n}\n\n    public static void main(String[] args) {\n        User user1 = new User(\"User1\", \"geheim\");\n        User user2 = new User(\"User2\", \"geheim\");\n\n        Message email1 = new Message(user1.getName(), user2.getName(), \"Test\", \"Fooobaaaar\");\n        Message email2 = new Message(user1.getName(), user2.getName(), \"Test2\", \"Woohoo\");\n        Message email3 = new Message(user1.getName(), user2.getName(), \"Test3\", \"Okay =) \");\n        Message [] mails = {email1, email2, email3};\n        storeMail(mails);\n        Message[] restored = getStoredMails();;         \n    }\n}\n\nHere are the user and message class\npublic class Message implements Serializable{\n\n    static final long serialVersionUID = -1L;\n\n    private String receiver;  //Empf\u00e4nger\n    private String sender;  //Absender\n    private String Betreff;\n    private String content;\n    private String timestamp;\n\n    private String getDateTime() {\n        DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\n        Date date = new Date();\n        return dateFormat.format(date);\n    }\n\n    Message (String receiver, String sender, String Betreff, String content) {\n        this.Betreff= Betreff;\n        this.receiver = receiver;\n        this.sender = sender;\n        this.content = content;\n        this.timestamp = getDateTime(); \n    }\n\n    Message() {  // Just for loaded msg \n    }\n\n    public String getReceiver() {\n        return receiver;\n    }\n\n    public void setReceiver(String receiver) {\n        this.receiver = receiver;\n    }\n\n    public String getSender() {\n        return sender;\n    }\n\n    public void setSender(String sender) {\n        this.sender = sender;\n    }\n\n    public String getBetreff() {\n        return Betreff;\n    }\n\n    public void setBetreff(String betreff) {\n        Betreff = betreff;\n    }\n\n    public String getContent() {\n        return content;\n    }\n    public String getTime() {\n        return timestamp;\n    }\n    public void setContent(String content) {\n        this.content = content;\n    }\n\n}\n\npublic class User implements Serializable{\n\n    static final long serialVersionUID = -1L;\n    private String username;  //unique Username\n    private String ipadress;  //changes everytime\n    private String password;  //Password\n    private int unreadMsg;    //Unread Messages\n    private static int usercount;\n    private boolean online;\n\n    public String getName(){\n        return username;\n    }\n    public boolean Status() {\n        return online;\n    }\n\n    public void setOnline() {\n        this.online = true;\n    }\n    public void setOffline() {\n        this.online = false;\n    }\n\n    User(String username,String password){\n        if (true){\n            this.username = username;\n            this.password = password;\n            usercount++;\n\n        } else System.out.print(\"Username not availiable\"); \n    }\n\n    public void changePassword(String newpassword){\n        password = newpassword;\n    }\n\n    public void setIP(String newip){\n        ipadress = newip;\n    }\n\n    public String getIP(){\n        if (ipadress.length() >= 7){\n            return ipadress;\n        } else return \"ip address not set.\";\n    }\n\n\n\n    public int getUnreadMsg() {\n        return unreadMsg;\n    }   \n}\n\nHere is the exception:\nexception in thread \"main\" java.lang.Error: Unresolved compilation problem: \n    This method must return a result of type Message[]\n    at sotring.storeing.getStoredMails(storeing.java:22)\n    at sotring.storeing.main(storeing.java:57)\nTHANK YOU FOR YOUR HELP!!!!!!!!!!!\n", "When writing the string \"\u00bf\" out using\nSystem.out.println(new String(\"\u00bf\".getBytes(\"UTF-8\")));\n\n\u00c2\u00bf is written instead of just \u00bf.\nWHY? And how do we fix it?\n", "Does anyone know of a way, in Java, to convert an earth surface position from lat, lon to UTM (say in WGS84)? I'm currently looking at Geotools but unfortunately the solution is not obvious.\n", "I'm working with a combobox in a Swing-based application, and I'm having a hard time figuring out what to do to differentiate between an ItemEvent that is generated from a user event vs one caused by the application. \nFor instance, Lets say I have a combobox, 'combo' and I'm listening for itemStateChanged events with my ItemListener, 'listener'. When either a user changes the selection to item 2 or I execute the line (pseudocode):\ncombo.setSelection(2)\n.. it seems like I'm not able to tell these events apart. \nThat said, I'm no Swing expert by any means, so I thought I would ask. \nThanks!\n", "Why is the following displayed different in Linux vs Windows?\nSystem.out.println(new String(\"\u00bf\".getBytes(\"UTF-8\"), \"UTF-8\"));\n\nin Windows:\n\u00bf\nin Linux:\n\u00c2\u00bf\n", "Is it possible to suppress warnings in Eclipse for JDK1.4 project?\nEDIT:\nLonger version. There is a project which requires JDK1.4 (no annotations). Only way of suppressing warnings I know is using annotation @SuppressWarnings - no can do in JDK1.4. Is there any way to remove some warning notifications in some specific method/class (not whole project) ?\n", "Why do I get compiler errors with this Java code?\n1  public List<? extends Foo> getFoos()\n2  {\n3    List<? extends Foo> foos = new ArrayList<? extends Foo>();\n4    foos.add(new SubFoo());\n5    return foos;\n6  }\nWhere 'SubFoo' is a concrete class that implements Foo, and Foo is an interface.\nErrors I get with this code:\n\nOn Line 3: \"Cannot instantiate ArrayList<? extends Foo>\"\nOn Line 4: \"The method add(capture#1-of ? extends Foo) in the type List<capture#1-of ? extends Foo> is not applicable for the arguments (SubFoo)\"\n\nUpdate: Thanks to Jeff C, I can change Line 3 to say \"new ArrayList<Foo>();\".  But I'm still having the issue with Line 4.\n", "I need to enumerate all classes in a package and add them to a List. The non-dynamic version for a single class goes like this:\nList allClasses = new ArrayList();\nallClasses.add(String.class);\n\nHow can I do this dynamically to add all classes in a package and all its subpackages?\n\nUpdate: Having read the early answers, it's absolutely true that I'm trying to solve another secondary problem, so let me state it. And I know this is possible since other tools do it. See new question here. \nUpdate: Reading this again, I can see how it's being misread. I'm looking to enumerate all of MY PROJECT'S classes from the file system after compilation. \n", "Given an aggregation of class instances which refer to each other in a complex, circular, fashion: is it possible that the garbage collector may not be able to free these objects?\nI vaguely recall this being an issue in the JVM in the past, but I thought this was resolved years ago.  yet, some investigation in jhat has revealed a circular reference being the reason for a memory leak that I am now faced with.\nNote: I have always been under the impression that the JVM was capable of resolving circular references and freeing such \"islands of garbage\" from memory.  However, I am posing this question just to see if anyone has found any exceptions. \n", "I basically want to run all JUnit unit tests in my IntelliJ IDEA project (excluding JUnit integration tests), using the static suite() method of JUnit. Why use the static suite() method? Because I can then use IntelliJ IDEA's JUnit test runner to run all unit tests in my application (and easily exclude all integration tests by naming convention). The code so far looks like this:\npackage com.acme;\n\nimport junit.framework.Test;\nimport junit.framework.TestCase;\nimport junit.framework.TestSuite;\n\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\npublic class AllUnitTests extends TestCase {\n\n    public static Test suite() {\n        List classes = getUnitTestClasses();\n        return createTestSuite(classes);\n    }\n\n    private static List getUnitTestClasses() {\n        List classes = new ArrayList();\n        classes.add(CalculatorTest.class);\n        return classes;\n    }\n\n    private static TestSuite createTestSuite(List allClasses) {\n        TestSuite suite = new TestSuite(\"All Unit Tests\");\n        for (Iterator i = allClasses.iterator(); i.hasNext();) {\n            suite.addTestSuite((Class<? extends TestCase>) i.next());\n        }\n        return suite;\n    }\n\n}\n\nThe method getUnitTestClasses() should be rewritten to add all project classes extending TestCase, except if the class name ends in \"IntegrationTest\".\nI know I can do this easily in Maven for example, but I need to do it in IntelliJ IDEA so I can use the integrated test runner - I like the green bar :)\n", "Sometime I see many application such as msn, windows media player etc that are single instance applications (when user executes while application is running a new application instance will not created).\nIn C#, I use Mutex class for this but I don't know how to do this in Java.\n", "Whenever I start our Apache Felix (OSGi) based application under SUN Java ( build 1.6.0_10-rc2-b32 and other 1.6.x builds) I see the following message output on the console (usually under Ubuntu 8.4):\n\nWarning:  The encoding 'UTF-8' is not supported by the Java runtime.\n\nI've seen this message display occasionally when running both Tomcat and Resin as well.  If java supports unicode and UTF-8, what causes this message?  I've yet to find any reference, or answer to this anywhere else.\n", "I've been experimenting with Adobe Flex recently. Being a long-time server-side web app developer, I'm faced with difficulties that I last experienced when I dabbled in Java Swing development a long time ago. It mainly revolves around the flow of control between my code and the framework's code. Most things are asynchronous as to not freeze the UI. \nSo, I'm looking for all the seasoned developers out there who have seen it all to put into words the shifts in thinking required to make the transition from traditional web apps to RIAs. \nUpdate: Moved the distracting parts to another question.\n", "Does anyone know of a sample distributed application (.NET or J2EE) using RMI or Web Services?\n", "I was hoping to implement a simple XMPP server in Java.  \nWhat I need is a library which can parse and understand xmpp requests from a client.  I have looked at Smack (mentioned below) and JSO. Smack appears to be client only so while it might help parsing packets it doesn't know how to respond to clients. Is JSO maintained it looks very old. The only promising avenue is to pull apart Openfire which is an entire commercial (OSS) XMPP server.\nI was just hoping for a few lines of code on top of Netty or Mina, so I could get started processing some messages off the wire.\n\nJoe - \nWell the answer to what I am trying to do is somewhat long - I'll try to keep it short. \nThere are two things, that are only loosely related:\n1) I wanted to write an XMPP server because I imagine writing a custom protocol for two clients to communicate.  Basically I am thinking of a networked iPhone app - but I didn't want to rely on low-level binary protocols because using something like XMPP means the app can \"grow up\" very quickly from a local wifi based app to an internet based one...\nThe msgs exchanged should be relatively low latency, so strictly speaking a binary protocol would be best, but I felt that it might be worth exploring if XMPP didn't introduce too much overhead such that I could use it and then reap benefits of it's extensability and flexability later.\n2) I work for Terracotta - so I have this crazy bent to cluster everything.  As soon as I started thinking about writing some custom server code, I figured I wanted to cluster it.  Terracotta makes scaling out Java POJOs trivial, so my thought was to build a super simple XMPP server as a demonstration app for Terracotta.  Basically each user would connect to the server over a TCP connection, which would register the user into a hashmap.  Each user would have a LinkedBlockingQueue with a listener thread taking message from the queue.  Then any connected user that wants to send a message to any other user (e.g. any old chat application) simply issues an XMPP message (as usual) to that user over the connection.  The server picks it up, looks up the corresponding user object in a map and places the message onto the queue.  Since the queue is clustered, regardless of wether the destination user is connected to the same physical server, or a different physical server, the message is delivered and the thread that is listening picks it up and sends it back down the destination user's tcp connection.\nSo - not too short of a summary I'm afraid.  But that's what I want to do.  I suppose I could just write a plugin for Openfire to accomplish #1 but I think it takes care of a lot of plumbing so it's harder to do #2 (especially since I was hoping for a very small amount of code that could fit into a simple 10-20kb Maven project).\n", "I am creating an Eclipse RCP application.\nI am following Joel's advice in the following article \"Daily Builds are your friend\":\nhttp://www.joelonsoftware.com/articles/fog0000000023.html\nSo, I've written a nice build script that creates an Eclipse RCP product and that runs unit tests on the code.  All results are then distributed to the developer's list (after some grumbling). Now my next step, I want it to create the setup package that I normally create manually using the inno setup compiler.\nThe question is, how would I get around creating this package automatically?  I guess I can generate the inno setup file automatically from ant, and then invoke the compiler from the command line, but I don't know if this is possible.\nAny tips for this task?  Maybe any other setup application that can be used from ant?\n", "I am using the next class (simplified for the sake of understandability) to download images in a struts web application. \nIt is working fine in every browser but firefox, which cuts names containing spaces. That it is to say: file with spaces.pdf gets downloaded in firefox as: file while in chrome, IE7 IE6 is downloaded as file with spaces.pdf.\npublic class Download extends Action {\n    private static final int BUFFER_SIZE = 4096;    \n\n    public ActionForward execute(ActionMapping mapping,\n        ActionForm     form,\n        HttpServletRequest request,\n        HttpServletResponse response) throws Exception {\n        String filename = \"file with spaces.pdf\";\n        File file =  ... // variable containing the file;\n        response.setStatus(HttpServletResponse.SC_OK);\n        response.setContentType(getMimeType(request, file));\n        response.setHeader(\"Content-Type\", getMimeType(request, file));\n        response.setHeader(\"Content-Disposition\",\"attachment; filename=\"+ filename);\n        InputStream is = new FileInputStream(file); \n        sendFile(is, response);\n        return null;\n   }  \n\n   protected String getMimeType(HttpServletRequest request, File file) {\n        ServletContext application = super.servlet.getServletContext();\n        return application.getMimeType(file.getName());\n   }\n\n   protected void sendFile(InputStream is, HttpServletResponse response) throws IOException {\n       BufferedInputStream in = null;\n       try {\n            int count;\n            byte[] buffer = new byte[BUFFER_SIZE];\n            in = new BufferedInputStream(is);\n            ServletOutputStream out = response.getOutputStream();\n            while(-1 != (count = in.read(buffer)))\n                out.write(buffer, 0, count);\n            out.flush();            \n       } catch (IOException ioe) { \n            System.err.println(\"IOException in Download::sendFile\"); \n            ioe.printStackTrace();\n       } finally {\n            if (in != null) {\n                try { \n                   in.close(); \n                } catch (IOException ioe) { ioe.printStackTrace(); }\n            }   \n       }\n    }\n}\n\nDoes anyone know about what is going on here? Note i am using firefox 3.0.3 under Windows Vista. \n", "In JPA the Entities are nice annotated Plain Old Java Objects. But I have not found a good way to interact with them and the database.\nIn my current app, my basic design is always to have a sequence based id as primary key so I usually have to look up entities by other properties than PK.\nAnd for each Entity I have a stateless EJB of \n@Stateless\npublic class MyEntApiBean implements MyEntApi {\n\n\n@PersistenceContext(unitName = \"xxx\") @Inject EntityManager entityManager;\n\nwith query methods that all are some variation \n/**\n * @return A List of all MyEnts that have some property\n * @param someProp some property\n */\npublic List<MyEnt> getAllMyEntsFromProp(final String someProp) {\n\n    try {\n        final Query query = entityManager.createQuery(\"select me from MyEnt me where me.someProp = :someProp\");\n        query.setParameter(\"someProp\", someProp);\n        return query.getResultList();\n    } catch(final NoResultException nre) {\n        log.warn(\"No MyEnts found\");\n    }\n    return new ArrayList<MyEnt>();\n}\n\nSo:\n\nI really hate having these methods in an EJB because they seem to belong with the entities themselves, and the EJB local interfaces annoy the crap out of me.\nI hate the duplication that I have in each method with \"try, createQuery, getResultList,catch, log, return\" (mostly a consequence of no closures or \"with statement\" or somesuch in Java).\n\nDoes anyone have a suggestion for a better way to interact with the Entities and Database that addresses one or both of my issues?\nI am currently thinking of doing some base methods with generics and reflection to get some generic query methods to reduce the duplication (issue 2) (I will put a prototype up for review later).\nThanks,\nAnders\n", "We noticed that lots of bugs in our software developed in C# (or Java) cause a NullReferenceException.\nIs there a reason why \"null\" has even been included in the language?\nAfter all, if there were no \"null\", I would have no bug, right?\nIn other words, what feature in the language couldn't work without null?\n", "What are the best workarounds for using a SQL IN clause with instances of java.sql.PreparedStatement, which is not supported for multiple values due to SQL injection attack security issues: One ? placeholder represents one value, rather than a list of values.\nConsider the following SQL statement:\nSELECT my_column FROM my_table where search_column IN (?)\n\nUsing preparedStatement.setString( 1, \"'A', 'B', 'C'\" ); is essentially a non-working attempt at a workaround of the reasons for using ? in the first place.  \nWhat workarounds are available?\n", "Is it possible to include/embed one Java EE application(war file) inside another?\nI have an application which is a portal application and I want to allow other users add there applications to it. In order to do this i need some way to be able access there applications in mine.\nIs this possible?\n", "I got a bunch of servlet context listeners in my Java webapp, each of them gathering some information about the environment.\nSome of them depend on information which is gathered by another listener. But I can't determine the order in which the listeners are registered and called, so I have to duplicate code.\nI understand that the listeners are registered in the order their order in web.xml but this sounds a bit vague to me, too vague to rely on it.\nDo you have a hint how I can solve my problem?\n", "I have the following code:\nimport javax.swing.JEditorPane;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.ScrollPaneConstants;\n\n\npublic class ScratchPad {\n\n    public static void main(String args[]) throws Exception {\n        String html =\"<html>\"+\n\"<head>\"+\n\"<meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=ISO-8859-1\\\"/>\"+ // this is the problem right here\n\"<title>Error 400 BAD_REQUEST</title>\"+\n\"</head>\"+\n\"<body>\"+\n\"<h2>HTTP ERROR: 400</h2><pre>BAD_REQUEST</pre>\"+\n\"<p>RequestURI=null</p>\"+\n\"<p><i><small><a href=\\\"http://jetty.mortbay.org\\\">Powered by jetty://</a></small></i></p>\"+\n\"</body>\"+\n\"</html>\";\n        JFrame f = new JFrame();\n        JEditorPane editor = new JEditorPane();\n        editor.setEditable( false );\n        editor.getDocument().putProperty( \"Ignore-Charset\", \"true\" );  // this line makes no difference either way\n        editor.setContentType( \"text/html\" );\n        editor.setText( html );\n\n        f.add( new JScrollPane(editor, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,\n                                ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER) );\n        f.pack();\n        f.setVisible( true );\n    }\n\n}\n\nIf you run it, you'll notice the frame is blank. However, if I remove the \"; charset=ISO-8859-1\" from the meta tag, the HTML shows up. Any ideas why and what I can do to prevent this (other than manually hacking the HTML string over which I have no control...).\nEdit #1 - putProperty( \"Ignore-Charset\", \"true\" ) makes no difference unfortunately.\n", "While simple, interface-driven event notification frameworks in Java have been around since pre-Cambrian times (e.g. java.beans.PropertyChangeSupport), it is becoming increasingly popular for frameworks to use annotation-driven event notification instead.  \nFor an example, see JBossCache 2.2. The listener class has its listener methods annotated, rather than conforming to a rigid interface. This is rather easier to program to, and easier to read, since you don't have to write empty implementations of listener callbacks that you're not interested in (and yes, I know about listener adapter superclasses).\nHere's a sample from the JBossCache docs:\n@CacheListener\npublic class MyListener {\n   @CacheStarted\n   @CacheStopped\n   public void cacheStartStopEvent(Event e) {\n         switch (e.getType()) {\n            case Event.Type.CACHE_STARTED:\n               System.out.println(\"Cache has started\");\n               break;    \n            case Event.Type.CACHE_STOPPED:    \n               System.out.println(\"Cache has stopped\");\n               break;    \n         }\n   }    \n\n   @NodeCreated    \n   @NodeRemoved\n   @NodeVisited\n   @NodeModified\n   @NodeMoved\n   public void logNodeEvent(NodeEvent ne) {\n         log(\"An event on node \" + ne.getFqn() + \" has occured\");\n   }\n\n}\nThe problem with this, is that it's very much more of an involved process writing the framework to support this sort of thing, due to the annotation-reflection nature of it.\nSo, before I charge off down the road of writing a generic framework, I was hoping someone had done it already. Has anyone come across such a thing?\n", "Assuming we always use a Sun JVM (say, 1.5+), is it always safe to cast a Graphics reference to Graphics2D?  \nI haven't seen it cause any problems yet and, to my understanding, the Graphics class is legacy code but the Java designers didn't want to change the interfaces for Swing and AWT classes in order to preserver backwards compatibility.\n", "Seems like the subtraction is triggering some kind of issue and the resulting value is wrong.\ndouble tempCommission = targetPremium.doubleValue()*rate.doubleValue()/100d;\n\n78.75 = 787.5 * 10.0/100d\ndouble netToCompany = targetPremium.doubleValue() - tempCommission;\n\n708.75 = 787.5 - 78.75\ndouble dCommission = request.getPremium().doubleValue() - netToCompany;\n\n877.8499999999999 = 1586.6 - 708.75\nThe resulting expected value would be 877.85.\nWhat should be done to ensure the correct calculation?\n", "I checked out a project from SVN and did not specify the project type, so it checked out as a \"default\" project.  What is the easiest way to quickly convert this into a \"Java\" project?\nI'm using Eclipse version 3.3.2.\n", "If I have a class that needs to implement an interface but one or more of the methods on that interface don't make sense in the context of this particular class, what should I do?\nFor example, lets say I'm implementing an adapter pattern where I want to create a wrapper class that implements java.util.Map by wrapping some immutable object and exposing it's data as key/value pairs.  In this case the methods put and putAll don't make sense as I have no way to modify the underlying object.  So the question is what should those methods do?\n", "Currently, primary keys in our system are 10 digits longs, just over the limit for Java Integers. I want to avoid any maintenance problems down the road caused by numeric overflow in these keys, but at the same time I do not want to sacrifice much system performance to store infinitely large numbers that I will never need.\nHow do you handle managing the size of a primary key? Am I better off sticking with Java integers, for the performance benefit over the larger Long, and increasing the size when needed, or should I bite the bullet, go with Java Long for most of my PKs, and never have to worry about overflowing the sequence size?\n", "We are using Hibernate 3.1 with Spring MVC 2.0.  Our problem occurs when data is updated on the database directly (not in the application).  We use a Filter to filter a collection of results by whether the orders are opened or closed.  If we change an order on the DB to be closed, the filter returns the correct list, however, the object's status does not change.  \n\nWe do not have second-level or query caching enabled.\nThe retrieval of the collection from the DB is via Hibernate's Session.createQuery.    \nAlso, we have one SessionFactory wired, and using one Session throughout the application.  \n\nThe only time the object displays the correct status result is when the server is restarted--which we'd prefer not to have to do on a regular basis.  Please offer any insight, and if any other information is required, please ask.\nThanks!\n", "In my understanding of Servlet, the Servlet will be instantiated by the Container, its init() method will be called once, and the servlet will live like a singleton until the JVM shuts down.\nI do not expect my servlet to be serialized, since it will be constructed new when the app server recovers or is starts up normally. The servlet should hold no session-specific members, so it does not make sense for it to be written to disk and re-instantiated.\nIs there a practical use for this?\nMy concerns are, that I put some non-serializable fields within there and then my app will mysteriously fail in a production environment where a different sort of session replication will take place.\n", "I've got an UberJar with all my java classes, but want to execute this jar with an external persistence.xml file.  Per the specification, Hibernate (or any other JPA provider) looks for the persistence.xml file in any META-INF folder that's on the classpath, but I haven't been able to make this work with an UberJar.  Any ideas?  Is the UberJar's classloader restricted to the contents of the jar file?\n", "Basically, I'm trying to selectively copy a table from one database to another. I have two different [Oracle] databases (e.g., running on different hosts) with the same schema. I'm interested in a efficient way to load Table A in DB1 with the result of running a select on Table A in DB2. I'm using JDBC, if that's relevant.\n", "I work in an Oracle shop.  There's a toolset that consists of roughly 1000 Oracle Forms (using the Forms builder from 6i, early 90's software) with Oracle 10g on the back end.  It's serving roughly 500 unique people a month, with 200 concurrent connections at any given time during the work day.\nObviously this is something that needs to be addressed to get rid of the Forms runtime and move to a web based solution.  The tools need to be accessed from Windows, Linux, various UNIX's, VMS and Solaris.\nWhat options out there exist that would be feasible to migrate to?  Not only does it need to be feasible for migration but the development will need to be done by 8 or so engineers who support the tool set (and many of which who would prefer to stay put and not modernize this tool set).\nOracle offers a few solutions that convert Oracle Forms into a crappy Java Applet (it's a very terrible temporary solution).\nMy solution of choice has been migrating to Ruby on Rails (which I'm a big proponent of Rails) but this will involve a learning curve (which we'll hit with any solution) for other developers.  Also, the other difficulty in this is converting some very complex forms to HTML forms.\nHas anyone tackled such a solution?  Are there any packages offered by anyone outside of Oracle?\nAny specific Java Web frameworks?\nWould GWT, jQuery UI, ExtJS or any other JavaScript UI frameworks offer the rich user experience needed?\n.NET is a consideration but a last resort (mostly because of license costs, there's no room in the budget in addition to what we're paying for Oracle licenses).\n", "Many Java Apps don't use anti-aliased fonts by default, despite the capability of Swing to provide them.  How can you coerce an arbitrary java application to use AA fonts?  (both for applications I'm running, and applications I'm developing)\n", "I need to make some reflective method calls in Java. Those calls will include methods that have arguments that are primitive types (int, double, etc.). The way to specify such types when looking up the method reflectively is int.class, double.class, etc.\nThe challenge is that I am accepting input from an outside source that will specify the types dynamically. Therefore, I need to come up with these Class references dynamically as well. Imagine a delimited file a list of method names with lists of parameter types:\ndoSomething int double\ndoSomethingElse java.lang.String boolean\n\nIf the input was something like java.lang.String, I know I could use Class.forName(\"java.lang.String\") to that Class instance back. Is there any way to use that method, or another, to get the primitive type Classes back?\nEdit:\nThanks to all the respondents. It seems clear that there is no built-in way to cleanly do what I want, so I will settle for reusing the ClassUtils class from the Spring framework. It seems to contain a replacement for Class.forName() that will work with my requirements.\n", "How do I get a method's execution time?  Is there a Timer utility class for things like timing how long a task takes, etc?  \nMost of the searches on Google return results for timers that schedule threads and tasks, which is not what I want.\n", "I'm embedding a JRE in an existing C application using the invocation API, and\nI'd like to be able to use JDBC to work with the database in that code.  This\napplication is a transaction processing application, and the database\ntransaction is managed by code in the C portion of the application, and the\njava code must run within that transaction.  This means that I can't open a\nnew connection, I must re-use the existing one.\nSo, is there a way to provide JDBC access to an existing ODBC connection handle\nwhen setting up the JRE?  Some JDBC-ODBC bridge, perhaps, but unlike the\nexisting driver by that name, one that can be set up to use an existing\nconnection and transaction.\nMy other options, as I see them, are as follows:\n\nProvide java equivalents for every C operation that is possible in the\napplication (this is not desirable for a great many reasons -- we have a\ngreat many methods and duplicating them is a pain in the ass.\nWrite my own JDBC driver that wraps the ODBC connection with JNI.  Sure, it'd\nbe a fun weekend (month) project, but I expect to need something done faster\nthan that.\n\nHelp me, Stack-Overflow, you're my only hope!\n", "I'm a pretty experienced Java programmer that's been doing quite a bit of Win32 stuff in the last couple of years.  Mainly I've been using VB6, but I really need to move to something better.\nI've spent a month or so playing with Delphi 2009.  I like the VCL GUI stuff, Delphi seems more suited to Windows API calls than VB6, I really like the fact that it's much better at OO than VB6, and I like the unit-testing framework that comes with the IDE.\nBut I really struggle with the fact that there's no widely-used garbage collector for Delphi - having to free every object manually or use interfaces for everything seems to have a pretty big impact on the way that you can do things effectively in an object oriented way.  Also I'm not particularly keen on the syntax, or the fact that you have to declare variables all at the top of a method.\nI can handle Delphi, but I'm wondering if C++ Builder 2009 might be a better choice for me.  I know very little about C++ Builder and C++, but then I know very little about Delphi either.  I know there's a lot to the C++ language, but I suspect it's only necessary to know a subset of it to get things done productively...  I have heard that the C++ of today is a lot more productive to program in than the C++ of 10 years ago.  \nI'll be doing new development only so I wouldn't need to master every aspect of the C++ language - if I can find an equivalent for each of Java's language features I'll be happy enough, and as I progress I could start looking at the more advanced stuff a bit more.  (Sorry if that sounds painfully naive - if so please set me straight!)\nSo, for a Java programmer that's new to both Delphi and C++ Builder, which would you consider to be a better choice for productive development of Win32 exes and dlls, and why?  What do you see to be the pros and cons of each?\n", "I'd like to have it yell hooray whenever an assert statement succeeds, or at the very least have it display the number of successful assert statements that were encountered.\nI'm using JUnit4.\nAny suggestions?\n", "I need to be able to send compact messages (ideally small enough to fit into a single UDP packet) from Java.  It needs to be as efficient as possible - can anyone give me any pointers (other than constructing them manually)?\n", "I'm using a vendor API to obtain a JDBC connection to the application's database. The API works when running in the application server or when running in a stand-alone mode. I want to run a series of SQL statements in a single transaction. I'm fine with them occurring in the context of the JTA transaction if it exists. However, if it doesn't then I need to use the JDBC transaction demarcation methods. (Calling these methods on a JDBC connection that is participating in a JTA transaction causes a SQLException.)\nSo I need to be able to determine whether the Connection came from the JTA enabled DataSource or if it's just a straight JDBC connection.\nIs there a straight forward way to make this determination?\nThanks!\n", "I want to open and manipulate Excel files with ActiveX.  I've had success with Python's Win32 Extensions and Groovy's Scriptom libraries on other projects but need to do this is pure Java this time if possible.  \nI've tried the Jacob Java COM Bridge but that doesn't seem as straightforward or simple to use, and I couldn't get it to retrieve cell values (even though this is the library underlying Scriptom).  Are there alternatives?\n", "Working in Eclipse on a Dynamic Web Project (using Tomcat (v5.5) as the app server), is there some way I can configure things so Tomcat will start with security turned on (i.e. as if I ran catalina.sh start -security)?\n", "I have many years of experience in Java including Swing, Servlet and JDBC, but have never programmed for a Java EE server.\nMany job advertisements from large companies are specifically asking for Java EE experience.  Are there specific skills or development environments that I should learn to qualify for these kinds of jobs?\n", "I am getting very frustrated because I cannot seem to figure out why Collections shuffling is not working properly.\nLets say that I am trying to shuffle the randomizer array.  \nint[] randomizer = new int[] {200,300,212,111,6,2332}; \nCollections.shuffle(Arrays.asList(randomizer));\n\nFor some reason the elements stay sorted exactly the same whether or not I call the shuffle method.  Any ideas? \n", "Is a new (or different) instance of TestCase object is used to run each test method in a JUnit test case?  Or one instance is reused for all the tests?\npublic class MyTest extends TestCase {\n  public void testSomething() { ... }\n  public void testSomethingElse() { ... }\n}\n\nWhile running this test, how many instances of MyTest class is created?\nIf possible, provide a link to a document or source code where I can verify the behaviour.\n", "I am migrating a struts application from Websphere to Tomcat 6 and my application has support for Russian language. In Websphere we use to pass the JVM param -Dclinet.encoding.override=cp1251 but when I tried this with tomcat by passing the JVM argument -DFile.encoding=cp1251, the system doesnt accept input (I an any text box like in search screen) and responds with invalid input.\nI also tries passing the same parameter as of Websphere (-Dclinet.encoding.override=cp1251) but didnt solve my problem.\n", "What is the best way to write bytes in the middle of a file using Java?\n", "I'm working with JIntegra java com bridge.\nI have an object of type Object which true coclass is unknown.\nI need to check if that object can be casted to specific COM interface (which has a proxy class generated by JIntegra).\n", "Want to know what the stackoverflow community feels about the various free and non-free Java Profilers and profiling tools available.\n", "I have a program 'foo' running different threads, fooT1, fooT2, .. fooTn.\nNow if I want write another program 'bar', which could kill the thread fooTr, is that possible?\nReason: One of the thread fooTr tracks product license. If this thread is killed; one may run this product indefinitely. And killing 'foo' itself is tolerable as 'foo' as that is exactly what is being done on license expiry.\nSystem: Fedora Distribution of Linux\nNote: The commands which start JVM and program foo are placed in /etc/init.d and anyone who has a decent knowledge of rc.1/rc.2/rc.3 structure can change/add the starting parameters to these.\nI hope my question is clear. If not, I can always edit it.\n", "my java application has a loading task which requires two server calls which can be parallelized. So I launch a Thread t1 (doing task1) and a Thread t2 (for task2).\nI want then to do a specific task, task3 when both other tasks (1 & 2) are over. Naturally I can't tell which of task1 and task2 will finish first...\nWhich would be for you the simplest (and safest) way to code this ?\nThank you for your help\n", "I've got a Java client that needs to access a remote database. It is the goal to hide database credentials from the user and not hardcode any credentials within the code. Therefore, the database access will probably have to be on the server side.\nI'm restricted to use Ibatis as a data abstraction framework. Apart from that I have JBoss running on the webserver, allowing me to use data sources.\nHow would you design the remote database access and data serialization/deserialization. would you prefer web services of some kind of data stream over a socket? How would you realize either of both?\n", "I need to find out the time a function takes for computing the performance of the application / function.\nis their any open source Java APIs for doing the same ?\n", "After discovering Clojure I have spent the last few days immersed in it.  \nWhat project types lend themselves to Java over Clojure, vice versa, and in combination?\nWhat are examples of programs which you would have never attempted before Clojure?\n", "I want to put \"random\" output from my result set (about 1.5 mil rows) in a file in a sorted manner. I know i can use sort by command in my query but that command is \"expensive\". \nCan you tell me is there any algorithm for writing result set rows in a file so the content would be sorted in the end and can i gain in performance with this?\nI'm using java 1.6, and query has multiple joins.\n", "I am receiving an error from the Oracle JDBC driver (ojdbc14_g.jar) when trying to obtain a connection to a 10g database. The driver has an oracle.jdbc.driver.OracleLog class which could help but the Oracle documentation is unclear how best to use it. Has anyone had any success using this class? If so, some guidance on its use would be appreciated.\nFor info, the error I'm getting from the JDBC driver is:\njava.sql.SQLException: No more data to read from socket\n    at oracle.jdbc.driver.DatabaseError.throwSqlException\n        (DatabaseError.java:112)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException\n        (DatabaseError.java:146)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException\n        (DatabaseError.java:208)\n    at oracle.jdbc.driver.T4CMAREngine.unmarshalUB1\n        (T4CMAREngine.java:1118)\n    at oracle.jdbc.driver.T4CMAREngine.unmarshalSB1\n        (T4CMAREngine.java:1070)\n    at oracle.jdbc.driver.T4CTTIoauthenticate.receiveOsesskey\n        (T4CTTIoauthenticate.java:266)\n    at oracle.jdbc.driver.T4CConnection.logon\n        (T4CConnection.java:357)\n    at oracle.jdbc.driver.PhysicalConnection.<init>\n        (PhysicalConnection.java:414)\n    at oracle.jdbc.driver.T4CConnection.<init>\n        (T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection\n        (T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect\n        (OracleDriver.java:801)\n    at oracle.jdbc.pool.OracleDataSource.getPhysicalConnection\n        (OracleDataSource.java:297)\n    at oracle.jdbc.pool.OracleDataSource.getConnection\n        (OracleDataSource.java:221)\n    at oracle.jdbc.pool.OracleDataSource.getConnection\n        (OracleDataSource.java:165)\n\n", "I would like to be able to write a Java class in one package which can access non-public methods of a class in another package without having to make it a subclass of the other class. Is this possible?\n", "I've often heard criticism of the lack of thread safety in the Swing libraries.  Yet, I am not sure as to what I would be doing in my own code with could cause issues:\nIn what situations does the fact Swing is not thread safe come into play ?\nWhat should I actively avoid doing ?\n", "I'm trying to serialize objects from a database that have been retrieved with Hibernate, and I'm only interested in the objects' actual data in its entirety (cycles included).\nNow I've been working with XStream, which seems powerful. The problem with XStream is that it looks all too blindly on the information. It recognizes Hibernate's PersistentCollections as they are, with all the Hibernate metadata included. I don't want to serialize those.\nSo, is there a reasonable way to extract the original Collection from within a PersistentCollection, and also initialize all referring data the objects might be pointing to. Or can you recommend me to a better approach?\n(The results from Simple seem perfect, but it can't cope with such basic util classes as Calendar. It also accepts only one annotated object at a time)\n", "In a few large projects i have been working on lately it seems to become increasingly important to choose one or the other (XML or Annotation). As projects grow, consistency is very important for maintainability. \nMy question is, what do people prefer.  Do you prefer XML based or Annotation based? or Both? Everybody talks about XML configuration hell and how annotations are the answer, what about Annotation configuration hell?\n", "I use XFire to create a webservice wrapper around my application. XFire provides the webservice interface and WSDL at runtime (or creates them at compile time, don't know exactly).\nMany of our customers don't know webservices very well and additionally they simply don't read any external documentation like Javadoc. I know that it's possible to add documentation (for parameters and methods) directly to the WSDL file. \nI thought about Annotations or Aegis XML files but I don't know how... Do you know a way?\nEdit: I just found this JIRA issue but the last activity was 2006. Any ideas? \n", "Ok I give up, I've been trying to write a regexp in ant to replace the version number from something that I have in a properties file.  I have the following:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <feature\n          id=\"some.feature.id\"\n          label=\"Some test feature\"\n          version=\"1.0.0\"\n          provider-name=\"Provider\">\n\n   <plugin\n         id=\"test.plugin\"\n         download-size=\"0\"\n         install-size=\"0\"\n         version=\"0.0.0\"\n         unpack=\"false\"/>\n..... many plugins later....\n</feature>\n\nWhat I want to achieve is substitute the version number of the feature tag only, without changing the version of the xml or the version of the miriad of plugins in the file.\nThe problem I have is that I either match too much or too little.  Definitively matching \"version\" is not enough, because everything would be changed\nIs there any easy way to match then only the version inside the  tag, taking into consideration that the '0.0.0' could be any number?\n", "I'm creating a generic class and in one of the methods I need to know the Class of the generic type currently in use. The reason is that one of the method's I call expects this as an argument.\nExample:\npublic class MyGenericClass<T> {\n  public void doSomething() {\n    // Snip...\n    // Call to a 3rd party lib\n    T bean = (T)someObject.create(T.class);\n    // Snip...\n  }\n}\n\nClearly the example above doesn't work  and results in the following error: Illegal class literal for the type parameter T.\nMy question is: does someone know a good alternative or workaround for this?\n", "We use Spring + Hibernate for a Webapp.\nThis Webapp will be deployed on two unrelated production sites. These two production sites will use the Webapp to generate and use Person data in parallel.\nWhat I need to do, is to make sure that the Persons generated on these two unrelated production sites all have distinct PKs, so that we can merge the Person data from these two sites at any time.\nA further constraint imposed to me is that these PKs fit in a Long, so I can't use UUIDs.\nWhat I'm trying to do is to change the current hibernate mapping, that has sequence S_PERSON as generator:\n<hibernate-mapping default-cascade=\"save-update\" auto-import=\"false\">\n    <class name=\"com.some.domain.Person\" abstract=\"true\">\n        <id name=\"id\">\n            <column name=\"PERSON_ID\"/>\n            <generator class=\"sequence\">\n                <param name=\"sequence\">S_PERSON</param>\n            </generator>\n        </id>\n    ...\n</hibernate-mapping>\n\ninto something configurable, so that PERSON_ID have its PKs generated from different sequences (maybe S_PERSON_1 and S_PERSON_2)  depending on the deployment site's  Spring configuration files.\nOf course,\n            <generator class=\"sequence\">\n                <param name=\"sequence\">${sequenceName}</param>\n            </generator>\n\ndoesn't work, so I have to figure out something else... I guess my generator should point to a configurable bean that in turn points to a sequence or another, but I can't figure how to do that...\nAny ideas or workaround?\nThanks!\n", "This is a question for anyone who has the pleasure to work in both Java and C#.\nDo you find that you have to make a mental context switch of some kind when you move from one to the other?\nI'm working in both at the moment and because the syntax and libraries are so similar and yet subtly different I'm finding it frustrating when i move from one to the other.\nThis is more so than I've experienced moving between any other programming languages.\nDoes anyone have any tips for making your brain work differently for languages that are so similar?\n", "What is the easiest way to test (using reflection), whether given method (i.e. java.lang.Method instance) has a return type, which can be safely casted to List<String>?\nConsider this snippet:\npublic static class StringList extends ArrayList<String> {}\n\npublic List<String> method1();\npublic ArrayList<String> method2();\npublic StringList method3();\n\nAll methods 1, 2, 3 fulfill the requirement. It's quite easy to test it for the method1 (via getGenericReturnType(), which returns instance of ParameterizedType), but for methods2 and 3, it's not so obvious. I imagine, that by traversing all getGenericSuperclass() and getGenericInterfaces(), we can get quite close, but I don't see, how to match the TypeVariable in List<E> (which occurs somewhere in the superclass interfaces) with the actual type parameter (i.e. where this E is matched to String).\nOr maybe is there a completely different (easier) way, which I overlook?\nEDIT: For those looking into it, here is method4, which also fulfills the requirement and which shows some more cases, which have to be investigated:\npublic interface Parametrized<T extends StringList> {\n    T method4();\n}\n\n", "Often, I found OutOfMemoryException on IBM Websphere Application Server.\nI think this exception occur because my application retrieve Huge data from database. So, I limit all query don't retreive data more than 1000 records and set JVM of WAS follow\n+ Verbose garbage collection\n+ Maximum Heap size = 1024 (RAM on my server is 16 GB and now I already change to 8192)\n+ Debug arguments = -Djava.compiler=NONE -Xdebug -Xnoagent  \n                    -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=7777\n+ Generic JVM arguments = -Dsun.rmi.dgc.server.gcInterval=60000 \n                          -Dsun.rmi.dgc.client.gcInterval=60000 -Xdisableexplicitgc  \n                          -Dws.log=E:\\WebApp\\log -Dws.log.level=debug\n(ws.log and ws.log.level are my properties)\n\nAnd I found heapdump, javacore and snap files in profiles folder I think them can tell me about cause of problem but I don't know how to read/use heapdump, javacore and snap files.\nPlease tell me how to prevent/avoid/fix OutOfMemoryException.\nThanks\n", "I'm a big fan of Capistrano but I need to develop an automated deployment script for a Java-only shop.  I've looked at Ant and Maven and they don't seem to be well geared towards remote administration the way Capistrano is - they seem much more focused on simply building and packaging applications.  Is there a better tool out there?\n", "Is it possible to specify a Java classpath that includes a JAR file contained within another JAR file?\n", "I'm looking for something that will monitor Windows directories for size and file count over time. I'm talking about a handful of servers and a few thousand folders (millions of files).\nRequirements:\n\nNotification on X increase in size over Y time\nNotification on X increase in file count over Y time\nHistorical graphing (or at least saving snapshot data over time) of size and file count\nAll of this on a set of directories and their child directories\n\nI'd prefer a free solution but would also appreciate getting pointed in the right direction. If we were to write our own, how would we go about doing that? Available languages being Ruby, Groovy, Java, Perl, or PowerShell (since I'd be writing it).\n", "I have a SEAM app with some JPA/Hibernate entities. And I now wonder where to put my query, persistence methods.\nThe default choice seems to put them in a session bean layer with injected \n@PersistenceContext(...) @Inject EntityManager entityManager;\n\nBut I think I would rather have the methods on the entities themselves. What are the pro's/con's? \n\nTestablity?\nNiceness?\nPerformance?\n\nAnd does anyone have links to best practices for interacting with the EntityManager etc. from methods on the Entities rather than session beans?\nBest,\nAnders\n", "Let's say I have a java program that makes an HTTP request on a server using HTTP 1.1 and doesn't close the connection. I make one request, and read all data returned from the input stream I have bound to the socket.  However, upon making a second request, I get no response from the server (or there's a problem with the stream - it doesn't provide any more input). If I make the requests in order (Request, request, read) it works fine, but (request, read, request, read) doesn't.\nCould someone shed some insight onto why this might be happening? (Code snippets follow). No matter what I do, the second read loop's isr_reader.read() only ever returns -1.\ntry{\n        connection = new Socket(\"SomeServer\", port);\n        con_out = connection.getOutputStream();\n        con_in  = connection.getInputStream();\n        PrintWriter out_writer = new PrintWriter(con_out, false);\n        out_writer.print(\"GET http://somesite HTTP/1.1\\r\\n\");\n        out_writer.print(\"Host: thehost\\r\\n\");\n        //out_writer.print(\"Content-Length: 0\\r\\n\");\n        out_writer.print(\"\\r\\n\");\n        out_writer.flush();\n\n        // If we were not interpreting this data as a character stream, we might need to adjust byte ordering here.\n        InputStreamReader isr_reader = new InputStreamReader(con_in);\n        char[] streamBuf = new char[8192];\n        int amountRead;\n        StringBuilder receivedData = new StringBuilder();\n        while((amountRead = isr_reader.read(streamBuf)) > 0){\n            receivedData.append(streamBuf, 0, amountRead);\n        }\n\n// Response is processed here.\n\n        if(connection != null && !connection.isClosed()){\n            //System.out.println(\"Connection Still Open...\");\n\n        out_writer.print(\"GET http://someSite2\\r\\n\");\n        out_writer.print(\"Host: somehost\\r\\n\");\n        out_writer.print(\"Connection: close\\r\\n\");\n        out_writer.print(\"\\r\\n\");\n        out_writer.flush();\n\n        streamBuf = new char[8192];\n        amountRead = 0;\n        receivedData.setLength(0);\n        while((amountRead = isr_reader.read(streamBuf)) > 0 || amountRead < 1){\n            if (amountRead > 0)\n                receivedData.append(streamBuf, 0, amountRead);\n        }\n}\n        // Process response here\n    }\n\nResponses to questions:\nYes, I'm receiving chunked responses from the server.\nI'm using raw sockets because of an outside restriction.\nApologies for the mess of code - I was rewriting it from memory and seem to have introduced a few bugs.\nSo the consensus is I have to either do (request, request, read) and let the server close the stream once I hit the end, or, if I do (request, read, request, read) stop before I hit the end of the stream so that the stream isn't closed.\n", "i need to compress my css as part of my ant build. i noticed that csstidy does this, but it would not be easy to include this in my ant build because i would need to use a different binary on different platforms.\nso, is there a java css compressor that people use?\n", "One of the things that always bugs me about using Readers and Streams in Java is that the close() method can throw an exception. Since it's a good idea to put the close method in a finally block, that necessitates a bit of an awkward situation. I usually use this construction:\nFileReader fr = new FileReader(\"SomeFile.txt\");\ntry {\n    try {\n        fr.read();\n    } finally {\n        fr.close();\n    }\n} catch(Exception e) {\n    // Do exception handling\n}\n\nBut I've also seen this construction:\nFileReader fr = new FileReader(\"SomeFile.txt\");\ntry {\n    fr.read() \n} catch (Exception e) {\n    // Do exception handling\n} finally {\n    try {\n        fr.close();\n    } catch (Exception e) {\n        // Do exception handling\n    }\n}\n\nI prefer the first construction because there's only one catch block and it just seems more elegant. Is there a reason to actually prefer the second or an alternate construction?\nUPDATE: Would it make a difference if I pointed out that both read and close only throw IOExceptions? So it seems likely to me that, if read fails, close will fail for the same reason.\n", "It seems like most examples of JPA/Hibernate entity bean classes I've seen do no explicit synchronization.  Yet, it is possible to call getters/setters on those objects in the context of building up a transaction.  And it's possible for those methods to be called across multiple threads (although maybe that's unusual and weird).  \nIt seems like if it is built up across multiple threads then it's possible for changes to object state to be lost, which would be sad.  \nSo, is leaving out synchronization best practice?  Is the Hibernate instrumented code taking care of proper synchronization for me?  \nAs an example:\n@Entity\npublic class Ninja {\n  @Id @GeneratedValue\n  private Long id;\n\n  @Column \n  private String name;\n\n  @Column\n  private int throwingStars;\n\n  public Ninja() {}\n  public int getThrowingStars() { return throwingStars; } \n  public void addThrowingStar() { throwingStars += 1; }\n}\n\nDo the throwing star methods need synchronization?  I sure don't want my ninja to lose any throwing stars.\n", "What would you consider best practice for organizing JUnit tests in a project, and why? For example, do you keep your tests next to the classes they test? Do you put them in a separate but parallel package structure? Do you use a different organization strategy entirely?\n", "I'm not looking for java-web-start, I'm looking for a thick-client application installation toolkit.  I've got a stand-alone application that consists of several files (jar files, data files, etc) and would need to do some pretty standard installation tasks, like asking the user for target directories, have them locate some parts of their system - choose some of the per-machine or per-user configuration options and possibly try to detect some of the machine settings for them.\nI'm looking for something which is like the MSI or other wizard driven installation applications.  What's a good installer for Java?  It would be ideal if it were cross-platform capable (Linux, Mac OSX and Windows).\n", "Is there any advantage of using\njava.util.concurrent.CountdownLatch \ninstead of\njava.util.concurrent.Semaphore? \nAs far as I can tell the following fragments are almost equivalent:\n1. Semaphore\nfinal Semaphore sem = new Semaphore(0);\nfor (int i = 0; i < num_threads; ++ i)\n{\n  Thread t = new Thread() {\n    public void run()\n    {\n      try\n      {\n        doStuff();\n      }\n      finally\n      {\n        sem.release();\n      }\n    }\n  };\n  t.start();\n}\n\nsem.acquire(num_threads);\n\n2: CountDownLatch\nfinal CountDownLatch latch = new CountDownLatch(num_threads);\nfor (int i = 0; i < num_threads; ++ i)\n{\n  Thread t = new Thread() {\n    public void run()\n    {\n      try\n      {\n        doStuff();\n      }\n      finally\n      {\n        latch.countDown();\n      }\n    }\n  };\n  t.start();\n}\n\nlatch.await();\n\nExcept that in case #2 the latch cannot be reused and more importantly you need to know in advance how many threads will be created (or wait until they are all started before creating the latch.)\nSo in what situation might the latch be preferable?\n", "Full disclaimer: I'm a CS student, and this question is related to a recently assigned Java program for Object-Oriented Programming. Although we've done some console stuff, this is the first time we've worked with a GUI and Swing or Awt. We were given some code that created a window with some text and a button that rotated through different colors for the text. We were then asked to modify the program to create radio buttons for the colors instead\u2014this was also intended to give us practice researching an API. I've already handed in my assignment and received permission from my instructor to post my code here.\nWhat's the best way to implement button actions in Java? After some fiddling around, I created the buttons like this:\nclass HelloComponent3 extends JComponent\n    implements MouseMotionListener, ActionListener\n{\n    int messageX = 75, messageY= 175;\n\n    String theMessage;\n    String redString = \"red\", blueString = \"blue\", greenString = \"green\";\n    String magentaString = \"magenta\", blackString = \"black\", resetString = \"reset\";\n\n    JButton resetButton;\n    JRadioButton redButton, blueButton, greenButton, magentaButton, blackButton;\n    ButtonGroup colorButtons;\n\n    public HelloComponent3(String message) {\n\n    theMessage = message;\n\n    //intialize the reset button\n    resetButton = new JButton(\"Reset\");\n    resetButton.setActionCommand(resetString);\n    resetButton.addActionListener(this);\n\n    //intialize our radio buttons with actions and labels\n    redButton = new JRadioButton(\"Red\");\n    redButton.setActionCommand(redString);\n    ...\n\nAnd added action listeners...\nredButton.addActionListener(this);\nblueButton.addActionListener(this);\n...\n\nA stub was already created for the actionPerformed method to give us an idea on how to use it, but since there was only a single button in the template, it wasn't clear how to implement multiple buttons. I tried switching on a String, but quickly realized that, since a String isn't a primitive type, I couldn't use it for a switch statement. I could have improvised with an if-else chain, but this is what I came up with instead. It seems far from elegant, and there must be a better way. If there is, what is it? Is there a way to switch on a string? Or choose an action in a more scaleable fashion?\npublic void actionPerformed(ActionEvent e){\n\n    if (e.getActionCommand().equals(resetString)) {\n        messageX = 75; messageY = 175;\n        setForeground(Color.black);\n        blackButton.setSelected(true);\n        repaint();\n        return;\n    }\n\n    if ( e.getActionCommand().equals(redString) ) {\n        setForeground(Color.red);\n        repaint();\n        return;\n    }\n\n    if ( e.getActionCommand().equals(blueString) ) {\n        setForeground(Color.blue);\n        repaint();\n        return;\n    }\n\n    if ( e.getActionCommand().equals(greenString) ) {\n        setForeground(Color.green);\n        repaint();\n        return;\n    }\n\n    if ( e.getActionCommand().equals(magentaString) ) {\n        setForeground(Color.magenta);\n        repaint();\n        return;\n    }\n\n    if ( e.getActionCommand().equals(blackString) ) {\n        setForeground(Color.black);\n        repaint();\n        return;\n    }\n}\n\n", "I am building Java web applications, and I hate the traditional \"code-compile-deploy-test\" cycle. I want to type in one tiny change, then see the result INSTANTLY, without having to compile and deploy.\nFortunately, Jetty is great for this. It is a pure-java web server. It comes with a really nice maven plugin which lets you launch Jetty reading directly from your build tree -- no need to package a war file or deploy. It even has a scanInterval setting: put this to a non-zero value and it will watch your java files and various config files for changes and automatically re-deploy a few seconds after you make a change.\nThere's just one thing keeping me from nirvana. I have javascript and css files in my src/main/webapp directory which just get served up by Jetty. I would like to be able to edit these and have the changes show up when I refresh the page in the browser. Unfortunately, Jetty holds these files open so I can't (on Windows) modify them while it is running.\nDoes anyone know how to make Jetty let go of these files so I can edit them, then serve up the edited files for subsequent requests?\n", "We have a Java Applet built using AWT. This applet lets you select pictures from your hard drive and upload them to a server. The applet includes a scrollable list of pictures, which works fine in Windows, Linux and Mac OS X 10.5. We launch this applet via Java Web Start or within a web page. \nOur applet does not behave properly in Mac OS X 10.4, regardless of the version of Java (1.4 or 1.5). You can find a screenshot of the incorrect behaviour, when scrolling, here:\nhttp://www.lavablast.com/tmp/ui_error.png\nSimply put, sometimes when scrolling the pictures end up overlapping the header or footer of the application. This behaviour does not occur on other platforms. On Mac OS X 10.4, it shows the pictures in the incorrect location when scrolling, which would not be so bad if it refreshed the screen after painting the image at that location. However, it does not appear that the application knows it painted it incorrectly and thus does not refresh.\nIf the window is minimized, resized or even moved, the application is refreshed and the incorrectly positioned elements vanish and the application resumes normally. I spent quite some time trying to force a refresh of the background image unsuccessfully. (the repaint the image directly, repaint all children of a few panels, etc. ) Thus, I am looking for any tips that would help me  resolve this problem under Mac OS X 10.4 or, in the worst case, simply simulate a full applet refresh. \nUntil recently, everything was compatible with Java 1.1 but this has changed in a few locations which now require 1.4. I don't feel these changes created the issue, I am just providing this as extra information. If you are interested in implementation details of the scroll panel, I will investigate, but I am assuming this is a common platform bug for which workarounds must be known.\nTo replicate the problem, open the following Java Web Start application:\nhttp://www.lavablast.com/tmp/opal-webstart.php.jnlp\nSelect a folder containing lots of images and play with the scrollbar. At some point (fairly quickly), you should get the refresh problem. \nEdit: I followed the first suggestion here and replaced all my controls that feature background images with a Swing equivalent and the issue is still there. (Plus, there are numerous other fixes I would need to do to do a complete change). Any other ideas? A simple one line of code that forces a full refresh would be great :)\nEdit2: The main thread creates the panels and launches X threads. Using an observer/notifier pattern, the threads complete and notify the main control, which adds a panel to the page. This is done via an EventQueue.invokeLater which, unless I am mistaken, should run on the right thread. The issue is at its most severe when scrolling even if no extra threads are running (as during the loading).  \n", "We are introducing static analysis tools into the build system for our Java product. We are using Maven2 so Checkstyle and PMD integration come for free. However it looks like there is a large overlap in functionality between these two tools, in terms of enforcing basic style rules.\nIs there a benefit from utilizing both of these? I don't want to maintain 2 tools if one will work. If we choose one, which one should we use and why?\nWe are also planning on using FindBugs. Are there other static analysis tools we should look at?\nUpdate: Consensus seems to be that PMD is preferred over CheckStyle. I don't see a solid reason to use both, and I don't want to maintain 2 sets of rule files, so we will probably aim for PMD exclusively. We'll also be bringing in FindBugs, and perhaps, eventually, Macker to enforce architectural rules.\n", "Consider the following two ways of writing a loop in Java to see if a list contains a given value:\nStyle 1\nboolean found = false;\nfor(int i = 0; i < list.length && !found; i++)\n{\n   if(list[i] == testVal)\n     found = true;\n}\n\nStyle 2\nboolean found = false;\nfor(int i = 0; i < list.length && !found; i++)\n{\n   found = (list[i] == testVal);\n}\n\nThe two are equivalent, but I always use style 1 because 1) I find it more readable, and 2) I am assuming that reassigning found to false hundreds of times feels like it would take more time.  I am wondering: is this second assumption true?\nNitpicker's corner\n\nI am well aware that this is a case of premature optimization.  That doesn't mean that it isn't something that is useful to know.\nI don't care which style you think is more readable.  I am only interested in whether one has a performance penalty compared to the other.\nI know that style 1 has the advantage of allowing you to also put a break; statement in the if block, but I don't care.  Again, this question is about performance, not style.\n\n", "I'm using SimpleDateFormat with the pattern EEE MM/dd  hh:mma, passing in the date String Thu 10/9  08:15PM and it's throwing an Unparseable date exception. Why? I've used various patterns with SimpleDateFormat before so I'm fairly familiar with its usage. Maybe I'm missing something obvious from staring at it too long.\nThe other possibility is funky (technical term) whitespace. The context is a screen-scraping app, where I'm using HtmlCleaner to tidy up the messy html.  While I've found HtmlCleaner to be pretty good overall, I've noticed strange issues with characters that look like whitespace but aren't recognized as such with a StringTokenizer, for example. I've mostly worked around it and haven't dug into the character encoding or anything like that but am starting to wonder.\n", "In Java, is there an elegant way to detect if an exception occurred prior to running the finally block? When dealing with \"close()\" statements, it's common to need exception handling within the finally block. Ideally, we'd want to maintain both exceptions and propagate them up (as both of them may contain useful information). The only way I can think of to do this is to have a variable outside the try-catch-finally scope to save a reference to a thrown exception. Then propagate the \"saved\" exception up with any that occur in the finally block.\nIs there a more elegant way of doing this? Perhaps an API call that will reveal this?\nHere's some rough code of what I'm talking about:\nThrowable t = null; \ntry {   \n   stream.write(buffer); \n} catch(IOException e) {\n    t = e;   //Need to save this exception for finally\n    throw e;\n} finally {   \n    try {\n       stream.close();   //may throw exception\n   } catch(IOException e) {\n      //Is there something better than saving the exception from the exception block?\n      if(t!=null) {\n         //propagate the read exception as the \"cause\"--not great, but you see what I mean.\n         throw new IOException(\"Could not close in finally block: \" + e.getMessage(),t);\n      } else {\n         throw e;  //just pass it up\n      }    \n   }//end close\n}\n\nObviously, there are a number of other similar kludges that might involve saving the exception as an member variable, returning it from a method, etc... but I'm looking for something a bit more elegant.\nMaybe something like Thread.getPendingException() or something similar? For that matter, is there an elegant solution in other languages?\nThis question actually spawned from comments in another question that raised an interesting question. \n", "How can I monitor the memory being used by a native C DLL that is being called from Java via JNI?  Using standard Java monitoring tools and options I can see the Java memory space, but I cannot view any memory used by the C DLL.   Java is using ~70MB, but the task in the Task Manager shows 200Mb+, and I'd like to see what's in that 130MB extra if possible.\n", "I need to be able to receive a fax in a java application.  I was wondering what are some ways of doing this.  Efax?  Use a fax to email provider?\n", "To save some typing and clarify my code, is there a standard version of the following method?\npublic static boolean bothNullOrEqual(Object x, Object y) {\n  return ( x == null ? y == null : x.equals(y) );\n}\n\n", "I need to take a BufferedImage and convert it to YCbCr format so that I can do a more efficient Brightness/contrast manipulation on it, but I can't figure out how to do this.  I've tried ColorConvertOp but there doesn't seem to be an appropriate ColorSpace for YCbCr (though there is a type for it?).  \nI could do the conversion manually (the conversion is not difficult) but this would immediately kick my image out of the 'fast-path'.  Does anyone know a solution?\n", "I just noticed that java.beans.Introspector getBeanInfo does not pickup any superinterface's properties. Example:\npublic interface Person {\n    String getName();\n}\npublic interface Employee extends Person {\n    int getSalary();\n}\n\nIntrospecting on Employee only yields salary even though name is inherited from Person.\nWhy is this? I would rather not have to use reflection to get all the getters.\n", "I've been playing with Seam (2.0.2.SP1) for a few weeks, and I have most of the basics nailed down, but I haven't come up with a decent solution to the following.\nSuppose I have a form at /foo.xhtml, with a rewrite rule such that URLs like /foo.seam?id=<fooId> are converted to /foo/<fooId>.  There's a commandButton on the form with an action of #{fooHome.update}.  I also have a navigation rule in /foo.page.xml that redirects back to a nice, bookmark-friendly GET after a successful POST:\n<navigation from-action=\"#{fooHome.update}\">\n    <rule if-outcome=\"updated\">\n        <redirect view-id=\"/foo.xhtml\">\n            <param name=\"id\" value=\"#{fooHome.instance.id}\"/>\n        </redirect>\n    </rule>\n</navigation>\n\nThe problem is when a validation error occurs, at which point the navigation rules get skipped, and I end up at /foo after the POST.\nMy question:  Is there a way to redirect on validation errors, so I end up with a GET request for /foo/<fooId> instead of the POST to /foo?\nI tried rolling my own validation methods in fooHome, returning a \"failed\" outcome, but I don't really want invalid data getting past the validation phase (and thus into the current conversation).\n", "How is AWT implemented for Solaris?\nie: What native libraries, if any, is it dependent on.\n", "What is the largest heap you have personally used in a managed environment such as Java or .NET?  What were some of the performance issues you ran into, and did you end up getting a diminishing returns the larger the heap was? \n", "I am trying to convert an int into three bytes representing that int (big endian).\nI'm sure it has something to do with bit-wise and and bit shifting.  But I have no idea how to go about doing it.\nFor example:\nint myInt;\n\n// some code\n\nbyte b1, b2 , b3; // b1 is most significant, then b2 then b3.\n\n*Note, I am aware that an int is 4 bytes and the three bytes have a chance of over/underflowing.\n", "I have a production server running with the following flag: -XX:+HeapDumpOnOutOfMemoryError\nLast night it generated a java-38942.hprof file when our server encountered a heap error. It turns out that the developers of the system knew of the flag but no way to get any useful information from it.\nAny ideas?\n", "I ran into an interesting (and very frustrating) issue with the equals() method today which caused what I thought to be a well tested class to crash and cause a bug that took me a very long time to track down. \nJust for completeness, I wasn't using an IDE or debugger - just good old fashioned text editor and System.out's. Time was very limited and it was a school project.\nAnyhow - \nI was developing a basic shopping cart which could contain an ArrayList of Book objects. In order to implement the addBook(), removeBook(), and hasBook() methods of the Cart, I wanted to check if the Book already existed in the cart. So off I go -\npublic boolean equals(Book b) {\n    ... // More code here - null checks\n    if (b.getID() == this.getID()) return true;\n    else return false;\n}\n\nAll works fine in testing. I create 6 objects and fill them with data. Do many adds, removes, has() operations on the Cart and everything works fine. I read that you can either have equals(TYPE var) or equals(Object o) { (CAST) var } but assumed that since it was working, it didn't matter too much.\nThen I ran into a problem - I needed to create a Book object with only the ID in it from within the Book class. No other data would be entered into it. Basically the following:\npublic boolean hasBook(int i) {\n    Book b = new Book(i);\n    return hasBook(b);\n}\n\npublic boolean hasBook(Book b) {\n    // .. more code here\n    return this.books.contains(b);\n}\n\nAll of a sudden, the equals(Book b) method no longer works. This took a VERY long time to track down without a good debugger and assuming the Cart class was properly tested and correct. After swaapping the equals() method to the following:\npublic boolean equals(Object o) {\n    Book b = (Book) o;\n    ... // The rest goes here   \n}\n\nEverything began to work again. Is there a reason the method decided not to take the Book parameter even though it clearly  was  a Book object? The only difference seemed to be it was instantiated from within the same class, and only filled with one data member. I'm very very confused. Please, shed some light?\n", "I have a list of Date objects, and a target Date. I want to find the date in the list that's nearest to the target date, but only dates that are before the target date.\nExample:\n2008-10-1\n2008-10-2\n2008-10-4\nWith a target date of 2008-10-3, I want to get 2008-10-2\nWhat is the best way to do it?\n", "Lets assume my classes are loaded from a compressed .war file or loaded elsewhere, \nhow can I discover all the resources in a given package?  Enumerating files will not really work, since this is a war file.  Most likely this will involve using the current classloader?\nIs there a library out there that does something like that? Googling revealed only some hacks with listing files.\n", "I need to profile a java application for a customer. It's an eclipse/maven project, so I decided on using eclipse TPTP ( http://www.eclipse.org/tptp ).\nI tried to install eclipse TPTP through the update manager from a standard eclipse installation, but I gave up because of the unbelievable complex setup and downloading of dependencies with very cryptic names.\nThen I downloaded the \"all in one TPTP 4.5.1\" package from http://www.eclipse.org/tptp/home/downloads/?ver=4.5.1 but when I start it up, it pops up an error saying \"The eclipse executable launcher was unable to locate it's companion shared library\".\nI'm running Windows XP, Sun Java 1.5, and clicked on \"eclipse.exe\" in the unpacked eclipse TPTP installation.\nWhat do I need to do to get eclipse TPTP running?\n", "When using JDBC, I often come across constructs like  \nResultSet rs = ps.executeQuery();\nwhile (rs.next()) {\n    int id = rs.getInt(1);\n    // Some other actions\n}\n\nI asked myself (and authors of code too) why not to use labels for retrieving column values:  \nint id = rs.getInt(\"CUSTOMER_ID\");\n\nThe best explanation I've heard is something concerning performance. But actually, does it make processing extremely fast? I don't believe so, though I have never performed measurements. Even if retrieving by label would be a bit slower, nevertheless, it provide better readability and flexibility, in my opinion.\nSo could someone give me good explanation of avoiding to retrieve column values by column index instead of column label? What are pros and cons of both approaches (maybe, concerning certain DBMS)? \n", "I need to send email through an (external) SMTP server from Java however this server will only accept CRAM-MD5 authentication, which is not supported by JavaMail.\nWhat would be a good way to get these emails to send? (It must be in Java.)\n", "I'm trying to catch a ClassCastException when deserializing an object from xml.\nSo,\ntry {\n    restoredItem = (T) decoder.readObject();\n} catch (ClassCastException e){\n    //don't need to crash at this point,\n   //just let the user know that a wrong file has been passed.\n}\n\nAnd yet this won't as the exception doesn't get caught. What would you suggest?\n", "I'm looking for a log viewer with similar capablilties as Chainsaw, in which I can tail Glassfish log files over for instance SSH/SCP. Does anyone know if such a tool exist?\n", "We are hosting a site for a client and they want us to include the header they have on their server into the pages we are hosting.  So whenever they change it, it will automatically change on our site.\nWe are attempting to use the \"include\" tag in our JSP code.  The code we are using is as follows:\n<%@ include file=\"www.CLIENT.com/CLIENT2/MiddlePageFiles/Vendor_header.html\" %> .  \nWe also tried  \n<%@ include file=\"**http://**www.CLIENT.com/CLIENT2/MiddlePageFiles/Vendor_header.html\" %> .  \nUnfortunately these aren't working for us.  What seems to be happening is that the code is ONLY looking locally for this file and never seems to go \"outside\" to look for it.\nWe are able to pull the header into our page when we use an iframe but because of the way the header is constructed/coded the mouse over drop-down menus aren't working\nas they should when we use the iframe.  The drop-down menus are \"cascading\" underneath the rest of the content on the page and we weren't able to bring \nthem to the \"top\".  \nAs a temporary work around, were are hosting the HTML on our own servers.\nAny ideas?  \n", "What is the best way for converting phone numbers into international format (E.164) using Java?\nGiven a 'phone number' and a country id (let's say an ISO country code), I would like to convert it into a standard E.164 international format phone number.\nI am sure I can do it by hand quite easily - but I would not be sure it would work correctly in all situations.\nWhich Java framework/library/utility would you recommend to accomplish this?\nP.S. The 'phone number' could be anything identifiable by the general public - such as\n* (510) 786-0404\n* 1-800-GOT-MILK\n* +44-(0)800-7310658\n\nthat last one is my favourite - it is how some people write their number in the UK and means that you should either use the +44 or you should use the 0.\nThe E.164 format number should be all numeric, and use the full international country code (e.g.+44)\n", "Would it suppose any difference regarding overhead to write an import loading all the types within one package (import java.*); than just a specific type (i.e. import java.lang.ClassLoader)? Would the second one be a more advisable way to use than the other one?\n", "I'm trying to create a logger for a GWT application as an exercise to evaluate GWT. What I specifically want to do is have it so that I can post messages to a client side label at any point from the server side. So, if some interesting stuff has happened on the server the client can be updated.\nMy First question is, is this possible, I can understand it not being.\nSecond, if it is possible, where should I look for information, I've tried google and their documentation and all the showcases have nothing on this.\nThanks\n", "I have a lot of Java source code that requires custom pre-processing. I'd like rid of it but that's not feasible right now so I'm stuck with it. Given that I have an unfortunate problem that shouldn't have existed in the first place, how do I solve it using maven? \n(For the full story, I'm replacing a python-based build system with a maven one, so one improvement at a time please. Fixing the non-standard source code is harder, and will come later.)\nIs it possible using any existing Maven plugins to actually alter the source files during compile time? (Obviously leaving the original, unprocessed code alone)\nTo be clear, by preprocessing I mean preprocessing in the same sense as antenna or a C compiler would preprocess the code, and by custom I mean that it's completely proprietary and looks nothing at all like C or antenna preprocessing.\n", "I know this is a bit of a newbie question, but are there equivalents to C#'s string operations in Java?\nSpecifically, I'm talking about String.Format and String.Join.\n", "I'm working on a large legacy java application for which an important feature was automatic scaling of GUI Components based on monitor resolution.  We are upgrading the JVM on which it runs from 1.4.2 to 1.6 and now the scaling is broken due to a change in the implementation of java.awt.Container.getPreferredSize().\ngetPrefferedSize used to return the same object that you gave with setPreferredSize() (everything also goes for min/max size), so what we would do is call setPRefferedSize on every scaling component with a particular subclass of java.awt.Dimension, then we would walk the component hierarchy and update each scaling component whenever the resolution changed.\nHowever in Java 1.6 getPreferredSize returns a copy of the Dimension object you passed it, so it is no longer the right type and nothing gets scaled.\nI hacked together a solution pretty quick by overriding the Component class with my own implementation (thank you open source JRE) by placing it in front of the JRE on the class path.  However this solution is clearly not maintainable.\nDoes anyone else know any other solution to this problem, how would you implement GUI scaling in java 1.5/1.6?\n", "I am looking for a simple but \"good enough\" Named Entity Recognition library (and dictionary) for java, I am looking to process emails and documents and extract some \"basic information\" like:\nNames, places, Address and Dates\nI've been looking around, and most seems to be on the heavy side and full NLP kind of projects. \nAny recommendations ?\n", "I am looking for a framework to turn given Java class into WebService (may be with some limitations on method parameters etc)\nThanks\n", "I'm using the build-helper-maven-plugin to add it to my build, but I'd\nlike to see the XREF source for this extra source directory as well.\nFYI:\nmaven-jxr-plugin - The JXR plugin produces a cross-reference of the project's sources. The generated reports make it easier for the user to reference or find specific lines of code. It is also handy when used with the PMD plugin for referencing errors found in the code.\nbuild-helper-maven-plugin - This plugin contains various small independent goals to assist with Maven build lifecycle.\n", "Is there a way to make running junit test to stop after a test fails?\n", "I would like to dynamically create a minimal transparent bar graph to display over a canvas.\nI was thinking of using a custom renderer for a JButton or a JLabel; but how do I draw my bar graph in this renderer?\n", "How can I get list all the files within a folder recursively in Java? \n", "For a long time ago, I have thought that, in java, reversing the domain you own for package naming is silly and awkward.\nWhich do you use for package naming in your projects?\n", "I've had nothing but good luck from SO, so why not try again?\nI have an application that needs to show a different image based on the season of the year (spring, summer, winter, fall).   I have very specific start and end dates for these seasons.\nWhat I would like from you geniuses is a method called GetSeason that takes a date as input and returns a String value of Spring, Summer, Winter or Fall.   Here are the date ranges and their associated seasons:\nSpring:3/1-4/30\nSummer:5/1-8/31\nFall:9/1-10/31\nWinter: 11/1-2/28\nCan someone provide a working method to return the proper season?\nThanks everyone!\n", "I search an implementation of a network (or distributed) file system like NFS in Java. The goal is to extend it and do some research stuff with it. On the web I found some implementation e.g. DJ NFS, but the open question is how mature and fast they are.\nCan anyone purpose a good starting point, has anyone experience with such things?\nP.S. I know Hadoop DFS and I used it for some projects, but Hadoop is not a good fit for the things I want to do here. \n--EDIT--\nHadoop is really focused on highly scalable, high throughput computing without the possibilities to overwrite parts of a file and so an. The goal is you could use the filesystem e.g. for user home directories.\n--EDIT--\nMore Details: The idea is to modify such a implementation so that the files are not stored directly on a local filesystem, but to apply data de-duplication.\n", "We're running a java/hibernate app going against ORACLE 10g in TESTING. Once in a while, we're seeing this error:\n\nORA-00942: table or view does not exist\n\nIs there a way to find out which table/view(s) ORACLE is talking about ?\nI know that I can add extra levels of logging in hibernate which will show all the SQL that it executes on ORACLE and then run that SQL to figure out which TABLE/VIEW is missing or missing permission. But given that it is in TESTING/STAGING, that will slow down performance.\nIs there a simple way to narrow down on the Table/View Name ?\nUPDATE :\nJust so you know, I don't have control over the Oracle DB Server Environment. \nI enabled Hibernate tracing/logging and found a VALID SQL. I even put Wireshark(which is a TCP packet filter) to see what hibernate actually sends and that was a valid SQL. So, why would Oracle complain about it once in a while and NOT always.\n", "For a new Java web project I thought about using:\n\nEclipse as IDE\nMercurial for version control\nSome kind of bug tracking software\n\nI have heard of bug tracking software where you can tie a change to an unresolved bug when you check it in. I haven't used any such solution myself, but it sounds good. Are there any good bug tracking applications which work well in combination with Eclipse and Mercurial and lets you tie a change to an unresolved bug? And if not, are there at least good plug ins for Eclipse to use Mercurial for version control? Would it support hg rename and hg copy?\nIf I can get something good working using a mix of the above three components I plan on throwing Hudson into the mix as well. To be able to track how changes in the code base affects our unit tests.\nFirst of all I want feedback on the above question. But I would appreciate any thoughts regarding handling versioning, bug tracking and their integration into Eclipse.\n", "I have never seen a way to do this nicely, i would be interested in seeing how others do it.  Currently i format it like this:\npublic Booking createVehicleBooking(Long officeId, \n                                    Long start, \n                                    Long end,\n                                    String origin, \n                                    String destination, \n                                    String purpose,         \n                                    String requirements, \n                                    Integer numberOfPassengers) throws ServiceException {\n/*..Code..*/\n}\n\n", "I'm having a problem using the java.text.MessageFormat object.\nI'm trying to create SQL insert statements.   The problem is, when I do something like this:\nMessageFormat messageFormat = \"insert into {0} values ( '{1}', '{2}', '{3}', {4} )\";\nObject[] args = { str0, str1, str2, str3, str4 };\nString result = messageFormat.format(args);\n\nI get this for the value of result:\n\"insert into <str0> values ( {1}, {2}, {3}, <str4> )\"\n\nAs you can see, the problem is that any of the target locations that are enclosed by single quotes do not get replaced by arguments.   I have tried using double single quotes like this: ''{1}'' and escaped characters like this: \\'{1}\\' but it still gives the same result. \nedit: I forgot to mention that I also tried '''{1}'''.   The result is: \"insert into <str0> values ( '{1}', '{2}', '{3}', <str4> )\".   It is keeping the original quotes around but still not inserting the values.\nHow can I resolve this issue?   For the record, I am using JDK 6u7.\n", "Have a n-tire web application and search often times out after 30 secs.  How to detect the root cause of the problem?\n", "I need to do a lot of searches of certain patterns in source files while the user is changing them, so I need to do regexp matching that is efficient in time and memory. The pattern repeats itself so should be compiled once, but I need to be able to retrieve subparts (rather than just confirm a match)\nI'm considering using java.util.regexp or the Jakarta perl5util (if it still exists, been a few years since I used it), or perhaps the Eclipse search engine though I doubt that ti's smarter. \nIs there any significant performance difference between the two?\n", "I've made some unit tests (in test class). The tutorial I've read said that I should make a TestSuite for the unittests.\nOdd is that when I'm running the unit test directly (selecting the test class - Run as jUnit test) everything is working fine, altough when I'm trying the same thing with the test suite there's always an exception: java.lang.Exception: No runnable methods.\nHere is the code of the test suite:\nimport junit.framework.Test;\nimport junit.framework.TestSuite;\n\npublic class AllTests {\n\npublic static Test suite() {\n    TestSuite suite = new TestSuite(\"Test suite for com.xxx.yyyy.test\");\n    //$JUnit-BEGIN$\n    suite.addTestSuite(TestCase.class);\n    //$JUnit-END$\n    return suite;\n    }\n\n}\n\nAny ideas why this isn't working ?\n", "An interesting issue came up recently.  We came across some code that is using hashCode() as a salt source for MD5 encryption but this raises the question: will hashCode() return the same value for the same object on different VMs, different JDK versions and operating systems?  Even if its not guaranteed, has it changed at any point up til now?\nEDIT: I really mean String.hashCode() rather than the more general Object.hashCode(), which of course can be overridden.\n", "I am trying to store more than 1 data item at a single index in my linked-list.  All of the examples in my textbook seem to illustrate adding only 1 piece of data per index.  I'm assuming it is possible to add more?\nFor example, using the Collections API to store an integer I would do the following:\nLinkedList <Integer>linky = new LinkedList<Integer>();\nint num1 = 2, num2 = 22, num3 = 25, num4 = 1337;\nlinky.add(num1);\n\nHow would I go about adding num2, num3, and num4 to the same first index in the list?  Thanks guys.  \n", "I'm using Java for accessing Alfresco content server via it's web service API for importing some content into it. Content should have some NamedValue properties set to UTF-8(cyrillic) string. I keep getting the Sax parser exception:\norg.xml.sax.SAXParseException: An invalid XML character (Unicode: 0x1b) was found in the element content of the document.\n\nThe code looks something like this:\nNamedValue[] namedValueProperties = new NamedValue[2];\n\nnamedValueProperties[0] = Utils.createNamedValue(Constants.PROP_NAME, name );\nnamedValueProperties[1] = Utils.createNamedValue(\"{my.custom.model}myProperty\", cyrillicString);\n\nCMLCreate create = new CMLCreate(\"1\", parentReference, null, null, null, documentType, namedValueProperties);\nCML cml = new CML();\ncml.setCreate(new CMLCreate[]{create});\nUpdateResult[] results = null;\n\ntry {\n   results = WebServiceFactory.getRepositoryService().update(cml);\n} catch (...)\n    Here comes the \"org.xml.sax.SAXParseException\"\n} \n\nDoes anyone know how to solve this problem?\n", "When using threads I sometimes visualise them as weaving together 3 or more dimensional interconnections between Objects in a Spatial context.  This isn't a general use case scenario, but for what I do it is a useful way to think about it.\nAre there any APIs which you use which aid threading?\nHave you used threads in a manner which doesn't conceptualise as thread being a process?\n", "Say I have class A with\nclass A {\n  final String foo() {\n    // .. computing result, contacting database, whatever ..\n    return \"some computed value\";\n  }\n  // ... and a bazillion other methods, some of them final.\n}\n\nNow I have class B with\nclass B {\n  String methodIWantToTest(A a) {\n      String output = a.foo();\n      // ... whatever this method does, e.g.:\n      output += \"_suffix\";\n      return output;\n  }\n}\n\nHow would I go about unit testing this method? The reason foo() is final is because we don't want our classes which extend A to change its functionality. But at the same time to truly unit test the method, I don't want it to reach out and run the actual A.foo() method.\nIs there a way to, say, remove the final keyword and add an annotation along the lines of @finalUnlessTest? What would you recommend? Refactoring A to an interface would be very, very difficult, seeing as how it's one of our central classes and is unfortunately pretty extremely coupled.\nEdit #1 Sorry, forgot to mention, we're talking Java. We are not using a mocking framework as of yet.\nAnswer OK, so: wow. JMockit is just incredible and is in my eyes the killer app for testing legacy code. Unbelievably useful especially in my case. Thanks so much! You basically would do something like the following for my psuedo-example:\nclass AMock {\n   final String foo() {\n     return \"myTestValue\";\n   }\n}\nclass Test extends TestCase {\n   A mockedA;\n   B b;\n   protected void setUp() {\n      Mockit.redefineMethods( A.class, AMock.class );  // this \"pipes\" all mocked methods from A to AMock\n      mockedA = new A();    // NOT new AMock()!!!\n      b = new B();\n   }\n   public void testB() {\n      assertEquals(\"myTestValue\",mockedA.foo());\n      assertEquals(\"myTestValue_suffix\",b.methodIWantToTest(mockedA));\n   }\n}\n\nIs this frickin' cool or what?\n", "I am writing a drop-in replacement for a legacy application in Java.  One of the requirements is that the ini files that the older application used have to be read as-is into the new Java Application.  The format of this ini files is the common windows style, with header sections and key=value pairs, using # as the character for commenting.\nI tried using the Properties class from Java, but of course that won't work if there is name clashes between different headers.\nSo the question is, what would be the easiest way to read in this INI file and access the keys?\n", "I have a Java application that's very String-heavy - it takes a feed of huge numbers of big, different String objects.\nDo I need to worry about the String Constant Pool for memory and performance?\nIs there any way to see how big the pool is at any point?\n", "I want to intercept a request in a filter/servlet and add a few parameters to it. However, the request does not expose a 'setParameter' method and the parameter map when manipulated throws an error saying it is locked. Is there an alternative I can try?\n", "I'm hoping to find out what tools folks use to synchronize data between databases. I'm looking for a JDBC solution that can be used as a command-line tool.\nThere used to be a tool called Sync4J that used the SyncML framework but this seems to have fallen by the wayside.\n", "How do I stop a Java process gracefully in Linux and Windows?\nWhen does Runtime.getRuntime().addShutdownHook get called, and when does it not?\nWhat about finalizers, do they help here?\nCan I send some sort of signal to a Java process from a shell?\nI am looking for preferably portable solutions.\n", "Our situation is as follows, but I'm curious about this problem in any situation.\nWe have a framework consisting of 4 projects:\n\nbeans\nutil\nframework\nweb\n\nWe also have modules that need a version and depend on a version of beans and util.\nFinally we have a customer project that consists of a specific version of the core projects and one or more modules.\nIs there a standard way to version these projects?\nWhat seems simple to me is becoming really complicated as we try to deliver releases to QA and then manage our ongoing development with the maintenance of the release (release = tag and possible branch).\nI kind of prefer the following:\n1.2.0 - major and minor versions + release.\n1.2.1 - next release\n1.2.0_01 - bug fix in 1.2.0 release (branch)\netc.\nAny ideas?\n", "I'm about to inherit a rather large Java enterprise project that has a large amount of third party dependencies. There is at least seventy JARs included and some of them would seem to be unused e.g. spring.jar which I know isn't used.\nIt seems that over the years as various developers have touched upon the code base they have all tried out new project-of-the-month type libraries.\nHow does one go about getting rid of these? Within reason of course, as clearly some dependencies are helpful to not have to re-invent the wheel. \nI'm obviously interested in java based projects but I'm welcome to answers across languages that people think will be helpful.\n", "I'm working on a simple 2D game engine in Java, and having no trouble with FSEM, buffer strategies, and so on; my issue is with the mouse cursor. In windowed mode, I can hide the mouse cursor, no problem, by using setCursor() from my JFrame to set a wholly-transparent cursor. However, after a call to device.setFullScreenWindow(this) to go into FSEM, the mouse cursor comes back, and subsequent calls to setCursor() to set it back to my blank cursor have no effect. Calling device.setFullScreenWindow(null) allows me to get rid of the cursor again - it's only while I'm in FSEM that I can't get rid of it.\nI'm working under JDK 6, target platform is JDK 5+.\nUPDATE: I've done some more testing, and it looks like this issue occurs under MacOS X 10.5 w/Java 6u7, but not under Windows XP SP3 with Java 6u7. So, it could possibly be a bug in the Mac version of the JVM.\n", "When I get a java.io.InvalidClassException, it gives me the serialVersionUID that it wants, and the serialVersionUID that it got.  Is there an easy way to tell which of my dozens of jars using the wrong serialVersionUID?\nUpdate: I should mention that our intention is to update everything at the same time, but I'm trying to debug a problem in our build and deploy process.\n", "I'm actually developing a Web Service in Java using Axis 2.\nI designed my service as a POJO (Plain Old Java Object) with public method throwing exceptions :\npublic class MyService {\n   public Object myMethod() throws MyException {\n        [...]\n   }\n}\n\nI then generated the WSDL using Axis2 ant task. With the WSDL I generate a client stub to test my service. The generated code contains a \"MyExceptionException\" and the \"myMethod\" in the stub declare to throw this :\npublic class MyServiceStub extends org.apache.axis2.client.Stub {\n    [...]\n    public MyServiceStub.MyMethodResponse myMethod(MyServiceStub.MyMethod myMethod)\n    throws java.rmi.RemoteException, MyExceptionException0 {\n        [...]\n    }\n    [...]\n}\n\nBut when calling the method surrounded by a catch, the \"MyExceptionException\" is never transmitted by the server which transmit an AxisFault instead (subclass of RemoteException).\nI assume the problem is server-side but don't find where. The service is deployed as an aar file in the axis2 webapp on a tomcat 5.5 server. The services.xml looks like this :\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<service name=\"MyService\" scope=\"application\">\n    <description></description>\n    <messageReceivers>\n        <messageReceiver mep=\"http://www.w3.org/2004/08/wsdl/in-only\" \n            class=\"org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver\"/>\n        <messageReceiver mep=\"http://www.w3.org/2004/08/wsdl/in-out\"\n           class=\"org.apache.axis2.rpc.receivers.RPCMessageReceiver\"/>\n    </messageReceivers>\n    <parameter name=\"ServiceClass\">MyService</parameter>\n    <parameter name=\"ServiceTCCL\">composite</parameter>\n</service>\n\nIf the behavior is normal then I'll drop the use of Exceptions (which is not vital to my project) but I'm circumspect why Java2WSDL generate custom <wsdl:fault> in operation input & output declaration and WSDL2Java generate an Exception class (and declare to throw it in the stub method) if this is not usable...\n", "In Eclipse (Ganymede) I'm debugging some code that uses Apache Commons HttpClient and would like to step into the HttpClient code. I've downloaded the source code and tried to attach it in the normal fashion (CTRL-click on the method name and use the Attach Source button). I've tried to attach both as external file and external folder with no success. I've attached source before with no issues and can currently step into Hibernate source code successfully.\nI've even tried editing the .classpath file directly to add sourcepath manually. Still no luck. Refreshing the project, doing a clean build, closing and re-opening Eclipse do not solve the issue. Frustratingly, Eclipse provides no error message; it just does not attach the source.\nHere are the entries in .claspath:\n<!-- Hibernate. Works -->\n<classpathentry kind=\"lib\" path=\"/myEAP/EarContent/APP-INF/lib/hibernate.jar\" sourcepath=\"D:/Data/Download/hibernate-3.2.2.ga/hibernate-3.2/src\"/>\n\n<!-- Commons HttpClient. Will not attach -->\n<classpathentry kind=\"lib\" path=\"/myEAP/EarContent/APP-INF/lib/commons-httpclient.jar\" sourcepath=\"D:/Data/Download/commons-httpclient-3.1/src/java\"/>\n\nI've tried changing the path to D:/Data/Download/commons-httpclient-3.1/src and that does not work either.\nThe directory structure is:\nD\n  Data\n    Download\n      commons-httpclient-3.1\n        src\n          java\n            org\n              apache\n                commons\n                  httpclient\n                    AutoCloseInputStream.java\n                    ... (and so forth)\n\n", "Shouldn't this be a pretty straightforward operation? However, I see there's neither a size() nor length() method.\n", "Personally, I find the range of functionality provided by java.util.Iterator to be fairly pathetic. At a minimum, I'd like to have methods such as:\n\npeek() returns next element without moving the iterator forward\nprevious() returns the previous element\n\nThough there are lots of other possibilities such as first() and last().\nDoes anyone know if such a 3rd party iterator exists? It would probably need to be implemented as a decorator of java.util.Iterator so that it can work with the existing java collections. Ideally, it should be \"generics aware\".\nThanks in advance,\nDon\n", "I would like to set the log file name for a log4j and log4net appender to have the current date.  We are doing Daily rollovers but the current log file does not have a date.  The log file name format would be \nlogname.2008-10-10.log\n\nAnyone know the best way for me to do this?\nedit:  I forgot to mention that we would want to do this in log4net as well.  Plus any solution would need to be usable in JBoss.\n", "I'm a newbie on Ant so instead of posting this on the official buglist(because its probably not a bug), I decided to post here:\nWhen I run my Ant build.xml file everything works well except for the build directory, that instead of translating the property ${classes.dir} into build/ver_2.0.0/classes it creates a file ${cv.build.dir}/classes\nHere is part of the ant code:\n<!--Properties-->\n<property name=\"build.ver\"   value=\"2.0.0\"/> \n<property name=\"src.dir\"     value=\"src\"/>\n<property name=\"lib.dir\"     value=\"lib\"/>\n<property name=\"build.dir\"   value=\"build\"/>\n<property name=\"classes.dir\" value=\"${cv.build.dir}/classes\"/>\n<property name=\"jar.dir\"     value=\"${cv.build.dir}/jar\"/>\n<property name=\"main-class\"  value=\"br.uesc.computacao.estagio.controlador.ControladorModoExecucao\"/>\n<property name=\"cv.dir\"      value=\"ver_${build.ver}\"/>\n<property name=\"cv.src.dir\"  value=\"${src.dir}/${cv.dir}\"/>\n<property name=\"cv.build.dir\" value=\"${build.dir}/${cv.dir}\"/>\n...\n<target name=\"compile\">\n    <mkdir dir=\"${classes.dir}\"/>\n\n", "I need to run a JNDI provider without the overhead of a J2EE container.  I've tried to follow the directions in this article, which describes (on page 3) exactly what I want to do.  Unfortunately, these directions fail.  I had to add the jboss-common.jar to my classpath too.  Once I did that, I get a stack trace:\n$ java org.jnp.server.Main\n0    [main] DEBUG\norg.jboss.naming.Naming  - Creating\nNamingServer stub, theServer=null,rmiPort=0,clientSocketFactory=null,serverSocketFactory=org.jboss.net.sockets.DefaultSocketFactory@ad093076[bindAddress=null]\nException in thread \"main\"\njava.lang.NullPointerException\n     at org.jnp.server.Main.getNamingInstance(Main.java:301)\n     at org.jnp.server.Main.initJnpInvoker(Main.java:354)\n     at org.jnp.server.Main.start(Main.java:316)\n     at org.jnp.server.Main.main(Main.java:104)\n\nI'm hoping to make this work, but I would also be open to other lightweight standalone JNDI providers.  All of this is to make ActiveMQ work, and if somebody can suggest another lightweight JMS provider that works well outside of the vm the clients are in without a full blown app server that would work too.  \n", "Summary: I'm developing a persistent Java web application, and I need to make sure that all resources I persist have globally unique identifiers to prevent duplicates.\nThe Fine Print:\n\nI'm not using an RDBMS, so I don't have any fancy sequence generators (such as the one provided by Oracle)\nI'd like it to be fast, preferably all in memory - I'd rather not have to open up a file and increment some value\nIt needs to be thread safe (I'm anticipating that only one JVM at a time will need to generate IDs)\nThere needs to be consistency across instantiations of the JVM.  If the server shuts down and starts up, the ID generator shouldn't re-generate the same IDs it generated in previous instantiations (or at least the chance has to be really, really slim - I anticipate many millions of presisted resources)\nI have seen the examples in the EJB unique ID pattern article.  They won't work for me (I'd rather not rely solely on System.currentTimeMillis() because we'll be persisting multiple resources per millisecond).\nI have looked at the answers proposed in this question.  My concern about them is, what is the chance that I will get a duplicate ID over time?  I'm intrigued by the suggestion to use java.util.UUID for a UUID, but again, the chances of a duplicate need to be infinitesimally small.\nI'm using JDK6\n\n", "Java process control is notoriously bad - primarily due to inadequate support by the Java VM/JDK classes (e.g. java.lang.Process).\nI am wondering, are there any good open source libraries out there that are reliable.\nThe requirements would be:\n\nOSS\nStart/Stop processes\nManage STDIN and STDOUT\ncross platform (at least Linux,\nWindows, Solaris, HP, and IBM in\nthat order)\n(optional) restartable\n(desirable) mature\n\n", "I am creating a tool that will check dynamically generated XHTML and validate it against expected contents.\nI need to confirm the structure is correct and that specific attributes exist/match. There may be other attributes which I'm not interested in, so a direct string comparison is not suitable.\nOne way of validating this is with XPath, and I have implemented this already, but I would also like something less verbose - I want to be able to use CSS Selectors, like I can with jQuery, but on the server - within CFML code - as opposed to on the client.\nIs there a CFML or Java library that allows me to use CSS Selectors against an XHTML string?\n", "I have subclassed java.awt.Frame and have overridden the paint() method as I wish to draw the entire contents of the window manually.\nHowever, on the graphics object, (0,0) corresponds to the upper left hand corner of the window inside the title bar decoration, not the first drawable pixel.\nCan I determine the co-ordinate of the first drawable pixel (ie, the height of the decoration) in a cross-platform manner, avoiding using a Mac OS X-specific fudge factor? Will I be forced to nest a Panel component in order to find the actual drawable area of the window?\nHere my code fails to centre the blue square inside the paintable area of the window:\n@Override\npublic void paint (Graphics g) {\n    g.setColor(Color.BLUE);\n    g.setPaintMode();\n    g.fillRect(30, 30, getWidth()-60, getHeight()-60);\n}\n\nalt text http://x13n.com/paintable-area.png\n", "I want to create an ini file to store some settings for my application. Is it a good idea to find where the jar file is located and create an ini file there? If yes, then how can I find the location of the jar file? \nBut if you know a better solution for something like this, I would like to hear some of them.\nEDIT: I'm using mac and I want to run the same application in windows. I could write something in the System.getProperty(\"user.home\") directory, but I want to keep the system clean, if the user decides to remove the app. There is no a better way to store the settings file, for example in the same directory with the application?\n", "When using Maven to build an executable JAR, how do I specify the JVM arguments that are used when the JAR is executed?\nI can specify the main class using <mainClass>. I suspect there's a similar attribute for JVM arguments. Specially I need to specify the maximum memory (example -Xmx500m).\nHere's my assembly plugin:\n  <plugin>\n    <artifactId>maven-assembly-plugin</artifactId>\n    <configuration>\n      <descriptorRefs>\n        <descriptorRef>jar-with-dependencies</descriptorRef>\n      </descriptorRefs>\n      <archive>\n        <manifest>\n          <addClasspath>true</addClasspath>\n          <mainClass>com.me.myApplication</mainClass>\n        </manifest>\n      </archive>\n    </configuration>\n  </plugin>\n\nEdit/Follow-up: It seems that it might not be possible to specify JVM arguments for an executable JAR according to this and this post.\n", "Does anyone know of a really simple way of publishing Java methods as web services? I don't really want the overhead of using Tomcat or Jetty or any of the other container frameworks.\nScenario: I've got a set of Java methods in a service type application that I want to access from other machines on the local LAN.\n", "When I give Java and C large floats and doubles (in the billion range), they convert them to scientific notation, losing precision in the process. How can I stop this behavior?\n", "Yesterday @headius / Charles Nutter came up with a very interesting idea on twitter:\n@danny_l Gafter made the same mistake; I don't mean a forked Java any more than Groovy is a fork. I want a \"mostly Java\" with closures. \n\nor the reply by @danny_l / Danny Lagrouw:\n@headius or could the BGGA prototype be \"bolted on\" any future version of Java? That might be useful \n\nThat really is what I would like to see as well. Can't we have some sort of bytecode preprocessor to make the BGGA prototype work on any modern Java version? I mean scala, Groovy and JRuby have closures and produce valid bytecode!\nI would even like to help and put effort in it. Although I don't really know where to start.\n(the above is an excerpt of the blogpost I wrote about this topic)\nWhat do others think of this idea?\n", "I'm reading XML data from the HttpServletRequest in my servlets doPost() and passing the Reader from req.getReader() to a JAXB unmarshaller. I've tried a couple of different input XMLs but I always get this exception. \nSEVERE: Servlet.service() for servlet RESTPhotoAdmin threw exception\njava.lang.ArrayIndexOutOfBoundsException: 8192\n        at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:491)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2672)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)\n        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:508)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:807)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\n        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\n        at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:195)\n        at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:168)\n        at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:137)\n        at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:194)\n        at com.cantorva.gigcalendar.servlets.rest.RESTPhotoAdmin.doPost(RESTPhotoAdmin.java:41)\n\nThis only happens on my Live web server not on the local development machine. Whatever the input is (though I only tried approx 90k inputs) the message portion of the stack trace always reads \"8192\". I looked up XMLEntityScanner.java line 491 and can see a buffer being read, and the buffer is indeed an array. It makes sense to me that an 8k buffer can't be read using a zero based index of 8192 so this must be a bug - but what's the cause and what can I do?\n\nI'm asking this having already found the answer through lots of detective work. I wanted to save the next poor guy the hassle since Apache have already refused to fix it.\n", "From my small amount of experience, I've only used Ant as a build tool. Are there any other projects which are better, and why?\n", "I have a large collection of data in an excel file (and csv files). The data needs to be placed into a database (mysql). However, before it goes into the database it needs to be processed..for example if columns 1 is less than column 3 add 4 to column 2. There are quite a few rules that must be followed before the information is persisted.\nWhat would be a good design to follow to accomplish this task? (using java)\nAdditional notes\nThe process needs to be automated. In the sense that I don't have to manually go in and alter the data. We're talking about thousands of lines of data with 15 columns of information per line.\nCurrently, I have a sort of chain of responsibility design set up. One class(Java) for each rule. When one rule is done, it calls the following rule.\nMore Info\nTypically there are about 5000 rows per data sheet.  Speed isn't a huge concern because\nthis large input doesn't happen often.\nI've considered drools, however I wasn't sure the task was complicated enough for drols. \nExample rules:\n\nAll currency (data in specific columns) must not contain currency symbols.\nCategory names must be uniform (e.g. book case  = bookcase)\nEntry dates can not be future dates\nText input can only contain [A-Z 0-9 \\s]\n\netc..\nAdditionally if any column of information is invalid it needs to be reported when \nprocessing is complete \n(or maybe stop processing).\nMy current solution works. However I think there is room for improvement so I'm looking\n for ideals as to how it can be improved and or how other people have handled similar \nsituations.\nI've considered (very briefly) using drools but I wasn't sure the work was complicated enough to take advantage of drools.\n", "I just played with Java file system API, and came down with the following function, used to copy binary files. The original source came from the Web, but I added try/catch/finally clauses to be sure that, should something wrong happen, the Buffer Streams would be closed (and thus, my OS ressources freed) before quiting the function.\nI trimmed down the function to show the pattern:\npublic static void copyFile(FileOutputStream oDStream, FileInputStream oSStream) throw etc...\n{\n   BufferedInputStream oSBuffer = new BufferedInputStream(oSStream, 4096);\n   BufferedOutputStream oDBuffer = new BufferedOutputStream(oDStream, 4096);\n\n   try\n   { \n      try\n      { \n         int c;\n\n         while((c = oSBuffer.read()) != -1)  // could throw a IOException\n         {\n            oDBuffer.write(c);  // could throw a IOException\n         }\n      }\n      finally\n      {\n         oDBuffer.close(); // could throw a IOException\n      }\n   }\n   finally\n   {\n      oSBuffer.close(); // could throw a IOException\n   }\n}\n\nAs far as I understand it, I cannot put the two close() in the finally clause because the first close() could well throw, and then, the second would not be executed.\nI know C# has the Dispose pattern that would have handled this with the using keyword.\nI even know better a C++ code would have been something like (using a Java-like API):\nvoid copyFile(FileOutputStream & oDStream, FileInputStream & oSStream)\n{\n   BufferedInputStream oSBuffer(oSStream, 4096);\n   BufferedOutputStream oDBuffer(oDStream, 4096);\n\n   int c;\n\n   while((c = oSBuffer.read()) != -1)  // could throw a IOException\n   {\n      oDBuffer.write(c);  // could throw a IOException\n   }\n\n   // I don't care about resources, as RAII handle them for me\n}\n\nI am missing something, or do I really have to produce ugly and bloated code in Java just to handle exceptions in the close() method of a Buffered Stream?\n(Please, tell me I'm wrong somewhere...)\nEDIT: Is it me, or when updating this page, I saw both the question and all the answers decreased by one point in a couple of minutes? Is someone enjoying himself too much while remaning anonymous?\nEDIT 2: McDowell offered a very interesting link I felt I had to mention here:\nhttp://illegalargumentexception.blogspot.com/2008/10/java-how-not-to-make-mess-of-stream.html\nEDIT 3: Following McDowell's link, I tumbled upon a proposal for Java 7 of a pattern similar to the C# using pattern: http://tech.puredanger.com/java7/#resourceblock . My problem is explicitly described. Apparently, even with the Java 7 do, the problems remain.\n", "where do you store user-specific and machine-specific runtime configuration data for J2SE application?\n(For example, C:\\Users\\USERNAME\\AppData\\Roaming\\ on Windows and /home/username on Unix)\nHow do you get these locations in the filesystem in platform-independent way?\nThanks for your advice!\n", "What is the difference between applying the visitor design pattern to your code , and code like the following :\ninterface Dointerface {\n    public void perform(Object o);\n    }\n\npublic class T {\n    private Dointerface d;\n    private String s;\n\n    public String getS() {\n            return s;\n    }\n\n    public T(String s) {\n            this.s = s;\n    }\n\n    public void setInterface(Dointerface d) {\n            this.d = d;\n    }\n\n    public void perform() {\n            d.perform(this);\n    }\n\n    public static void main(String[] args) {\n            T t = new T(\"Geonline\");\n            t.setInterface(new Dointerface() {\n                    public void perform(Object o) {\n                            T a = (T)o;\n                            System.out.println(a.getS());\n                    }\n            });\n            t.perform();\n    }\n\n}\n\nI assume that by using interfaces , we're not really separating the algorithm.\n", "I'm experimenting with internationalization by making a Hello World program that uses properties files + ResourceBundle to get different strings.\nSpecifically, I have a file \"messages_en_US.properties\" that stores \"hello.world=Hello World!\", which works fine of course.\nI then have a file \"messages_ja_JP.properties\" which I've tried all sorts of things with, but it always appears as some type of garbled string when printed to the console or in Swing. The problem is obviously with the reading of the content into a Java string, as a Java string in Japanese typed directly into the source can print fine.\nThings I've tried:\n\nThe .properties file in UTF-8 encoding with the Japanese string as-is for the value. Something I read indicates that Java expects a properties file to be in the native encoding of the system...? It didn't work either way.\nThe file in default encoding (ISO-8859-1) and the value stored as escaped Unicode created by the native2ascii program included with Java. Tried with a source file in various Japanese encodings... SHIFT-JIS, EUC-JP, ISO-2022-JP.\n\nEdit:\nI actually figured this out while I was typing this, but I figured I'd post it anyway and answer it in case it helps anyone.\n", "I was asked to build a java system that will have the ability to load new code (expansions) while running. \nHow do I re-load a jar file while my code is running? or how do I load a new jar?\nObviously, since constant up-time is important, I'd like to add the ability to re-load existing classes while at it (if it does not complicate things too much).\nWhat are the things I should look out for?\n(think of it as two different questions - one regarding reloading classes at runtime, the other regarding adding new classes).\n", "I've just started using Java's enums in my own projects (I have to use JDK 1.4 at work) and I am confused as to the best practice of using JavaDoc for an enum.\nI have found that this method works, but the resultant code is a little unrefined:\n/**\n* Doc for enum\n*/\npublic enum Something {\n/**\n* First thing\n*/\nFIRST_THING,\n/**\n* Second thing\n*/\nSECOND_THING;\n//could continue with more\n}\n\nIs there any way I could break up the enum declarations on their own lines without chaining them by commas, or is this the best approach for using JavaDoc for an enum?\n", "Ryan Delucchi asked here in comment #3 to Tom Hawtin's answer:\n\nwhy is Class.newInstance() \"evil\"?\n\nthis in response to the code sample:\n// Avoid Class.newInstance, for it is evil.\nConstructor<? extends Runnable> ctor = runClass.getConstructor();\nRunnable doRun = ctor.newInstance();\n\nso, why is it Evil?\n", "I use public boolean mouseDown(Event ev, int x, int y) to detect a click of the mouse.\nI can distinguish between the right mouse button (ev.metaDown() is true) and the left and middle.\nHow can i differentiate the left from the middle button?\nOr if it is impossible with mouseDown, what should i use?\n", "Basically, I have a class with 2 methods: one to serialize an object into an XML file and another to read an object from XML.\nHere is an example of synchronized part from the method that restores an object:\n    public T restore(String from) throws Exception {\n     // variables declaration\n        synchronized (from) {\n            try {\n                decoder = new XMLDecoder(new BufferedInputStream(\n                        new FileInputStream(from)));\n                restoredItem = decoder.readObject();\n                decoder.close();\n            } catch (Exception e) {\n                logger.warning(\"file not found or smth: \" + from);\n                throw new Exception(e);\n            }\n        }\n    // try to cast it\n    }\n\nA similar approach is taken when serializing an object. Now, when I create a unit test which in turn creates 10 threads with each thread trying to serialize and instantly read either a Boolean or a String it would fail showing that ClassCastExceptions occur. This makes me think that I get serialization wrong (everything's ok in a single-threaded environment). If you've stayed with me down to this point :), here are the 2 issues I need your help on:\n\ndoes it make sense to synchronize on a string argument passed to method (considering there's a string pool in java)? BTW, I've tried synchronizing on the XMLSerializer class itself with result staying the same.\nhow do i correctly synchronize io operations on a single file?\n\n", "I am working on an implementation for RSS feeds for a collaboration platform.\nSay there are several thousands of different collaboration rooms where users can share information, and each needs to publish an RSS feed with news, changes, etc...\nUsing a plain servlet (i.e. http://www.site.com/RSSServlet/?id=roomID) is costly, every time an RSS client is calling the servlet (and this will happen say every 10 minutes for each user registered to an RSS feed on one of the thousand of rooms) this will trigger the entire servlet lifecycle, which is costly.\nOn the other hand, keeping a static XML file on the disk for each of the thousands of rooms is costly as well, in terms of hard disk space as well as IO operations...\nOne more limitation - using already existing frameworks might not be an option...\nSo, how would you implement RSS feeds in a Java envoronment?\n", "Got a class that serializes into xml with XMLEncoder nicely with all the variables there. Except for the one that holds java.util.Locale. What could be the trick?\n", "I need a way to bind POJO objects to an external entity, that could be XML, YAML, structured text or anything easy to write and maintain in order to create Mock data for unit testing and TDD. Below are some libraries I tried, but the main problems with them were that I am stuck (for at least more 3 months) to Java 1.4. I'd like any insights on what I could use instead, with as low overhead and upfront setup (like using Schemas or DTDs, for instance) as possible and without complex XML. Here are the libraries I really like (but that apparently doesn't work with 1.4 or doesn't support constructors - you gotta have setters):\nRE-JAXB (or Really Easy Java XML Bindings)\nhttp://jvalentino.blogspot.com/2008/07/in-response-to-easiest-java-xml-binding.html\n http://sourceforge.net/projects/rejaxb/\nSeamlessy binds this:\n<item>\n    <title>Astronauts' Dirty Laundry</title>\n    <link>http://liftoff.msfc.nasa.gov/news/2003/news-laundry.asp</link>\n    <description>Compared to earlier spacecraft, the International Space\n    Station has many luxuries, but laundry facilities are not one of them.\n    Instead, astronauts have other options.</description>\n    <pubDate>Tue, 20 May 2003 08:56:02 GMT</pubDate>\n    <guid>http://liftoff.msfc.nasa.gov/2003/05/20.html#item570</guid>\n</item>\n\nTo this:\n@ClassXmlNodeName(\"item\")\npublic class Item {\n private String title;\n private String link;\n private String description;\n     private String pubDate;\n     private String guid;\n\n     //getters and settings go here... \n}\n\nUsing:\nRss rss = new Rss();\nXmlBinderFactory.newInstance().bind(rss, new File(\"Rss2Test.xml\"));\n\nProblem: It relies on annotations, so no good for Java 1.4\njYaml\nhttp://jyaml.sourceforge.net/\nSeamlessly binds this:\n--- !user\nname: Felipe Coury\npassword: felipe\nmodules: \n   - !module\n     id: 1\n     name: Main Menu\n     admin: !user\n    name: Admin\n    password: password\n\nTo this:\npublic class User {\n    private String name;\n    private String password;\n    private List modules;\n}\n\npublic class Module {\n    private int id;\n    private String name;\n    private User admin;\n}\n\nUsing:\nYamlReader reader = new YamlReader(new FileReader(\"example.yaml\"));\nreader.getConfig().setClassTag(\"user\", User.class);\nreader.getConfig().setClassTag(\"module\", Module.class);\nUser user = (User) reader.read(User.class);\n\nProblem: It won't work with constructors (so no good for immutable objects). I'd have to either change my objects or write custom code por handling the YAML parsing.\nRemember that I would like to avoid - as much as I can - writing data descriptors, I'd like something that \"just works\".\nDo you have any suggestions?\n", "How can I access a public static member of a Java class from ColdFusion?\n", "I listen to the podcast java posse,  on this there is often discussion about components (note components are not (clearly) objects).  They lament the fact that Java does not have components, and contrast with .NET that does.  Components apparently makes developing applications (not just GUI apps) easier.\nI can figure from the discussion certain qualities that a component has,  its something to-do with decoupling (substituting one component for another is just a matter of plumbing).  It has something to-do with properties, it definitely has something to-do with events and delegates.   \nSo to the questions:\n./ can anyone explain to me what a component is. (and why java beans are not components).\n./ can anyone explain how they help development.\n./ can anyone explain why java does not have them if they are so useful.\n", "I know I can get the public static members of a class by doing something like:\nobj.getClass().getFields()\nbut this doesn't get me the enums.  I'd like to be able to get them from the Class object returned by the getClass method.  Any ideas?\n", "Is it possible to assign a custom ID to a HTTP session through Servlet API?\nI know that session handling from any application server, Tomcat for example, it's enough good to generate unique IDs. But I have custom unique session IDs based on information per user and time, so it won't be repeated.\nAnd I looked at every documentation about session handling but nowhere I find what I need.\nIt's a requirement for a project, so if it's not possible, I need to know the reasons (or it's only not available through API?).\n", "I am using the Maven (2) Cobertura plug-in to create reports on code coverage, and I have the following stub I am using in a method:\ntry {\n    System.exit(0);\n} catch (final SecurityException exception) {\n    exception.printStackTrace();\n}\nSystem.err.println(\"The program never exited!\");\n\nI know that I need to log the exception, etc, but that's not the point right now...Cobertura is refusing to acknowledge that the line after the stack trace is printed is covered.  That is, the line with the '}' before the System.err.println statement is not being shown as covered.  Before, the ending curly brace of the method was not being shown as covered, hence the System.err statement.  Any idea how I can convince cobertura's maven plugin that, since the System.err.println statement is covered, that ending brace has to have been covered?\nOh yeah, and I use a mock security manager to throw the security exception, since that's the easiest way I have found of making the test continue executing after the System.exit call.\n", "I am trying to connect to a webservice over ssl with a client certificate. Is there an elegant way of doing this apart from shoving things like \"javax.net.ssl.keyStore\" into System.properties.\nAny pointers to code examples would be appreciated.\n", "I've been given some code with commenting unlike anything I've come across before:\n//{{{ Imports\nimport imports;\n//}}}\n\nIt is the same for each method block,  \n//{{{ above the code block  \n//}}} below the code block\n\n\nALSO SEE: http://en.wikipedia.org/wiki/Folding_editor\n", "I have the following problem in my Data Structures and Problem Solving using Java book:\n\nWrite a routine that uses the Collections API to print out the items in any Collection in reverse order.  Do not use a ListIterator.\n\nI'm not putting it up here because I want somebody to do my homework, I just can't seem to understand exactly what it is asking for me to code!\nWhen it asks me to write a 'routine', is it looking for a single method?  I don't really understand how I can make a single method work for all of the various types of Collections (linked list, queue, stack).\nIf anybody could guide me in the right direction, I would greatly appreciate it.\n", "I'm trying to configure my WAR project build to fail if the line or branch coverage is below given thresholds. I've been using the configuration provided on page 455 of the excellent book Java Power Tools, but with no success. Here's the relevant snippet of my project's Maven 2 POM:\n<build>\n...\n<plugins>\n  <plugin>\n    <groupId>org.codehaus.mojo</groupId>\n    <artifactId>cobertura-maven-plugin</artifactId>\n    <version>2.2</version>\n    <configuration>\n      <check>\n        <!-- Per-class thresholds -->\n        <lineRate>80</lineRate>\n        <branchRate>80</branchRate>\n        <!-- Project-wide thresholds -->\n        <totalLineRate>90</totalLineRate>\n        <totalBranchRate>90</totalBranchRate>\n      </check>\n      <executions>\n        <execution>\n          <goals>\n            <goal>clean</goal>\n            <goal>check</goal>\n          </goals>\n        </execution>\n        <execution>\n          <id>coverage-tests</id>\n          <!-- The \"verify\" phase occurs just before \"install\" -->\n          <phase>verify</phase>\n          <goals>\n            <goal>clean</goal>\n            <goal>check</goal>\n          </goals>\n        </execution>\n      </executions>\n      <instrumentation>\n        <excludes>\n      <exclude>au/**/*Constants.*</exclude>\n        </excludes>\n        <ignores>\n      <ignore>au/**/*Constants.*</ignore>\n        </ignores>\n      </instrumentation>\n    </configuration>\n  </plugin>\n  ...\n</plugins>\n...\n</build>\n\nAs I say, the coverage report works fine, the problem is that the \"install\" goal isn't failing as it should if the line or branch coverage is below my specified thresholds. Does anyone have this working, and if so, what does your POM look like and which version of Cobertura and Maven are you using? I'm using Maven 2.0.9 and Cobertura 2.2.\nI've tried Googling and reading the Cobertura docs, but no luck (the latter are sparse to say the least).\n", "StringTokenizer? Convert the String to a char[] and iterate over that? Something else?\n", "I've inherited a mobile app which sends auth credentials (userid/password) in the clear.\nI'd imagine that I have 2 choices:\na) use TLS.\nb) write my own auth protocol.\nIf I choose (b) what are the key guidelines that I must follow to make it it secure.\ne.g. how to avoid replay attacks, encryption strategies.\n", "I'm having performance oddities with Java2D. I know of the sun.java2d.opengl VM parameter to enable 3D acceleration for 2D, but even using that has some weird issues. \nHere are results of tests I ran:\nDrawing a 25x18 map with 32x32 pixel tiles on a JComponent\nImage 1 = .bmp format, Image 2 = A .png format\nWithout -Dsun.java2d.opengl=true\n120 FPS using .BMP image 1\n13 FPS using .PNG image 2\nWith -Dsun.java2d.opengl=true\n12 FPS using .BMP image 1\n700 FPS using .PNG image 2\nWithout acceleration, I'm assuming some kind of transformation is taking place with every drawImage() I do in software, and is pulling down the FPS considerably in the case of .PNG. Why though, with acceleration, would the results switch (and PNG actually performs incredibly faster)?! Craziness!\n.BMP Image 1 is translated to an image type of TYPE_INT_RGB. .PNG Image 2 is translated to an image type of TYPE_CUSTOM. In order to get consistent speed with and without opengl acceleration, I have to create a new BufferedImage with an image type of TYPE_INT_ARGB, and draw Image 1 or Image 2 to this new image. \nHere are the results running with that:\nWithout -Dsun.java2d.opengl=true\n120 FPS using .BMP image 1\n120 FPS using .PNG image 2\nWith -Dsun.java2d.opengl=true\n700 FPS using .BMP image 1\n700 FPS using .PNG image 2\nMy real question is, can I assume that TYPE_INT_ARGB will be the native image type for all systems and platforms? I'm assuming this value could be different. Is there some way for me to get the native value so that I can always create new BufferedImages for maximum performance? \nThanks in advance...\n", "Is it possible to access the Abstract Syntax Tree(AST) inside the javac.exe programmatically? Could you provide an example?\n", "Could you provide an example of accessing the Eclipse Abstract Syntax Tree programmatically for a given piece of code?\neg getting the AST for:\n\nClass1.java\npackage parseable;\n\npublic class Class1 {\n\n/**\n * @param args\n */\npublic static void main(String[] args) {\n    System.out.println(\"Hello world!\");\n}\n\n}\n", "I'm looking for a very specific eclipse plugin that will tell me if a class in my project is not implementing hashCode or/and equals methods.\nDoes anyone know of such a plugin?\nThanks\n", "So, I understand that the following doesn't work, but why doesn't it work?\ninterface Adapter<E> {}\n\nclass Adaptulator<I> {\n    <E, A extends I & Adapter<E>> void add(Class<E> extl, Class<A> intl) {\n        addAdapterFactory(new AdapterFactory<E, A>(extl, intl));\n    }\n}\n\nThe add() method gives me a compile error, \"Cannot specify any additional bound Adapter<E> when first bound is a type parameter\" (in Eclipse), or \"Type parameter cannot be followed by other bounds\" (in IDEA), take your pick.\nClearly you're just Not Allowed to use the type parameter I there, before the &, and that's that. (And before you ask, it doesn't work if you switch 'em, because there's no guarantee that I isn't a concrete class.) But why not? I've looked through Angelika Langer's FAQ and can't find an answer.\nGenerally when some generics limitation seems arbitrary, it's because you've created a situation where the type system can't actually enforce correctness. But I don't see what case would break what I'm trying to do here. I'd say maybe it has something to do with method dispatch after type erasure, but there's only one add() method, so it's not like there's any ambiguity...\nCan someone demonstrate the problem for me?\n", "I have a JUnit 3.x TestCase which I would like to be able to parameterize. I'd like to parametrize the entire TestCase (including the fixture). However, the TestSuite.addTestSuite() method does not allow be to pass a TestCase object, just a class:\n   TestSuite suite = new TestSuite(\"suite\");\n   suite.addTestSuite(MyTestCase.class);\n\nI would like to be able to pass a parameter (a string) to the MyTestCase instance which is created when the test runs. As it is now, I have to have a separate class for each parameter value.\nI tried passing it an anynomous subclass:\n   MyTestCase testCase = new MyTestCase() {\n       String getOption() {\n           return \"some value\";\n       }\n   }\n\n   suite.addTestSuite(testCase.getClass());\n\nHowever, this fails with the assertion:\n   ... MyTestSuite$1 has no public constructor TestCase(String name) or TestCase()`\n\nAny ideas? Am I attacking the problem the wrong way?\n", "I have some code which I am making available via RMI.\nIf my program terminates abnormally, I won't have called Naming.unbind(), and a reference to the object will presumably be hanging around in the RMI registry, and subsequent calls to Naming.bind() with the same name will fail.\nHow do I make sure that rogue references are cleared up?\n", "What are the pros and cons of using Criteria or HQL? The Criteria API is a nice object-oriented way to express queries in Hibernate, but sometimes Criteria Queries are more difficult to understand/build than HQL. \nWhen do you use Criteria and when HQL? What do you prefer in which use cases? Or is it just a matter of taste?\n", "I'm trying to map a ManyToMany relationships between 2 tables, both having composite primary keys \nLSFOCTB which primary key is composed of : LSFOC_CODSOC,LSFOC_CODLSC,LSFOC_CODFOC\n\nLSFORTB which primary key is composed of : LSFOR_CODSOC,LSFOR_CODLSC,LSFOC_CODFOR\n\nThe table in charge of the ManyToMany relationship is :\n\nLSFCFTB, with : LSFCF_CODSOC,LSFCF_CODLSC,LSFCF_CODFOC,LSFCF_CODFOR\n\nSo, in the hibernate model mapping LSFOCTB, I tried : \n@ManyToMany(targetEntity = package.LSFOCTB.class, cascade = { CascadeType.PERSIST,\n            CascadeType.MERGE })\n    @JoinTable(name = \"LSFCFTB\", joinColumns = {\n            @JoinColumn(name = \"LSFCF_CODLSC\", referencedColumnName = \"LSFOC_CODLSC\"),\n            @JoinColumn(name = \"LSFCF_CODFOC\", referencedColumnName = \"LSFOC_CODFOC\"),\n            @JoinColumn(name = \"LSFCF_CODSOC\", referencedColumnName = \"LSFOC_CODSOC\") }, \n    inverseJoinColumns = { @JoinColumn(name = \"LSFCF_CODLSC\", referencedColumnName = \"LSFOR_CODLSC\"),\n            @JoinColumn(name = \"LSFCF_CODFOR\", referencedColumnName = \"LSFOR_CODFOR\"),\n            @JoinColumn(name = \"LSFCF_CODSOC\", referencedColumnName = \"LSFOR_CODSOC\") })\n\nbefore the getter.\nBut it won't work...\nThe error, when trying to access the distant collection is : \norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [beans-dao.xml]: Invocation of init method failed; nested exception is org.hibernate.MappingException: Repeated column in mapping for collection: package.LSFOCTB.distantCollection column: LSFCF_CODLSC\n\nHave already managed to make an hibernate mapping work for a ManyToMany relationship ?\nIf so, what is wrong with my mapping ?\nThank you for your help !\n", "I have two web applications running in the same Tomcat Instance. In one of these applications the user will have the ability to upload files such as images and pdf files. I would like the uploaded files to be available to the second application. \nIs there a best practice for such a scenario? Or just a pointer to a technology would be fine.\nI considered using web services but wondered if it was overkill.\nThanks\nVincent\n", "The Python standard lib comes with the module textwrap which provides a simple text wrapping functionality. Is there something comparable in the java standard library?\nin Python it is something like this:\n>>> t = \"a really really long string with lots of characters\"\n>>> import textwrap\n>>> textwrap.wrap(t, 20)\n['a really really long', 'string with lots of', 'characters']\n\n", "For example:\njavac Foo.java\nNote: Foo.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\n", "I need a way to do key-value lookups across (potentially) hundreds of GB of data.  Ideally something based on a distributed hashtable, that works nicely with Java.  It should be fault-tolerant, and open source.\nThe store should be persistent, but would ideally cache data in memory to speed things up.\nIt should be able to support concurrent reads and writes from multiple machines (reads will be 100X more common though).  Basically the purpose is to do a quick initial lookup of user metadata for a web-service.\nCan anyone recommend anything?\n", "Is there a way to tell the debugger to stop just before returning, on whichever statement exits from the method, be it return, exception, or fall out the bottom? I am inspired by the fact that the Java editor shows me all the places that my method can exit - it highlights them when you click on the return type of the method declaration, (Mark Occurrences enabled).\n[eclipse 3.4]\n", "I have a server written in Java that runs as a Windows service (thanks to Install4J).  I want this service to be able to download the latest version of the JAR file it runs from, and start running the new code.  The stitch is that I don't want the Windows service to fully exit.\nIdeally, I would accomplish this by a unix-style exec() call to stop the current version and run the new one.  How can I best accomplish this?\n", "I have a checkstyle suppression filter setup (e.g. ignore magic numbers in unit test code).\nThe suppression xml file resides in the same folder as the checkstyle xml file. However, where this file actually is varies:\non my windows dev box it is in d:\\dev\\shared\\checkstyle\\config\non the Linux CI server it will be in /root/repo/shared/checkstyle/config\non another developers box it could be anywhere (they check out their svn repo to).\nThe only \"consistent\" thing is that the suppression file is always in the same folder as the checkstyle xml file.\nI cannot work out how to ensure that this file is always consistently picked up. Also I don't know why checkstyle does not support embedded suppression within the checkstyle xml file.\nany help?\n", "Is there a standard idiom for comparing version numbers?  I can't just use a straight String compareTo because I don't know yet what the maximum number of point releases there will be.  I need to compare the versions and have the following hold true:\n1.0 < 1.1\n1.0.1 < 1.1\n1.9 < 1.10\n\n", "Is there any real practical difference between \"java -server\" and \"java -client\"?  All I can find on Sun's site is a vague \"-server starts slower but should run faster\".  What are the real differences?  (Using JDK 1.6.0_07 currently.)\n", "I would like to implement an interactive evolutionary algorithm for generating music (probably just simple melodies to start with).\nI'd like to use JFugue for this.  Its website claims that it is well-suited to evolutionary music, but I can't find any evolutionary examples.\nI already have a framework to provide the evolutonary machinery.  What I am looking for is some simple, working code that demonstrates viable approaches for the musical part (e.g. suitable encodings and evolutionary operators for the evolved tunes).\nI have some ideas how it might be achieved, but I'm not particularly knowledgeable about music theory, so to start with I'd like to just reimplement something that is known to work.\nSo does anybody have, or know of, any freely available code (any language is fine) that demonstrates one or more approaches to evolutionary music?\nEDIT: I'm specifically looking for evolutionary code rather than other techniques that could be used for music synthesis.\n", "Given an InputStream called in which contains audio data in a compressed format (such as MP3 or OGG), I wish to create a byte array containing a WAV conversion of the input data. Unfortunately, if you try to do this, JavaSound hands you the following error:\njava.io.IOException: stream length not specified\n\nI managed to get it to work by writing the wav to a temporary file, then reading it back in, as shown below:\nAudioInputStream source = AudioSystem.getAudioInputStream(new BufferedInputStream(in, 1024));\nAudioInputStream pcm = AudioSystem.getAudioInputStream(AudioFormat.Encoding.PCM_SIGNED, source);\nAudioInputStream ulaw = AudioSystem.getAudioInputStream(AudioFormat.Encoding.ULAW, pcm);\nFile tempFile = File.createTempFile(\"wav\", \"tmp\");\nAudioSystem.write(ulaw, AudioFileFormat.Type.WAVE, tempFile);\n// The fileToByteArray() method reads the file\n// into a byte array; omitted for brevity\nbyte[] bytes = fileToByteArray(tempFile);\ntempFile.delete();\nreturn bytes;\n\nThis is obviously less desirable. Is there a better way?\n", "Ok, so it's almost as easy as pie already. But it really should be as easier than it is.\nI think I should be able to connect to another database just by putting a JDBC connection string into TNSNAMES. Every database vendor has a type-4 JDBC driver and there's usually a good, free alternative.\nWith Oracle being such keen Java fans, and with a JVM built-in to the database I'd have thought a JDBC-based linking technology would have been a no-brainer. It seems a natural extension to have a JDBC connection string in TNSNAMES and everything would \"just work\" - you could \"sql*plus\" to anything.\nBut it doesn't work this way. If you want to connect to another non-Oracle database You have to buy something called Oracle Gateways or mess around with ODBC (through something called Generic Connectivity).\n[Originality warning... This is related to a previous question of mine but someone suggested I enter a supplementary comment as a separate question. Who am I to argue?]\n", "My goal is to recognize simple gestures from accelerometers mounted on a sun spot. A gesture could be as simple as rotating the device or moving the device in several different motions. The device currently only has accelerometers but we are considering adding gyroscopes if it would make it easier/more accurate. \nDoes anyone have recommendations for how to do this? Any available libraries in Java? Sample projects you recommend I check out? Papers you recommend?\nThe sun spot is a Java platform to help you make quick prototypes of systems. It is programmed using Java and can relay commands back to a base station attached to a computer. If I need to explain how the hardware works more leave a comment.\n", "Looking for a toolkit/SDK for general Blackberry development or application toolkits. Anything like an MVC framework?\n", "I'm using this code, and I get the stack trace that is listed below.\nI've got this working with just https and with basic authentication, but not ntlm.\nHttpClient client = null;\nHttpMethod get = null;\ntry\n{\n  Protocol myhttps = new Protocol(\"https\", ((ProtocolSocketFactory) new EasySSLProtocolSocketFactory()), 443);\n  Protocol.registerProtocol(\"https\", myhttps);\n  client = new HttpClient();\n  get = new GetMethod(\"https://tt.dummycorp.com/tmtrack/\");\n  Credentials creds = new NTCredentials(\"dummy\", \"dummy123\", \"host\", \"DUMMYDOMAIN\");\n  client.getState().setCredentials(AuthScope.ANY, creds);\n  get.setDoAuthentication(true);\n  int resultCode = client.executeMethod(get);\n  System.out.println(get.getResponseBodyAsString());\n}\n\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed\n    at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1591)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:187)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:181)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:975)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:123)\n    at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:516)\n    at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:454)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:884)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1096)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:623)\n    at com.sun.net.ssl.internal.ssl.AppOutputStream.write(AppOutputStream.java:59)\n    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\n    at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\n    at org.apache.commons.httpclient.HttpConnection.flushRequestOutputStream(HttpConnection.java:828)\n    at org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase.java:2116)\n    at org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1096)\n    at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\n    at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n    at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\n    at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\n    at com.dummycorp.teamtrack.TeamTrackHack.main(TeamTrackHack.java:38)\nCaused by: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed\n    at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:251)\n    at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:234)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:158)\n    at sun.security.validator.Validator.validate(Validator.java:218)\n    at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:126)\n    at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:209)\n    at org.apache.commons.httpclient.contrib.ssl.EasyX509TrustManager.checkServerTrusted(EasyX509TrustManager.java:104)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:967)\n    ... 17 more\nCaused by: java.security.cert.CertPathValidatorException: signature check failed\n    at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:139)\n    at sun.security.provider.certpath.PKIXCertPathValidator.doValidate(PKIXCertPathValidator.java:316)\n    at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:178)\n    at java.security.cert.CertPathValidator.validate(CertPathValidator.java:250)\n    at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:246)\n    ... 24 more\nCaused by: java.security.SignatureException: Signature does not match.\n    at sun.security.x509.X509CertImpl.verify(X509CertImpl.java:446)\n    at sun.security.provider.certpath.BasicChecker.verifySignature(BasicChecker.java:133)\n    at sun.security.provider.certpath.BasicChecker.check(BasicChecker.java:112)\n    at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:117)\n    ... 28 more\n\n", "I have a Java Applet that uses AWT. In some (rare) circumstances, the platform does not refresh the screen properly. I can move or minimize/maximize the window and see that my applet refreshed properly. I am looking for code that will give me the fullest possible applet screen repaint, simulating the behaviour of a minimize/maximize. \nI've tried calling various combinations of paint()/repaint()/invalidate()/update() on the parent containers and recursing on various children. However, no combination (that I've found) cleans up the framework bugs that I am encountering. I am looking for techniques to fully refresh the applet, even if they may cause some slight flickering, as I will be invoking this code only on the problematic platform. \nIn my tests, moving to Swing did not help resolve my problem. \nBy the way, this is a simplification of my previous (more complicated) post: Java Applet, AWT Refresh problem Mac OS X 10.4 \nEdit: Investigation in threading did not solve this problem. Marking best answer as the good one. \n", "How can i generate bytecode (Byte[]) from a String at runtime, without using a \"javac\" process or something of this sort? is there a simple way of calling the compiler like that?\nlater addition:\nI chose to accept the solution that actually best fits my situation. my application is a hobby-project still in design sketch phase, and it is the right time to consider inserting new technology. also, since the guy that's supposed to help me with BL is a JavaScript developer, the idea of using a JavaScript interpreter instead of a stub compiler+classLoader seems more appealing to me in this situation. other (unaccepted) answers of this question are informative and, as far as i can tell, answer my question very well, so thanks, but I'm going to try Rhino :)\n", "I am new to Java and am trying to run a program using Eclipse. But I have no idea how to get the command prompt running in with Eclipse... \nI did some online research and couldn't get anything consolidated!\nUpdate:\nI'm not using an applet. It's a normal Java program trying to read a line from command prompt. I'm trying to do system programming.\n", "I'm creating a custom Java Struts tag that is for building and formatting an html select box in a standardised way (part of our usability guidelines).\nEach select box has an additional/initial value which describes the requirement of the value returned by the select element, i.e.:\n\nMandatory - with the label \"Please Select\"\nOptional - \"None Selected\"\nSelect All - \"Select All\"\n\nThe custom tag will have a property that controls which of these are to be used.\nSo the problem is, I need to think of a variable name that can adequately explain that is is holding one of these three values!\nI will be commenting the code in any case, but I'd prefer that co-workers didn't have to look up the source code to remember what the tag variable's purpose is.\nEdit: To put some context around this problem, the usability strategy that I'm implementing here is that if there are more than 5 items that can be selected, the options should appear as a select box. 5 or less items will appear as radio buttons.\nWhen radio buttons are being used, the mandatory label won't be displayed (form validation will complain if there's no value selected anyway).  \n", "I have a simple GUI component written in Java.  The class draws an analog clock in a java.awt.canvas.\nThis canvas is then contained in a JFrame - What I want to do is give the canvas a 3d \"raised\" effect - almost like adding a drop shadow to a photo.\nIs there a simple way to do this?\n", "What is the best method of performing an scp transfer via the Java programming language? It seems I may be able to perform this via JSSE, JSch or the bouncy castle java libraries. None of these solutions seem to have an easy answer.\n", "I found a wonderful open source Java program that I'm translating into C#. The built-in translator in Visual Studio got me started and I've now spent about a month translating the rest manually line by line. I've completed over 15,000 lines of translation and the only thing that remains is trying to figure out how to convert their MemoryImageSource stuff into C#/.NET.\nWhat's the .NET equivalent way of implementing this stuff? Is there a native .NET library already?\n", "I have the following fields:\n\nInventory control (16 byte record)\n\n\nProduct ID code (int \u2013 4 bytes)\nQuantity in stock (int \u2013 4 bytes)\nPrice (double \u2013 8 bytes)\n\n\nHow do I create a fixed length random access file using the above lengths? I tried some examples online, but I either get an EOF exception or random address values when I try to access them.\nI tried some more examples and couldn't understand the concept very well. I'm trying a project with it and will try to explore more on it.\nHere is some example data. There might be holes in the data where No. in stock could be 23 == 023.\n          Quantity\nID. No.   In Stock   Price\n\n-------   --------   ------\n 1001       476      $28.35\n 1002       240      $32.56\n 1003       517      $51.27\n 1004       284      $23.75\n 1005       165      $32.25\n\nThanks for the help.\n", "I have an application running in tomcat that has a bunch of configuration files that are different for each environment it runs in (dev, testing, and production). But not every line in a config file will be different between environments so there's invariably duplicated information that doesn't get updated if something changes. \nIs there a good framework/library that collapses the separate files into one with environment specific blocks? Or some other way of dealing with this?\n", "Can Eclipse make parameters for generated methods (overwriting, implementing interface, etc.) final, and if so, how?\nIf I'm not mistaken, IntelliJ had an option for it. I could not find something similar in Eclipse.\nI have become accustomed to making parameters final manually, but I am hoping for an automatic solution.\n", "I'm using the MIDP 2.0 (JSR 118) and I just noticed that there is no reader for strings in J2ME.\nDoes anyone know how you are supposed to read Strings from an InputStream or InputStreamReader in a platform independent way (i.e. between two java enabled cell phones of different models)?\n", "Is there a way to find all the class dependencies of a java main class?\nI have been manually sifting through the imports of the main class and it's imports but then realized that, because one does not have to import classes that are in the same package, I was putting together an incomplete list.\nI need something that will find dependencies recursively (perhaps to a defined depth).\n", "Is there a way to map a logical font (e.g. SansSerif) to a different font when running a Java program? If so, does the method differ between Java VM versions?\n", "I provide a web service to my organisation. i was wondering would anyone recommeding the use of apache cactus for setting up a testing framework or has anyone worked with any other web service frameworks that may be useful?\nThanks\nDamien\n", "Can you recommend a Java library for reading, parsing, validating and mapping rows in a comma separated value (CSV) file to Java value objects (JavaBeans)?\n", "How can I use/display characters like \u2665, \u2666, \u2663, or \u2660 in Java/Eclipse?\nWhen I try to use them directly, e.g. in the source code, Eclipse cannot save the file.\nWhat can I do?\nEdit: How can I find the unicode escape sequence?\n", "How do I split strings in J2ME in an effective way?\nThere is a StringTokenizer or String.split(String regex) in the standard edition (J2SE), but they are absent in the micro edition (J2ME, MIDP).\n", "I use this code to create a .zip with a list of files:\nZipOutputStream zos = new ZipOutputStream(new FileOutputStream(zipFile));\n\nfor (int i=0;i<srcFiles.length;i++){\n    String fileName=srcFiles[i].getName();\n    ZipEntry zipEntry = new ZipEntry(fileName);\n    zos.putNextEntry(zipEntry);\n    InputStream fis = new FileInputStream(srcFiles[i]);\n    int read;\n    for(byte[] buffer=new byte[1024];(read=fis.read(buffer))>0;){\n        zos.write(buffer,0,read);\n    }\n    fis.close();\n    zos.closeEntry();\n}\nzos.close();\n\nI don't know how the zip algorithm and the ZipOutputStream works, if it writes something before I read and send to 'zos' all of the data, the result file can be different in size of bytes than if I choose another buffer size. \nin other words I don't know if the algorithm is like:\nREAD DATA-->PROCESS DATA-->CREATE .ZIP\nor\nREAD CHUNK OF DATA-->PROCESS CHUNK OF DATA-->WRITE CHUNK IN .ZIP-->|\n^-----------------------------------------------------------------------------------------------------------------------------\nIf this is the case, what buffer size is the best?\nUpdate:\nI have tested this code, changing the buffer size from 1024 to 64, and zipping the same files: with 1024 bytes the 80 KB result file was 3 bytes smaller than with 64 bytes buffer. Which is the best buffer size to produce the smallest .zip in the fatest time?\n", "I have a system where I query a REST / Atom server for documents. The queries are inspired by GData and look like :\nhttp://server/base/feeds/documents?bq=[type in {'news'}]\n\nI have to parse the \"bq\" parameter to know which type of documents will be returned without actually doing the query. So for example,\nbq=[type = 'news']                      ->  return [\"news\"]\nbq=[type in {'news'}]                   ->  return [\"news\"]\nbq=[type in {'news', 'article'}]        ->  return [\"news\", \"article\"]\nbq=[type = 'news']|[type = 'article']   ->  return [\"news\", \"article\"]\nbq=[type = 'news']|[title = 'My Title'] ->  return [\"news\"]\n\nBasically, the query language is a list of predicate that can be combined with OR (\"|\") or AND (no separator). Each predicate is constraint on a field. The constraint can be =, <, >, <=, >=, in, etc... There can be spaces everywhere where it make sense.\nI'm a bit lost between Regexp, StringTokenizer, StreamTokenizer, etc... and I am stuck with Java 1.4, so no Parser ...\nWho can point me in the right direction ?\nThanks !\n", "When indenting java code with annotations, vim insists on indenting like this:\n@Test\n    public void ...\n\nI want the annotation to be in the same column as the method definition but I can't seem to find a way to tell vim to do that, except maybe using an indent expression but I'm not sure if I can use that together with regular cindent.\nedit: The filetype plugin was already turned on I just got a bit confused about indenting plugins. The accepted answer may be a bit hackish but works for me as well.\n", "What alternatives do I have to implement a union query using hibernate? I know hibernate does not support union queries at the moment, right now the only way I see to make a union is to use a view table.\nThe other option is to use plain jdbc, but this way I would loose all my example/criteria queries goodies, as well as the hibernate mapping validation that hibernate performs against the tables/columns.\n", "How would you unittest a safe-publication guarantee in Java?\nTo be concrete:\nI have a Cache interface that has a method getOrLoad(K key, ObjectLoader loader). Thing is, if a Cache cannot find an object for the given key, then it must load it from the ObjectLoader instance. However, the Cache is required to guarantee that the act of loading an object from the loader and putting it into the Cache, constitutes a safe publication.\nI'm now in the midst of writing a generic junit test for this Cache interface and I wonder how I would test that the Cache implementations adhere to this safe publication guarantee.\nAny ideas? The actual code is in the test-systest module part of the code repository in case you want to poke at the real files.\n", "Is it possible to reference system environment variables (as opposed to Java system properties) in a log4j xml configuration file?\nI'd like to be able to do something like:\n<level value=\"${env.LOG_LEVEL}\" />\n\nand have it get that from the system environment variables, so I can avoid having to pass in so many things with -D parameters.\n", "I have a swing application that includes radio buttons on a form. I have the ButtonGroup, however, looking at the available methods, I can't seem to get the name of the selected JRadioButton. Here's what I can tell so far:\n\nFrom ButtonGroup, I can perform a getSelection() to return the ButtonModel. From there, I can perform a getActionCommand, but that doesn't seem to always work.  I tried different tests and got unpredictable results.\nAlso from ButtonGroup, I can get an Enumeration from getElements().  However, then I would have to loop through each button just to check and see if it is the one selected.\n\nIs there an easier way to find out which button has been selected?  I'm programing this in Java 1.3.1 and Swing.\n", "This question is pretty much the same as this .Net question exept for java.\nHow do you escape the %1$ characters in a java string.format?\nTHe reason I need to do this is that I'm building up a string that will later have more info inserted into it. I've thought of having one of the args just be \"%1$\" but that doesn't seem to be very elegant?\nsorry if this is obvious my java is a tad rusty.\n", "I have a JApplet which I contains various Swing components.  It also starts a couple of extra threads in the init() and generally does other pretty standard applet-y things.\nIf I close the browser window containing the Applet, the JRE doesn't die (the icon remains in the system tray) until all the browser's windows have been closed (ie the browser has completely ended and disappears from the task manager)\nIs this the expected behaviour or should the JRE end when the browser window enclosing the Applet closes?\nI have a destroy() method, but (at present) it only stops the extra threads I started in the init() method.  Should I be doing more in here maybe?  Are there any other best-practises I should be following?\nIf you'd like any more info, please let me know in the comments.\n:-)\n", "I am getting the following error when I get to the line that invokes a REALLY BASIC web service I have running on Tomcat/Axis.\nElement or attribute do not match QName production: QName::=(NCName':')?NCName\n\nHave I got something wrong with QName?- I can't even find any useful information about it.\nMy client code is below:\nimport javax.xml.namespace.QName;\nimport org.apache.axis.client.Call;\nimport org.apache.axis.client.Service;\n\n    public class TestClient {\n\n    public static void main(String [] args)\n    {\n        try{\n            String endpoint = \"http://localhost:8080/TestWebService/services/DoesMagic\";  \n\n            Service service = new Service();\n            Call call = (Call) service.createCall();\n\n            call.setTargetEndpointAddress( new java.net.URL(endpoint) );\n            call.setOperationName( new QName(\"http://testPackage.fc.com/, doBasicStuff\") );\n\n            String ret = (String) call.invoke( new Object[] {\"some kind of message\"} );\n\n            System.out.println(ret);\n\n        }catch(Exception e){\n            System.err.println(e.toString());\n        }\n    }\n}\n\nMy web serivce code is really basic - just a simple class that returns your input string with a bit of concat text:\npublic String doBasicStuff(String message)\n    {\n        return \"This is your message: \" + message;\n\n    }\n\n", "For the past 2 years-(ish) I've been using Maven2 for my build/continuous integration solution.  I used Ant a bit before that but really didn't get a lot of experience with it.  Now I've taken a new job and the team I'm on now uses Ant.  \nWhat I'm wondering about is this:\nIn Maven we had directory conventions for seperating our java source and files and java test files (JUnit tests).  It looked like this:\nProject-\n  -src/main/java\n  -src/test/java\n\nThis way your tests are separate from your source/production code and won't be built/deployed as such.\nGoing over the Ant documentation I don't really see any convention for this. Am I missing something?  Is there a similar convention in Ant?\n", "I'm currently logging via the simplest of methods within my servlet using Tomcat.  I use the ServletConfig.getServletContext().log to record activity.  This writes to the localhost.YYYY-MM-DD.log in $TOMCAT_HOME/logs.\nI don't want to get away from the simplicity of this logging mechanism unless absolutely necessary.  But I would like to name my log file.  Rather than \"localhost\".YYYY-MM-DD.log, is there a way to have it write to \"myAppName\".YYYY-MM-DD.log.  I know I could create my own mechanism, but again, I looking for simplicity here.\nI'm hoping to stay away from a complete framework like Log4j.\n", "I'm trying to run a particular JUnit test by hand on a Windows XP command line, which has an unusually high number of elements in the class path.  I've tried several variations, such as:\nset CLASS_PATH=C:\\path\\a\\b\\c;C:\\path\\e\\f\\g;....\nset CLASS_PATH=%CLASS_PATH%;C:\\path2\\a\\b\\c;C:\\path2\\e\\f\\g;....\n...\nC:\\apps\\jdk1.6.0_07\\bin\\java.exe -client oracle.jdevimpl.junit.runner.TestRunner com.myco.myClass.MyTest testMethod\n\n(Other variations are setting the classpath all on one line, setting the classpath via -classpath as an argument to java\").  It always comes down to the console throwing up it's hands with this error:\nThe input line is too long.\nThe syntax of the command is incorrect.\n\nThis is a JUnit test testing a rather large existing legacy project, so no suggestions about rearranging my directory structure to something more reasonable, those types of solutions are out for now.  I was just trying to gen up a quick test against this project and run it on the command line, and the console is stonewalling me.  Help!\n", "Is there a cross database platform way to get the primary key of the record you have just inserted?\nI noted that this answer says that you can get it by Calling SELECT LAST_INSERT_ID() and I think that you can call SELECT @@IDENTITY AS 'Identity'; is there a common way to do this accross databases in jdbc?\nIf not how would you suggest I implement this for a piece of code that could access any of SQL Server, MySQL and Oracle?\n", "Suppose I have a couple of spring beans: \n<beans>\n   <bean name=\"A\" ... />\n   <bean name=\"B\" ... />\n</beans>\n\n\"B\" exposes a remote service that doesn't need \"A\". Assume that \"A\" takes a non-negligble time to load. What this means is that during a restart cycle, the application hangs the remote client, which can actually connect to the server but waits for a response until the spring container fully initializes. \nWhat I'd like to be able to do is have the \"B\" remote service respond immediately, even if (based on the application state) it can only return NOT_READY or some such. The container, however, forces a wait until all of it's beans are initialized, even if you specify the beans as lazy-init and irrespective of load order. \nI suspect that having \"B\" available immediately would mean that spring would have to make available a partially initialized container, which sounds bad. However, I'd appreciate any information anyone's got on the initialization order and whether you've found any reasonable workarounds. \n", "I want something that can check if a string is \"SELECT\", \"INSERT\", etc.  I'm just curious if this exists.\n", "I have a text file where I want to change only the first line of the file.  The file could be millions of rows long, so I'd rather not have to loop over everything, so I'm wondering if there is another way to do this.\nI'd also like to apply some rules to the first line so that I replace instances of certain words with other words.\nIs this possible?\n", "I'm using Eclipse 3.4 and Tomcat 5.5 and I have a Dynamic Web Project set up. I can access it from http://127.0.0.1:8080/project/ but by default it serves files from WebContent folder. The real files, that I want to serve, can be found under folder named \"share\". This folder comes from CVS so I'd like to use it with its given name instead of renaming it. How can this be done?\n", "We have recently migrated a large, high demand web application to Tomcat 5.5 from Tomcat 4 and have noticed some peculiar slowdown behavior that appears to be related to JVM pauses.  In order to run our application and support increased load over time on Tomcat 4, many not so standard JVM parameters were set and tuned as per the below, and I am hoping someone with Tomcat JVM tuning experience can comment on anything that would likely be detrimental to a Tomcat 5.5 install.  Note also that some of these could be carry over from previous versions of Java (we were running Tomcat 4 on Java 1.6 with these parameters successfully for some time, but some may have been introduced to help garbage collection on Java 1.4 which was the basis of our Tomcat 4 install for a long time, and may now doing more harm than good).\nSome notes:\n\nApplication memory footprint is\naround 1GB, probably slightly over.\nCPU is not an issue - all machines\n    serving the app (load balanced) are\n    < 30% CPU\nLots of headroom on physical memory on the machines.\n-XX:MaxPermSize=512m was the only parameter added as part of the 5.5 upgrade and was reactive to an outofmemory permgen space issue (which it solved).\nRunning on Java 1.6, Solaris OS\n\n-server -Xms1280m -Xmx1280m -XX:MaxPermSize=512m -XX:ParallelGCThreads=20 -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:SurvivorRatio=8 -XX:TargetSurvivorRatio=75  -XX:MaxTenuringThreshold=0 -XX:+AggressiveOpts -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:-TraceClassUnloading -Dsun.io.useCanonCaches=false -Dsun.net.client.defaultConnectTimeout=60000 -Dsun.net.client.defaultReadTimeout=60000 \n", "I've used DJ Java Decompiler, which has a handy GUI, but it seems as if the latest version is only a trial and forces you to purchase the software after some period of days (I recall using an earlier free version about a year ago at a previous job).\nI'm aware of Jad and Jadclipse, but what I loved about DJ Java Decompiler was that it integrated with Windows Explorer - so I could simply open up a JAR in something like WinRAR, navigate thru the packages, and double-click on a .class file to view it's decompiled source.\nCan anyone suggest other good, free, .class viewers? The criteria I have in mind for these would be: \n\nGUI-based\nIntegrates to Windows Explorer (so I don't have to run some command-line options like with JAD)\noptional - can also show raw JVM bytecode commands \n\nIn other words - I'd like to find the closest thing to .NET Reflector for Java as possible.\n", "Can I set timeouts for JSP pages in tomcat either on a per page or server level?\n", "I want to get a list of files in a directory, but I want to sort it such that the oldest files are first.  My solution was to call File.listFiles and just resort the list based on File.lastModified, but I was wondering if there was a better way.\nEdit: My current solution, as suggested, is to use an anonymous Comparator:\nFile[] files = directory.listFiles();\n\nArrays.sort(files, new Comparator<File>(){\n    public int compare(File f1, File f2)\n    {\n        return Long.valueOf(f1.lastModified()).compareTo(f2.lastModified());\n    } });\n\n", "I have a new app I'll be working on where I have to generate a Word document that contains tables, graphs, a table of contents and text.  What's a good API to use for this?  How sure are you that it supports graphs, ToCs, and tables?  What are some hidden gotcha's in using them?\nSome clarifications:\n\nI can't output a PDF, they want a Word doc.\nThey're using MS Word 2003 (or 2007), not OpenOffice\nApplication is running on *nix app-server\n\nIt'd be nice if I could start with a template doc and just fill in some spaces with tables, graphs, etc.\nEdit: Several good answers below, each with their own faults as far as my current situation.  Hard to pick a \"final answer\" from them.  Think I'll leave it open, and hope for better solutions to be created.\nEdit: The OpenOffice UNO project does seem to be closest to what I asked for.  While POI is certainly more mainstream, it's too immature for what I want.\n", "Say I have my sources in my src/ tree (and possibly in my test/ tree). Say I would like to compile only part of that tree. The reasons why I might want to do that are various. Just as an example, I might want to create the smallest possible jar (without including certain classes), or I might want the fastest compile time for what I am compiling. I absolutely want to compile all the dependencies, though!\nThis can be easily achieved from the command line with:\njavac -d build/ -cp whatever -sourcepath src src/path/to/MyClass.java\n\nNow, how can you do that with ant? The javac ant task compiles everything:\n\nThe source and destination directory\n  will be recursively scanned for Java\n  source files to compile.\n\nOne can use the excludes and includes parameters, but they are problematic for this purpose. In fact, it seems that one has to explicitly setup all the includes (not automatic dependency lookup), and even worst that excludes has priority on includes:\n\nWhen both inclusion and exclusion are\n  used, only files/directories that\n  match at least one of the include\n  patterns and don't match any of the\n  exclude patterns are used.\n\nThus, you cannot use \n<javac srcdir=\"${src.dir}\" destdir=\"${build.dir}\" classpathref=\"classpath\"\n            excludes=\"**/*.java\" includes=\"src/path/to/MyClass.java\" />  \n\nBecause it will not compile anything :-(\nIs there any way of achieving that simple command line javac with ant?\n\nEDITED: Thank you for your answer, Sadie, I'm accepting it, because it does work in the way I was wondering in this question. But I have a couple of comments (too long to be in the comment field of your answer):\n1) I did read the documentation (see links above), but it's unclear that with just includes you are actually also excluding everything else\n2) When you just includes ant logs something like\n[javac] Compiling 1 source file to /my/path/to/build\n\neven if the dependencies make it compiling (much) more than just one source file.\n", "In my code, I am creating a collection of objects which will be accessed by various threads in a fashion that is only safe if the objects are immutable. When an attempt is made to insert a new object into my collection, I want to test to see if it is immutable (if not, I'll throw an exception).\nOne thing I can do is to check a few well-known immutable types:\nprivate static final Set<Class> knownImmutables = new HashSet<Class>(Arrays.asList(\n        String.class, Byte.class, Short.class, Integer.class, Long.class,\n        Float.class, Double.class, Boolean.class, BigInteger.class, BigDecimal.class\n));\n\n...\n\npublic static boolean isImmutable(Object o) {\n    return knownImmutables.contains(o.getClass());\n}\n\nThis actually gets me 90% of the way, but sometimes my users will want to create simple immutable types of their own:\npublic class ImmutableRectangle {\n    private final int width;\n    private final int height;\n    public ImmutableRectangle(int width, int height) {\n        this.width = width;\n        this.height = height;\n    }\n    public int getWidth() { return width; }\n    public int getHeight() { return height; }\n}\n\nIs there some way (perhaps using reflection) that I could reliably detect whether a class is immutable? False positives (thinking it's immutable when it isn't) are not acceptable but false negatives (thinking it's mutable when it isn't) are.\nEdited to add: Thanks for the insightful and helpful answers. As some of the answers pointed out, I neglected to define my security objectives. The threat here is clueless developers -- this is a piece of framework code that will be used by large numbers of people who know next-to-nothing about threading and won't be reading the documentation. I do NOT need to defend against malicious developers -- anyone clever enough to mutate a String or perform other shenanigans will also be smart enough to know it's not safe in this case. Static analysis of the codebase IS an option, so long as it is automated, but code reviews cannot be counted on because there is no guarantee every review will have threading-savvy reviewers.\n", "My organization is working on building RESTful webservices on JBoss appserver. The QA team is used to testing SOAP webservices so far using SoapUI. SoapUI has a new version that has REST capabilities. We're considering using that.\n\nAre there any publicly available RESTful services available on the net for free that someone could test ?  \nWhat tools are available(and used) for testing RESTful web services ?\n\n", "I am working on a web application in Java which gets data from servlets via AJAX calls.\nThis application features several page elements which get new data from the server at fairly rapid intervals.\nWith a lot of users, the demand on the server has a potential to get fairly high, so I am curious:\nWhich approach offers the best performance:\nMany servlets (one for each type of data request)? \nOr:\na single servlet that can handle all of the requests?\n", "Has anyone used OSGi and JSF together?\nI ask because JSF uses class-loader magic to find custom components. From a tutorial (emphasis mine):\n\nThis configuration file will end up\n  being META-INF/faces-config.xml in the\n  .jar file that represents this\n  component. JSF will look for such a\n  file name in each of the .jar files\n  that are loaded at runtime (in the\n  WEB-INF/lib directory for .war files)\n  and use each of them in its\n  configuration. In this way, multiple\n  component .jar files can be combined\n  into one web application, and all of\n  the components described in each .jar\n  will be available to the application.\n\nI would like to be able to have JSF custom components as OSGi bundles (i.e. custom components are in different OSGi bundles than the JSF runtime) and for JSF to be able to find these at runtime.\nHas anyone done anything similar?\n", "Just got a question about generics, why doesn't this compile when using a generic List? If its not possible, anyway around it? Much appreciate any answer.\n// Interface used in the ServiceAsync inteface.\npublic interface BaseObject\n{\n    public String getId();\n}\n\n// Class that implements the interface\npublic class _ModelDto implements BaseObject, IsSerializable\n{\n    protected String id;\n\n    public void setId(String id)\n    {\n        this.id = id;\n    }\n\n    public String getId()\n    {\n        return id;\n    }\n}\n\n// Interface used in the ServiceAsync inteface.\npublic interface MyAsync<T>\n{\n     // Nothing here.\n}\n\n// Service interface use both interfaces above.\npublic interface ServiceAsync\n{\n    public void getList(MyAsync<List<? extends BaseObject>> callback);\n}\n\npublic class MyClass\n{\n    ServiceAsync service = (some implementation);\n    MyAsync<List<_ModelDto>> callBack = new MyAsync<List<_ModelDto>>()\n    {\n\n    };\n\n    service.getList(callBack);  // This does not compile, says arguments are not applicable????\n}\n\n", "If I use a span tag to render a component like <span jwcid=\"@If\" .../>, my HTML ends up with a bunch of useless span tags. Most of the time, that's ok, but in some cases, it's interfering with my CSS or making the page invalid.  Is there a way to tell Tapestry to process the tag, but not actually render it?\n", "I have an ArrayList of Strings, and I want to remove repeated strings from it. How can I do this?\n", "Forgive my ignorance - still learning here.\nI am using Eclipse Ganymede (Java 1.5) and have been experimenting with web services - I have mangaged to get a simple web service up and running and the nice wizard you get in Eclipse generates all the necessary bits and pieces e.g. wsdl file etc - and you can test the service and everthing else.\nNow it seems to use axis.jar and all other axis related stuff and when I run the web service, everything is good - but how is this even working in Tomcat, if I haven't even installed Axis?  I can't find anything in my Apache installation or Ganymede about anything to do with Axis??\n", "In writing some test code I have found that Selector.select() can return without Selector.selectedKeys() containing any keys to process. This is happening in a tight loop when I register an accept()ed channel with\nSelectionKey.OP_READ | SelectionKey.OP_CONNECT\nas the operations of interest.\nAccording to the docs, select() should return when:\n1) There are channels that can be acted upon.\n2) You explicitly call Selector.wakeup() - no keys are selected.\n3) You explicitly Thread.interrupt() the thread doing the select() - no keys are selected.\nIf I get no keys after the select() I must be in cases (2) and (3). However, my code is not calling wakeup() or interrupt() to initiate these returns.\nAny ideas as to what is causing this behaviour?\n", "A client of mine is looking to convert a critical 'application' based on multiple (very complex) spreadsheets into a web app.  As part of this they'd like some of the web pages they use to enter/model data to resemble a spreadsheet as much as possible.\nI'd be interested to know if anyone has any experience/recommendations for embeddable controls that could do this better than standard html/javascript/ajax code - although suggestions for Javascript frameworks that could do this are welcome too.  I'm thinking mainly of ActiveX, Flex, Java or similar controls, commercial or open source are fine.\nThe coding languages to be used and platform is still open to debate, so ASP.NET against IE or PHP/Flex against Firefox, or some other combination is fine - this will be driven by the business requirement not the platform.  \nFunctionality is of course the main driving force, but it's always useful to have nice looking eye candy so skinable and cool is a plus.  With reference to Javascript frameworks I''ve previously used Dojo and Mootools, but I'd prefer something with a bit more snap.\n", "I have mapped several java classes like Customer, Assessment, Rating, ... to a database with Hibernate. \nNow i am thinking about a history-mode for all changes to the persistent data. The application is a web application. In case of deleting (or editing) data another user should have the possibility to see the changes and undo it. Since the changes are out of the scope of the current session, i don't know how to solve this in something like the Command pattern, which is recommended for undo functionality.\nFor single value editing an approach like in this question sounds OK. But what about the deletion of a whole persistent entity? The simplest way is to create a flag in the table if this customer is deleted or not. The complexest way is to create a table for each class where deleted entities are stored. Is there anything in between? And how can i integrate these two things in a O/RM system (in my case Hibernate) comfortably, without messing around to much with SQL (which i want to avoid because of portability) and still have enough flexibility? \nIs there a best practice?\n", "I'm developing a kind of an exchange format between instances of an application so that user could save information to file and restore it later. The whole 'exchange format' is a single class that gets serialized and written to disk.\nHow would you suggest to store graphical/sound information inside that class? I'd like to avoid just putting the files into it a .jar.\n", "Let's have the following class hierarchy:\npublic class ParentClass implements SomeInterface {\n}\n\npublic class ChildClass extends ParentClass {\n}\n\nThen let's have these two instances:\nParentClass parent;\nChildClass child;\n\nThen we have the following TRUE statements\n(parent instanceof SomeInterface) == true\n(child instanceof SomeInterface) == true\n\nIs it possible to unimplement the SomeInterface in the ChildClass, so when we check with the instanceof operator it returns false?\nIf not possible, is there a workaround?\n", "Given two absolute paths, e.g.\n/var/data/stuff/xyz.dat\n/var/data\n\nHow can one create a relative path that uses the second path as its base? In the example above, the result should be: ./stuff/xyz.dat\n", "Suppose I have following string:\nString asd = \"this is test ass this is test\"\n\nand I want to split the string using \"ass\" character sequence.\nI used:\nasd.split(\"ass\");\n\nIt doesn't work. What do I need to do?\n", "This is a problem that only occurs on application update (only tested through Admin Console, not CLI).  Also, this is only happening on our development environment, which is identical to our prod env.  On uninstall/install, everything is compiled properly.  However, this is a large application and it takes long enough to do an update--we do not want to uninstall/install everytime (esp. during dev. builds).  \nJSP .java and .smap files are being generated, but not .class.  On prod, there is no .smap--only .java and .class.  If the JSPs would compile, we believe the tag libs would be compiled also.  \nHas anyone faced this problem, or know what we are possibly overlooking?\nWAS Version:    6.1.0.17\nThanks a lot!\nEDIT: This is only happening for one JSP and the tag library its using.  We're trying to trouble shoot the issue.  Let you know if we figure anything out.  We think it may be an issue with the .SMAP file per this fix\nSOLUTION\n", "Is there a way of reusing the same resultMap multiple times in a single query.\nFor example, suppose I have a \"foo\" resultMap:\n<resultMap id=\"foo\" class=\"Foo\">\n  <result property=\"Bar\" column=\"bar\" />\n</resultMap>\n\nIs there a way to define another resultMap that reuses the above for different columns? Something like...\n<resultMap id=\"fizz\"class=\"Fizz\">\n  <result property=\"Foo1\" column=\"bar=bar1\" resultMapping=\"foo\" />\n  <result property=\"Foo2\" column=\"bar=bar2\" resultMapping=\"foo\" />\n  <result property=\"Foo3\" column=\"bar=bar3\" resultMapping=\"foo\" />\n</resultMap>\n\n", "Consider the following interface in Java:\npublic interface I {\n    public final String KEY = \"a\";\n}\n\nAnd the following class:\npublic class A implements I {\n    public String KEY = \"b\";\n\n    public String getKey() {\n        return KEY;\n    }\n}\n\nWhy is it possible for class A to come along and override interface I's final constant?\nTry for yourself:\nA a = new A();\nString s = a.getKey(); // returns \"b\"!!!\n\n", "Is it possible with Axis2 and Eclipse to generate a Web Service client and have it use java types that you already have in packages instead of creating it's own types.  Reason being of course if I have type A already created and it creates it's own Type A I can't just assign variable of type A to variable of type B.\nThe wsdl is being generated from a Web Service deployed to an application server. \nIf it's not possible to generate it from that would it be possible to generate a client from the already existing java files.\n", "During my work with databases I noticed that I write query strings and in this strings I have to put several restrictions in the where-clause from a list/array/collection. Should look like this:\nselect * from customer \nwhere customer.id in (34, 26, ..., 2);\n\nYou can simplify this by reducing this to the question that you have collection of strings and want to create a comma-separated list of this strings in just one string.\nMy approach I have used so far is something like that:\nString result = \"\";\nboolean first = true;\nfor(String string : collectionOfStrings) {\n    if(first) {\n        result+=string;\n        first=false;\n    } else {\n        result+=\",\"+string;\n    }\n}\n\nBut this is as you can see very ugly. You cannot see what happens there on the first look, especially when the constructed strings (like every SQL query) is getting complicated.\nWhat is your (more) elegant way?\n", "I want to do something like this:\nList<Animal> animals = new ArrayList<Animal>();\n\nfor( Class c: list_of_all_classes_available_to_my_app() )\n   if (c is Animal)\n      animals.add( new c() );\n\nSo, I want to look at all of the classes in my application's universe, and when I find one that descends from Animal, I want to create a new object of that type and add it to the list.  This allows me to add functionality without having to update a list of things.  I can avoid the following:\nList<Animal> animals = new ArrayList<Animal>();\nanimals.add( new Dog() );\nanimals.add( new Cat() );\nanimals.add( new Donkey() );\n...\n\nWith the above approach, I can simply create a new class that extends Animal and it'll get picked up automatically.\nUPDATE: 10/16/2008 9:00 a.m. Pacific Standard Time:\nThis question has generated a lot of great responses -- thank you.  From the responses and my research, I've found that what I really want to do is just not possible under Java.  There are approaches, such as ddimitrov's ServiceLoader mechanism that can work -- but they are very heavy for what I want, and I believe I simply move the problem from Java code to an external configuration file.  \nAnother way to state what I want: a static function in my Animal class finds and instantiates all classes that inherit from Animal -- without any further configuration/coding.  If I have to configure, I might as well just instantiate them in the Animal class anyway.  I understand that because a Java program is just a loose federation of .class files that that's just the way it is.\nInterestingly, it seems this is fairly trivial in C#.\n", "Say I have a class that's meant to perform a single function. After performing the function, it can be destroyed. Is there any reason to prefer one of these approaches?\n// Initialize arguments in constructor\nMyClass myObject = new MyClass(arg1, arg2, arg3);\nmyObject.myMethod();\n\n// Pass arguments to method\nMyClass myObject = new MyClass();\nmyObject.myMethod(arg1, arg2, arg3);\n\n// Pass arguments to static method\nMyClass.myMethod(arg1, arg2, arg3);\n\nI was being intentionally vague about the details, to try to get guidelines for different situations. But I didn't really have in mind simple library functions like Math.random(). I'm thinking more of classes that perform some specific, complex task, but only require one (public) method to do it.\n", "What are you using for binding XML to Java? JAXB, Castor, and XMLBeans are some of the available choices. The comparisons that I've seen are all three or four years old. I'm open to other suggestions. Marshalling / unmarshalling performance and ease of use are of particular interest.\nClarification: I'd like to see not just what framework you use, but your reasoning for using one over the others.\n", "How would I get the length of an ArrayList using a JSF EL expression? \n#{MyBean.somelist.length}\n\ndoes not work.\n", "I was wondering if anyone had some resources that describe the binary protocol used by ObjectOutputStream. I realize of course that objects themselves can specify what their data by implementing the Externalizable interface, so I guess I'm looking more toward the structure of the object graph - the metadata if you will.\nI am writing a C program that has to talk to a legacy Java program. I have no way to change either of these requirements so find myself reverse engineering the ObjectOutputStream protocol. (There is a server that uses HTTP for transport and returns Object*Stream as the HTTP response.)\nHowever, I feel like someone else out there has to have done this work before. Can you point to any resources to speed up my work?\n", "Is there a way to compile an Eclipse-based Java project from the command line? \nI'm trying to automate my build (using FinalBuilder not ant), and I'm neither a Java nor Eclipse expert. I can probably figure out how to do this with straight java command line options, but then the Eclipse project feels like a lot of wasted effort. \nIn the event that there is no way to compile an Eclipse project via the command line, is there a way to generate the required java command line from within Eclipse? Or are there some files I can poke around to find the compile steps it is doing behind the scenes? \n\nGuys, I'm looking for an answer that does NOT include ant. Let me re-iterate the original question ....... Is there a way to build an Eclipse project from the command line?\nI don't think this is an unreasonable question given that I can do something like this for visual studio:\ndevenv.exe /build \"Debug|Any CPU\" \"C:\\Projects\\MyProject\\source\\MyProject.sln\"\n\n", "Im curious what the exact meaning of \"committed\" memory is when the value is queried from the MemoryUsage class.  That class explains it as \"committed represents the amount of memory (in bytes) that is guaranteed to be available for use by the Java virtual machine.\"  Does this mean that the memory is in use by the jvm process and NOT available to other processes until it is released by the java process, or does it mean that the java process will be successful if it tries to allocate up to that amount of memory?  I realize this might be implementation specific but i am only interested in hotspot.\n", "I've got a collection (List<Rectangle>) which I need to sort left-right. That part's easy. Then I want to iterate through the Rectangles in their original order, but easily find their index in the sorted collection. indexOf() won't work, since I may have a number of equal objects. I can't help feeling there should be an easy way to do this.\n", "Can an ArrayList of Node contain a non-Node type? \nIs there a very dirty method of doing this with type casting?\n", "Problem solved: Thanks guys, see my answer below.\nI have a website running in Tomcat 5.5 hooked up to a MySQL5 database using Hibernate3.\nOne record simply refuses to keep any changes performed on it. If I change the record programmatically, the values revert back to what they were previously. \nIf I manually modify the record in the database, the values will revert (seemingly once the webapp accesses them).\nI have tried stopping Tomcat and changing the values manually then starting Tomcat again. Checking the database, the values remain changed after Tomcat has started the webapp but will revert back again once I load the site.\nI have also tried deleting the Tomcat work folder for the webapp and the .ser cache file.\nI have also checked the code for the values that are being reverted to and cannot find them. \nI have only noticed it on this one particular record.\nEdit: I've just had a look at the SQL output from Hibernate using hibernate.show_sql=true.  There is an update query logged for the table my row is in. Does anyone know how to resolve the ? for the columns to actual values?\n", "What is the best way to allow a team of programmers to use Netbeans, Eclipse and IntelliJ on the same project, thus eliminating the \"which IDE is better\" question.\nWhich files should or should not be checked into source code control?\n", "I just downloaded Eclipse several hours ago, and needed to add Java3D to the classpath. Installing it went without a hitch, but Eclipse can't seem to find the documentation folders so that it can give super-IDE functionality, such as autocomplete and method signatures.\nWhile I know how I would add them individually, this lead me to the question; what is the \"correct\" way to install a Java library in Eclipse? Is there a special directory format I should follow? Is there a plugin that already did this for me? (The answer to that is yes, but I don't know how to use it, or whether or not it's appropriate).\nThanks!\nEdit 1: It seems to me that someone down-voted the question. May I ask why?\nEdit 2: So after monkeying around with the JARs, it seems that manually setting the doc path for each JAR in the library seems to be the least-error prone way.\n", "In Groovy, how do I grab a web page and remove HTML tags, etc., leaving only the document's text?  I'd like the results dumped into a collection so I can build a word frequency counter.\nFinally, let me mention again that I'd like to do this in Groovy.\n", "I am running both maven inside the m2eclipse plugin, windows command line and my cygwin command line.\ncygwin's bash shell dumps artifacts into the cygwin /home/me/.m2 directory\nbut m2eclipse & windows shell (on vista) uses /Users/me/Documents/.m2\nIs it possible to tell the mvn command to use one central .m2 directory ?\nThanks\n", "I'm trying to figure out a way to add a self-update feature to a Java/Swing application I'm working on.\nBasically I've got a bunch of jar files with extra functionality to be re-deployed to the installed users when they change. Nothing complicated, just check if a new version has been released, download them over HTTP, and then optionally offer to restart the app to the user.\nI had a look at webstart, and it could work. But this particular app does some funky stuff with classloading and GC memory settings that don't look like they are supported via webstart, or will at least complicate matters. (It's a tweaked build of JMeter)\nI also went down the road of adding in this plugin handler http://swing-fx.blogspot.com/2008/06/add-auto-update-and-plugins-to-your.html, but it is very alpha, and tries to do too much with the usual bugs you get with alpha stuff.\n", "I have a Java method which starts up a Process with ProcessBuilder, and pipes its output into a byte array, and then returns its byte array when the process is finished.\nPseudo-code:\nProcessBuilder b = new ProcessBuilder(\"my.exe\")\nProcess p = b.start();\n... // get output from process, close process\n\nWhat would be the best way to go about unit testing this method? I haven't found a way to mock ProcessBuilder (it's final), even with the incredibly awesome JMockit, it gives me a NoClassDefFoundError:\njava.lang.NoClassDefFoundError: test/MockProcessBuilder\n    at java.lang.ProcessBuilder.<init>(ProcessBuilder.java)\n    at mypackage.MyProcess.start(ReportReaderWrapperImpl.java:97)\n    at test.MyProcessTest.testStart(ReportReaderWrapperImplTest.java:28)\n\nAny thoughts?\n\nAnswer - As Olaf recommended, I ended up refactoring those lines to an interface\nProcess start(String param) throws IOException;\n\nI now pass an instance of this interface into the class I wanted to test (in its constructor), normally using a default implementation with the original lines. When I want to test I simply use a mock implementation of the interface. Works like a charm, though I do wonder if I'm over-interfacing here...\n", "I have a List object being accessed by multiple threads. There is mostly one thread, and in some conditions two threads, that updates the list. There are one to five threads that can read from this list, depending on the number of user requests being processed.\nThe list is not a queue of tasks to perform, it is a list of domain objects that are being retrieved and updated concurrently.\nNow there are several ways to make the access to this list thread-safe:\n-use synchronized block\n-use normal Lock (i.e. read and write ops share same lock)\n-use ReadWriteLock\n-use one of the new ConcurrentBLABLBA collection classes \nMy question:\nWhat is the optimal approach to use, given that the cricital sections typically do not contain a lot of operations (mostly just adding/removing/inserting or getting elements from the list)?\nCan you recommend another approach, not listed above?\nSome constrains\n-optimal performance is critical, memory usage not so much\n-it must be an ordered list (currently synchronizing on an ArrayList), although not a sorted list (i.e. not sorted using Comparable or Comparator, but according to insertion order)\n-the list will is big, containing up to 100000 domain objects, thus using something like CopyOnWriteArrayList not feasible\n-the write/update ciritical sections are typically very quick, doing simple add/remove/insert or replace (set)\n-the read operations will do primarily a elementAt(index) call most of the time, although some read operations might do a binary search, or indexOf(element)\n-no direct iteration over the list is done, though operation like indexOf(..) will traverse list  \n", "I have used getopt in Python and was hoping there would be something similar in Java.\nPlease give a reason why your answer is better than the others.\n", "I am using Eclipse 3.3 (\"Europa\"). Periodically, Eclipse takes an inordinately long time (perhaps forever) to start up. The only thing I can see in the Eclipse log is:\n\n    !ENTRY org.eclipse.core.resources 2 10035 2008-10-16 09:47:34.801\n    !MESSAGE The workspace exited with unsaved changes in the previous session; refreshing workspace to recover changes.\n\nGoogling reveals someone's suggestion that I remove the folder:\nworkspace\\.metadata\\.plugins\\org.eclipse.core.resources\\.root\\.indexes\n\nThis does not appear to have helped.\nShort of starting with a new workspace (something which I am not keen to do, as it takes me hours to set up all my projects again properly), is there a way to make Eclipse start up properly?\n", "I would like to know if there is available any Java library to read a Microsoft Media Server (MMS) stream.\nThanks,\nDouglas\n", "I'm not sure what the best api for simple 2d graphics with Java is. I know java.awt.Graphics2D was the standard but has it been replaced? Swing is the new API for Java GUI apps but it seems a bit heavy for what I want. What I really want is something like the C SDL library.\n", "I was looking at the source code of java.uti.concurrent.locks.AbstractQueuedSynchronizer and the acquire() method looks something like this -\n public final void acquire(int arg) {\n    if (!tryAcquire(arg) &&\n        acquireQueued(addWaiter(Node.EXCLUSIVE), arg))\n        Thread.currentThread().interrupt();\n}\n\nWhy does it interrupt the thread calling acquire()? If there was check somewhere in the threads run() method, then it might pass after calling acquire() which is probably undesirable and unthought of?\nAnybody care to shed light on why the above piece of code does this?\n", "How do I get a platform-dependent newline in Java? I can\u2019t use \"\\n\" everywhere.\n", "Vista's SuperFetch works well with applications installed, but it does not seem to do so with Eclipse, which is just copied in a directory.\nDoes anyone know how to correct this ? Or is it simply not possible ?\n[I hope this one will not be closed as \"not programming related\", since I need Eclipse on my machine for programming ;-) ]\n", "I have my J2EE application deployed into a JBossAS. My Application has to respond to two different hostnames (https://foo.com/myApp and https://bar.com/myApp). It is the same instance of the app serving those two hostnames.\nBut I don't know how to configure the keystores. I need different keystores for each hostname. Is there a way to tie a virtual host in JBoss' server.xml to a specific connector?\nOr do I have to use two different IP-addresses and create a connector for each?\nA solution that does not require a second IP-address would be greatly appreciated.\n", "Is there a best practice for avoiding a browser freeze when loading an applet?\nFor my precise needs, the applet needs to be loaded when the web application is initialized, and is not a visual component (will be in a hidden div or hidden iframe).\nAs a reference, here is an old bug on SUN's side.\n", "I want to use the java.util.Preferences API but I don't want my program to attempt to read or write to the Windows registry. How would I go about this?\n", "Ok, so I want to get a webapp running in tomcat (5.5) to run behind apache 2 (2.2.3 to be precise) serving from the root of the site (i.e. without the context), with static content being served via apache.\nSo if the app is running under \"/myapp\" on tomcat I want to use apache (plus mod_rewrite) to make it behave as if it's running under \"/\" instead.\nMod_jk is setup and working ok.  I can access the app from \"/myapp\", but I can't quite get the last bit working.  Below is the config I've got for mod_rewrite to try and get this working.  It correctly gets rewrites /static/ urls to get apache to serve them from the unpacked webapp and if I enable the rewrite log I see that it does attempt to pass through all other requests to /myapp via mod_jk.  However it seems that mod_jk is not processing the request afterwards.\n\n\nJkMount /myapp/*      worker1\n\nRewriteEngine On\n\n# ensure static stuff gets served by apache\nRewriteRule ^/static/(.*)$ /var/lib/tomcat5.5/webapps/myapp/static/$1 [L]\n# everything else should go through tomcat\nRewriteRule ^/(.*)$ /myapp/$1 [L,PT]\n\n\nWhen I've done this with apache 1 in the past I've had to make sure mod_jk get's loaded before mod_rewrite, but I can't seem to achieve this under apache 2.  Any thoughts?  How do other people usually do this?\n", "I am trying to use JMockit's code coverage abilities. Using the JVM parameter\n-javaagent:jmockit.jar=coverage=.*MyClass.java:html::\n\nI am able to run my tests (jmockit.jar and coverage.jar are on the classpath), unfortunately my log file says:\nLoaded external tool: mockit.coverage.CodeCoverage=.*MyClass.java:html::\nLoaded external tool: mockit.integration.junit3.JUnitTestCaseDecorator\nLoaded external tool: mockit.integration.junit4.JUnit4ClassRunnerDecorator\nException in thread \"Thread-0\" java.lang.NoClassDefFoundError\n    at mockit.coverage.CodeCoverage$OutputFileGenerator.run(CodeCoverage.java:56)\n\n...and no coverage file is generated. Has anyone gotten JMockit Coverage to work? If so, any thoughts as to what is causing this error? Thanks...\nAnswer: I needed to add coverage to the bootstrap entries rather than only the user entries (in the Eclipse run configuration)\nActual Answer The actual answer is that I was running the test with JUnit 3, but the coverage needs JUnit 4. That fixed things, and I didn't have to add any bootstrap entries.\n", "Is there a way to create register a handler that will be called exactly at the time when the last reference to a certain object is released?\nAn example would be an object that is backed by a physical data file and once the object become unreferenced, the file should be closed and than renamed. It would be nice if this was possible without having to explicitly call a \"close\" method on that object.\nAll the notification mechanisms I am aware of from the Weak/Phantom reference area only state that notification will occur at some point in time but there is no gurantee as to when this will happen...\n", "If I\u2019m writing an applet that shows a video sequence (eg. streaming from a camera, or the applet itself is running the on the camera), do my clients need to download the Java Media Framework libraries inorder to see the sequence?\n", "javaspec.org should contain a java-related wiki; but it seems down... Is this only temporary or is it down 'forever'?\n", "We are working with some legacy code that accesses a shared drive by the letter (f:\\ for example). Using the UNC notation is not an option.  Our Java wrapper app will run as a service, and as the first step, I would like to map the drive explicitly in the code. Has anyone done this?\n", "I am aware that you can lock an object in c# using lock but can you give up the lock and wait for something else to notify you that it's changed like you can in java with wait and notify?\nIt seems to me that synchronised and lock in java and c# respectively are synonomous.\n", "Is there any way to take a Class and determine if it represents a primitive type (is there a solution that doesn't require specifically enumerating all the primitive types)?\nNOTE: I've seen this question.  I'm asking basically the opposite.  I have the Class, I want to know if it's a primitive.\n", "I have  stfw but I cannot find a simple / standalone  way to create a webservice client in java.\nDoes anyone have a link/sample into this?\n", "I inherited this gigantic legacy Java web app using Struts 1.2.4. I have a specific question regarding ActionForms. Some of them have only String properties (even for numbers), some of them use the seemingly appropriate types (Integer, Date, String, etc). What's the best practice here?\nAlso, it seems that if a property is of type Integer, and the value the user entered is not an integer value, Struts silently swallows this and just doesn't set the property. What's up with this?\n", "I inherited this gigantic legacy Java web app using Struts 1.2.4. I have a specific question regarding Actions. Most of the pages have exactly one Action, and the processExecute() methods are hideous monsters (very long and tons of nested if statements based on request parameters).\nGiven that Actions are an implementation of the command pattern, I'm thinking to split these Actions into one Action per user gesture. This will be a large refactoring though, and I'm wondering:\n\nIs this the right direction?\nIs there an intermediate step I could take, a pattern that deals with the mess inside the monolithic actions? Maybe another command pattern inside the Action?\n\n", "Are there any existing solutions for remote execution of commands on a windows server from Java natively? psexec.exe is not an option since the java application has to be cross platform.\nEven a preexisting solution using Java RM would be sufficient.\nCurrently, I'm using an SSH client library to ssh through java into a Windows server that's running the cygwin SSH daemon. Sadly the SSH daemon has some issues when it comes to quoting commands that go into a CMD (as opposed to bash) shell.\n", "What reason is there for C# or java having lambdas? Neither language is based around them, it appears to be another coding method to do the same thing that C# already did.\nI'm not being confrontational, if there is a reason I would like to know the reason why. For the purpose of full disclosure I am a Java programmer with a C++ background with no lisp experience, I may just be missing the point. \n", "I'm using NetBeans, trying to change the familiar Java coffee cup icon to a png file that I have saved in a resources directory in the jar file.  I've found many different web pages that claim they have a solution, but so far none of them work.\nHere's what I have at the moment (leaving out the try-catch block):\nURL url = new URL(\"com/xyz/resources/camera.png\");\nToolkit kit = Toolkit.getDefaultToolkit();\nImage img = kit.createImage(url);\ngetFrame().setIconImage(img);\n\nThe class that contains this code is in the com.xyz package, if that makes any difference.  That class also extends JFrame.  This code is throwing a MalformedUrlException on the first line.\nAnyone have a solution that works?\n", "At work one of our target platforms is a resource constrained mini-server running Linux (kernel 2.6.13, custom distribution based on an old Fedora Core). The application is written in Java (Sun JDK 1.6_04). The Linux OOM killer is configured to kill processes when memory usage exceeds 160MB. Even during high load our application never go over 120MB and together with some other native processes that are active we stay well within the OOM limit.\nHowever, it turns out that the Java Runtime.getRuntime().exec() method, the canonical way to execute external processes from Java, has a particularly unfortunate implementation on Linux that causes spawned child processes to (temporarily) require the same amount of memory as the parent process since the address space is copied. The net result is that our application gets killed by the OOM killer as soon as we do Runtime.getRuntime().exec().\nWe currently work around this by having a separate native program do all external command execution and we communicate with that program over a socket. This is less than optimal.\nAfter posting about this problem online I got some feedback indicating that this should not occur on \"newer\" versions of Linux since they implement the posix fork() method using copy-on-write, presumably meaning it will only copy pages that it needs to modify when it is required instead of the entire address space immediately.\nMy questions are:\n\nIs this true?\nIs this something in the kernel, the libc implementation or somewhere else entirely?\nFrom what version of the kernel/libc/whatever is copy-on-write for fork() available?\n\n", "For a product in long run (may be 0.5-1 million users) is it good to use java instead of .net from the cost/profitability perspective. To elaborate more..consider web farm scenario in which one will have to purchase windows + Sql server + some antivirus licenses for .net applications. But for java it's almost free. What points should I consider?\nPS: I am a .net person by heart\n", "How do I set up my execution environment for ESC/Java2 in WindowsXP? And furthermore, how do I build and run, in WindowsXP, projects with ESC/Java2. It is hard to tell from their specifications/readme and documentation, specially considering the fact that they seem to be talking more about Unix based operating systems.\n", "Is there currently any easy way to set up a YAWS web server in front of Apache Tomcat Servlet container, similar to popular Apache httpd + Tomcat set up?\n", "Whats the best practice for setting up package structures in a Java Web Application?\nHow would you setup your src, unit test code, etc?\n", "I am using log.properties to configure logging for a Java app. Each class gets its own logger named after itself (e.g. com.company.program.ClassX).\nI want to set a custom formatter for just one log, and leave the handler with the SimpleFormatter. Is this possible?\nI am not interested in using log4j or another of the other logging suites. I am well aware of them. Nor am I interested in configuring a customer formatter for the logger through code, although if that is the only way to do it, it would be nice to know. Google isn't helping, and I am having problems testing this myself.\n", "In spring you can initialize a bean by having the applicationContext.xml invoke a constructor, or you can set properties on the bean.  What are the trade offs between the two approaches?  Is it better to have a constructor (which enforces the contract of having everything it needs in one method) or is it better to have all properties (which gives you flexibility to only inject selectively for example when unit testing.)\nWhat are the trade offs (between writing a bean that uses a constructor to establish it's initial state, or using properties and perhaps an afterProperties() method) ?\n", "I am attempting to insert a Canvas3D object inside a Swing JPanel, but the code doesn't seem to be working (i.e. nothing happens):\n\n        Canvas3D canvas = new Canvas3D(SimpleUniverse.getPreferredConfiguration());\n        SimpleUniverse universe = new SimpleUniverse(canvas);\n        BranchGroup root = new BranchGroup();\n        root.addChild(new ColorCube());\n        universe.addBranchGraph(root);\n        universe.getViewingPlatform().setNominalViewingTransform();\n        canvasPanel.add(canvas);\n\nWhat am I missing? The JPanel was created using NetBean's Visual Editor.\n", "I'm working on a small UML editor project, in Java, that I started a couple of months ago. After a few weeks, I got a working copy for a UML class diagram editor.\nBut now, I'm redesigning it completely to support other types of diagrams, such a sequence, state, class, etc. This is done by implementing a graph construction framework (I'm greatly inspired by Cay Horstmann work on the subject with the Violet UML editor).\nRedesign was going smoothly until one of my friends told me that I forgot to add a Do/Undo functionnality to the project, which, in my opinion, is vital.\nRemembering object oriented design courses, I immediately thought of Memento and Command pattern.\nHere's the deal. I have a abstract class, AbstractDiagram, that contains two ArrayLists : one for storing nodes (called Elements in my project) and the other for storing Edges (called Links in my projects).  The diagram will probably keep a stack of commands that can be Undoed/Redoed. Pretty standard.\nHow can I execute these commands in a efficient way? Say, for example, that I want to move a node (the node will be an interface type named INode, and there will be concrete nodes derived from it (ClassNode, InterfaceNode, NoteNode, etc.)). \nThe position information is held as an attribute in the node, so by modying that attribute in the node itself, the state is changed. When the display will be refreshed, the node will have moved. This is the Memento part of the pattern (I think), with the difference that the object is the state itself.\nMoreover, if I keep a clone of the original node (before it moved), I can get back to its old version. The same technique applies for the information contained in the node (the class or interface name, the text for a note node, the attributes name, and so on).\nThe thing is, how do I replace, in the diagram, the node with its clone upon undo/redo operation? If I clone the original object that is referenced by the diagram (being in the node list), the clone isn't reference in the diagram, and the only thing that points to is the Command itself! Shoud I include mechanisms in the diagram for finding a node according to an ID (for example) so I can replace, in the diagram, the node by its clone (and vice-versa) ? Is it up to the Memento and Command patterns to do that ? What about links? They should be movable too but I don't want to create a command just for links (and one just for nodes), and I should be able to modify the right list (nodes or links) according to the type of the object the command is referring to.\nHow would you proceed? In short, I am having trouble representing the state of an object in a command/memento pattern so that it can be efficiently recovered and the original object restored in the diagram list, and depending on the object type (node or link).\nThanks a lot!\nGuillaume.\nP.S.: if I'm not clear, tell me and I will clarify my message (as always!).\nEdit\nHere's my actual solution, that I started implementing before posting this question.\nFirst, I have an AbstractCommand class defined as follow :\npublic abstract class AbstractCommand {\n    public boolean blnComplete;\n\n    public void setComplete(boolean complete) {\n        this.blnComplete = complete;\n    }\n\n    public boolean isComplete() {\n        return this.blnComplete;\n    }\n\n    public abstract void execute();\n    public abstract void unexecute();\n}\n\nThen, each type of command is implemented using a concrete derivation of AbstractCommand.\nSo I have a command to move an object :\npublic class MoveCommand extends AbstractCommand {\n    Moveable movingObject;\n    Point2D startPos;\n    Point2D endPos;\n\n    public MoveCommand(Point2D start) {\n        this.startPos = start;\n    }\n\n    public void execute() {\n        if(this.movingObject != null && this.endPos != null)\n            this.movingObject.moveTo(this.endPos);\n    }\n\n    public void unexecute() {\n        if(this.movingObject != null && this.startPos != null)\n            this.movingObject.moveTo(this.startPos);\n    }\n\n    public void setStart(Point2D start) {\n        this.startPos = start;\n    }\n\n    public void setEnd(Point2D end) {\n        this.endPos = end;\n    }\n}\n\nI also have a MoveRemoveCommand (to... move or remove an object/node). If I use the ID of instanceof method, I don't have to pass the diagram to the actual node or link so that it can remove itself from the diagram (which is a bad idea I think).\nAbstractDiagram diagram;\n    Addable obj;\n    AddRemoveType type;\n@SuppressWarnings(\"unused\")\nprivate AddRemoveCommand() {}\n\npublic AddRemoveCommand(AbstractDiagram diagram, Addable obj, AddRemoveType type) {\n    this.diagram = diagram;\n    this.obj = obj;\n    this.type = type;\n}\n\npublic void execute() {\n    if(obj != null && diagram != null) {\n        switch(type) {\n            case ADD:\n                this.obj.addToDiagram(diagram);\n                break;\n            case REMOVE:\n                this.obj.removeFromDiagram(diagram);\n                break;\n        }\n    }\n}\n\npublic void unexecute() {\n    if(obj != null && diagram != null) {\n        switch(type) {\n            case ADD:\n                this.obj.removeFromDiagram(diagram);\n                break;\n            case REMOVE:\n                this.obj.addToDiagram(diagram);\n                break;\n        }\n    }\n}\n\nFinally, I have a ModificationCommand which is used to modify the info of a node or link (class name, etc.). This may be merged in the future with the MoveCommand. This class is empty for now. I will probably do the ID thing with a mechanism to determine if the modified object is a node or an edge (via instanceof or a special denotion in the ID).\nIs this is a good solution?\n", "Should I be writing Doc Comments for all of my java methods? \n", "Because Canvas3D doesn't have the ability to resize dynamically with the parent frame, I would like to be able to track when a user resizes a window and then resize it manually myself. (If this ends up crashing Canvas3D, as some docs suggest, I will simply destroy and recreate it when the user resizes their window). Part of this procedure involves being able to accurately tell how big the container panel is to begin with.\nThe two methods I've tried:\npanel.getHeight();\npanel.getPreferredSize().height;\nDon't seem to accurately report things: getHeight() is invariably zero, and getPreferredSize() returns numbers that don't actually have anything to do with the actual size of the panel.\nAny ideas?\nEdit: So, I took a debugger to the panel object and manually inspected the non-object properties and I didn't see anything that resembled width/height. Granted, there are sub-objects that I didn't look at. Also, maybe the window has to be visible (it isn't, at the point I'm interfacing the object) when I query for height/object?\nEdit 2: So, Swing classes are subclasses of AWT classes, so I imagine if you're able to find the height/width of those, the approach would generalize. I've amended the title accordingly.\n", "I've recently gotten my hobby java project embedded into a page thanks to this very site, but now I'm having some security issues.\nI have the include:\nimport java.sql.*;\n\nand the line:\nClass.forName(\"com.mysql.jdbc.Driver\").newInstance();\n\nas well as a mysql .jar file in my src directory, it works from the console, and in the applet works fine from the applet - up until that forName() line in my code, where it throws the exception:\n\n    Exception: com.mysql.jdbc.Driverjava.lang.ClassNotFoundException: com.mysql.jdbc.Driver\n    java.security.AccessControlException: access denied (java.lang.RuntimePermission exitVM.-1)\n    at java.security.AccessControlContext.checkPermission(Unknown Source)\n    at java.security.AccessController.checkPermission(Unknown Source)\n    at java.lang.SecurityManager.checkPermission(Unknown Source)\n    at java.lang.SecurityManager.checkExit(Unknown Source)\n    at java.lang.Runtime.exit(Unknown Source)\n    at java.lang.System.exit(Unknown Source)\n    at applet.Database.connectDB(Database.java:80)\n    etc...\n\nI think I may be able to fix it with a client.policy file, otherwise I might need to write an abstraction layer which uses a server-client network connection to query from the server-side...\nI'm sure the Java gurus here probably know the best way about it.\n", "Oracle has this concept of allowing database users to be identified by the operating system user who is running the program that is connecting to Oracle. See here.\nThis allows you to do, as that user on a unix machine for example, a command such as:\nsqlplus /\n\nI am attempting to write a Java program for Oracle 10.2 which connects without a username or password. The obvious choice of url:\njdbc:oracle:thin:/@localhost:1521:MYDBSID\n\ndoesn't work, giving an error (Sorry I don't have the error available right now).\nI have attempted many other forms of doing this as well, but with no luck.\nDoes anyone have any suggestions on how I can connect a Java program to Oracle using the OS identification method?\n", "I thought I understood Java generics pretty well, but then I came across the following in java.lang.Enum:\nclass Enum<E extends Enum<E>>\n\nCould someone explain how to interpret this type parameter? Bonus points for providing other examples of where a similar type parameter could be used.\n", "I want to find out if length property for Java arrays is an int/long or something else.\n", "I need to execute a select and then update some of the rows in the ResultSet in an atomic way.\nThe code I am using looks like (simplified):\nstmt = con.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE);\nrs = stmt.executeQuery(\"SELECT ...\");\n\nwhile (rs.next()) {\n    if (conditions_to_update) {\n        rs.updateString(...);\n        rs.updateRow();\n    }\n}\n\n\nCan I guarantee that the updates are going to be executed atomically ?  If not, how could I assure that ?\nWhat happens if any other process has changed the database row that you are updating via updateRow() ?  Is there any way to lock the rows in the ResultSet ?\n\n", "I am looking for lightweight messaging framework in Java. My task is to process events in a SEDA\u2019s manner: I know that some stages of the processing could be completed quickly, and others not, and would like to decouple these stages of processing.\nLet\u2019s say I have components A and B and processing engine (be this container or whatever else) invokes component A, which in turn invokes component B. I do not care if execution time of component B will be 2s, but I do care if execution time of component A is below 50ms, for example. Therefore, it seems most reasonable for component A to submit a message to B, which B will process at the desired time.\nI am aware of different JMS implementations and Apache ActiveMQ: they are too heavyweight for this. I searched for some lightweight messaging (with really basic features like messages serialization and simplest routing) to no avail.\nDo you have anything to recommend in this issue?\n", "In JUnit 3 I simply called\nsuite.addTestSuite( MyTest.class )\n\nHowever if MyTest is a JUnit 4 test which does not extend TestCase this doesn't work. What should I do instead to create a suite of tests?\n", "Me and some friends are writing a MORPG in Java, and we would like to use a scripting language to, eg. to create quests.\nWe have non experience with scripting in Java. We have used Python, but we are very inexperienced with it. One of us also have used Javascript. \nWhat scripting language should we use?\nWhat scripting language should we not use? \n", "I received a WSDL file for a web service interface that our system should call somewhere in the future. \nUntil then, I'd like to setup a dummy/mockup web service that does nothing else than to log the web service invocations and return dummy data.\nWhat I've done so far is to generate Java objects from the WSDL file.\nWhat's the fastest way to setup such a mockup web service when you already have an application server (here: JBoss) running? \n", "Recently I converted a Swing application to Webstart. The process was pretty straightforward, but I found that after I close all windows, my application's JVM did not terminate. The thread dump showed that there are a couple of non-daemon threads, notably Swing's EDT, AWT and a couple of websart related threads. \nThe actual strategy used is that each window increments a counter when it is created and decrements one when it is closed. The default close operation is DISPOSE_ON_CLOSE. Wen the counter reaches zero, I stop all threadpools and release all JNI resources.\nWhen I launched the application from a bat file (same JARs), it terminated fine when all windows were closed, so I figured that the problem has something to do with Webstart.\nNow the questions:\n\nCan anybody tell me what exactly is happening? Why does Webstart leave zombie JVMs? \nIs there a way to release the Webstart resources explicitly without halting the JVM? \nI've always had the opinion that calling System.exit() encourages the sloppy practice of not releasing your resources and relying on the OS to clean up after you (which can lead to nasty surprises if you reuse the code later)... am I missing something?\n\nSee also the followup question for detecting whether the app has been launched by Webstart.\n", "As a test engineer, I often engage in exploratory testing. When I encounter a bug, it is not always immediately clear which steps led to the problem. So, obviously, I have to find the required steps to reproduce the problem. Depending on the situation, this can take a large amount of time.\nWhat would be really helpful is a logging tool that keeps track of mouse and keyboard actions and possibly also stores the properties of components that have been clicked (the AUT is written in Java).\nI could simply not find a suitable tool, but maybe my search approach is erroneous. \nCould anyone point me to the right direction?\n", "I am using Apache HttpClient and would like to communicate HTTP errors (400 Bad Request, 404 Not Found, 500 Server Error, etc.) via the Java exception mechanism to the calling code. Is there an exception in the Java standard library or in a widely used library that would be appropriate to use or to subclass for this purpose?\nThe alternative is to check status return codes. This appears to be the HttpClient design philosophy, but since these errors are truly exceptional in my app, I would like to have the stack trace and other nice exception things set up for me when they happen.\n", "I know Java well. Which caveats and resources will help me cross to the other side (C#) as painlessly as possible.\n", "On our Dev box, our application module contains references to the file:/apps/WebSphere61/systemApps/isclite.ear/ jar files and classpath entries.  On our Prod box, however, it only contains the jar file containing all of our required classes.  On Dev, this is causing a problem when using apache-commons-fileuploader as these classes are also references in the systemApps jar.  How can we remove the systemApps library references from our application module's classpath?\nWebsphere Application Server 6.1.0.17\n", "Anyone know a simple way using Java calendar to subtract X days from a date?\nI have not been able to find any function which allows me to directly subtract X days from a date in Java. Can someone point me to the right direction?\n", "The JPA (Java Persistence API) specification has 2 different ways to specify entity composite keys: @IdClass and @EmbeddedId. \nI'm using both annotations on my mapped entities, but it turns out to be a big mess to people who aren't very familiar with JPA. \nI want to adopt only one way to specify composite keys. Which one is really the best? Why?\n", "Is there a Java equivalent to .NET's App.Config?\nIf not is there a standard way to keep you application settings, so that they can be changed after an app has been distributed?\n", "Is there a good way to have a Map<String, ?> get and put ignoring case?\n", "I'm using Spring's support for JDBC. I'd like to use JdbcTemplate (or SimpleJdbcTemplate) to execute a query and obtain the result as an instance of ResultSet.\nThe only way that I can see of achieving this is using:\nString sql = \"select * from....\";\nSqlRowSet results = jdbcTemplate.queryForRowSet(sql);\n((ResultSetWrappingSqlRowSet) results).getResultSet();\n\nAn obvious shortcoming of this approach is that it requires me to make an assumption (by casting) about the implementation type of SqlRowSet, but is there a better way?\nBackground info...\nThe reason I want to obtain the results as a ResultSet, rather than a collection of beans, is because the results will be passed straight to a Jasper report for display. In other words, the Java bean would be used for nothing other than temporarily storing each row in the ResultSet, and I'd like to avoid creating such a bean for every Jasper report if possible.\nCheers, Don\n", "At the moment, I'm creating an XML file in Java and displaying it in a JSP page by transforming it with XSL/XSLT. Now I need to take that XML file and display the same information in a PDF. Is there a way I can do this by using some kind of XSL file?\nI've seen the iText Java-PDF library, but I can't find any way to use it with XML and a stylesheet.\nAny assistance would be much appreciated. Thanks in advance!\n", "Should a method that implements an interface method be annotated with @Override?\nThe javadoc of the Override annotation says: \n\nIndicates that a method declaration is intended to override a method declaration in a superclass. If a method is annotated with this annotation type but does not override a superclass method, compilers are required to generate an error message.\n\nI don't think that an interface is technically a superclass. Or is it?\nQuestion Elaboration\n", "Which log4j Version is bundled with latest OpenCms 7?\n", "Every class that wants to use java.util.logging generally needs to declare a logger like this:\npublic class MyClass {\n    private static Logger _log = Logger.getLogger(MyClass.class.getName());\n}\n\nHow do you avoid this MyClass.class.getName() boilerplate code?\n", "Object o = new Long[0]\nSystem.out.println( o.getClass().isArray() )\nSystem.out.println( o.getClass().getName() )\nClass ofArray = ???\n\nRunning the first 3 lines emits;\ntrue\n[Ljava.lang.Long;\n\nHow do I get ??? to be type long?   I could parse the string and do a Class.forname(), but thats grotty.   What's the easy way?\n", "How do I go about positioning a JDialog at the center of the screen?\n", "Is it possible to create Eclipse plugins that auto-discover eachother?\nI am developing a set of plugins that need to operate in two primary situations:\n\nindividually\nin concert with each other.\n\nWhen run individually, the plugins should \"just work\" but when in concert, they will be sharing some of the same model content, and one of the plugins should present the user with a list of other plugins to share content with. eg:\n\nFoo Plugin detected the following\n  plugins it can share ontologies with:\n[ ] Bar plugin\n[ ] Baz plugin   \n[ ] Don't share\n\nDoes Eclipse offer any internal publication / detection methods that would facilitate this sort of auto-detection of other plugins?\n", "I develop a number of desktop Java applications using Swing, and while Swing is quite powerful (once you get the hang of it), there are still a lot of cases where I wish some advanced component was available right out of the box.\nFor example, I'd really like to see easy-to-use components (without writing them myself, which I could do given enough time) like:\n\nMulti-line label\nWindows File Explorer-like Icons or Thumbnails view\nDrop-down button (like Firefox's old Back button)\n5-star rating widget\nCombo box with automatic history (like the text field on Google)\nAn Outlook-style accordion-style bar\nand so on\n\nI know of a couple of sources of free Swing components, like SwingLabs, home of JXTable, JXDatePicker, and a few others.\nWhere do you go for Swing components beyond those included with Java itself?\n", "I get the following warning when using java.net.URLEncoder.encode:\nwarning: [deprecation] encode(java.lang.String)\n         in java.net.URLEncoder has been deprecated\nWhat should I be using instead?\n", "What is the most efficient way to store large arrays (10000x100) in a database, say, hsqldb? I need to do this for a certain math program that I'm writing in java. Please help.\nThe whole array will be retrieved and stored often (not so much individual elements). Also, some meta-data about the array needs to be stored about the array.\n", "I've been doing \"plain old java objects\" programming for 10 years now, with Swing and JDBC, and I consider myself pretty good at it.  But I start a new job in two weeks where they use JBoss, and I'd like to get a heads up and start learning all this stuff before I start.  What are good resources?  On-line tutorials, books, e-books, anything you can suggest, especially ones that don't try to teach you the basics of plain Java first.\n", "I have a co-worker that swears by\n//in a singleton \"Constants\" class\npublic static final String EMPTY_STRING = \"\";\n\nin a constants class available throughout the project. That way, we can write something like\nif (Constants.EMPTY_STRING.equals(otherString)) {\n    ...\n}\n\ninstead of \nif (\"\".equals(otherString)) {\n    ...\n}\n\nI say it's \n\nnot worth it--it doesn't save any space in the heap/stack/string pool,\nugly\nabuse of a constants class.\n\nWho is the idiot here?\n", "With a TreeMap it's trivial to provide a custom Comparator, thus overriding the semantics provided by Comparable objects added to the map. HashMaps however cannot be controlled in this manner; the functions providing hash values and equality checks cannot be 'side-loaded'.\nI suspect it would be both easy and useful to design an interface and to retrofit this into HashMap (or a new class)? Something like this, except with better names:\n  interface Hasharator<T> {\n    int alternativeHashCode(T t);\n    boolean alternativeEquals(T t1, T t2);\n  }\n\n  class HasharatorMap<K, V> {\n    HasharatorMap(Hasharator<? super K> hasharator) { ... }\n  }\n\n  class HasharatorSet<T> {\n    HasharatorSet(Hasharator<? super T> hasharator) { ... }\n  }\n\nThe case insensitive Map problem gets a trivial solution:\n new HasharatorMap(String.CASE_INSENSITIVE_EQUALITY);\n\nWould this be doable, or can you see any fundamental problems with this approach?\nIs the approach used in any existing (non-JRE) libs? (Tried google, no luck.)\nEDIT: Nice workaround presented by hazzen, but I'm afraid this is the workaround I'm trying to avoid... ;)\nEDIT: Changed title to no longer mention \"Comparator\"; I suspect this was a bit confusing.  \nEDIT: Accepted answer with relation to performance; would love a more specific answer!\nEDIT: There is an implementation; see the accepted answer below.\nEDIT: Rephrased the first sentence to indicate more clearly that it's the side-loading I'm after (and not ordering; ordering does not belong in HashMap).\n", "I have the following snippet of code, changeTextArea is a TextArea object.\nchangeTextArea.addKeyboardListener(new KeyboardListenerAdapter()\n  public void onKeyPress( Widget sender, char keyCode, int modifier){\n    //do something\n    //I WISH TO STOP THE EVENT THAT MAPS TO THIS KEYPRESS FROM BUBBLING ANY FURTHER\n  }\n}\n\nHow would I stop the Event that is causing this method to be called from bubbling up from changeTextArea into the Panels/Widgets/Composites/Whatever that contain changeTextArea. Put succinctly, how do I stop it from bubbling any further. Any help would be appreciated (especially code samples).\n", "I would like to embed Flash Player directly inside a C++ or Java application.\nI found an article that describes how to do this for C#:\nhttp://www.adobe.com/devnet/flash/articles/stock_history03.html\nUnfortunately, I have no experience with C#, COM or ActiveX. I need someone to translate this code to C++, allowing me to embed the Flash Player into a Win32 Window. Ultimately I'd like to use this information to embed Flash into a Java application.\nI am looking for three main functionalities:\n\nAbility to play a Flash movie\nAbility to receive events (such as mouse clicks)\nAbility to send events\n\nEdit: I prefer an open-source solution if possible.\n", "Essentially what I want is a BlockingQueue of size=1. I have a \"listener\" thread that simply waits, blocking until an object is put into the queue, and then retrieves it--and a \"producer\" thread that actually puts the object into the queue.\nI can implement this with some synchronized blocks and a BlockingQueue implementation, but that seems like overkill. Is there a better, simpler way to do what I want?\nExample interface:\npublic interface Wait<T> {\n  /**\n   * If \"put\" has never been called on this object, then this method will\n   * block and wait until it has. Once \"put\" has been called with some T, this\n   * method will return that T immediately.\n   */\n  public T get() throws InterruptedException;\n\n  /**\n   * @param object The object to return to callers of get(). If called more\n   * than once, will throw an {@link IllegalStateException}.\n   */\n  public void put(T object);\n}\n\n", "When I'm building a java object using JNI methods, in order to pass it in as a parameter to a java method I'm invoking using the JNI invocation API, how do I manage its memory? \nHere's what I am working with:\nI have a C object that has a destructor method that is more complex that free().  This C object is to be associated with a Java object, and once the application is finished with the Java object, I have no more need for the C object.\nI am creating the Java object like so (error checking elided for clarity):\nc_object = c_object_create ();\nclass = (*env)->FindClass (env, \"my.class.name\");\nconstructor = (*env)->GetMethodID (env, class, \"<init>\", \"(J)V\");\ninstance = (*env)->NewObject (env, class, constructor, (jlong) c_object);\n\nmethod = (*env)->GetMethodID (env, other_class, \"doSomeWork\", \"(Lmy.class.name)V\");\n(*env)->CallVoidMethod (env, other_class, method, instance);\n\nSo, now that I'm done with instance, what do I do with it?  Ideally, I'd like to leave the garbage collection up to the VM; when it's done with instance it would be fantastic if it also called c_object_destroy() on the pointer I provided to it.  Is this possible?\nA separate, but related question has to do with the scope of Java entities that I create in a method like this; do I have to manually release, say, class, constructor, or method above?  The JNI doc is frustratingly vague (in my judgement) on the subject of proper memory management.\n", "What is a StackOverflowError, what causes it, and how should I deal with them?\n", "Please bear with me here, I'm a student and new to Java Server Pages. \nIf I'm being a complete idiot, can someone give me a good link to a tutorial on JSP, since I've been unable to find info on this anywhere. \nOkay, here goes... \nI'm using Netbeans and trying to pass an object that connects to a database between the pages, otherwise I'd have to reconnect to the database every time a new page is displayed. \nUsing Netbeans, you can view each page as \"jsp\", in \"design\" view, or view the Java code. In the Java code is the class that extends an AbstractPageBean. The problem is that I'd like to pass parameters, but there is no object representing the class and so I can't just access the instance variables. \nCan anyone tell me how to do this? \n", "I'm writing a custom swing component (something completely new, but think JTree or JList). I'm trying to follow the general design of JTree, JTable, JList etc for consistency (I've also seen various poor 3rd party components abandon the separable model and/or renderer approach).\nSo, I have a model full of nodes, the component itself and a renderer. At some point the node has to be turned into text and displayed by a renderer. I'm not clear on the best way to do this:\n\nPass the node itself (as Object) to the renderer, and let the renderer decide how to display it.\n\n\nThis is how JList does it.\nRequires a customised renderer just to change the text.\nAllows great flexibility in how to display the node (doesn't even have to be text).\n\nPass the node itself (as Object) to the renderer, but have a convertValueToText() method in the component class.\n\n\nThis is how JTree does it.\nRenderers can be just as flexibile as before - don't have to use this method.\nHave to override component to change the text transformation.\n\nAs above, but delegate convertValueTotext() to the model.\n\n\nThis is how JXTable does it.\nThe model is probably the best place for this method - and it's easier to override there.\n\n\nI don't want to have to customise the renderer just to change the text, but I'd like to be able to customise the renderer to do more than display a model-displayed string (else why bother with renderers). I really don't like the fact that JXTable uses reflection to look for convertValueToText() in the model - this smells of bad magic to me.\nCan anyone shed any light on this oft-neglected part of Swing?\nSOLUTION\nWhat I ended up doing was this:\n\nAdd a method to the model which returns a string for the given node. Importantly, this can be null to indicate that the renderer should know what to do or that we simply can't provide anything useful.\nThe component has the same method, and passes the call on to the model. This is important for view-model separation. The renderer calls this method, so it doesn't talk to the model directly.\nThe default renderer calls the above method and if it's not null, it uses it, otherwise it can call toString on the value, or provide a default, or whatever.\n\nThis leaves developers a choice when they want to override the displayed value\n  - Override the method with a non-null return value knowing that the default renderer will display this text.\n  - Provide a custom renderer which is passed the actual node object so it can do \"clever\" things if it needs to.\nI'm quite happy with it - it \"feels\" right, it works, and it's easy to use.\nThanks for your perspectives!\n", "I've got a large array of primitive types (double).\nHow do I sort the elements in descending order?\nUnfortunately the Java API doesn't support sorting of primitive types with a Comparator.\nOne workaround would be to sort and then reverse:\ndouble[] array = new double[1048576];\n...\nArrays.sort(array);\n// reverse the array\nfor(int i=0;i<array.length/2;i++) {\n     // swap the elements\n     double temp = array[i];\n     array[i] = array[array.length-(i+1)];\n     array[array.length-(i+1)] = temp;\n}\n\nThis is slow - particularly if the array is already sorted quite well.\nWhat's a better alternative?\n", "In Java, are there clear rules on when to use each of access modifiers, namely the default (package private), public, protected and private, while making class and interface and dealing with inheritance?\n", "I'd like to create a script to manipulate Apache2 configuration directly, reading and writing its properties (like adding a new VirtualHost, changing settings of one that already exists).\nAre there any libs out there, for Perl, Python or Java that automates that task?\n", "I'm trying to access the message in a jthrowable while handing an exception generated when I fail to find a class.  However, I am unable to access the message ID of getMessage() on the jthrowable object, and I don't know why.  I've tried changing the signature of getMessage to \"()Ljava/lang/String\" (without the semicolon at the end, but that's necessary, right?) with no joy.  I'm confused as hell about this.  I even tried replacing getMessage with toString, and that didn't work.  Obviously I'm doing something trivially wrong here.\nHere's the code I'm using:\njthrowable java_exception;\njclass java_class;\njmethodID method;\n\njava_exception = (*jEnv)->ExceptionOccurred(jEnv);\nassert (java_exception != NULL);\njava_class = (*jEnv)->GetObjectClass (jEnv, java_exception);\nassert (java_class != NULL);\nmethod = (*jEnv)->GetMethodID (jEnv, java_class, \"getMessage\", \"()Ljava/lang/String;\");\nif (method == NULL) {\nprintf (\"Seriously, how do I get here?!\\n\");\n(*jEnv)->ExceptionDescribe (jEnv);\nreturn;\n}\n\nThe output of this code (amongst other things) looks like this:\n\nSeriously, how do I get here?!\n  Exception in thread \"main\" java.lang.NoClassDefFoundError: com/planet/core360/docgen/Processor\n\njavap -p -s java.lang.Throwable gives me this:\n\nCompiled from \"Throwable.java\"\n  public class java.lang.Throwable extends java.lang.Object implements java.io.Serializable{\n  ...\n  public java.lang.String getMessage();\n    Signature: ()Ljava/lang/String;\n  ...  \n\n", "Are there any other ways to avoid LazyInitializationExceptions in a Hibernate web application besides using the OpenSessionInView pattern? Are there any downsides to using OpenSessionInView?\n", "I develop and maintain small intranet web apps written in JSP and Java.\nThey run on a Resin web server, without dedicated httpd like Apache.\nBefore performing maintenance, I activate a very simple Ajax message to urge users to logout.\nWhat I want is, while I do maintenance, a user trying to log in to that particular app \nto see a \"Sorry, temporarily out of service\" page, while all other web apps running on the same web server are available as usual.\nWhat are some best practices in this situation?\n", "I've been playing with some algorithms on the internet for a while and I can't seem to get them to work, so I'm tossing the question out here;\nI am attempting to render a velocity vector line from a point. Drawing the line isn't difficult: just insert a line with length velocity.length into the graph. This puts the line centered at the point in the y-axis direction. We need to get this now in the proper rotation and translation.\nThe translational vector is not difficult to calculate: it is half the velocity vector. The rotational matrix, however, is being exceedingly elusive to me. Given a directional vector <x, y, z>, what's the matrix I need?\nEdit 1: Look; if you don't understand the question, you probably won't be able to give me an answer.\nHere is what I currently have:\n                    Vector3f translation = new Vector3f();\n                    translation.scale(1f/2f, body.velocity);\n\n                    Vector3f vec_z = (Vector3f) body.velocity.clone();\n                    vec_z.normalize();\n\n                    Vector3f vec_y; // reference vector, will correct later\n                    if (vec_z.x == 0 && vec_z.z == 0) {\n                        vec_y = new Vector3f(-vec_z.y, 0f, 0f); // could be optimized\n                    } else {\n                        vec_y = new Vector3f(0f, 1f, 0f);\n                    }\n                    Vector3f vec_x = new Vector3f();\n                    vec_x.cross(vec_y, vec_z);\n                    vec_z.normalize();\n\n                    vec_y.cross(vec_x, vec_z);\n                    vec_y.normalize();\n                    vec_y.negate();\n\n                    Matrix3f rotation = new Matrix3f(\n                        vec_z.z, vec_z.x, vec_z.y,\n                        vec_x.z, vec_x.x, vec_x.y,\n                        vec_y.z, vec_y.x, vec_y.y\n                    );\n\n                    arrowTransform3D.set(rotation, translation, 1f);\nbased off of this article. And yes, I've tried the standard rotation matrix (vec_x.x, vec_y.x, etc) and it didn't work. I've been rotating the columns and rows to see if there's any effect.\nEdit 2:\nApologies about the rude wording of my comments.\nSo it looks like there were a combination of two errors; one of which House MD pointed out (really bad naming of variables: vec_z was actually vec_y, and so on), and the other was that I needed to invert the matrix before passing it off to the rendering engine (transposing was close!). So the modified code is:\n                    Vector3f vec_y = (Vector3f) body.velocity.clone();\n                    vec_y.normalize();\n\n                    Vector3f vec_x; // reference vector, will correct later\n                    if (vec_y.x == 0 && vec_y.z == 0) {\n                        vec_x = new Vector3f(-vec_y.y, 0f, 0f); // could be optimized\n                    } else {\n                        vec_x = new Vector3f(0f, 1f, 0f);\n                    }\n\n                    Vector3f vec_z = new Vector3f();\n                    vec_z.cross(vec_x, vec_y);\n                    vec_z.normalize();\n\n                    vec_x.cross(vec_z, vec_y);\n                    vec_x.normalize();\n                    vec_x.negate();\n\n                    Matrix3f rotation = new Matrix3f(\n                        vec_x.x, vec_x.y, vec_x.z,\n                        vec_y.x, vec_y.y, vec_y.z,\n                        vec_z.x, vec_z.y, vec_z.z\n                    );\n                    rotation.invert();\n", "As it was made clear in my recent question, Swing applications need to explicitly call System.exit() when they are ran using the Sun Webstart launcher (at least as of Java SE 6).\nI want to restrict this hack as much as possible and I am looking for a reliable way to detect whether the application is running under Webstart. Right now I am checking that the value of the system property \"webstart.version\" is not null, but I couldn't find any guarantees in the documentation that this property should be set by future versions/alternative implementations.\nAre there any better ways (preferably ones that do not ceate a dependency on the the webstart API?)\n", "I have a java webapp that has to be deployed on either Win or Linux machines. I now want to add log4j for logging and I'd like to use a relative path for the log file as I don't want to change the file path on every deployment. The container will most likely be Tomcat but not necessarily.\nWhat's the best way of doing this?\n", "What's the best way to get the last inserted id using sqlite from Java? Google is giving me different answers--some say select the last-insert-rowid; others say call statement.getGeneratedKeys(). What's the best route to take? (I just want to return the id, not use it for other inserts or anything.)\n", "For homework, I was given the following 8 code fragments to analyze and give a Big-Oh notation for the running time.  Can anybody please tell me if I'm on the right track?  \n//Fragment 1\nfor(int i = 0; i < n; i++)\n    sum++;\n\nI'm thinking O(N) for fragment 1\n//Fragment 2\nfor(int i = 0; i < n; i+=2)\n    sum++;\n\nO(N) for fragment 2 as well\n//Fragment 3\nfor(int i = 0; i < n; i++)\n    for( int j = 0; j < n; j++)\n        sum++;\n\nO(N^2) for fragment 3\n//Fragment 4\nfor(int i = 0; i < n; i+=2)\n    sum++;\nfor(int j = 0; j < n; j++)\n    sum++;\n\nO(N) for fragment 4\n//Fragment 5\nfor(int i = 0; i < n; i++)\n    for( int j = 0; j < n * n; j++)\n        sum++;\n\nO(N^2) for fragment 5 but the n * n is throwing me off a bit so I'm not quite sure\n//Fragment 6\nfor(int i = 0; i < n; i++)\n    for( int j = 0; j < i; j++)\n        sum++;\n\nO(N^2) for fragment 6 as well\n//Fragment 7\nfor(int i = 0; i < n; i++)\n    for( int j = 0; j < n * n; j++)\n        for(int k = 0; k < j; k++)\n            sum++;\n\nO(N^3) for fragment 7 but once again the n * n is throwing me off\n//Fragment 8\nfor(int i = 1; i < n; i = i * 2)\n    sum++;\n\nO(N) for fragment 8\n", "One of our providers are sometimes sending XML feeds that are tagged as UTF-8 encoded documents but includes characters that are not included in the UTF-8 charset. This causes the parser to throw an exception and stop building the DOM object when these characters are encountered:\nDocumentBuilder.parse(ByteArrayInputStream bais) \n\nthrows the following exception:\norg.xml.sax.SAXParseException: Invalid byte 2 of 2-byte UTF-8 sequence.\n\nIs there a way to \"capture\" these problems early and avoid the exception (i.e. finding and removing those characters from the stream)? What I'm looking for is a \"best effort\" type of fallback for wrongly encoded documents. The correct solution would obviously be to attack the problem at the source and make sure that only correct documents are delivered, but what is a good approach when that is not possible?\n", "What's the best way to pipe the output from an java.io.OutputStream to a String in Java?\nSay I have the method:\n  writeToStream(Object o, OutputStream out)\n\nWhich writes certain data from the object to the given stream. However, I want to get this output into a String as easily as possible.\nI'm considering writing a class like this (untested):\nclass StringOutputStream extends OutputStream {\n\n  StringBuilder mBuf;\n\n  public void write(int byte) throws IOException {\n    mBuf.append((char) byte);\n  }\n\n  public String getString() {\n    return mBuf.toString();\n  }\n}\n\nBut is there a better way? I only want to run a test!\n", "I'm working on a sparse matrix class that needs to use an array of LinkedList to store the values of a matrix. Each element of the array (i.e. each LinkedList) represents a row of the matrix. And, each element in the LinkedList array represents a column and the stored value.\nIn my class, I have a declaration of the array as:\nprivate LinkedList<IntegerNode>[] myMatrix;\n\nAnd, in my constructor for the SparseMatrix, I try to define:\nmyMatrix = new LinkedList<IntegerNode>[numRows];\n\nThe error I end up getting is\n\nCannot create a generic array of LinkedList<IntegerNode>.\n\nSo, I have two issues with this:\n\nWhat am I doing wrong, and\nWhy is the type acceptable in the declaration for the array if it can't be created?\n\nIntegerNode is a class that I have created. And, all of my class files are packaged together.\n", "Using Apache's commons-httpclient for Java, what's the best way to add query parameters to a GetMethod instance? If I'm using PostMethod, it's very straightforward:\nPostMethod method = new PostMethod();\nmethod.addParameter(\"key\", \"value\");\n\nGetMethod doesn't have an \"addParameter\" method, though. I've discovered that this works:\nGetMethod method = new GetMethod(\"http://www.example.com/page\");\nmethod.setQueryString(new NameValuePair[] {\n    new NameValuePair(\"key\", \"value\")\n});\n\nHowever, most of the examples I've seen either hard-code the parameters directly into the URL, e.g.:\nGetMethod method = new GetMethod(\"http://www.example.com/page?key=value\");\n\nor hard-code the query string, e.g.:\nGetMethod method = new GetMethod(\"http://www.example.com/page\");\nmethod.setQueryString(\"?key=value\");\n\nIs one of these patterns to be preferred? And why the API discrepancy between PostMethod and GetMethod? And what are all those other HttpMethodParams methods intended to be used for?\n", "I want to sort members by name in the source code. Is there any easy way to do it? \nI'm using NetBeans, but if there is another editor that can do that, just tell me the name of it.\n", "Let's say that you have overridden an object's equals() and hashCode() methods, so that they use the object's fields.\nHow you do you check if two references are to the same object, ala the stock equals() method?\n", "Do these two keywords have exactly the same effect, or is there something I should be aware of?\n", "I would really like to annotate a method with a reference to a single property in a property file for injection.\n@Resource(\"${my.service.url}\")\nprivate String myServiceUrl;\n\nOf course, this syntax does not work ;) Thats why I'm asking here.\nI am aware that I can inject the full properties file, but that just seems excessive, I dont want the property file - I want the configured value.\nEdit: I can only see PropertyPlaceholderConfigurer examples where XML is used to wire the property to the given field. I still cannot figure out how this can be achieved with an annotation ? \n", "I'm using javax naming to connect to an LDAP database.\nIs there a good way to check if a connection is still valid?\nI'm looking for something really efficient here because it may need to be done often.\nAfter some web searching all I have found is a suggestion to do a quick search, is there any more lightweight way?\n/mac\n", "Can I access spring bean that exposed using http invoker  (server) from GWT application (client) ?\nIf so is there any example / tutorial for that  ?\n-- Yonatan\n", "We are looking for a open source J2EE Application server for log budget deployments. We are considering JBoss and Glassfish. Which is the best open source application server? Any comparative study available?\n", "If I have a maven profile activated by the presence of a property, how can I define another profile that is only activated when the other profile is not activated?\ne.g.\n    <profile>\n        <activation>\n            <property>\n                <name>myproperty</name>\n                <value>value</value>\n            </property>\n        </activation>\n        ...\n    </profile>\n\n\n    <profile>\n        <activation>\n            <property>\n                <name>myproperty</name>\n                <value></value> <!-- Anything other than \"value\"  -->\n            </property>\n        </activation>\n        ...\n    </profile>\n\n", "I have a problem wih a logging setup in a apring webapp deployed under tomcat 6.\nThe webapp uses the commons-logging api, on runtime log4j should be used. The log file is created but remains empty - no log entries occur.\nthe setup is the following:\nWEB-INF/web.xml:\n <context-param>\n    <param-name>log4jConfigLocation</param-name>\n    <param-value>/WEB-INF/log4j.xml</param-value>\n  </context-param>\n  <listener>\n    <listener-class>org.springframework.web.util.Log4jConfigListener</listener-class>\n  </listener>\n\nWEB-INF/classes/commons-logging.properties:\norg.apache.commons.logging.Log=org.apache.commons.logging.impl.Log4JLogger\n\nWEB-INF/log4j.xml:\n<log4j:configuration xmlns:log4j='http://jakarta.apache.org/log4j/'>\n\n  <appender name=\"CONSOLE\" class=\"org.apache.log4j.ConsoleAppender\">\n    ...\n  </appender>\n  <appender name=\"FILE\" class=\"org.apache.log4j.RollingFileAppender\">\n    <param name=\"File\" value=\"${catalina.home}/logs/my.log\"/>\n    ...\n  </appender>\n\n  <logger name=\"my.package\">\n    <level value=\"INFO\"/>\n  </logger>\n\n  <root>\n    <level value=\"ERROR\"/>\n    <appender-ref ref=\"CONSOLE\"/>\n    <appender-ref ref=\"FILE\"/>\n  </root>\n</log4j:configuration>\n\nThe file logs/my.log is created, but no logs appear. The are info logs on the tomcat console, but not with the layout pattern configured.\nThe commons-logging-1.1.1.jar and log4j-1.2.14.jar are included in WEB-INF/lib. Any idea what is wrong here?\n", "If I switch on the generating of debug info with Javac then the class files are 20-25% larger. Has this any performance effects on running the Java program? If yes on which conditions and how many. I expect a little impact on loading the classes because the files are larger but this should be minimal.\n", "One thing that always been a pain is to log SQL (JDBC) errors when you have a PreparedStatement instead of the query itself.\nYou always end up with messages like:\n2008-10-20 09:19:48,114 ERROR LoggingQueueConsumer-52 [Logger.error:168] Error \nexecuting SQL: [INSERT INTO private_rooms_bans (room_id, name, user_id, msisdn, \nnickname) VALUES (?, ?, ?, ?, ?) ON DUPLICATE KEY UPDATE room_id = ?, name = ?, \nuser_id = ?, msisdn = ?, nickname = ?]\n\nOf course I could write a helper method for retrieving the values and parsing/substitute the question marks with real values (and probably will go down that path if I don't get an outcome of this question), but I just wanted to know if this problem was resolved before by someone else and/or if is there any generic logging helper that would do that automagically for me.\nEdited after a few answers:\nThe libraries provided so far seems to be suitable to logging the statements for debugging, which no doubt is useful. However, I am looking to a way of taking a PreparedStatement itself (not some subclass) and logging its SQL statement whenever an error occur. I wouldn't like to deploy a production app with an alternate implementation of PreparedStatement. \nI guess what I am looking for an utility class, not a PreparedStatement specialization.\nThanks!\n", "To put it simple, there's a simple java swing app that consists of JFrame with some components in it. One of the components is a JPanel that is meant to be replaced by another JPanel on user action.\nSo, what's the correct way of doing such a thing? I've tried\npanel = new CustomJPanelWithComponentsOnIt();\nparentFrameJPanelBelongsTo.pack();\n\nbut this won't work. What would you suggest?\n", "I want to use an AOP framework, but I have two constraints.\nAny framework that I choose\n\nMust be fairly independent. I plan to use this in a legacy code base, and hence \ncannot upgrade prospective dependencies like commons-logging-XXX.jar to commons-logging-newest.jar.\nMust be fairly well documented, should not be too complex to understand and integrate.\n\n", "Does Java Connection.close rollback into a finally block?.\nI know .Net SqlConnection.close does it.\nWith this I could make try/finally blocks without catch...\nExample:\ntry {\n    conn.setAutoCommit(false);\n    ResultSet rs = executeQuery(conn, ...);\n    ....\n    executeNonQuery(conn, ...);\n    ....\n\n    conn.commit();\n} finally {\n   conn.close();\n}\n\n", "What are Null Pointer Exceptions (java.lang.NullPointerException) and what causes them?\nWhat methods/tools can be used to determine the cause so that you stop the exception from causing the program to terminate prematurely?\n", "At a new job I started, we have both a Java application that handles most of the heavy lifting in the core business logic, and we also have a Rails application that of course handles the web interface to this server.  Both of these access the same database.\nUp until now, most of the focus has been on the Java application, and as such, there are no migrations in the Rails project.  The sql to update the shared database is managed in a file like changes.sql.\nAs you can imagine, this makes it somewhat difficult to develop.\nMy initial thought was to combine the codebases for the Java project and the Rails application, because there is a dependency there, and to manage that SQL file in the source.  However, I thought I'd ask here to see if anyone else had tackled this issue with some degree of success.\n", "When I make relationsships with JPA using hibernate, some terrible long and ackward column names are generated.\nEg. I have the following actionPlan_actionPlanPK, which means that the column actionPlan is a FK that points to actionPlanPK.\nTo make it look just a little bit more neat in the DB I would like if I could give it a name myself, preferably just the name it has in the entity class that owns the relationship.  \nIs this possible with JPA?\n", "I have a database full of small HTML documents and I need to programatically insert several into, say, a PDF document with iText or a Word document with Aspose.Words. I need to preserve any formatting within the HTML documents (within reason, honouring <b> tags is a must, CSS like <span style=\"blah\"> is a nice-to-have). \nBoth iText and Aspose work (roughly) along the lines:\nDocument document = new Document( Size.A4, Aspect.PORTRAIT );\n\ndocument.setFont( \"Helvetica\", 20, Font.BOLD );\ndocument.insert( \"some string\" )\ndocument.setBold( true );\ndocument.insert( \"A bold string\" );\n\nTherefore (I think) I need some kind of HTML parser which will I can inspect for strings and styles to insert into my document.\nCan anybody suggest a good library or sensible approach to this problem? Platform is Java\n", "I've seen some developers put instance variable declarations at the end of classes though I mostly see them placed at the top.  The only reasons I can think of for doing this are stylistic preference or maybe it somehow makes them easier to work with in an IDE.  Is there a more legitimate reason for choosing this style?\n", "I need to do a few very simple URL manipulations in Java. Like get the value for a parameter in the query, or update it, ... I was expecting to find a simple utility class doing that in the commons-lang package, but no. I know it is a simple problem, but if there is something already written, why do it again ? Do you know of any ?\nI would like to have at least the following capabilities :\nString myUrl = \"http://www.example.com/test.html?toto=1&titi=2\";\n\n// get the value of a parameter\nString parameterValue = UrlUtils.getParameterValue(myUrl, \"toto\");\nAssert.equals(parameterValue, \"1\");\n\n// update a parameter\nString newUrl = UrlUtils.updateParameter(myUrl, \"toto\", 3);\nparameterValue = UrlUtils.getParameterValue(myUrl, \"toto\");\nAssert.equals(parameterValue, \"3\");\n\nIdeally, it would take care of all encoding related issues, and work with java.net.Url as well as with Strings.\nThanks for your help !\n", "What are good reasons to prohibit inheritance in Java, for example by using final classes or classes using a single, private parameterless constructor? What are good reasons of making a method final?\n", "I have a static method in my code that I would like somehow to mock.\nI am using jmock.\nOne way I suppose I could do this is to have \"wrapper class\" around the static method and\nmock this but I was hoping for a better solution.\nI am going about this the wrong way?\nFEEDBACK:\nI was going to have a interface and class that had a method that just called the static method. It would allow me to mock the logic by just mocking the call to this wrapper class. (I feel dirty even talking about it :) )\n", "EDIT: See my working code in the answers below.\n\nIn brief: I have a JSP file which calls a method in a Java Bean. This method creates a PDF file and in theory, returns it to the JSP so that the user can download it. However, upon loading the PDF, Adobe Reader gives the error: File does not begin with '%PDF-'.\nIn detail: So far, the JSP successfully calls the method, the PDF is created and then the JSP appears to give the user the finished PDF file. However, as soon as Adobe Reader tries to open the PDF file, it gives an error: File does not begin with '%PDF-'. Just for good measure, I have the method create the PDF on my Desktop so that I can check it; when I open it normally within Windows is appears fine. So why is the output from the JSP different?\nTo create the PDF, I'm using Apache FOP. I'm following one of their most basic examples, with the exception of passing the resulting PDF to a JSP instead of simply saving it to the local machine. I have been following their basic usage pattern and this example code.\nHere's my JSP file:\n<%@ taglib uri=\"utilTLD\" prefix=\"util\" %>\n<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>\n<%@ taglib uri=\"http://java.sun.com/jsp/jstl/xml\" prefix=\"x\" %>\n<%@ page language=\"java\" session=\"false\" %>\n<%@ page contentType=\"application/pdf\" %>\n\n<%-- Construct and initialise the PrintReportsBean --%>\n<jsp:useBean id=\"printReportsBean\" scope=\"request\" class=\"some.package.printreports.PrintReportsBean\" />\n<jsp:setProperty name=\"printReportsBean\" property=\"*\"/>\n\n<c:set scope=\"page\" var=\"xml\" value=\"${printReportsBean.download}\"/>\n\nHere's my Java Bean method:\n//earlier in the class...\nprivate static FopFactory fopFactory = FopFactory.newInstance();\n\npublic File getDownload() throws UtilException {\n\n    OutputStream out = null;\n    File pdf = new File(\"C:\\\\documents and settings\\\\me\\\\Desktop\\\\HelloWorld.pdf\");\n    File fo  = new File(\"C:\\\\somedirectory\", \"HelloWorld.fo\");\n\n    try {\n\n        FOUserAgent foUserAgent = fopFactory.newFOUserAgent();\n\n        out = new FileOutputStream(pdf);\n        out = new BufferedOutputStream(out);\n\n        Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, foUserAgent, out);\n\n        TransformerFactory factory = TransformerFactory.newInstance();\n        Transformer transformer = factory.newTransformer(); //identity transformer\n\n        Source src = new StreamSource(fo);\n\n        Result res = new SAXResult(fop.getDefaultHandler());\n\n        transformer.transform(src, res);\n\n        return pdf;\n\n    } catch (Exception e) {\n\n         throw new UtilException(\"Could not get download. Msg = \"+e.getMessage());\n\n    } finally {\n\n         try {\n             out.close();\n         } catch (IOException io) {\n             throw new UtilException(\"Could not close OutputStream. Msg = \"+io.getMessage());\n         }\n    }\n}\n\nI realise that this is a very specific problem, but any help would be much appreciated!\n", "We have inherited an ant build file but now need to deploy to both 32bit and 64bit systems.\nThe non-Java bits are done with GNUMakefiles where we just call \"uname\" to get the info.  Is there a similar or even easier way to mimic this with ant?\n", "I'm trying to get some code working that a previous developer has written.\nYep, he now left the company. :-(\nI have a JSON RPC call being made from the JS code.\nThe JS all runs fine and the callback method gets an object back (not an error object).\nBut the method on the Java class never gets hit.\nThe smd method does get hit though.\n\npublic String smd()\n{\n   return SUCCESS; // break point reaches here\n}\n\n@SMDMethod\npublic void updateRowValueForField(String key, String value, String fieldname)\n{\n   // We never get into this method.\n}\n\n\n<package name=\"EntryBarRPC\" namespace=\"/\" extends=\"star-default\">\n\n    <action name=\"ebToggleSelection\" class=\"eboggleSelectionAction\" method=\"smd\">\n        <interceptor-ref name=\"jsonStack\">\n            <param name=\"enableSMD\">true</param>\n        </interceptor-ref>\n        <result type=\"json\">\n            <param name=\"enableSMD\">true</param>\n        </result>\n    </action>\n</package>\n\n\nI'm stumped as to why, or what I'm missing.\nI've read JSON plugin page over and over.\nI think I just need another set of eyes.\nNote: no errors in the Tomcat console, no JS errors.\nAnyone got any clues?\nCheers \nJeff Porter\n", "We've got a fairly large amount of code that just made the jump to Java 5. We've been using generics in those components targeted at being released in the Java 5 version, but the remaining code is, of course, full of raw types. I've set the compiler to generate an error for raw types and started manually clearing them, but at the present rate it'll take a very long time to go through with it (there are about 2500 errors). And that's with Eclipse's helpful Infer Generic Type quick fix, which always gets rid of the errors, but often generates code that needs further work.\nIs there any better way to dealing with this? Are there any automated tools better than Eclipse? Any way to apply the refactoring to all occurences instead of doing them one-by-one? Or do you just ignore the warnings?\n", "In general, is it a best practice to have simple POJO Java classes implement java.io.Serializable?\n", "I remember working on a project with a group of developers and they always wanted static\n html text to be inside of an out tag (<c:out value=\"words\" />). I don't remember why\n this was the case.\nIs this really a best practice when building jsp pages?  What are the \nadvantages/disadvantages of such an approach?\n", "One thing I've run into a few times is a service class (like a JBoss service) that has gotten overly large due to helper inner classes. I've yet to find a good way to break the class out. These helpers are usually threads. Here's an example:\n/** Asset service keeps track of the metadata about assets that live on other\n * systems. Complications include the fact the assets have a lifecycle and their\n * physical representation lives on other systems that have to be polled to find\n * out if the Asset is still there. */\npublic class AssetService\n{\n  //...various private variables\n  //...various methods\n\n  public AssetService()\n  {\n    Job pollerJob = jobService.schedule( new AssetPoller() );\n    Job lifeCycleJob = jobService.schedule( AssetLifecycleMonitor() );\n  }\n\n  class AssetPoller\n  {\n    public void run()\n    { \n      // contact remote systems and update this service's private variables that\n      // track the assets.\n    }\n  }\n\n  class AssetLifecycleMonitor\n  {\n    public void run()\n    {\n      // look for assets that have meet criteria for a lifecycle shift\n      // and update this service's private variables as relevant.\n    }\n  }\n}\n\nSo, what can happen if I have a couple helpers and they're at all complex, is the overall class file can get really large. I like the inner classes in that it makes clear the classes are wholly owned by the service and exist only to help that service. I've tried breaking the classes out and passing the parent service as a reference, which works mostly, but things I don't like are:\n I end up exposing package level accessors so the broken out classes can get to the variables, whereas before I didn't expose the setters at all since the inner classes had direct access. \n  Plus, things get a bit more wordy as I'm constantly calling accessors rather than the underlying variables. A minor nit, granted.\n  Convenience methods (e.g. checkAssetIsValid() or some such) need package level exposure now so the helper classes can call them, where as before as inner classes they could be private.\n  Even worse, I need to pass the service implementation class to the helper classes constructors since I don't want to expose these helpers methods in the interface the service implements because that forces them to be public. This can create some unit test/mocking issues. \n  Worse yet, any synchronization I wanted to do gets leaked out through some external convenience method (e.g. lockDownAssets() during a poller update). Before, the internal classes had access to private Locks.\n\nSo, in short, breaking the classes out loses some of the encapsulation I like. But leaving them in can lead to some large java files. I've yet to find a good way to deal with this. C++ had the concept of \"friends\" which I've rarely missed, but would actually help in this case.\nThoughts?\n", "Is there a preference or behavior difference between using:\nif(obj.getClass().isArray()) {}\n\nand\nif(obj instanceof Object[]) {}\n\n?\n", "I'm looking for a Java library that is geared towards network math and already tested.  Nothing particularly fancy, just something to hold ips and subnets, and do things like print a subnet mask or calculate whether an IP is within a given subnet.  \nShould I roll my own, or is there already a robust library for this?\n", "\nWhen an object is instantiated in Java, what is really going into memory?\nAre copies of parent constructors included?\nWhy do hidden data members behave differently than overridden methods when casting?\n\nI understand the abstract explanations that are typically given to get you use this stuff correctly, but how does the JVM really do it. \n", "I need to apply some xml templates to various streams of xml data (and files, on occasion) and there seem to be a large number of xml libraries for java out there -- enough that it's difficult to quickly determine which libraries are still active, how they differ from the other options that are also active, and what criteria should be considered when choosing one.\nWhat libraries do you use for manipulating xml in java, and why is it better than the alternatives?\n", "I have just started migrating my homegrown persistence framework to JPA.\nGiven that the persistence frameworks hide a lot of the plumbing, I'm interested in knowing if NOT closing EntityManagers will create a resource leak, or if the frameworks will collect and close them for me.\nI intend in all places to close them, but do I HAVE to?\nAt the moment using TopLink, just because it works with NetBeans easily, but am happy to investigate other JPA providers.\n", "This article here suggests to use -XX:+UseParNewGC \"To enable a parallel young generation GC with the concurrent GC\".  \nMy confusion is that in order to enable both parallel and concurrent GC, should I\n\nuse -XX:+UseParNewGC or\nuse both -XX:+UseParNewGC and -XX:+UseConcMarkSweepGC ?\n\nPS\nI am using JVM 6.\n", "Does anyone knows how to detect printable characters in java?\nAfter a while ( trial/error ) I get to this method:\n    public boolean isPrintableChar( char c ) {\n        Character.UnicodeBlock block = Character.UnicodeBlock.of( c );\n        return (!Character.isISOControl(c)) &&\n                c != KeyEvent.CHAR_UNDEFINED &&\n                block != null &&\n                block != Character.UnicodeBlock.SPECIALS;\n    }\n\nI'm getting the input via KeyListener and come Ctr-'key' printed an square. With this function seems fairly enough. \nAm I missing some char here?\nThank you in advance.\n", "How do I write the getDB() function and use it properly?\nHere is a code snippet of my App Object:\npublic class MyApp extends UiApplication {\n\n    private static PersistentObject m_oStore;\n    private static MyBigObjectOfStorage m_oDB;\n\n    static {\n        store = PersistentStore.getPersistentObject(0xa1a569278238dad2L);\n    }\n\n    public static void main(String[] args) {\n        MyApp theApp = new MyApp();\n        theApp.enterEventDispatcher();\n    }\n    public MyApp() {\n        pushScreen(new MyMainScreen());\n    }\n\n    // Is this correct?  Will it return a copy of m_oDB or a reference of m_oDB?\n    public MyBigObjectOfStorage getDB() {\n        return m_oDB;  // returns a reference\n    }\n\n}\n\n", "In Ruby I have often written a number of small classes, and had a main class organize the little guys to get work done. I do this by writing \nrequire \"converter.rb\"\nrequire \"screenFixer.rb\"\n.\n.\n.\n\nat the top of the main class. How do I do this in Java? Is it \"import?\"\nAlso, could someone please come up with a better title for this question?\n", "I want to convert from char representing a hexadecimal value (in upper or lower case) to byte, like\n'0'->0, '1' -> 1, 'A' -> 10, 'a' -> 10, 'f' -> 15 etc...\n\nI will be calling this method extremely often, so performance is important. Is there a faster way than to use a pre-initialized HashMap<Character,Byte> to get the value from?\nAnswer\nIt seems like it's a tossup between using a switch-case and Jon Skeet's direct computing solution - the switch-case solution seems to edge out ever so slightly, though. Greg's array method wins out. Here are the performance results (in ms) for 200,000,000 runs of the various methods:\nCharacter.getNumericValue:\n8360\n\nCharacter.digit:\n8453\n\nHashMap<Character,Byte>:\n15109\n\nGreg's Array Method:\n6656\n\nJonSkeet's Direct Method:\n7344\n\nSwitch:\n7281\n\nThanks guys!\nBenchmark method code\nHere ya go, JonSkeet, you old competitor. ;-)\npublic class ScratchPad {\n\n    private static final int NUMBER_OF_RUNS = 200000000;\n\n    static byte res;\n\n    static HashMap<Character, Byte> map = new HashMap<Character, Byte>() {{\n        put( Character.valueOf( '0' ), Byte.valueOf( (byte )0 ));\n        put( Character.valueOf( '1' ), Byte.valueOf( (byte )1 ));\n        put( Character.valueOf( '2' ), Byte.valueOf( (byte )2 ));\n        put( Character.valueOf( '3' ), Byte.valueOf( (byte )3 ));\n        put( Character.valueOf( '4' ), Byte.valueOf( (byte )4 ));\n        put( Character.valueOf( '5' ), Byte.valueOf( (byte )5 ));\n        put( Character.valueOf( '6' ), Byte.valueOf( (byte )6 ));\n        put( Character.valueOf( '7' ), Byte.valueOf( (byte )7 ));\n        put( Character.valueOf( '8' ), Byte.valueOf( (byte )8 ));\n        put( Character.valueOf( '9' ), Byte.valueOf( (byte )9 ));\n        put( Character.valueOf( 'a' ), Byte.valueOf( (byte )10 ));\n        put( Character.valueOf( 'b' ), Byte.valueOf( (byte )11 ));\n        put( Character.valueOf( 'c' ), Byte.valueOf( (byte )12 ));\n        put( Character.valueOf( 'd' ), Byte.valueOf( (byte )13 ));\n        put( Character.valueOf( 'e' ), Byte.valueOf( (byte )14 ));\n        put( Character.valueOf( 'f' ), Byte.valueOf( (byte )15 ));\n        put( Character.valueOf( 'A' ), Byte.valueOf( (byte )10 ));\n        put( Character.valueOf( 'B' ), Byte.valueOf( (byte )11 ));\n        put( Character.valueOf( 'C' ), Byte.valueOf( (byte )12 ));\n        put( Character.valueOf( 'D' ), Byte.valueOf( (byte )13 ));\n        put( Character.valueOf( 'E' ), Byte.valueOf( (byte )14 ));\n        put( Character.valueOf( 'F' ), Byte.valueOf( (byte )15 ));\n    }};\n    static int[] charValues = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -1, -1, -1, -1, -1, -1, -1, 10, 11, 12, 13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,\n                    -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10, 11, 12, 13,14,15};\n    static char[] cs = new char[]{'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f','A','B','C','D','E','F'};\n\n    public static void main(String args[]) throws Exception {\n        long time = System.currentTimeMillis();\n        for( int i = 0; i < NUMBER_OF_RUNS; i++ ) {\n            res = getNumericValue( i );\n        }\n        System.out.println( \"Character.getNumericValue:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i < NUMBER_OF_RUNS; i++ ) {\n            res = getDigit( i );\n        }\n        System.out.println( \"Character.digit:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i < NUMBER_OF_RUNS; i++ ) {\n            try {\n                res = getValueFromArray( i );\n            } catch (IllegalArgumentException e) {\n            }\n        }\n        System.out.println( \"Array:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i < NUMBER_OF_RUNS; i++ ) {\n            res = getValueFromHashMap( i );\n        }\n        System.out.println( \"HashMap<Character,Byte>:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i < NUMBER_OF_RUNS; i++ ) {\n            char c = cs[i%cs.length];\n            res = getValueFromComputeMethod( c );        \n        }\n        System.out.println( \"JonSkeet's Direct Method:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i < NUMBER_OF_RUNS; i++ ) {\n            res = getValueFromSwitch( i );\n\n        }\n        System.out.println( \"Switch:\" );\n        System.out.println( System.currentTimeMillis()-time );\n    }\n\n    private static byte getValueFromSwitch( int i ) {\n        byte res;\n        char ch = cs[i%cs.length];\n        switch( ch ) {\n            case '0':\n                res = 0;\n                break;\n            case '1':\n                res = 1;\n                break;\n            case '2':\n                res = 2;\n                break;\n            case '3':\n                res = 3;\n                break;\n            case '4':\n                res = 4;\n                break;\n            case '5':\n                res = 5;\n                break;\n            case '6':\n                res = 6;\n                break;\n            case '7':\n                res = 7;\n                break;\n            case '8':\n                res = 8;\n                break;\n            case '9':\n                res = 9;\n                break;\n            case 'a':\n            case 'A':\n                res = 10;\n                break;\n            case 'b':\n            case 'B':    \n                res = 11;\n                break;\n            case 'c':\n            case 'C':    \n                res = 12;\n                break;\n            case 'd':\n            case 'D':    \n                res = 13;\n                break;\n            case 'e':\n            case 'E':    \n                res = 14;\n                break;\n            case 'f':\n            case 'F':    \n                res = 15;\n                break;\n            default:\n                throw new RuntimeException(\"unknown hex character: \" + ch );\n        }\n        return res;\n    }\n\n    private static byte getValueFromComputeMethod( char c ) {\n        byte result = 0;\n        if (c >= '0' && c <= '9')\n        {\n            result =  (byte)(c - '0');\n        }\n        if (c >= 'a' && c <= 'f')\n        {\n            result = (byte)(c - 'a' + 10);\n        }\n        if (c >= 'A' && c <= 'F')\n        {\n            result =  (byte)(c - 'A' + 10);\n        }\n        return result;\n    }\n\n    private static byte getValueFromHashMap( int i ) {\n        return map.get( Character.valueOf( cs[i%cs.length] ) ).byteValue();\n    }\n\n    private static byte getValueFromArray( int i ) {\n        char c = cs[i%cs.length];\n        if (c < '0' || c > 'f') {\n            throw new IllegalArgumentException();\n        }\n        byte result = (byte)charValues[c-'0'];\n        if (res < 0) {\n            throw new IllegalArgumentException();\n        }\n        return result;\n    }\n\n    private static byte getDigit( int i ) {\n        return (byte)Character.digit( cs[i%cs.length], 16 );\n    }\n\n    private static byte getNumericValue( int i ) {\n        return (byte)Character.getNumericValue( cs[i%cs.length] );\n    }\n\n}\n\n", "I'm trying to add a pojo to a collection in another pojo. I'm sure I'm making a really stupid mistake somewhere along the lines but I can't figure out how to solve it.\nI have a pojo LookupTable which contains a list of Column's:\npublic class LookupTable {\n  private long id;\n  // More properties go here...\n  private List<Column> columns;\n\n  public void addColumn(Column column) {\n    this.columns.add(column);\n  }\n\n  // More methods go here...\n}\n\nIn my hibernate configuration I have:\n<class name=\"LookupTable\" table=\"ARR_LOOKUP_TABLE\">\n  <id name=\"id\" column=\"ID\">\n    <generator class=\"native\"/>\n  </id>\n  <!-- Some properties here -->\n  <bag name=\"columns\" cascade=\"all,delete-orphan\" access=\"field\">\n    <key column=\"LOOKUP_TABLE\" not-null=\"true\"/>\n    <one-to-many class=\"Column\"/>\n  </bag>\n</class>\n\n<class name=\"Column\" table=\"ARR_LOOKUP_COLUMN\">\n  <id name=\"id\" column=\"ID\">\n    <generator class=\"native\"/>\n  </id>\n  <!-- Some properties here -->\n</class>\n\nIn my Spring config file I have:\n<tx:advice id=\"txAdvice\" transaction-manager=\"txManager\">\n  <tx:attributes>\n    <tx:method name=\"*\" propagation=\"REQUIRED\"/>\n  </tx:attributes>\n</tx:advice>\n<aop:config>\n  <aop:pointcut id=\"managers\" expression=\"execution(public * com.foo.*Manager.*(..))\"/>\n  <aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"managers\"/>\n</aop:config>\n\nAnd finally the code where it all fails within my manager class (com.foo.LookupTableManager):\npublic void addColumnToTable(Column column, long tableId) {\n  LookupTable lookupTable = this.lookupTableDao.findById(tableId);\n  lookupTable.addColumn(column);\n  this.lookupTableDao.saveOrUpdate(lookupTable);\n}\n\nThe variable lookupTableDao here refers to a simple DAO class which extends HibernateDaoSupport.\nThe error I get is:\norg.hibernate.HibernateException: Illegal attempt to associate a collection with two open sessions\n  at org.hibernate.collection.AbstractPersistentCollection.setCurrentSession(AbstractPersistentCollection.java:410)\n  at org.hibernate.event.def.OnUpdateVisitor.processCollection(OnUpdateVisitor.java:43)\n  at org.hibernate.event.def.AbstractVisitor.processValue(AbstractVisitor.java:101)\n  at org.hibernate.event.def.AbstractVisitor.processValue(AbstractVisitor.java:61)\n  at org.hibernate.event.def.AbstractVisitor.processEntityPropertyValues(AbstractVisitor.java:55)\n  at org.hibernate.event.def.AbstractVisitor.process(AbstractVisitor.java:123)\n  at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.performUpdate(DefaultSaveOrUpdateEventListener.java:293)\n  at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsDetached(DefaultSaveOrUpdateEventListener.java:223)\n  at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:89)\n  at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:70)\n  at org.hibernate.impl.SessionImpl.fireSaveOrUpdate(SessionImpl.java:507)\n  at org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:499)\n  at org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:495)\n  at com.foo.AbstractDao.saveOrUpdate(AbstractDao.java:29)\n  at com.foo.LookupTableManager.addColumnToTable(LookupTableManager.java:338)\n... etc ...\n\nOK, I understand the basic message I'm getting. But what I don't understand is where I get the second session.... Can anyone help me with this?\nI'm using Hibernate 3.2.6.ga, Spring 2.5.5 and Tomcat 6.0\n", "I'm updating an old project & my version of xdoclet complains about my Java 1.5 annontations (ArrayList data = ....) when parsing for Hibernate (hibernate3) tags.\nSo my question is this...\nIs there a fix for Xdoclet 1.2.3, or should I look to move to Xdoclet2?\nI've already started moving some of the code over, but xdoclet2 doesn't seem to offer the same level of configuration for hibenate, such as excludedtags. I could be wrong on this though.\nWhat do you lot think?\nJeff Porter\n", "How does the SQL Server JDBC Trusted Connection Authentication work? (ie how does the trusted connection authenticate the logged in AD user in such a transparent and elegant fashion and how can I implement a similar authentication solution for my client-server applications in Java without a database connection or any use of the existing SQL Server solution.)\nAssumptions\n* Working within a Windows 2003 domain\n* You have access to the Windows API via JNI/JNA\n", "I'm working on some Flex spike in my company. We are basically evaluating different scenarios etc. What solution would you recommend for embedding Flex components into Java app? Flex <-> Java communication is not (yet...) an issue, just embedding swf into JFrame.\n", "I'm trying to do XHTML DOM parsing with JTidy, and it seems to be rather counterintuitive task. In particular, there's a method to parse HTML:\nNode Tidy.parse(Reader, Writer)\n\nAnd to get the <body /> of that Node, I assume, I should use\nNode Node.findBody(TagTable)\n\nWhere should I get an instance of that TagTable? (Constructor is protected, and I haven't found a factory to produce it.)\nI use JTidy 8.0-SNAPSHOT.\n", "I'm trying to design a form which contains a dropdown box containing a list of grocery item choices.  \nWhat criteria should I look at when trying to decide on whether to use a java enum or a lookup table?  Also, I will need to plan ahead for i18n support for the dropdown strings.\n", "Sometimes, when we're doing small changes to our web apps, e.g. bug fixes, we don't build a whole new WAR-file each time, but merely replace just the affected class files in the exploded web app directory under WEB-INF/classes and restart the app.\nIs that okay?\n", "Is it okay to run Hibernate applications configured with hbm2ddl.auto=update to update the database schema in a production environment?\n", "With JSR 311 and it's implementations we have a powerful standard for exposing Java objects via Rest. However on the client side there seems to be something missing that is comparable to Apache Axis for SOAP - something that hides the web service and marshals the data transparently back to Java objects.\nHow do you create Java RESTful clients? Using HTTPConnection and manual parsing of the result? Or specialized clients for e.g. Jersey or Apache CXR?\n", "Please don't say EHCache or OSCache, etc. Assume for purposes of this question that I want to implement my own using just the SDK (learning by doing). Given that the cache will be used in a multithreaded environment, which datastructures would you use? I've already implemented one using LinkedHashMap and Collections#synchronizedMap, but I'm curious if any of the new concurrent collections would be better candidates.\nUPDATE: I was just reading through Yegge's latest when I found this nugget:\n\nIf you need constant-time access and want to maintain the insertion order, you can't do better than a LinkedHashMap, a truly wonderful data structure. The only way it could possibly be more wonderful is if there were a concurrent version. But alas.\n\nI was thinking almost exactly the same thing before I went with the LinkedHashMap + Collections#synchronizedMap implementation I mentioned above. Nice to know I hadn't just overlooked something.\nBased on the answers so far, it sounds like my best bet for a highly concurrent LRU would be to extend ConcurrentHashMap using some of the same logic that LinkedHashMap uses.\n", "Is there a way in SWT to get a monospaced font simply, that works across various operating systems?\nFor example. this works on Linux, but not Windows:\n\n\nFont mono = new Font(parent.getDisplay(), \"Mono\", 10, SWT.NONE);\n\n\nor do I need to have a method that tries loading varying fonts (Consolas, Terminal, Monaco, Mono) until one isn't null? Alternatively I could specify it in a properties file on startup.\nI tried getting the system font from Display, but that wasn't monospaced.\n", "I'd like them to be easy to bundle, with few dependencies and easy to use.\n", "I have two BufferedImages I loaded in from pngs. The first contains an image, the second an alpha mask for the image.\nI want to create a combined image from the two, by applying the alpha mask. My google-fu fails me.\nI know how to load/save the images, I just need the bit where I go from two BufferedImages to one BufferedImage with the right alpha channel.\n", "I have heard that this is what JavaRebel does but is there any other good way to deploy a new version of an EAR while allowing users to remain active on the previous version?  We use JBoss for the application server...\n", "Is there a way to write an enumeration that can be extended.  I have several methods that I would like to always have available for my enumerations.  For example I use an enumeration for my database fields.  I include the actual field name in the database. \npublic enum ORDERFIELDS\n        {\n            OrderID(\"Order_ID\");\n            private String FieldName;\n\n            private ORDERFIELDS(String fname)\n                {\n                    this.FieldName = fname;\n                }\n\n            public String getFieldName()\n                {\n                    return FieldName;\n                }\n        } \n\n", "Do the clients need something else than a proper jdk and javafx compliant browser to visit javafx applets?\n", "I am creating an application in java which will be the part of an external application. My application contains a viewport which shows some polygons and stuff like that. The external application needs to get the image of the viewport in gif format. For that it calls a method in an interface (implemented by my application) and my application returns the image. The external application needs to store the image in database (or something related to it which I dont need to worry about).\nMy question is:- What should be the data container type of the image when my application send it to the external application? I mean what should be the return type of the method?\nCurrently my gif encoder class returns a byte array. Is there any other 'better' option?\n", "I'm looking for (simple) examples of problems for which JMS is a good solution, and also reasons why JMS is a good solution in these cases. In the past I've simply used the database as a means of passing messages from A to B when the message cannot necessarily be processed by B immediately.\nA hypothetical example of such a system is where all newly registered users should be sent a welcome e-mail within 24 hours of registration. For the sake of argument, assume the DB does not record the time when each user registered, but instead a reference (foreign key) to each new user is stored in the pending_email table. The e-mail sender job runs once every 24 hours, sends an e-mail to all the users in this table, then deletes all the pending_email records.\nThis seems like the kind of problem for which JMS should be used, but it's not clear to me what benefit JMS would have over the approach I've described. One advantage of the DB approach is that the messages are persistent. I understand that JMS message queues can also be persisted, but in that case there seems to be little difference between JMS and the \"database as message queue\" approach I've described?\nWhat am I missing?\n- Don\n", "Lots of frameworks let me expose an ejb as a webservice. \nBut then 2 months after publishing the initial service I need to change the ejb or any part of its interface. I still have clients that need to access the old interface, so I obviously need to have 2 webservices with different signatures.\nAnyone have any suggestions on how I can do this, preferably letting the framework do the grunt work of creating wrappers and copying logic (unless there's an even smarter way).\nI can choose webservice framework on basis of this, so suggestions are welcome.\nEdit: I know my change is going to break compatibility,and I am fully aware that I will need two services with different namespaces at the same time. But how can I do it in a simple manner ?\n", "On my busiest production installation, on occasion I get a single thread that seems to get stuck in an infinite loop.  I've not managed to figure out who is the culprit, after much research and debugging, but it seems like it should be possible.  Here are the gory details:\nCurrent debugging notes:\n1) ps -eL 18975 shows me the the Linux pid the problem child thread, 19269\n$ps -eL | grep 18975\n...\nPID   LWP   TTY          TIME CMD\n18975 18994 ?        00:00:05 java\n18975 19268 ?        00:00:00 java\n18975 19269 ?        05:16:49 java\n18975 19271 ?        00:01:22 java\n18975 19273 ?        00:00:00 java\n...\n\n2) jstack -l 18975 says there are no deadlocks, jstack -m 18975 does not work \n3) jstack -l 18975 does give me the stack trace for all my threads (~400).  Example thread stack (and not the problem):\n\"http-342.877.573.944-8080-360\" daemon prio=10 tid=0x0000002adaba9c00 nid=0x754c in Object.wait() [0x00000000595bc000..0x00000000595bccb0]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on  (a org.apache.tomcat.util.net.JIoEndpoint$Worker)\n        at java.lang.Object.wait(Object.java:485)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:416)\n        - locked  (a org.apache.tomcat.util.net.JIoEndpoint$Worker)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:442)\n        at java.lang.Thread.run(Thread.java:619)\n\n4) The ps -eL output's thread ID does not match the output from jstack, or at least I cannot see it.  (jstack documentation is a bit sparse.)  \n5) There are no heavy IO, memory usage or other corresponding activity clues to work with.\nPlatform:\n\nJava 6\nTomcat 6\nRHEL 4 (64-bit)\n\nDoes anybody know how I can make that connection from the linux ps output to my problem child java thread?  So close, yet so far...\n", "What's the best way to determine if the version of the JRE installed on a machine is high enough for the application which the user wants to run? Is there a way of doing it using java-only stuff? I'd like the solution to work on Windows/Linux/MacOSX - if the JRE version is too low a message should be displayed. Currently I'm getting an exception if i try to run it on Java 1.5 (the app is built for Java 1.6). If there's no universal solution, what's the best way to do it on Windows?\n", "In some of our projects, there's an class hierarchy that adds more parameters as it goes down the chain. At the bottom, some of the classes can have up to 30 parameters, 28 of which are just being passed into the super constructor.\nI'll acknowledge that using automated DI through something like Guice would be nice, but because of some technical reasons, these specific projects are constrained to Java. \nA convention of organizing the arguments alphabetically by type doesn't work because if a type is refactored (the Circle you were passing in for argument 2 is now a Shape) it can suddenly be out of order.\nThis question might be to specific and fraught with \"If that's your problem, you're doing it wrong at a design level\" criticisms, but I'm just looking for any viewpoints.\n", "I have a property on a domain object that is declared in a many-to-one element.  The basic syntax of this property looks like this:\n<many-to-one name=\"propertyName\" class=\"propertyClass\" fetch=\"select\" not-found=\"ignore\" lazy=\"proxy\" />\n\nNow, the idea is to have Hibernate NOT eagerly fetch this property.  It may be null, so the not-found ignore is set.\nBut, Hibernate, upon loading the class containing this association, takes it upon itself to load the actual class (not even a proxy) instance when the parent class is loaded.  Since some properties are over 1MB in size, they take up a lot of the heap space.\nIf, however, not-found is set to exception (or defaulted to exception), the parent classes which have this property do load a proxy!\nHow can I stop hibernate from not loading a proxy, while still allowing this property to be null?\nI found lazy=no-proxy, but the documentation talks about some sort of bytecode modification and doesn't go into any details.  Can someone help me out?\nIf it matters, it is the Java version of Hibernate, and it is at least version 3 (I can look up the actual version if it helps, but it is Hibernate 3+ for now).\nI didn't specify earlier, but the Java version is 1.4.  So, Java annotations aren't supported.\n", "Java is the key here. I need to be able to delete files but users expect to be able to \"undelete\" from the recycle bin.  As far as I can tell this isn't possible.  Anyone know otherwise?\n", "I am interested in writing a simplistic navigation application as a pet project.  After searching around for free map-data I have settled on the US Census Bureau TIGER 2007 Line/Shapefile map data.  The data is split up into zip files for individual counties and I've downloaded a single counties map-data for my area.\nWhat would be the best way to read in this map-data into a useable format? \nHow should I:\n\nRead in these files\nParse them - Regular expression or some library that can already parse these Shapefiles?\nLoad the data into my application - Should I load the points directly into some datastructure in memory?  Use a small database?   I have no need for persistence once you close the application of the map data.  The user can load the Shapefile again.\n\nWhat would be the best way to render the map once I have read the in the Shapefile data?\nIdeally I'd like to be able to read in a counties map data shapefile and render all the poly-lines onto the screen and allow rotating and scaling.\nHow should I:\n\nConvert lat/lon points to screen coordinates?  - As far as I know the Shapefile uses longitude and latitude for its points.  So obviously I'm going to have to convert these somehow to screen coordinates to display the map features.\nRender the map data (A series of polylines for roads, boundaries, etc) in a way that I can easily rotate and scale the entire map?\nRender my whole map as a series of \"tiles\" so only the features/lines within the viewing area are rendered?\n\nEx. of TIGER data rendered as a display map:\nalt text http://i43.tinypic.com/ngosjl.png\nAnyone with some experience and insight into what the best way for me to read in these files, how I should represent them (database, in memory datastructure) in my program, and how I should render (with rotating/scaling) the map-data on screen would be appreciated.  \nEDIT: To clarify, I do not want to use any Google or Yahoo maps API.  Similarly, I don't want to use OpenStreetMap. I'm looking for a more from-scratch approach than utilizing those apis/programs.  This will be a desktop application.\n", "I am getting a MouseEvent in Java.  the getPoint() method is adding the height of the title bar into the y portion of the coordinate.\nI was wondering how I can find the height of the title bar of the current window in order to offset the y value by the correct amount.\n", "I often need to run reduce (also called foldl / foldr, depending on your contexts) in java to aggregate elements of an Itterable.  \nReduce takes a collection/iterable/etc, a function of two parameters, and an optional start value (depending on the implementation details).  The function is successively applied to an element of the collection and the output of the previous invocation of reduce until all elements have been processed, and returns the final value.\nIs there a type-safe implementation of reduce in any common java api? Google Collections seems like it should have one, but I haven't been able to find it. (possibly because I don't know what other names it would use.)\n", "I would like my GWT program to be able to determine whether it's in hosted mode or in web mode.  Is there a way to do this?\nThanks! \n", "How to copy file(s) from one solaris 9 machine to another solaris 9 machine using only java?\nWe have ssh access to both machines. The java program will run on one of those two machines.\nUpdate: rsync is not really an option. can't install it easily (UNIX team is, hum, hard to deal with)\n", "I am starting to develop an Eclipse plugin (technically, an OSGi plugin) and one of the first problems I've run into is that I can't seem to control the commons-logging output as I normally would.\nI've included the commons-logging package in the plugin dependencies, and indeed, when I log something (at INFO or higher severity) it is logged to the console.  However, I can't seem to log at any lower level (such as DEBUG or TRACE).\nI have specified a log4j.properties file, and it is on the classpath (for the runtime, just as the commons-logging package is) but none of the settings in that properties file have any impact on the behavior of the logger.\nHere's the log4j.properties file:\n#  Log4j Logging levels, in order of decreasing importance are:\n#   FATAL, ERROR, WARN, INFO, DEBUG, TRACE\n#\n\n# Root logger option\nlog4j.rootLogger=ERROR,stdout\n#,LOGFILE\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %r (%l) %t%n - %m%n\n\nWhat do I need to do so that I can actually control the output of the logger?\nHere are some sample output messages, in the hopes that the formatting may coincide with a default for java.util.logging, or provide other hints to someone:\nOct 21, 2008 11:01:23 PM com.stottlerhenke.sentinel.client.Activator start\nSEVERE: fatal_message\nOct 21, 2008 11:01:23 PM com.stottlerhenke.sentinel.client.Activator start\nWARNING: warn_message\nOct 21, 2008 11:01:23 PM com.stottlerhenke.sentinel.client.Activator start\nINFO: info_message\n\nUpdate:\nI have now tried various combinations of:\n\norg.osgi.service.log.LogService et al.\nslf4j\nLog4J\nCommons-logging\njava.util.logging\n\nand I can only get DEBUG, or lower, level messages to appear if I am running OSGi manually from a prompt (which is impractical for what I am developing).  Furthermore, I can't effect any other type of logging configuration via various properties files.  Everything I try in that regard seems to be overridden by an eclipse setting.\nI've also tried putting various config files for the above libraries in numerous places, including as plug-in fragments attached to their respective libraries as suggested here, and still, the same result happens.\nI've implemented a custom LogListener, and traced the entire path of a log message (as well as I know how, anyway) with System.out.println's, and debug messages are present right up until they are output by whatever underlying logging API I'm using, then they disappear.\n", "Take the following generics example\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class GenericsTest {\n    private List<Animal> myList;\n\n    public static void main(String args[]) {\n        new GenericsTest(new ArrayList<Animal>()).add(new Dog());\n    }\n\n    public GenericsTest(List<Animal> list) {\n        myList = list;\n    }\n\n    public void add(Animal a) {\n      myList.add(a);\n    }\n\n    public interface Animal {}\n    public static class Dog implements Animal {}\n    public static class Cat implements Animal {}\n}\n\nIt works fine. But as you know, you cannot construct it with\nnew GenericsTest(new ArrayList<Dog>());\n\nbecause, as you know, the add(Animal) would make possible to add Cats. The suggested way of solving this problem, i.e. wildcarding does not work either, because, yes, you can change every List<Animal> in List<? extends Animal> but it has the same problem: you can create the GenericsTest with List<Cat> and then add Dogs.\nSo my question is: is there a convenient way to write this class once, and then use it for all the possible Animals? Of course it should solve straightforwardly the above mentioned problem. \n", "We all know you can't do this:\nfor (Object i : l) {\n    if (condition(i)) {\n        l.remove(i);\n    }\n}\n\nConcurrentModificationException etc... this apparently works sometimes, but not always. Here's some specific code:\npublic static void main(String[] args) {\n    Collection<Integer> l = new ArrayList<Integer>();\n\n    for (int i=0; i < 10; ++i) {\n        l.add(new Integer(4));\n        l.add(new Integer(5));\n        l.add(new Integer(6));\n    }\n\n    for (Integer i : l) {\n        if (i.intValue() == 5) {\n            l.remove(i);\n        }\n    }\n\n    System.out.println(l);\n}\n\nThis, of course, results in:\nException in thread \"main\" java.util.ConcurrentModificationException\n\n... even though multiple threads aren't doing it... Anyway.\nWhat's the best solution to this problem? How can I remove an item from the collection in a loop without throwing this exception?\nI'm also using an arbitrary Collection here, not necessarily an ArrayList, so you can't rely on get.\n", "Is there an easy way to convert between color models in Java (RGB, HSV and Lab). \nAssuming RGB color model:\n\nHow do I calculate black body spectrum color palette? I want to use it for a heatmap chart.\nHow about single-wavelength spectrum?\n\nEdit: I found that the ColorSpace class can be used for conversions between RGB/CIE and many other color models.\n", "After much searching, I found the download for the eclipse version of jalopy. Is this compatible with Eclipse 3.4? It's dated 2006.\nI've copied the extracted folder to my plugins directory and  run eclipse -clean, but I can't find anything matching 'jalopy' in preferences.\nIf it's not compatible, are there any (free) alternatives?\n", "Is there a better way to negate a boolean in Java than a simple if-else?\nif (theBoolean) {\n    theBoolean = false;\n} else {\n    theBoolean = true;\n}\n\n", "I've inherited a web project (Servlets) which is currently build inside eclipse.\nI want to add maven around it. But the project's source directory is not following the maven convention. Instead of being inside src/main/java, it's src/package/name/...\nI don't want to change anything right now because they are working at full speed towards a milestone. Can I configure maven to accept src/ as the java source directory ? Thanks\n", "I am new to creating Java web applications and came across this problem when trying to interact with my database (called ccdb) through my application:\njava.sql.SQLException: No suitable driver found for jdbc:mysql://localhost/ccdb/\nMy application runs on JBoss and uses Hibernate to interact with the MySQL database. I have the MySQL Driver in lib\\mysql-connector-java-5.1.6-bin.jar of my project and I have the .jar configured in Eclipse as a \"Java EE Module Dependency\" so that it gets copied over to web-inf\\lib\\ when I deploy it to JBoss through Eclipse. I double checked and the driver is definitely in the .war file with the project, so it should be findable, right? \nMy hibernate.cfg.xml contains this line which should point hibernate to the driver.\n<property name=\"hibernate.connection.driver_class\">com.mysql.jdbc.Driver</property>\nDoes anyone know what I need to do to get this to work? Do I have to configure the MySQL database as a JBoss datasource for it to work?\nThanks in advance.\nEdit: kauppi's solution works, but I would prefer to have it in lib\\ with the other jars, and I'm really curious as to why it won't work that way. Any ideas...?\n", "I am creating a custom UserType in Hibernate for a project. It has been relatively straightforward until I came to the isMutable method. I am trying to figure out what this method means, contract-wise. \nDoes it mean the class I am creating the UserType for is immutable or does it mean the object that holds a reference to an instance of this class will never point to a different instance?\nI found some examples in the Hibernate Community Wiki where they returned true, because the object itself was mutable - http://www.hibernate.org/73.html. \nOther examples in the community wiki returned false without addressing why, even though they were also mutable.\nI have checked the JavaDoc, but it's not very clear either.\nFrom the JavaDoc for UserType:\npublic boolean isMutable()\n    Are objects of this type mutable?\n    Returns:\n        boolean\n\nFrom JavaDoc for Type:\npublic boolean isMutable()\n    Are objects of this type mutable. (With respect to the referencing\n    object ... entities and collections are considered immutable because\n    they manage their own internal state.)\n    Returns:\n        boolean\n\n", "Do you bother initialising java bean values? Say, for example:\n([g|s]etters omitted)\npublic class SomeClass {\n\n    private String foo;\n\n    private Date bar;\n\n    private Baz someObject;\n\n}\n\n(Yes, this is a POJO being used as a bean rather than a Java Bean in the strictest sense)\nIn the empty constructor, do you initialise these members, or simply do nothing? Likewise, would Baz initialise it's members as well?\nOr do you just leave them as null?\n", "I have the following class:\npublic abstract class AbstractParent {\n    static String method() {\n        return \"OriginalOutput\";\n    }\n}\n\nI want to mock this method. I decide to use JMockit. So I create a mock class:\npublic class MockParent {\n    static String method() {\n        return \"MOCK\";\n    }\n}\n\nAnd my test code looks like this:\npublic class RealParentTest {\n\n    @Before\n    public void setUp() throws Exception {\n        Mockit.redefineMethods( AbstractParent.class, MockParent.class );\n    }\n\n\n    @Test\n    public void testMethod() {\n        assertEquals(MockParent.method(),AbstractParent.method());\n    }\n\n}\n\nUnfortunately this test says that AbstractParent returns \"OriginalOutput\" instead of \"MOCK\". Any ideas why? Am I doing something wrong? I've tried declaring my mock class as abstract as well, to no avail.\nEdit Note that making the method public causes the test to run without a problem... this is weird because with JMockit you are supposed to be able to mock methods of any scope.\nAnswer Only the mock method needs to be public, you can leave the original method as is.\n", "I know it's simple to implement, but I want to reuse something that already exist.\nProblem I want to solve is that I load configuration (from XML so I want to cache them) for different pages, roles, ... so the combination of inputs can grow quite much (but in 99% will not). To handle this 1%, I want to have some max number of items in cache...\nTill know I have found org.apache.commons.collections.map.LRUMap in apache commons and it looks fine but want to check also something else. Any recommendations?\n", "What ist most concise way to read the contents of a file or input stream in Java? Do I always have to create a buffer, read (at most) line by line and so on or is there a more concise way? I wish I could do just\nString content = new File(\"test.txt\").readFully();\n\n", "I'm currently looking for a possibility in Java to identify a font as symbolic like OpenOffice does.\nCharacters with the font Windings or Webdings and so on should be rendered with the correct \"pictures\".\nAnyone an idea how to distinguish between normal fonts and fonts with symbols?\n", "I am about to write junit tests for a XML parsing Java class that outputs directly to an OutputStream. For example xmlWriter.writeString(\"foo\"); would produce something like <aTag>foo</aTag> to be written to the outputstream held inside the XmlWriter instance. The question is how to test this behaviour. One solution would of course be to let the OutputStream be a FileOutputStream and then read the results by opening the written file, but it isn't very elegant. \n", "I've got a JDialog which contains a series of JPanels in a CardLayout. Some of these panels contain JTables which I would like to be resized in line with any resizing of the JDialog. I am not sure how to achieve this and any help would be greatly appreciated.  \nAt present the tables simply remain their current size and do not scale. I'm sure its something simple but I'm having trouble locating the exact approach needed. \nMany thanks in advance. I will provide any more information if required. \nedit: The JDialog is used as a wizard, so only one of the panels is being displayed at any one time, hence the use of CardLayout. I would ideally like to keep this is layout manager, although if it is the source of the problems then obviously I would rethink!\n", "I'm using Eclipse for Java development. All my sources compile fine and the resulting application compiles fine. However, I keep getting an \"red-x\" error notification in the Package Explorer.\nAll my sources in this source directory (too long for the snapshot) compile fine, none of the show the \"red-x\" error icon.\nAny suggestions on how to fix the problem would be highly appreciated.\n", "I'm relatively new to Threading in Java and I've noticed that everytime I use Thread.sleep() I have to catch InterrupetdException.\nWhat kind of behaviour causes this, and in simple applications where I have a monitor thread can I just Ignore the exception?\n", "What regex pattern would need I to pass to the java.lang.String.split() method to split a String into an Array of substrings using all whitespace characters (' ', '\\t', '\\n', etc.) as delimiters?\n", "I'm developing a Java application using Eclipse. My project has two source directories that are both built and then some files are copied into the output folder. From the output directory I then run my application and all works well.\nHowever, I keep having these warnings:\nSnapshot from Problems tab in Eclipse http://www.freeimagehosting.net/uploads/128c1af93f.png\nAnyone know how to get rid of these warnings? Maybe by excluding some files, maybe based on the .svn extension or filename, from the build process? If so, how would I go about excluding those?\n", "I just realized from an article in CACM that Doxygen works with Java (and several other languages) too. But Java has already the Javadoc tool. Can someone explain what are the pros and cons of either approach? Are they mutually exclusive? Is there a Maven plugin for Doxygen?\n", "In eclipse developing a java app, there are several class files that are generated by a custom ant script. This happens automatically, and it is set up as an export/publish dependency for /WEB-INF/classes. \nWith publishing it happens alright, however on exporting to .WAR these files just got missing. \nIs there a way to automate this?\n", "In regular Java, you can get the text of a stack trace by passing a PrintWriter to printStackTrace. I have a feeling I know the answer to this (i.e. \"No\") but,\nIs there any way to obtain the text of a stack trace in JavaME as a String?\nUpdate:\nI should mention that I'm restricted to CLDC 1.0\n", "In the spirit of Best Practices: Always return a ____, never a ____, I face a similar question in my upcoming migration from JDK1.4.2 to JDK5 and more. (Yes, I know, JDK1.4.2 is EOL! ;-) ).\nFor functions returning a collection (which are not simple property collections), I always prefer (in JDK1.4.2) returning an Array instead of a generic List, because:\n\nit enforces the returning type (MyObject[] instead of List of Objects, much more type-safe on a static -- as in 'compilation' -- level)\nit suggests a 'read-only' character to the returned collection (it is more complicated to add an element to the collection, even though this is not as rigorous as the 'read-only' keyword in c#). This is not the same as saying it is 'immutable' since the references inside the array can still be modified...\n\nOf course, I do always create this returned array (I do not expose any 'internal' array)\nNow, In JDK5 and more, I could use List<MyObject> if I want to.  \nWhat are the good reasons for choosing to return MyObject[] instead of List or Collection<MyObject> when coding in java5 ?\nBonus, if Collection<MyObject> is used, is it possible to:\n\nenforce a read-only attribute on the returned collection ? (no add() or remove() possible)\nenforce an immutable aspect to the returned collection ? (even the references of that collection can not be modified)\n\nPS: The JavaGenericFAQ did not quite have that one.\n", "Can Thread.getContextClassLoader() be null ? The javadoc is not really clear.\nShould a library take this case into account ?\nUpdate: the reason I asked is that beansbinding.dev.java.net does not work in this case (and my code does setContextClassLoader(null)\n", "I'm trying to track down an issue in our system and the following code worries me.  The following occurs in our doPost() method in the primary servlet (names have been changed to protect the guilty):\n...\nif(Single.getInstance().firstTime()){\n   doPreperations();\n}\nnormalResponse();\n...\n\nThe singleton 'Single' looks like this:\nprivate static Single theInstance = new Single();\n\nprivate Single() {\n...load properties...\n}\n\npublic static Single getInstance() {\n    return theInstance;\n}\n\nWith the way this is set to use a static initializer instead of checking for a null theInstance in the getInstance() method, could this get rebuilt over and over again?\nPS - We're running WebSphere 6 with the App on Java 1.4\n", "I am trying to use ResourceBundle#getStringArray to retrieve a String[] from a properties file. The description of this method in the documentation reads:\n\nGets a string array for the given key from this resource bundle or one of its parents.\n\nHowever, I have attempted to store the values in the properties file as multiple individual key/value pairs:\nkey=value1\nkey=value2\nkey=value3\n\nand as a comma-delimited list:\nkey=value1,value2,value3\n\nbut neither of these is retrievable using ResourceBundle#getStringArray.\nHow do you represent a set of key/value pairs in a properties file such that they can be retrieved using ResourceBundle#getStringArray?\n", "I'm trying to read a single XML document from stream at a time using dom4j, process it, then proceed to the next document on the stream.  Unfortunately, dom4j's SAXReader (using JAXP under the covers) keeps reading and chokes on the following document element.\nIs there a way to get the SAXReader to stop reading the stream once it finds the end of the document element?  Is there a better way to accomplish this?\n", "I have one user who gets an error message when he closes his browser. This only happens when he has visited a page which contains my applet. It seems to have been registered as a bug at Sun but that was many years ago. He is using Java 1.6 and IE7.\nHas anyone seen this before and know a solution or work-around?\njava.lang.NullPointerException: null pData\n    at sun.awt.windows.WComponentPeer.hide(Native Method)\n    at java.awt.Component.removeNotify(Unknown Source)\n    at java.awt.Container.removeNotify(Unknown Source)\n    at java.awt.Container.removeNotify(Unknown Source)\n    at java.awt.Container.removeAll(Unknown Source)\n    at sun.plugin.viewer.frame.IExplorerEmbeddedFrame.windowClosed(Unknown Source)\n    at java.awt.Window.processWindowEvent(Unknown Source)\n    at java.awt.Window.processEvent(Unknown Source)\n    at java.awt.Component.dispatchEventImpl(Unknown Source)\n    at java.awt.Container.dispatchEventImpl(Unknown Source)\n    at java.awt.Window.dispatchEventImpl(Unknown Source)\n    at java.awt.Component.dispatchEvent(Unknown Source)\n    at java.awt.EventQueue.dispatchEvent(Unknown Source)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.run(Unknown Source)\n\nUPDATE The user removed Google Desktop and the problem has not occured since. So there you go... Thanks everyone!\n", "In eclipse 3.4 I'm trying to do some performance tests on a large product, one of the included libraries is the vecmath.jar (javax.vecmath package) from the Java3D project.  Everything was working fine and then when trying to run it yesterday I get this exception/error not long after starting it up:\njava.lang.UnsupportedClassVersionError: javax/vecmath/Point2f (Unsupported major.minor version 49.0)\n\nWhich I believe means that I'm trying to load a java 1.5 class file into a 1.4 jvm which is unsupported.  However when I went to the class file to check this I saw this in the eclipse class file viewer:\nCompiled from Point2f.java (version 1.2 : 46.0, super bit)\n\nSo the class loader says it is version 49.0 but the class file says its 46.0.  I've tried cleaning and fully rebuilding the project, I've confirmed that the compiler version for the project is 1.4, the JRE is 1.4 and for the run configuration the 1.4 jvm is selected.  I'm totally stuck on this, does anyone have any idea what might be causing this?\nThanks\n===EDIT===\nIt turns out that a version of java3d which was incompatible with java 1.4.2 had been installed in C:\\Program Files\\java\\j2re1.4.2_18\\lib\\ext.  I installed a newer version of Java3D to play around with in java6 and i guess it installed the libs in all my JREs even the ones which were incompatible.\n", "I could write myself a helper class that does this when given a functor, but I was wondering if there's a better approach, or if there's something already in the standard library (seems like there should be).\nAnswers I've found on StackOverflow are all for C# which doesn't help me.\nThanks\n", "Someone at work just asked for the reasoning behind having to wrap a wait inside a synchronized.\nHonestly I can't see the reasoning.  I understand what the javadocs say--that the thread needs to be the owner of the object's monitor, but why?  What problems does it prevent?  (And if it's actually necessary, why can't the wait method get the monitor itself?)\nI'm looking for a fairly in-depth why or maybe a reference to an article.  I couldn't find one in a quick google.\nOh, also, how does thread.sleep compare?\nedit: Great set of answers--I really wish I could select more than one because they all helped me understand what was going on.\n", "This just won't work. The problem is that I do not know enough to even know what is supposed to happen. I can't debug this code. I'd like to store upload to temporary folder \"temp\" and then to move them to \"applets\". Please help? The servlet is obviously being accessed, but I can't find the uploaded files... Thanks in advance. \nForm (which is created using a scriptlet - I put this here if that could cause problems): \n<%\nout.write(\"<p>Upload a new game:</p>\");\n                    out.write(\"<form name=\\\"uploadForm\\\" action=\\\"game.jsp\\\" \"\n                    + \"method=\\\"POST\\\" enctype=\\\"multipart/form-data\\\">\"\n                    + \"<input type=\\\"file\\\" name=\\\"uploadSelect\\\" value=\\\"\\\" width=\\\"20\\\" />\"\n                    + \"<br><input type=\\\"submit\\\" value=\\\"Submit\\\" name=\\\"uploadSubmitButton\\\" \"\n                    + \"onclick = \\\"submitToServlet2('UploadGameServlet');\\\">\"        \n                    + \"</form>\");\n %>\n\nWhich calls this javascript:\nfunction submitToServlet2(newAction)\n    {\n       document.uploadForm.action = newAction;\n    }\n\nWhich in turn goes to the servlet (code included in full, since there may be some important element hiding)\npackage org.project;\n\nimport java.io.*;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n// import servlet stuff\nimport org.apache.commons.fileupload.*;\n\n\npublic class UploadGameServlet extends HttpServlet {\n\n/** \n* Processes requests for both HTTP <code>GET</code> and <code>POST</code> methods.\n* @param request servlet request\n* @param response servlet response\n*/\nprotected void processRequest(HttpServletRequest request, HttpServletResponse response)\nthrows ServletException, IOException {\n    response.setContentType(\"text/html;charset=UTF-8\");\n\n    if (ServletFileUpload.isMultipartContent(request))\n    {\n        try \n        {\n            // Create a factory for disk-based file items\n            FileItemFactory factory = new DiskFileItemFactory();\n\n            // Create a new file upload handler\n            ServletFileUpload upload = new ServletFileUpload(factory);\n\n            // Parse the request\n            List items = upload.parseRequest(request); /* FileItem */\n\n            File repositoryPath = new File(\"\\\\temp\");\n            DiskFileItemFactory diskFileItemFactory = new DiskFileItemFactory();\n            diskFileItemFactory.setRepository(repositoryPath);\n\n            Iterator iter = items.iterator();\n            while (iter.hasNext()) \n            {\n                FileItem item = (FileItem) iter.next();\n                File uploadedFile = new File(\"\\\\applets\");\n                item.write(uploadedFile);\n            }            \n        }\n        catch (FileUploadException ex) \n        {\n            Logger.getLogger(UploadGameServlet.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        catch (Exception ex) \n        {\n            Logger.getLogger(UploadGameServlet.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    PrintWriter out = response.getWriter();\n    try {\n        out.println(\"<html>\");\n        out.println(\"<head>\");\n        out.println(\"<title>Servlet UploadGameServlet</title>\");  \n        out.println(\"</head>\");\n        out.println(\"<body>\");\n        out.println(\"<h1>Servlet UploadGameServlet at \" + request.getContextPath () + \"</h1>\");\n        out.println(\"</body>\");\n        out.println(\"</html>\");\n    } finally { \n        out.close();\n    }\n} \n\n}\n", "I seem to remember reading that it's possible to declare taglib directives such as:\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n\nin web.xml. This eliminates the need to duplicate this directive in every JSP file where the taglib is used. Could someone tell me how these directives can be added to web.xml?\n", "I had a nifty small tool written to convert spreadsheets to plain text.\nSince it was my private hacker tool, it relied on OpenOffice 2.x to read the files.\nBut when I installed OpenOffice 3 and tried to get it get it to run, I failed miserably, because I'm either missing some JAR files or half the classes have been replaced.\nI'm including all five JAR files from URE/Java (URE: UNO \nRuntime Environment, a subset of OpenOffice.org hosting and \nmanaging UNO components) and am still missing these classes:\ncom.sun.star.frame.XComponentLoader\ncom.sun.star.frame.XController\ncom.sun.star.frame.XDesktop\ncom.sun.star.frame.XModel\ncom.sun.star.frame.XStorable\ncom.sun.star.sheet.XSpreadsheet\ncom.sun.star.sheet.XSpreadsheetDocument\ncom.sun.star.sheet.XSpreadsheetView\ncom.sun.star.text.XTextDocument\n\nAny pointers?\n", "How can I transform a time value into YYYY-MM-DD format in Java?\nlong lastmodified = file.lastModified();\nString lasmod =  /*TODO: Transform it to this format YYYY-MM-DD*/\n\n", "Is it possible to get the system proxy configuration in Java?\nIn the Java Control Panel, you can set a proxy configuration. How can I access to that proxy configuration in order to open URL connections behind a proxy?\n", "I've got a ant build.xml that uses the <copy> task to copy a variety of xml files.  It uses filtering to merge in properties from a build.properties file.  Each environment (dev, stage, prod) has a different build.properties that stores configuration for that environment.\nSometimes we add new properties to the Spring XML or other config files that requires updating the build.properties file.\nI want ant to fail fast if there are properties missing from build.properties.  That is, if any raw @...@ tokens make it into the generated files, I want the build to die so that the user knows they need to add one or more properties to their local build.properties.\nIs this possible with the built in tasks?  I couldn't find anything in the docs.  I'm about to write a custom ant task, but maybe I can spare myself the effort.\nThanks\n", "I have a struts2 application with a single page that may show one of a number of values stored in a database. The application is for a school with many departments and each department has many programs. The department page is accessed using a url like this\ndepartment.action?id=2\n\nand the DepartmentAction will load the Department with id = 2 for display. All this is fine if the user is just browsing around the site but it gets uncomfortable if I want to provide a link to say the Engineering department in the newspapers. The link will have to be www.myschooldomain.com/department.action?id=2. I see a number of problems with this.\nFirst, it is not user friendly. Second, it is prone to be broken because the departments are dynamically maintained and the id for a department could change without warning making the link unstable.\nI would prefer to print a url like this: www.myschooldomain.com/department/engineering and have that somehow go to department.action?id=2.\nMy thoughts so far: create an action that will parse the url for the department name at the end then look it up by name. Maybe I could add a friendlyurl field to the database for each department.\nBut the question is: Is there a better way to do this in struts2?\nThanks.\nUpdate (May 2009): I just happened to stumble back over this question and thought that I would say what I did to solve it. \nI created a new package in the struts.xml called departments. In this package there is only one action mapped to *. So it catches all requests to mydomain.com/departments/anything.html.\nIn the action class I simply parse the url and look for the part between departments/ and .html and that is the name of the department so I can do a lookup in the database for it. This has been working fine for almost 5 months now and I have implemented it for other areas of the site.\n", "I find it curious that the most obvious way to create Date objects in Java has been deprecated and appears to have been \"substituted\" with not so obvious to use lenient calendar. So...\nHow do you check that a date given as a combination of day, month and year is a valid date? For instance a date 2008-02-31 (as in yyyy-mm-dd) would be invalid date. \n", "I came across a code snippet like this:\nTimestamp expiryDate = Timestamp.valueOf(dateStr + \" \" + \"23:59:59.000\"); \nHere dateStr is a string entered by the user in a form, in the format yyyy-mm-dd. Now the behavior of Timestamp.valueOf is such that it converts non-existent dates into appropriate proper dates. Say 31st June 2008 into 01st July 2008. \nHow can I check in Java if the dateStr string is in fact a valid date ? I know I can manually do the check, but what I would like to know is whether any method is already available to do the same.\n", "In Java, given a timestamp, how to reset the time part alone to 00:00:00 so that the timestamp represents the midnight of that particular day ?\nIn T-SQL, this query will do to achieve the same, but I don't know how to do this in Java.\nSELECT CAST( FLOOR( CAST(GETDATE() AS FLOAT ) ) AS DATETIME) AS 'DateTimeAtMidnight';\n", "I'm getting the strangest results. I have a class with a composite key.\nIf i do the following query:\n\nfrom LOVEJB l order by l.canonicalId\n  desc\n\nmy results are not ordered by the 'canonicalId' column I asked for. Instead, the canonical id result is like:\n\n823 823 822 823 ,,,\n\nCan someone give me some pointers on how should I try to crack this? I already messed up with hashcodes and equals, I experimented with a new class, etc. to no avail.\n", "What is java.awt.Component.getName() used for?  It always seems to be null in the applications I build with NetBeans.  I'm thinking of storing some help text per component in it -- I don't want to use the tooltip, I have another panel where I'll show the help text.\n", "I need to convert a Word document into HTML file(s) in Java. The function will take input an word document and the output will be html file(s) based on the number of pages the word document has i.e. if the word document has 3 pages then there will be 3 html files generated having the required page break.\nI searched for open source/non-commercial APIs which can convert doc to html but for no result. Anybody who have done this type of job before please help.\nThanks\n", "As a followup to my question about the java.awt.Component.getName() property, I'm wondering if there is a way of squirreling an arbitrary object somewhere in a Component, similar to the tag property in .NET?  This would be really handy for any code that does work to a component but doesn't necessarily know what that component is.\nFor example, say I'm trying to implement an application-wide help system that knows to look at any component currently pointed to by the mouse, reach into that component and pull out it's help text and display it in it's own pane on the screen (no, I don't want to use a tooltip).  My answer currently is to use the Name (getName()/setName()) to store the help text, and this will work, but the Name has to be a string.  If I wanted to get fancier and store anything other than a string, I think I'd be stuck.\n", "My RMI enabled application seems to be leaking sockets.  I have a Java application providing a service over RMI.  It is using the Java SE 1.6 RMI implementation running on Linux.  The problem I am observing is that if a client obtains a reference to my Remote object, using the Registry, and then the connection is severed abruptly (power loss, cable unplugged, etc...), the server keeps the socket open.  I would expect the RMI implementation to clean up after the client's lease expires, but that is not happening.  On the server, my Remote object's unreferenced() method is called when the lease expires, but the socket remains visible in netstat in the \"ESTABLISHED\" state indefinitely.\nSince we are not able to force the clients into any specific behavior, after several days we are hitting the default limit, 1024 in our Linux distro, for open file descriptors, causing the server to become unable to open any new sockets or files.  I thought about TCP keepalives, but since RMI is abstracting away the network layer, I don't have access to the actual server socket after the connection has been established.\nIs there any way to force the RMI layer to cleanup sockets tied to client connections with expired leases?\n\n\nUpdate: The solution I used is similar to the chosen answer, but uses a different approach.  I used a custom socket factory, and then wrapped the ServerSocket instance returned by createServerSocket() in a transparent wrapper that passed all methods through, except for accept().  In the accpet method, keepalives are enabled before the socket is returned.\npublic class KeepaliveSocketWrapper extends ServerSocket\n{\n    private ServerSocket _delegate = null;\n    public KeepaliveSocketWrapper(ServerSocket delegate)\n    {\n        this._delegate = delegate;\n    }\n\n    public Socket accept() throws IOException\n    {\n        Socket s = _delegate.accept();\n        s.setKeepAlive(true);\n        return s;\n    }\n    .\n    .\n    .\n}\n\n", "I know how to find a method in java using a fixed string,\nsomeClass.getMethod(\"foobar\", argTypes);\n\nbut is there a way to use a regular expression rather than a fixed string to find a method on a given class? \nAn example of the usage might be if I wanted to find a method that was called either \"foobar\" or \"fooBar\". Using a regular expression like \"foo[Bb]ar\" would match either of these method names.\n", "Does anyone know how to programmaticly find out where the java classloader actually loads the class from?  \nI often work on large projects where the classpath gets very long and manual searching is not really an option.  I recently had a problem where the classloader was loading an incorrect version of a class because it was on the classpath in two different places.\nSo how can I get the classloader to tell me where on disk the actual class file is coming from?\n==EDIT==\nWhat about if the classloader actually fails to load the class due to a version mismatch (or something else),  is there anyway we could find out what file its trying to read before it reads it?\n", "I'm working on a JSP where I need to call methods on object that come from a Bean. The previous version of the page does not use JSTL and it works properly. My new version has a set up like this:\n<jsp:useBean id=\"pageBean\" scope=\"request\" type=\"com.epicentric.page.website.PageBean\" />\n<c:set var=\"pageDividers\" value=\"<%= pageBean.getPageDividers() %>\" />\n<c:set var=\"numColumns\" value=\"${pageDividers.size()}\" />\n\nThe variable pageDividers is a List object.\nI'm encountering this issue: when I ask for pageDivider's size, an exception is thrown. I know this is a simple JTSL error -- what am I doing wrong?\nThe error message is:\n\nThe function size must be used with a prefix when a default namespace is not specified\n\nHow do I correctly access or call the methods of my pageDividers object?\n", "Building a client-side swing application what should be notified on a bus (application-wide message system, similar in concept to JMS but much simpler) and what should be notified using direct listeners?\nWhen using a bus, I always have an unescapable feeling of \"I have no idea who uses that and where\". Also, no set order, hard to veto events, hard to know exactly what's going on at a set time.\nOn the other hand, using listeners means either directly referencing the source object (coupling) or passing the reference through myriad conversions (A--b_listener-->B, B--c_listener-->C only because a needs to know something only C can to tell, but B has no interest in).\nSo, are there any rule of the thumb regarding this? Any suggestion how to balance?\n", "In the Web Flow below I bind form data to a flow variable (lifeCycleForm) on a submit event in the view state. I have verified that the name, label and description properties are all populated as expected.\nHowever, when the expression in the action state is evaluated all three properties are null. My form bean is serializable and I am just using simple string properties.\nWhat I am doing wrong?\nI am pretty new to Spring WebFlow so I might have missed something obvious.\n<var name=\"lifeCycleForm\" class=\"com.btmatthews.freelancer.lifecycle.portlet.LifeCycleForm\" />\n\n<view-state id=\"createLifeCycle\" model=\"lifeCycleForm\">\n    <binder>\n        <binding property=\"name\" required=\"true\" />\n        <binding property=\"label\" required=\"true\" />\n        <binding property=\"description\" required=\"false\" />\n    </binder>\n    <transition on=\"submit\" to=\"createLifeCycleAction\" />\n    <transition on=\"cancel\" to=\"lifeCycleCreationCancelled\" bind=\"false\" />\n</view-state>\n\n<action-state id=\"createLifeCycleAction\">        \n    <evaluate expression=\"lifeCycleService.createLifeCycle(lifeCycleForm.name, lifeCycleForm.label, lifeCycleForm.description, null, null)\" />\n    <transition on=\"success\" to=\"lifeCycleCreated\" />\n    <transition on=\"failure\" to=\"createLifeCycle\" />\n</action-state>\n\n<end-state id=\"lifeCycleCreated\" />\n\n<end-state id=\"lifeCycleCreationCancelled\" />\n\nUpdate: I neglected to mention in my original posting that it was my unit tests that were failing. I have since learned that AbstractFlowExecutionTests does not implement binding of request parameters. This seems like a bit of an oversight to me. I have tried latest nightly Spring WebFlow 2.0.4 and the behaviour remains the same.\nUpdate: My problems are that Spring WebFlow mocks do not simulate form submission. \nThanks in advance,\nBrian\n", "Is there a simple way to parse a date that may be in MM/DD/yyyy, or M/D/yyyy, or some combination? i.e. the zero is optional before a single digit day or month.\nTo do it manually, one could use:\nString[] dateFields = dateString.split(\"/\");\nint month = Integer.parseInt(dateFields[0]);\nint day = Integer.parseInt(dateFields[1]);\nint year = Integer.parseInt(dateFields[2]);\n\nAnd validate with:\ndateString.matches(\"\\\\d\\\\d?/\\\\d\\\\d?/\\\\d\\\\d\\\\d\\\\d\")\n\nIs there a call to SimpleDateFormat or JodaTime that would handle this?\n", "Let's say I have a class in my web app called class \"Foo\".  It has an initialise() method that is called when the bean is created using Spring.  The initialise() method then tries to load an external service and assign it to a field.  If the service could not be contacted, the field will be set to null.  \nprivate Service service;\n\npublic void initialise() {\n    // load external service\n    // set field to the loaded service if contacted\n    // set to field to null if service could not be contacted\n}\n\nWhen someone calls the method get() on the class \"Foo\" the service will be invoked if it was started in the initialise() method.  If the field for the service is null, I want to try and load the external service.\npublic String get() {\n    if (service == null) {\n        // try and load the service again\n    }\n    // perform operation on the service is service is not null\n}\n\nIs it possible that I may have sync issues if I would do something like this?\n", "I have a JSP page that will display the exact content of another web page on a different server. My understanding was that c:import  from the JSTL should be able to include content from files that are not part of the current web application.\nI added c:import url=\"page on my server in a different application\" and it works fine, but when I try to include a page from another server it fails.\nAny suggestions as to what might be wrong?\nEDIT: The exact error is: \"The server encountered an internal error () that prevented it from fulfilling this request.\". However, requesting a page from the same server, different app works...I get the content of the page.\n", "We currently have a whole suite of report designs that cover various parts of our app, and these reports are generated on demand by our users.\nI want to be able to bundle up several of these reports into a single report to return to the user.\nI initially hacked up a custom report builder that generated report design files using segments inside a report library file, and then ran that generated design, but this was unwieldy and a pain to manage as I had to duplicate the individual reports (still required) inside the report library file. Any changes to the stand-alone reports had to be duplicated in the library for the combined reports.\nWhat I am really looking for is a way to specify several design files, have them all run, and then return a single file to the user, containing all the reports they selected.\n", "I would like to determine the operating system of the host that my Java program is running programmatically (for example: I would like to be able to load different properties based on whether I am on a Windows or Unix platform). What is the safest way to do this with 100% reliability?\n", "I'm not quite sure if this is specific to Sun Java Systems Application Server but there are occasions where I run into a NoClassDefFoundError where the class in question, the one not found, is not mentioned in the error.  \nDoes anyone know what conditions would lead to a NoClassDefFoundError being raised without specifying which class was not found?\nEdit: Java 1.4\n", "This is a bit of a lazyweb question but you get the rep so :-)\nI have a Java class that returns instances of itself to allow chaining \n(e.g. ClassObject.doStuff().doStuff())\nFor instance:\npublic class Chainer\n{\n    public Chainer doStuff()\n    {\n       /* Do stuff ... */\n       return this;\n    }\n}\n\nI would like to extend this class. Is there a way, perhaps using generics, to extend this class without having to overwrite each method signature?\nE.g. not:\npublic class ChainerExtender extends Chainer\n{\n    public ChainerExtender doStuff()\n    {\n       super.doStuff();\n       return this;\n    }\n}\n\nI have tried:\npublic class Chainer\n{\n    public <A extends Chainer> A doStuff()\n    {\n       /* Do stuff ... */\n       return (A)this;\n    }\n}\n\npublic class ChainerExtender extends Chainer\n{\n    public <A extends Chainer> A doStuff()\n    {\n       /* Do stuff ... */\n       return super.doStuff();\n    }\n}\n\nBut this didn't work giving the error:\ntype parameters of <A>A cannot be determined; \nno unique maximal instance exists for type variable A with upper bounds A,Chainer\n\nAm I forced to have class declarations like:\npublic class Chainer<T extends Chainer<T>> {}\npublic class ChainerExtender extends Chainer<ChainerExtender>\n\nAs per this question?\n", "We try to convert from string to Byte[] using the following Java code:\nString source = \"0123456789\";\nbyte[] byteArray = source.getBytes(\"UTF-16\");\n\nWe get a byte array of length 22 bytes, we are not sure where this padding comes from.\nHow do I get an array of length 20?\n", "Is there any free java library which I can use to convert string in one encoding to other encoding, something like iconv in php? I'm using java version 1.3.\n", "We want to show a hint for a JList that the user can select multiple items with the platform dependent key for multiselect. \nHowever I have not found any way to show the OS X COMMAND symbol in a JLabel, which means the symbol that's printed on the apple keyboard on the command key, also called apple key.\nHere's a picture of the symbol I want to display on OS X.  \nAlso I do want to have it platform independent.\nI.e. something like \ncomponent.add( new JList() , BorderLayout.CENTER );\ncomponent.add( new JLabel( MessageFormat.format(\"With {0} you can \" \n  + \"select multiple items\", \n  KeyStroke.getKeyStroke( ... , ... ) ) ) , BorderLayout.SOUTH );\n\nWhere instead of the {0} there should appear above seen symbol...\nDoes any one of you guys know how to do this? I know it must be possible somehow since in the JMenuItems there is the symbol...\nMy own (non graphical solutions) looks like this:\nadd( new JLabel( MessageFormat.format(\n  \"With {0} you can select multiple items\" , \n  System.getProperty( \"mrj.version\" ) != null ? \"COMMAND\" : \"CTRL\" ) ) ,\n  BorderLayout.SOUTH );\n\n", "What implementations of the Prototype Pattern exist on the Java platform?\n\nA prototype pattern is a creational design pattern used in software development when the type of objects to create is determined by a prototypical instance, which is cloned to produce new objects. \n\nPrototype based programming:\n\nPrototype-based programming is a style of object-oriented programming in which classes are not present, and behavior reuse (known as inheritance in class-based languages) is performed via a process of cloning existing objects that serve as prototypes. \n\nThe implementation should be aware that some Java objects are mutable, and some are immutable (see Mutable vs Immutable objects).\n", "How can i map a date from a java object to a database with Hibernate? I try different approaches, but i am not happy with them. Why? Let me explain my issue. I have the following class [1] including the main method i invoke and with the following mapping [2]. The issue about this approach you can see, when you look at the console output.\n\nfalse \nfalse\n1\n-1\n1224754335648\n1224754335000 \nThu Oct 23 11:32:15 CEST 2008\nClock@67064\n\nAs you can see the the to dates are not exactly equal, although they should, so it is hard to compare them without goofing around with  return value of getTime. I also tried java.sql.Date, Timestamp and date instead of timestamp in the mapping, but without success. \nI wonder why the last three digits are zero and if this is a hibernate or a java issue or my own stupidity.\nThank you for reading.\n[1]\npublic class Clock {\n\n    int id;\n    java.util.Date date;\n\n    public static void main(String[] args) {\n        HibernateUtil.init();\n        HibernateUtil.getSessionFactory().getCurrentSession().beginTransaction();\n\n        Clock clock = new Clock();\n        clock.date = new java.util.Date();\n\n        HibernateUtil.getSessionFactory().getCurrentSession().saveOrUpdate(clock);\n        HibernateUtil.getSessionFactory().getCurrentSession().getTransaction().commit();\n\n        HibernateUtil.getSessionFactory().getCurrentSession().beginTransaction();\n\n        Clock fromDBClock = (Clock)HibernateUtil.getSessionFactory()\n                        .getCurrentSession().get(Clock.class, 1);\n\n        System.out.println(clock.date.equals(fromDBClock.date));\n        System.out.println(fromDBClock.date.equals(clock.date));\n\n        System.out.println(clock.date.compareTo(fromDBClock.date));\n        System.out.println(fromDBClock.date.compareTo(clock.date));\n\n        System.out.println(clock.date.getTime());\n        System.out.println(fromDBClock.date.getTime());\n\n        System.out.println(clock.date.toString());\n        System.out.println(fromDBClock.toString());\n\n        HibernateUtil.getSessionFactory().getCurrentSession().getTransaction().commit();\n\n        HibernateUtil.end();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public java.util.Date getDate() {\n        return date;\n    }\n\n    public void setDate(java.util.Date date) {\n        this.date = date;\n    }\n\n\n}\n\n[2]\n<?xml version=\"1.0\"?>\n<!DOCTYPE hibernate-mapping PUBLIC\n        \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n        \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\">\n\n<hibernate-mapping>\n\n    <class name=\"Clock\" table=\"CLOCK\">\n        <id name=\"id\" column=\"CLOCK_ID\">\n            <generator class=\"native\"/>\n        </id>\n        <property name=\"date\" type=\"timestamp\"/>\n\n\n    </class>\n\n</hibernate-mapping>\n\n", "As far as I know Hibernate let's you configure entities and collections to be stored in a second-level cache. \nWhen does Hibernate try to read these cached entities from the second-level cache and when does it hit the DB? Does Hibernate only read from the second-level cache when loading entities by calling Sesssion.get() and when initializing proxies (including collections)? Does Hibernate ever hit the second-level cache when executing HQL- or Criteria-Queries?\nExamples?\n", "I'm trying to read a file to produce a DOM Document, but the file has whitespace and newlines and I'm trying to ignore them, but I couldn't:\nDocumentBuilderFactory docfactory=DocumentBuilderFactory.newInstance();\ndocfactory.setIgnoringElementContentWhitespace(true);\n\nI see in Javadoc that setIgnoringElementContentWhitespace method operates only when the validating flag is enabled, but I haven't the DTD or XML Schema for the document.\nWhat can I do?\nUpdate\nI don't like the idea of introduce mySelf < !ELEMENT... declarations and i have tried the\nsolution proposed in the forum pointed by Tomalak, but it doesn't work, i have used java 1.6 in an linux environment. I think if no more is proposed i will make a few methods to ignore whitespace text nodes\n", "I'm working on a project which is just about to start, and since I was busy with another one my colleagues went ahead and started working on the specs to the new one. When I came in, they had just chosen to do persistence with plain SQL (promptly accepted my suggestion to add Hibernate, though) but insisted in that data replication should be performed using a tool called Symmetric DS, of which I had never heard about.\nI am concerned because, as far as I know, having a JBoss server (current plans are to use Tomcat only) with EJB3 handles all of the transaction/replication hassle, and should spare us from a lot of headaches.\nHow do you guys see this Symmetric DS? (note that I have nothing against it whatsoever, it's just that I know JBoss to be around for a long while and it has a quite respectable reputation)\nHow would you compare the two solutions?\nThanks!\nEDIT:\nBy the way, how does SymmetricDS deal with duplicate primary keys? I mean, if I add a row in database A and another in database B, both will probably be added with the same primary key, right? How does SymmetricDS handle that so as to avoid conflict?\nThis forum discussion seemed at first to address some of that, but it doesn't quite answer my question. \n", "Is there a way of programmatically determining a rough geographical position of a mobile phone using J2ME application, for example determining the current cell? This question especially applies to non-GPS enabled devices. \nI am not looking for a set of geographical coordinates, but an ability for a user to define location specific software behaviours.\nSolution for any hardware will be highly appreciated; however the more generic a solution is \u2014 the better. Many thanks!\n", "I need to access RMI methods from a client front end.\nFor different reasons, I have JBoss running on the server side. This makes me thinking of using JBoss to expose the RMI server methods.\nI'm kinda new to JBoss, so my question would be: What steps are required in order to make the RMI server methods visible to the client? \n", "I'd like to create a basic \"Hello World\" style application for the IPhone using Java - can anyone tell me how?\n", "I am wondering what the best ways to save enums into a database is.\nI know there are name() and valueOf() methods to make it into a String back. But are there any other (flexible) options to store these values?\nIs there a smart way to make them into unique numbers (ordinal() is not safe to use)?\nAny comments and suggestions would be helpful :)\nUpdate:\nThanks for all awesome and fast answers! It was as I suspected.\nHowever a note to 'toolkit'; That is one way. The problem is that I would have to add the same methods with each enum type i create. Thats a lot of duplicated code and, at the moment, Java does not support any solutions to this (You cannot let enum extend other classes).\nHowever, thanks for all answers!\n", "I have heard mixed opinions over the amount of memory that a byte takes up in a java program.\nI am aware you can store no more than +127 in a java byte, and the documentation says that a byte is only 8 bits but here I am told that it actually takes up the same amount of memory as an int, and therefore is just a Type that helps in code comprehension and not efficiency. \nCan anyone clear this up, and would this be an implementation specific issue?\n", "Is it possible to use request.setAttribute on a JSP page and then on HTML Submit get the same request attribute in the Servlet?\n", "I've been using spring for some time, but I always wondered how does it work, more specifically, how do they load and weave beans/classes marked only with an interface or @annotation. \nFor the xml declarations, it's easy to see how spring preprocesses my beans (they are declared in the xml context that spring reads), but for the classes marked only with annotations, I can't see how that works, since I don't pass any agent to the jvm or so.\nI believe there is some Java/JVM hook that allows you to preprocess classes by some sort of criteria, but I wasn't able to found out anything on the docs.\nCan someone point me to some docs? Is this related to the java.lang.instrument.ClassFileTransformer API?\n", "I have a Timestamp value that comes from my application. The user can be in any given local TimeZone.\nSince this date is used for a WebService that assumes the time given is always in GMT, I have a need to convert the user's parameter from say (EST) to (GMT). Here's the kicker: The user is oblivious to his TZ. He enters the creation date that he wants to send to the WS, so what I need is:\nUser enters: 5/1/2008 6:12 PM (EST) \nThe parameter to the WS needs to be: 5/1/2008 6:12 PM (GMT)\nI know TimeStamps are always supposed to be in GMT by default, but when sending the parameter, even though I created my Calendar from the TS (which is supposed to be in GMT), the hours are always off unless the user is in GMT. What am I missing?\nTimestamp issuedDate = (Timestamp) getACPValue(inputs_, \"issuedDate\");\nCalendar issueDate = convertTimestampToJavaCalendar(issuedDate);\n...\nprivate static java.util.Calendar convertTimestampToJavaCalendar(Timestamp ts_) {\n  java.util.Calendar cal = java.util.Calendar.getInstance(\n      GMT_TIMEZONE, EN_US_LOCALE);\n  cal.setTimeInMillis(ts_.getTime());\n  return cal;\n}\n\nWith the previous Code, this is what I get as a result (Short Format for easy reading):\n[May 1, 2008 11:12 PM]\n", "I know that you can run almost all Java in Dalvik's VM that you can in Java's VM but the limitations are not very clear.  Has anyone run into any major stumbling blocks?  Any major libraries having trouble?  Any languages that compile to Java byte code (Scala, Jython etc...) not work as expected?  \n", "Has Java 1.6 SDK been released for mac? I can't seem to find it...\n", "I am new to jmock and trying to mock an HttpSession. I am getting:\njava.lang.AssertionError: unexpected invocation: httpServletRequest.getSession()\nno expectations specified: did you...\n - forget to start an expectation with a cardinality clause?\n - call a mocked method to specify the parameter of an expectation?\nthe test method:\n@Test\npublic void testDoAuthorization(){\n\n    final HttpServletRequest request = context.mock(HttpServletRequest.class);\n    final HttpSession session = request.getSession();\n\n    context.checking(new Expectations(){{\n       one(request).getSession(true); will(returnValue(session));\n   }});\n\n    assertTrue(dwnLoadCel.doAuthorization(session));\n}\n\nI have done a bit of searching and it isn't clear to me still how this is done. Feels like I am missing some small piece. Anyone with experience in this can just point me in the right direction.\nthanks\n", "I've been playing with DWR and converters for a while and I really wanted to map my Java classes to JavaScript classes. Using DWR converters, I have the option to point out what is the name of my JS constructor given a Java class. So far so good... The problem arises when my JS constructor is within a JS package-like name (just like YUI's package system, eg my.beautiful.package.MyClass). DWR's current implementation doesn't allow me to use this kind of construct, giving me a SyntaxError when I try to use it. Is there an elegant way arround this limitation?\n", "I have the following code:\nclass IncidentTag:\n     def __init__(self,tag):\n        self.tag = tag\n     def equals(self,obj):\n        return self.tag.equals(obj.tag)\n     def hashCode(self):\n        return self.tag.hashCode()\n\nfrom java.lang import String\nfrom java.util import HashMap\nfrom java.util import HashSet\n\ntag1 = IncidentTag(String(\"email\"))\ntag1copy = IncidentTag(String(\"email\"))\ntag2 = IncidentTag(String(\"notemail\"))\n\nprint tag1.equals(tag1copy)\nprint tag2.equals(tag2)\n\nprint \"Now with HashSet:\"\n\nhSet = HashSet()\nhSet.add(tag1)\nhSet.add(tag2)\n\nprint hSet.contains(tag1)\nprint hSet.contains(tag2)\nprint hSet.contains(tag1copy)\n\nThe output is:\n1\n1\nNow with HashSet:\n1\n1\n0\nHowever, I would have expected the last line to be true (1) as well.  Is there something obvious that I am missing.\n(yes, I know that my equals method and hashcode methods do not take some issues into account... they are deliberately simple, but do let me know if the issues there are causing this problem)\n", "Question\nI'm looking for a Java in-memory object caching API. Any recommendations? What solutions have you used in the past?\nCurrent\nRight now, I'm just using a Map:\nMap cache = new HashMap<String, Object>();\ncache.put(\"key\", value);\n\nRequirements\nI need to extend the cache to include basic features like:\n\nMax size\nTime to live\n\nHowever, I don't need more sophisticated features like:\n\nAccess from multiple processes (caching server)\nPersistence (to disk)\n\nSuggestions\nIn-Memory caching:\n\nGuava CacheBuilder - active development. See this presentation.\nLRUMap - Config via API. No TTL. Not purpose built for caching.\nwhirlycache - XML config. Mailing list. Last updated 2006.\ncache4j - XML config. Documentation in Russian. Last updated 2006.\n\nEnterprise caching:\n\nJCS - Properties config. Extensive documentation.\nEhcache - XML config. Extensive documentation. By far the most popular according to Google hits.\n\n", "I'd like a consistent and simple way to throw exceptions in JNI code; something that handles chained exceptions (implicitly from the env->ExceptionOccurred method, or explicitly by parameters, either way is good) and saves me looking up constructors every time I want to do this.  All of the above is preferably in C, although I could translate it from C++ at need.\nDoes anyone on SO have something like this that they can share?\n", "In my Spring app, I'd like to use FreeMarker to generate the text of emails that will be sent by my application. The generated text will never be returned to the view so I don't need to configure a FreeMarker view resolver. The documentation seems to indicate that I should configure a FreeMarkerConfigurationFactoryBean like this\n<bean id=\"freemarkerConfiguration\" class=\"org.springframework.ui.freemarker.FreeMarkerConfigurationFactoryBean\">\n   <property name=\"templateLoaderPath\" value=\"/WEB-INF/freemarker/\"/>\n</bean>\n\nOnce I have this bean configured how do I actually get the text that is generated for a particular template, with a particular Map of variables. In other words, what code comes after:\nString templateName = \"email\"\nMap templateVars = new HashMap();\ntemplateVars.put(\"firstName\", \"john\");\ntemplateVars.put(\"surname\", \"doe\");    \n// Now how do I get the template text?\n\nSpring modules seems to provide an alternative integration between Spring and FreeMarker which makes retrieving the template text very obvious, but I'd prefer not to add an additional dependency to my app unless it's absolutely necessary.\nAlso, do I need to add some extra configuration to the FreeMarkerConfigurationFactoryBean to ensure that the templates are cached?\nCheers,\nDon\n", "I'd like to use the Rhino JavaScript compiler to compile some JavaScript to .class bytecode files for use in a project. It seems like this should already exist, since there are groovyc, netrexxc, and jythonc tasks for Groovy, NetREXX(!) and Jython, respectively. Has anyone used or written such an Ant task, or can anyone provide some tips on how to write one?\nIdeally it would have some way to resolve dependencies among JavaScript or Java classes.\n", "I am trying to implement an application by using MySQL/JAVA and I found this tool in netbeans to easily create a new form for an existing table. (edit, insert, delete etc.)\nIs there an easy way to modify the code to join another table to display fields from that table.\nExample:\nI have an employee table that has a foreign key TitleID and another table called Title that has TitleID and TitleName.\nI want to display TitleName instead of TitleID in the master table employee.\n", "How do you for a specific look and feel on NetBeans 6.5? I mean by passing flags to the netbeans script (on Ubuntu) or by modifying the netbeans script or by some setup.\n", "This originally was a problem I ran into at work, but is now something I'm just trying to solve for my own curiosity.\nI want to find out if int 'a' contains the int 'b' in the most efficient way possible.  I wrote some code, but it seems no matter what I write, parsing it into a string and then using indexOf is twice as fast as doing it mathematically.\nMemory is not an issue (within reason), just sheer processing speed.\nThis is the code I have written to do it mathematically:\nprivate static int[] exponents = {10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000 };\n\nprivate static boolean findMatch(int a, int b) {\n    if (b > a) return false;\n\n    if (a == b) return true;\n\n    int needleLength = getLength(b);\n\n    int exponent = exponents[needleLength];\n    int subNum;\n    while (a >= 1) {\n        subNum = a % exponent;\n\n        if (subNum == b)\n            return true;\n\n        a /= 10;\n    }\n    return false;\n}\n\nprivate static int getLength(int b) {\n\n    int len = 0;\n\n    while (b >= 1) {\n        len++;\n        b /= 10;\n    }\n\n    return len;\n}\n\nHere's the string method I'm using, which seems to trump the mathematical method above:\nprivate static boolean findStringMatch(int a, int b) {      \n    return String.valueOf(a).indexOf(String.valueOf(b)) != -1;      \n}\n\nSo although this isn't really required for me to complete my work, I was just wondering if anyone could think of any way to further optimize my way of doing it mathematically, or an entirely new approach altogether.  Again memory is no problem, I am just shooting for sheer speed.\nI'm really interested to see or hear anything anyone has to offer on this.\nEDIT:  When I say contains I mean can be anywhere, so for example, findMatch(1234, 23) == true\nEDIT: For everyone saying that this crap is unreadable and unnecessary: you're missing the point.  The point was to get to geek out on an interesting problem, not come up with an answer to be used in production code.\n", "I'm trying to read variables from a batch file for later use in the batch script, which is a Java launcher. I'd ideally like to have the same format for the settings file on all platforms (Unix, Windows), and also be a valid Java Properties file. That is, it should look like this:\nsetting1=Value1\nsetting2=Value2\n...\n\nIs it possible to read such values like you would in a Unix shell script? The could should look something like this:\nREAD settingsfile.xy\njava -Dsetting1=%setting1% ...\n\nI know that this is probably possible with SET setting1=Value1, but I'd really rather have the same file format for the settings on all platforms.\nTo clarify: I need to do this in the command line/batch environment as I also need to set parameters that cannot be altered from within the JVM, like -Xmx or -classpath.\n", "What is the best way to do GUIs in Clojure?\nIs there an example of some functional Swing or SWT wrapper?\nOr some integration with JavaFX declarative GUI description which could be easily wrapped to s-expressions using some macrology?\nAny tutorials?\n", "I'm writing tests for a business method that invokes some DAO classes to perform operations over a database.\nThis method, firstly retrieves a JDBC connection from a DataSource object, The same connection is passed to all DAO instances, so I can use it to control the transaction. So, if everything works properly, I must invoke commit() over the connection object.\nI would like to test if the commit() is invoked, so I've thought to create an expectation (I'm using JMock) that checks that. But since the Connection class isn't a direct neighbour from my Business class, I don't know how to do this.\nSomeone knows how to overcome this? There is some JMock facility for this, or some alternative design that allows to overcome this?\nThanks\n", "I am trying to programatically set the dpi metadata of an jpeg image in Java. The source of the image is a scanner, so I get the horizontal/vertical resolution from TWAIN, along with the image raw data. I'd like to save this info for better print results.\nHere's the code I have so far. It saves the raw image (byteArray) to a JPEG file, but it ignores the X/Ydensity information I specify via IIOMetadata. Any advice what I'm doing wrong? \nAny other solution (third-party library, etc) would be welcome too. \nimport java.awt.image.BufferedImage;\nimport java.awt.image.WritableRaster;\nimport java.io.File;\n\nimport javax.imageio.IIOImage;\nimport javax.imageio.ImageIO;\nimport javax.imageio.ImageTypeSpecifier;\nimport javax.imageio.metadata.IIOMetadata;\nimport javax.imageio.plugins.jpeg.JPEGImageWriteParam;\nimport javax.imageio.stream.ImageOutputStream    \n\nimport org.w3c.dom.Element;    \nimport com.sun.imageio.plugins.jpeg.JPEGImageWriter;\n\npublic boolean saveJpeg(int[] byteArray, int width, int height, int dpi, String file)\n{\n    BufferedImage bufferedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n\n    WritableRaster wr = bufferedImage.getRaster();\n    wr.setPixels(0, 0, width, height, byteArray);\n\n    try\n    {           \n        // Image writer \n        JPEGImageWriter imageWriter = (JPEGImageWriter) ImageIO.getImageWritersBySuffix(\"jpeg\").next();\n        ImageOutputStream ios = ImageIO.createImageOutputStream(new File(file));\n        imageWriter.setOutput(ios);\n\n        // Compression\n        JPEGImageWriteParam jpegParams = (JPEGImageWriteParam) imageWriter.getDefaultWriteParam();\n        jpegParams.setCompressionMode(JPEGImageWriteParam.MODE_EXPLICIT);\n        jpegParams.setCompressionQuality(0.85f);\n\n        // Metadata (dpi)\n        IIOMetadata data = imageWriter.getDefaultImageMetadata(new ImageTypeSpecifier(bufferedImage), jpegParams);\n        Element tree = (Element)data.getAsTree(\"javax_imageio_jpeg_image_1.0\");\n        Element jfif = (Element)tree.getElementsByTagName(\"app0JFIF\").item(0);\n        jfif.setAttribute(\"Xdensity\", Integer.toString(dpi));\n        jfif.setAttribute(\"Ydensity\", Integer.toString(dpi));\n        jfif.setAttribute(\"resUnits\", \"1\"); // density is dots per inch         \n\n        // Write and clean up\n        imageWriter.write(data, new IIOImage(bufferedImage, null, null), jpegParams);\n        ios.close();\n        imageWriter.dispose();\n    }\n    catch (Exception e)\n    {\n       return false;\n    }\n\n    return true;\n}\n\nThanks!\n", "I have heard that closures could be introduced in the next Java standard that is scheduled to be released somewhere around next summer. \nWhat would this syntax look like?\nI read somewhere that introducing closures in java is a bigger change than generic was in java 5. Is this true? pros and cons?\n(By now we definitely know that closures not will be included in the next Java release)\nOR \nedit: http://puredanger.com/tech/2009/11/18/closures-after-all/ :D\nedit2: Re-thinking JDK7: http://blogs.oracle.com/mr/entry/rethinking_jdk7\nedit3: There\u2019s not a moment to lose!: http://blogs.oracle.com/mr/entry/quartet\n", "Does Eclipse have a feature that lets you search a project to find all calls to deprecated methods?\n", "I'm using the Spring class FreeMarkerConfigurationFactoryBean to retrieve FreeMarker templates. I would like these templates to be cached, but there doesn't appear to be any way to indicate that this behaviour is required.\nIn contrast, Spring modules provides a CachingTemplateResolver which does provide template caching, but is it possible to achieve this without using Spring modules, i.e. with FreeMarkerConfigurationFactoryBean?\nCheers,\nDon\n", "Is there a way to colorize parts of logs in the eclipse console.  I know I could send to error and standard streams and color them differently but I'm more looking someting in the lines of ANSI escape codes (or anyother, HTML ?) where I could embed the colors in the string to have it colored in the logs.\nIt sure would help making the important bits stand out without resorting to weird layout, rather keep the layout to the log4j setups \nhere is an example of what I am looking for :\n[INFO ] The grid is complete ....... false\nwhere the bold parts would be in blue, this coloring can be controlled by the application to an extent.  like so (tags are conceptual and arbitrary, but you get the idea):\nlog.info(String.format(\"The grid is complete ....... <blue>%s</blue>\", isComplete ));\n\nOn a more general note it is the ability to embed meta information in the logs to help the presentation of these logs.  Much like we tag web pages content to help the presentation of the information by CSS.\n", "How do I pass a parameter from a page's useBean in JSP to a servlet in Java? I have some data in a form that gets passed no problem with a submit button, but no way to send anything else. Please help? Here is my code:\n<input name = \"deleteGameButton\" type = \"submit\" value = \"Delete\"\n onclick = \"submitToServlet('DeleteGameServlet');\">\n\nHere is the corresponding javascript:\n function submitToServlet(newAction)\n {\n   document.userGameForm.action = newAction;\n }\n\nI'd like the servlet to have access to userBean\n <jsp:useBean id = \"userBean\" scope = \"session\" class = \"org.project.User\" />\n\n", "I'm trying to write a web application using SpringMVC. Normally I'd just map some made-up file extension to Spring's front controller and live happily, but this time I'm going for REST-like URLs, with no file-name extensions.\nMapping everything under my context path to the front controller (let's call it \"app\") means I should take care of static files also, something I'd rather not do (why reinvent yet another weel?), so some combination with tomcat's default servlet (let's call it \"tomcat\") appears to be the way to go.\nI got the thing to work doing something like \n<servlet-mapping>\n  <servlet-name>app</servlet-name>\n  <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n<servlet-mapping>\n  <servlet-name>tomcat</servlet-name>\n  <url-pattern>*.ext</url-pattern>\n</servlet-mapping>\n\nand repeating the latter for each one of the file extensions of my static content. I'm just wondering why the following setups, which to me are equivalent to the one above, don't work.\n<!-- failed attempt #1 -->\n<servlet-mapping>\n  <servlet-name>app</servlet-name>\n  <url-pattern>/*</url-pattern>\n</servlet-mapping>\n\n<servlet-mapping>\n  <servlet-name>tomcat</servlet-name>\n  <url-pattern>*.ext</url-pattern>\n</servlet-mapping>\n\n<!-- failed attempt #2 -->\n<servlet-mapping>\n  <servlet-name>app</servlet-name>\n  <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n<servlet-mapping>\n  <servlet-name>tomcat</servlet-name>\n  <url-pattern>/some-static-content-folder/*</url-pattern>\n</servlet-mapping>\n\nCan anyone shed some light?\n", "I'm trying to come up with a Java regex that will match a filename only if it has a valid extension. For example it should match \"foo.bar\" and \"foo.b\", but neither \"foo.\" nor \"foo\".\nI've written the following test program\npublic static void main(String[] args) {\n  Pattern fileExtensionPattern = Pattern.compile(\"\\\\.\\\\w+\\\\z\");\n\n  boolean one = fileExtensionPattern.matcher(\"foo.bar\").matches();\n  boolean two = fileExtensionPattern.matcher(\"foo.b\").matches();\n  boolean three = fileExtensionPattern.matcher(\"foo.\").matches();\n  boolean four = fileExtensionPattern.matcher(\"foo\").matches();\n\n  System.out.println(one + \" \" + two + \" \" + three + \" \" + four);\n}\n\nI expect this to print \"true true false false\", but instead it prints false for all 4 cases. Where am I going wrong?\nCheers,\nDon\n", "If I create classes, that are used at the moment only in a single thread, should I make them thread-safe, even if I don't need that at the moment? It could be happen, that I later use this class in multiple threads, and at that time I could get race conditions and may have a hard time to find them if I didn't made the class thread-safe in the first place. Or should I make the class not thread-safe, for better performance? But premature optimization is evil.\nDifferently asked: Should I make my classes thread-safe if needed (if used in multiple threads, otherwise not) or should I optimize this issue then needed (if I see that the synchronization eats up an important part of processing time)?\nIf I choose one of the both ways, are there methods to reduce the disadvantages? Or exists a third possibility, that I should use?\nEDIT: I give the reason this question came up to my mind. At our company we have written a very simple user-management that writes the data into property-files. I used it in a web-app and after some work on it I got strange errors, that the user-management forgot about properties of users(including name and password) and roles. That was very annoying but not consistently reproducible, so I think it was race condition. Since I synchronized all methods reading and writing from/on disk, the problem disappeared. So I thought, that I probably could have been avoided all the hassle, if we had written the class with synchronization in the first place?\nEDIT 2: As I look over the tips of Pragmatic Programmer, I saw tip #41: Always Design for Concurrency. This doesn't say that all code should be thread-safe, but it says the design should have the concurrency in mind.\n", "I am looking into building a smallish Java rpg. I haven't found any good examples of a RPG engine that would be the most powerful yet most stable for an experienced Java programmer. \nAny and all types. I just want to learn as much as possible about what is out there.\n2d, 3d, or Isometric\nThanks in advance everyone.\n", "I am looking for an Applet with similar functionality to the Oracle/Stellent OutsideIn ActiveX control or the Autonomy KeyView technology that act as a browser plug-in allowing the rendering/display of a large number of file formats (Word processing, spreadhseet, graphics, etc.) I currently use the Stellent solution, but due to some restrictions of some of our clients would prefer something that either exists as a Java Applet, Silverlight control, or has a Java API that I could build an applet on top of (neither of the two I mentioned do). \n\nAt a bare minimum it would need to display at least the following formats:\n\nMS Word, Excel, PowerPoint\nMS Outlook MSG files\nAdobe PDF\nStandard image formats: BMP, PNG, JPEG, TIFF\nWordPerfect\nHTML\n\n\nAny suggestions?\n", "I was loading an image resource with the following code and it works fine from my dev environment (netbeans) but threw an exception as soon as it ran from the desktop.\nnew ImageIcon(Images.class.getResource(\"images/highlighter24.gif\"));\n\nI traced it down to my file having different case than in the code.\nFine, my bad, but why the inconsistent behavior?\nGremlins?\nNote: I'm running on windows before you ask.\n", "I am trying to insert about 50,000 objects (and therefore 50,000 keys) into a java.util.HashMap<java.awt.Point, Segment>. However, I keep getting an OutOfMemory exception. (Segment is my own class - very light weight - one String field, and 3 int fields).\nException in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at java.util.HashMap.resize(HashMap.java:508)\n    at java.util.HashMap.addEntry(HashMap.java:799)\n    at java.util.HashMap.put(HashMap.java:431)\n    at bus.tools.UpdateMap.putSegment(UpdateMap.java:168)\nThis seems quite ridiculous since I see that there is plenty of memory available on the machine - both in free RAM and HD space for virtual memory.\nIs it possible Java is running with some stringent memory requirements? Can I increase these?\nIs there some weird limitation with HashMap? Am I going to have to implement my own? Are there any other classes worth looking at?\n(I am running Java 5 under OS X 10.5 on an Intel machine with 2GB RAM.)\n", "Can a JApplet use a JFileChooser so that the user can select a file on his hard-drive?  Or would this violate Java applet security?  (I'm assuming that the default security settings are being used.  I don't want to ask my users to grant me extra permissions.)\n", "I'd like to install Java on a Psion 5MX with GNU/Linux 16MB RAM machine, will it be possible?\nUnfortunatly, \"KVM must be installed by the manufacturer\".\nWhat I want is to be able to is to write basic Java code, test and sketch simple algorithms. \nImportant notes: I don't need the graphic part since I'll only use the console (no graphic server) but this will be inside a Debian.\n", "Is it good practice to let abstract classes define instance variables?\npublic abstract class ExternalScript extends Script {\n\n    String source;\n\n    public abstract void setSource(String file);\n\n    public abstract String getSource();\n}\n\nThe sub class, ExternalJavaScript.class, would then automatically get the source variable but I feel it's easier to read the code if all the sub classes themselves define the source, instead of from inheritance. \nWhat is your advice?\n/Adam\n", "I'm not sure if the title is very clear, but basically what I have to do is read a line of text from a file and split it up into 8 different string variables. Each line will have the same 8 chunks in the same order (title, author, price, etc). So for each line of text, I want to end up with 8 strings.\nThe first problem is that the last two fields in the line may or may not be present, so I need to do something with stringTokenizer.hasMoreTokens, otherwise it will die messily when fields 7 and 8 are not present.\nI would ideally like to do it in one while of for loop, but I'm not sure how to tell that loop what the order of the fields is going to be so it can fill all 8 (or 6) strings correctly. Please tell me there's a better way that using 8 nested if statements! \nEDIT: The String.split solution seems definitely part of it, so I will use that instead of stringTokenizer. However, I'm still not sure what the best way of feeding the individual strings into the constructor. Would the best way be to have the class expecting an array, and then just do something like this in the constructor:\nline[1] = isbn;\nline[2] = title;\n\n", "Given a large API (an in particular, the Java or J2EE standard libraries), is there a tool or search engine or other resource that can tells me which methods, classes, or even packages people in general tend to use the most?\nI am annotating (see below) APIs and would like to focus my attention on popular areas.\nThe only thing I can think of is using google code with different method names but that is of course tedious. \nSome background (if anyone is interested): As part of my PhD research I've developed a tool that allows users to highlight important \"directives\" in method documentation (their own or in existing APIs) and then pushes these annotations to users to increase chances that they become aware of it. Our lab studies show that this has potential, but to get people to use it in the field I have to provide \"corpuses\" of annotated APIs and I'm trying to prioritize which libraries to annotate. \n", "I have a method that creates a MessageDigest (a hash) from a file, and I need to do this to a lot of files (>= 100,000). How big should I make the buffer used to read from the files to maximize performance?\nMost everyone is familiar with the basic code (which I'll repeat here just in case):\nMessageDigest md = MessageDigest.getInstance( \"SHA\" );\nFileInputStream ios = new FileInputStream( \"myfile.bmp\" );\nbyte[] buffer = new byte[4 * 1024]; // what should this value be?\nint read = 0;\nwhile( ( read = ios.read( buffer ) ) > 0 )\n    md.update( buffer, 0, read );\nios.close();\nmd.digest();\n\nWhat is the ideal size of the buffer to maximize throughput? I know this is system dependent, and I'm pretty sure its OS, FileSystem, and HDD dependent, and there maybe other hardware/software in the mix. \n(I should point out that I'm somewhat new to Java, so this may just be some Java API call I don't know about.)\nEdit: I do not know ahead of time the kinds of systems this will be used on, so I can't assume a whole lot. (I'm using Java for that reason.)\nEdit: The code above is missing things like try..catch to make the post smaller\n", "Does a print version of the Java >= 1.5 API exist? Where can I buy it online? Preferably in Canada, but just a title is great.\n", "I'm using a JFrame in which the CENTER portion of the BorderLayout is occupied by a JScrollPane that wraps around a JPanel.  What I'm finding is that when I initiate the action that actually causes the JPanel to be displayed, the display doesn't change.  But when I resize the JFrame, the new JScrollPane has now magically appeared.\nSo what methods are called when you resize a JFrame?  If I know, then I can call it in the code and avoid having to resize the frame just to see the results of the operation.\n", "A string will be made up of certain symbols (ax,bx,dx,c,acc for example) and numbers.\nex:\nax 5 5\ndx 3 acc\nc ax bx\nI want to replace one or all of the symbols (randomly) with another symbol of the same set. ie, replace one of {ax,bx,dx,c,acc} with one of {ax,bx,dx,c,acc}.\nreplacement example:\nacc 5 5\ndx 3 acc\nc ax bx\nor\nc 5 5\ndx 3 acc\nc ax ax\nIs there a way to do this with regexes? In Java? If so, which methods should I use?\n", "I have several strings in the rough form:\n[some text] [some number] [some more text]\n\nI want to extract the text in [some number] using the Java Regex classes.\nI know roughly what regular expression I want to use (though all suggestions are welcome). What I'm really interested in are the Java calls to take the regex string and use it on the source data to produce the value of [some number].\nEDIT: I should add that I'm only interested in a single [some number] (basically, the first instance). The source strings are short and I'm not going to be looking for multiple occurrences of [some number].\n", "I have a JPanel extension that I've written and would like to be able to use it in the NetBeans designer.  The component is simply adds some custom painting and continues to function as a container to be customised on each use.  \nI have properties to expose in addition to the standard JPanel ones and have a custom paintComponent() method that I'd like to be able to see in use when building up GUIs.  Ideally I'd like to associate an icon with the component as well so that its easily recognisable for my colleagues to work with.\nWhat's the best way of achieving this?\n", "I normally use the following idiom to check if a String can be converted to an integer.\npublic boolean isInteger( String input ) {\n    try {\n        Integer.parseInt( input );\n        return true;\n    }\n    catch( Exception e ) {\n        return false;\n    }\n}\n\nIs it just me, or does this seem a bit hackish?  What's a better way?\n\nSee my answer (with benchmarks, based on the earlier answer by CodingWithSpike) to see why I've reversed my position and accepted Jonas Klemming's answer to this problem.  I think this original code will be used by most people because it's quicker to implement, and more maintainable, but it's orders of magnitude slower when non-integer data is provided.\n", "How does the JVM handle a primitive \"long\", which is 64bits, on a 32bit processor?\n\nCan it utilise mulitple cores in parallel when on a Multi-Core 32bit machine?\nHow much slower are 64bit operations on a 32bit machine?\n", "Many languages have a facility to check to see if an Object is of a certain type (including parent subclasses), implemented with 'is' and used like this:\nif(obj is MyType)\n\nOr slightly more tediously you can in other languages check by using the 'as' keyword to do a soft typecast and seeing if the result null.   \nI haven't used Java in years and I'm getting back up to speed on it but surely Java has a way to easily do this without delving deep into the Reflection APIs?\nThanks in advance for answers.  I have searched both here and other places but the keywords involved are so generic that even though I'm sure this has a simple answer, googling for it is hard.\n", "Edit: This code is fine.  I found a logic bug somewhere that doesn't exist in my pseudo code.  I was blaming it on my lack of Java experience.\nIn the pseudo code below, I'm trying to parse the XML shown.  A silly example maybe but my code was too large/specific for anyone to get any real value out of seeing it and learning from answers posted.  So, this is more entertaining and hopefully others can learn from the answer as well as me.\nI'm new to Java but an experienced C++ programmer which makes me believe my problem lies in my understanding of the Java language.\nProblem: When the parser finishes, my Vector is full of uninitialized Cows.  I create the Vector of Cows with a default capacity (which shouldn't effect it's \"size\" if it's anything like C++ STL Vector).  When I print the contents of the Cow Vector out after the parse, it gives the right size of Vector but all the values appear never to have been set.\nInfo: I have successfully done this with other parsers that don't have Vector fields but in this case, I'd like to use a Vector to accumulate Cow properties.\nMoreInfo: I can't use generics (Vector< Cow >) so please don't point me there.  :)\nThanks in advance.\n<pluralcow>\n        <cow>\n            <color>black</color>\n            <age>1</age>\n        </cow>\n        <cow>\n            <color>brown</color>\n            <age>2</age>\n        </cow>\n        <cow>\n            <color>blue</color>\n            <age>3</age>\n        </cow>\n</pluralcow>\n\npublic class Handler extends DefaultHandler{\n    // vector to store all the cow knowledge\n    private Vector  m_CowVec;\n\n    // temp variable to store cow knowledge until\n    // we're ready to add it to the vector\n    private Cow     m_WorkingCow;\n\n    // flags to indicate when to look at char data\n    private boolean m_bColor;\n    private boolean m_bAge;\n\n    public void startElement(...tag...)\n    {\n        if(tag == pluralcow){   // rule: there is only 1 pluralcow tag in the doc\n                // I happen to magically know how many cows there are here.             \n                m_CowVec = new Vector(numcows);\n        }else if(tag == cow ){  // rule: multiple cow tags exist\n            m_WorkingCow = new Cow();\n        }else if(tag == color){ // rule: single color within cow\n            m_bColor = true;\n        }else if(tag == age){   // rule: single age within cow\n            m_bAge = true;\n        }\n    }\n\n    public void characters(...chars...)\n    {\n        if(m_bColor){\n            m_WorkingCow.setColor(chars);   \n        }else if(m_bAge){\n            m_WorkingCow.setAge(chars);\n        }\n    }\n\n    public void endElement(...tag...)\n    {\n        if(tag == pluralcow){\n            // that's all the cows\n        }else if(tag == cow ){\n            m_CowVec.addElement(m_WorkingCow);      \n        }else if(tag == color){\n            m_bColor = false;\n        }else if(tag == age){\n            m_bAge = false;\n        }\n    }\n}\n\n", "At what point would you create your own exception class vs. using java.lang.Exception? (All the time? Only if it will be used outside the package? Only if it must contain advanced logic? etc...)\n", "I'm working on an app which scrapes data from a website and I was wondering how I should go about getting the data.  Specifically I need data contained in a number of div tags which use a specific CSS class - Currently (for testing purposes) I'm just checking for \ndiv class = \"classname\"\n\nin each line of HTML - This works, but I can't help but feel there is a better solution out there.  \nIs there any nice way where I could give a class a line of HTML and have some nice methods like:\nboolean usesClass(String CSSClassname);\nString getText();\nString getLink();\n\n", "Similar to this question...\nWhat are the worst practices you actually found in Java code?\nMine are:\n\nusing instance variables in servlets (it's not just bad practice but bug, actually)\nusing Collection implementations like HashMap, and not using the appropriate interfaces\nusing seemingly cryptic class names like SmsMaker (SmsFactory) or CommEnvironment (CommunicationContext)\n\n", "Let's say I have the following ruby code :\n\ndef use_object(object)\n  puts object.some_method\nend\n\nand , this will work on any object that responds to some_method,right?\nAssuming that the following java interface exists :\n\ninterface TestInterface {\n   public String some_method();\n}\n\nAm I right to presume that interfaces are java's way to achieving the same thing ( with the only difference that the parameter's type would be TestInterface ) ?\n", "I want to ask  a small question..\nI need to write program that encrypt text with 32-bit algorithm using Java . so what is the appropriate package or library to do that   ?\nthanks for all\n", "Accidentally I may forget to describe some parameters or exception throwing (or something else) when documenting methods or classes, etc.\nIs it possible to run javadoc in such a way that it warns me about missing documentation items?\n(I use ant script for generating documentation)\n", "I've been running the built-in Ant from the command line on a Macintosh (10.5.5) and have run into some trouble with the Mail task. Running the Mail task produces the following message:\n[mail] Failed to initialise MIME mail: org.apache.tools.ant.taskdefs.email.MimeMailer\n\nThis is most likely due to a missing ant-javamail.jar file in the /usr/share/ant/lib directory. I see a \"ant-javamail-1.7.0.pom\" file in this directory but not the appropriate jar file. Anyone know why this jar file might be missing and what the best way to resolve the problem is?\n", "I would like to be able to fetch a web page's html and save it to a String, so I can do some processing on it.  Also, how could I handle various types of compression.\nHow would I go about doing that using Java?\n", "I have a java application that has Web Services published using Axis.\nWith the latest release one of the service methods in the WSDL is wrong.  It has a field in a complex type with double instead of an array of doubles.\nI've checked the src WSDL and the generated classes like the data object and the binding stub, but they are all correct.\nHowever, when I browse to the WSDL it is different.\nI can see other differences.  For example, the source is just a complex type with a sequence where the published version extends an abstract base.\nSo were is Websphere getting this other WSDL from?\n", "How do I call a url in order to process the results?\nI have a stand-alone reporting servlet which I link to for reports. I want to email these reports now, if I were doing this in the browser, I could just use an xhttprequest, and process the results - I basically want to do the same thing in Java, but I'm not sure how to go about it.\nUPDATE: I'm looking to get a file back from the url (whether that be a pdf or html etc).\nUPDATE: This will be running purely on the server - there is no request that triggers the emailing, rather it is a scheduled email.\n", "What's a simple/easy way to access the system clock using Java, so that I can calculate the elapsed time of an event?\n", "I am a complete JSP beginner.  I am trying to use a java.util.List in a JSP page.  What do I need to do to use classes other than ones in java.lang?\n", "During execution, how can a java program tell how much memory it is using?\nI don't care how efficient it is!\n", "I'm current developing a WebService in a Bea Websphere 6.1 environment with Axis 2 implementation, I'm trying to respect the current standards for Web Services (JAXB, JAXWS, StAX...).\nHow long can be an XML message on this platform? \nI've searched around but I haven't found anything related to this topic.\n", "I'm currently working on a project which needs to persist any kind of object (of which implementation we don't have any control) so these objects could be recovered afterwards. \nWe can't implement an ORM because we can't restrict the users of our library at development time.\nOur first alternative was to serialize it with the Java default serialization but we had a lot of trouble recovering the objects when the users started to pass different versions of the same object (attributes changed types, names, ...).\nWe have tried with the XMLEncoder class (transforms an object into a XML), but we have found that there is a lack of functionality (doesn't support Enums for example). \nFinally, we also tried JAXB but this impose our users to annotate their classes.\nAny good alternative?\n", "Is it possible to easily embed ActiveX controls in Java application? Is it worth it. In my next project I should either use existing activex in Java app or have to reimplement everything from scratch, so I'm wondering what will be less hassle.\n", "How does the event creation and handling work in Java Swing?\n", "My Program overrides public void paint(Graphics g, int x, int y); in order to draw some stings using g.drawString(someString, x+10, y+30);\nNow someString can be quite long and thus, it may not fit on one line.\nWhat is the best way to write the text on multiple line. For instance, in a rectangle (x1, y1, x2, y2)?\n", "I like to generate a thread dump programmatically. I've learned that there a basically two ways to do it:\n\nUse the \"Java Virtual Machine Tool Interface\" JVM-TI\nUse the higher abstracted \"Java Debugger Interface\" JDI\n\nFor the JVM-TI I was able to find some useful information, but I would have to write a JNI-DLL which, at least for the moment, I would like to avoid. With the JDI I can use Java and it seems I'm able to use it from within the application. But I wasn't able to find some kind of tutorial or HOWTO for it. The only documentation I could find, were the Java-Docs http://java.sun.com/j2se/1.5.0/docs/guide/jpda/jdi/ which isn't very helpful, because it doesn't show me how to use this classes.\nSo, does anybody know of a good tutorial/book I could read?\nThx for any help!\n", "Actually here is a similar topic with little practical value.\nAs far as I understand, primitives perform better and should be used everywhere except for the cases where Object-related features (e.g. null check) are needed. Right?\n", "I have an abstract Class Monitor.java which is subclassed by a Class EmailMonitor.java. \nThe method:\npublic abstract List<? extends MonitorAccount> performMonitor(List<? extends MonitorAccount> accounts)\n\nis defined in Monitor.java and must be overridden in EmailMonitor.java.\nI currently have the method overridden in EmailMonitor.java as follows:\n@Override\npublic List<EmailAccount> performMonitor(List<EmailAccount> emailAccounts) {\n    //...unrelated logic\n    return emailAccounts;\n}\n\nHowever, this produces the compile time error: \nName clash: The method performMonitor(List<EmailAccount>) of type EmailMonitor has the same erasure as performMonitor(Lis<? extends MonitorAccount> emailAccounts) of type Monitor but does not override it\nEmailAccount is a subclass of MonitorAccount, so (in my mind at least) overriding it in this way makes perfect sense. Seeing as the compiler is not happy with my logic though, How should I go about this correctly while still keeping my compile time checks to make sure that all calls to EmailMonitor.performMonitor() receive Lists of EmailAccount rather than some other type of MonitorAccount? \n\n", "I have heard from people who have switched either way and who swear by the one or the other.\nBeing a huge Eclipse fan but having not had the time to try out IntelliJ, I am interested in hearing from IntelliJ users who are \"ex-Eclipsians\" some specific things that you can do with IntelliJ that you can not do with Eclipse.\nNote: This is not a subjective question nor at all meant to turn into an IDE holy war. Please downvote any flamebait answers.\n", "I know that IntelliJ has an option to select all the code in a JSP file, right click, and select \"format\". This nicely formats all HTML, CSS, scriptlets and JSTL tags in a JSP file. \nCan Eclipse do this? \nIf not, what is the best free Eclipse plugin that does the same? \n", "I'm developing a SWT/JFace application using the libraries from Eclipse 3.4.1.\nI encounter the following problem on Windows (Vista 32bit) and Ubuntu 8.10 32bit:\nI create a menu bar in the createMenuManager method of the JFace ApplicationWindow. I add MenuManagers for file, edit and help.\nI then add an ExitAction to the file MenuManager like so:\nfilemenu.add(new ExitAction(this));\n\nThe ExitAction is defined this way:\npublic class ExitAction extends Action {\n  final ApplicationWindow window;\n\n  public ExitAction(ApplicationWindow w) {\n\n    this.window = w;\n    setText(\"E&xit\");\n    setToolTipText(\"Exit the application\");\n    setAccelerator(SWT.MOD1 + 'Q');    \n  }\n}\n\nNow when my application starts I want be able to press \"CTRL+Q\" to quit the application. This does however not work. Only AFTER I click on \"File\" in the menu bar and THEN clicking \"CTRL+Q\" the application will quit.\nI've tried this with different accelerators- same behavior.\nIt does work however if I create a \"MenuItem\" instead of an \"Action\" to contribute to the menu bar.\nIs this a SWT bug or do I miss something?\nTorsten.\n", "I am just getting into ibatis with SqlMap for the first time and I have run into a problem.  I have figured out how to insert, delete, update, and select single records.  Now however I am trying to write a select statement that will bring back more than a single record and I am getting mapping errors.  How do I specify that the result should be a List of my custom objects?\n", "Given the following java enum:\npublic enum AgeRange {\n\n   A18TO23 {\n        public String toString() {        \n            return \"18 - 23\";\n        }\n    },\n   A24TO29 {\n        public String toString() {        \n            return \"24 - 29\";\n        }\n    },\n   A30TO35 {\n        public String toString() {        \n            return \"30 - 35\";\n        }\n    },\n\n}\n\nIs there any way to convert a string value of \"18 - 23\"  to the corresponding enum value i.e. AgeRange.A18TO23  ?\nThanks!\n", "I am trying to upload files using the FileReference class. Files >2MB all work correctly but files <2MB cause this error: \"java.io.IOException: Corrupt form data: premature ending\"\nOn the server I am using the com.oreilly.servlet package to handle the request.\nI have used this package many times to successfully handle file uploads from flex, but for some reason, now I am having this problem.\nAny ideas?\nHere is the stack trace for some more info:\njava.io.IOException: Corrupt form data: premature ending\n    at com.oreilly.servlet.multipart.MultipartParser.<init>(MultipartParser.java:205)\n    at com.oreilly.servlet.MultipartRequest.<init>(MultipartRequest.java:222)\n    at com.oreilly.servlet.MultipartRequest.<init>(MultipartRequest.java:173)\n    at com.mydomain.FileUploadServlet.doPost(FileUploadServlet.java:46)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n    at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n    at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:414)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n\n\nUpdate:\nIt seems that there is a bug that exists when using com.orielly.servlet.MultipartRequest class and the org.apache.struts2.dispatcher.ActionContextCleanUp filter together. This is what was causing small file uploads to fail.\n", "I'm using the javax.mail system, and having problems with \"Invalid Address\" exceptions.  Here's the basics of the code:\n    // Get system properties\n    Properties props = System.getProperties();\n\n    // Setup mail server\n    props.put(\"mail.smtp.host\", m_sending_host);\n\n    // Get session\n    Session session = Session.getDefaultInstance(props, new Authenticator(){\n        @Override\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(m_sending_user, m_sending_pass);\n        }\n    });\n\n\n    // Define message\n    MimeMessage message = new MimeMessage(session);\n    message.setFrom(new InternetAddress(m_sending_from));\n    message.addRecipient(Message.RecipientType.TO, \n        new InternetAddress(vcea.get(i).emailaddr));\n    message.setSubject( replaceEnvVars(subject) );\n    message.setText(replaceEnvVars(body));\n\n    // Send message\n    try {\n        Transport.send(message);\n    } catch (Exception e){\n        Log.Error(\"Error sending e-mail to addr (%s): %s\",\n                vcea.get(i).emailaddr, e.getLocalizedMessage() );\n\n    }\n\nThe issue is that the above code does work, sometimes.  But for some e-mail addresses that I know to be valid (because I can send to them via a standard e-mail client), the above code will throw an \"Invalid Address\" exception when trying to send.\nAny clues or hints would be greatly appreciated.\n--Update: problem with authentication.\nOk, here's what I've discovered was going on.  When receiving e-mail, the code above correctly sets up authentication and the Authenticator.getPasswordAuthentication() callback is actually invoked.\nNot so when sending e-mail.  You have to do a bit more.  Add this:\n    // Setup mail server\n    props.put(\"mail.smtp.host\", m_sending_host);\n    props.put(\"mail.smtp.auth\", \"true\");\n\nwhich will force the javax.mail API to do the login authentication. And then use an actual Transport instance instead of the static .send() method:\n    Transport t = session.getTransport(m_sending_protocol);\n    t.connect(m_sending_user, m_sending_pass);\n\n...\n        // Send message\n        try {\n            t.sendMessage(message, message.getAllRecipients());\n        } catch (Exception e){\n\nWithout forcing the authentication, the mail server saw me as an unauthorized relay, and just shut me down.  The difference between the addresses that \"worked\" and the addresses that didn't was that the ones that \"worked\" were all local to the mail server.  Therefore, it simply accepted them.  But for any non-local \"relay\" addresses, it would reject the message because my authentication information hadn't been presented by the javax.mail API when I thought it would have.\nThanks for the clues to prompt me to look at the mail server side of things as well.\n", "I'd like something like a generic, re-usable getPosition() method that will tell me the number of bytes read from the starting point of the stream.  Ideally, I would prefer this to work with all InputStreams, so that I don't have to wrap each and every one of them as I get them from disparate sources.\nDoes such a beast exist?  If not, can anyone recommend an existing implementation of a counting InputStream?\n", "I have a string from an email header, like Date: Mon, 27 Oct 2008 08:33:29 -0700. What I need is an instance of GregorianCalendar, that will represent the same moment. As easy as that -- how do I do it?\nAnd for the fastest ones -- this is not going to work properly:\nSimpleDateFormat format = ... // whatever you want\nDate date = format.parse(myString)\nGregorianCalendar calendar = new GregorianCalendar();\ncalendar.setTime(date)\n\nbecause it will normalize the timezone to UTC (or your local machine time, depending on Java version). What I need is calendar.getTimeZone().getRawOffset() to return -7 * milisInAnHour.\n", "Is there a good way to remove HTML from a Java string?  A simple regex like \n replaceAll(\"\\\\<.*?>\",\"\") \n\nwill work, but things like &amp; wont be converted correctly and non-HTML between the two angle brackets will be removed (i.e. the .*? in the regex will disappear).  \n", "I am trying to do a search in my Eclipse (Java) workspace to find all instances of static variables that are not final.\nI tried various regexes but they do not result in any matches. Can someone suggest a regex that will match all lines containing static and not containing final, and not ending in a {?\nThe last part about not ending with a { will eliminate static methods.\nAn example:\npublic class FlagOffendingStatics {\n  private static String shouldBeFlagged = \"not ok\";\n  private static final String ok = \"this is fine\";\n  public static void methodsAreOK() {\n\n  }\n}\n\n", "I have to create the sin function from scratch in my Comp Sci class, and I am getting close to a solution. However, I am still having a few problems. If I put in a value of .5PI or less it works, but otherwise I get the incorrect result. Here is the code I have so far:\ndouble i=1;\ndouble sinSoFar = 0;\nint term = 1;\nwhile(i >= .000001)\n{\n    i = pow(-1, term + 1) * pow(sinOf, 2*term-1) / factorial(2*term-1);\n    sinSoFar=sinSoFar + i;\n    term++;\n}\n\n", "I'm having a small problem in Java. I have an interface called Modifiable. Objects implementing this interface are Modifiable.\nI also have a ModifyCommand class (with the Command pattern) that receive two Modifiable objects (to swap them in a list further on - that's not my question, I designed that solution already).\nThe ModifyCommand class starts by making clones of the Modifiable objects. Logically, I made my Modifiable interface extends Cloneable. The interface then defines a clone() method that its implementing classes must redefine.\nThen, in ModifyCommand, I can do : firstModifiableObject.clone(). My logic is that classes implementing Modifiable will have to redefine the clone method from Object, as they will be Cloneable (that's what I want to do).\nThe thing is, when I define classes implements Modifiable and I want to override clone(), it won't let me, stating that the clone() method from the Object class hides the one from Modifiable.\nWhat should I do? I'm under the impression that \"I'm doing it wrong\"...\nThanks,\nGuillaume.\nEdit : it think I will forget the clone() thing. I will either a) assume that the object passed to the Modifiable object (implementing the interface) is already cloned or b) make another method called, for example, copy(), that would basically do a deep-copy of the Modifiable object (or maybe the Generic solution will work...).\n", "Is there some way to get a value from the last inserted row?\nI am inserting a row where the PK will automatically increase, and I would like to get this PK. Only the PK is guaranteed to be unique in the table.\nI am using Java with a JDBC and PostgreSQL.\n", "I have a very simple Java RMI Server that looks like the following:\n    import java.rmi.*;\n    import java.rmi.server.*;\n\n    public class CalculatorImpl extends UnicastRemoteObject implements Calculator {\n\n        private String mServerName;\n\n        public CalculatorImpl(String serverName) throws RemoteException\n        {\n            super();\n            mServerName = serverName;\n        }\n\n        public int calculate(int op1, int op2) throws RemoteException\n        {\n            return op1 + op2;\n        }\n\n        public void exit() throws RemoteException\n        {\n            try{\n                Naming.unbind(mServerName);\n                System.out.println(\"CalculatorServer exiting.\");\n            }\n            catch(Exception e){}\n\n            System.exit(1);\n        }\n\n        public static void main(String args[]) throws Exception\n        {\n            System.out.println(\"Initializing CalculatorServer.\");\n\n            String serverObjName = \"rmi://localhost/Calculator\";\n\n            Calculator calc = new CalculatorImpl(serverObjName);\n\n            Naming.rebind(serverObjName, calc);\n\n            System.out.println(\"CalculatorServer running.\");\n        }\n}\n\nWhen I call the exit method, System.exit(1) throws the following exception:\nCalculatorServer exiting.\njava.rmi.UnmarshalException: Error unmarshaling return header; nested exception is:\n        java.io.EOFException\n        at sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:203)\n        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:126)\n        at CalculatorImpl_Stub.exit(Unknown Source)\n        at CalculatorClient.<init>(CalculatorClient.java:17)\n        at CalculatorClient.main(CalculatorClient.java:29)\nCaused by: java.io.EOFException\n        at java.io.DataInputStream.readByte(DataInputStream.java:243)\n        at sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:189)\n        ... 4 more\n[2]+  Exit 1                  java CalculatorImpl\n\nWhat am I doing wrong in this method?\n", "I have some Java code that uses curly braces in two ways\n// Curly braces attached to an 'if' statement:\nif(node.getId() != null)\n{\n    node.getId().apply(this);\n}\n\n// Curly braces by themselves:\n{\n    List<PExp> copy = new ArrayList<PExp>(node.getArgs());\n    for(PExp e : copy)\n    {\n        e.apply(this);\n    }\n}\noutAMethodExp(node);\n\nWhat do those stand-alone curly braces after the first if statement mean?\n", "I'd like to write a MessageConverter class that can wrap another MessageConverter. This MessageConverter would call the child converter, which is assumed to generate a TextMessage. It would take the payload and GZIP compress it, creating a BytesMessage which is ultimately returned to the sender.\nThe problem is in writing fromMessage(). I can convert the payload back into the string, but then I want to create a \"dummy\" TextMessage to stuff the string into to then pass to the child MessageConverter's fromMessage() method. There I'm hitting a brick wall because I can't create a TextMessage without a JMS session object, and it appears that there is no way at all to get a session in this context.\nI could create additional properties to wire up more stuff to this class, but it doesn't look like I can easily even obtain a session from a JMSTemplate object, and I can't imagine what else I'd need to have.\nI am on the verge of creating a private TextMessage implementation within this code just for the purpose of wrapping a string for the child MessageConverter. That class will require tons of dummy methods to flesh out the Interface, and all of that typing makes baby Jesus cry.\nCan anyone suggest a better way?\n", "what is the naming convention for message bundle property files when using variants?\nfor instance, if the locale is EN US, the property file lookup will be\nmessage_en_US.properties\nthough, what if I instantiate a local EN US though the variant string is \"DEVL\"\nwhat is the search order?\n", "I was wondering if I could pop up JOptionPanes or other Swing components from within a browser using JSP.\n", "What is the best way to manage a database connection in a Java servlet?\nCurrently, I simply open a connection in the init() function, and then close it in destroy(). \nHowever, I am concerned that \"permanently\" holding onto a database connection could be a bad thing. \nIs this the correct way to handle this?  If not, what are some better options?\nedit: to give a bit more clarification: I have tried simply opening/closing a new connection for each request, but with testing I've seen performance issues due to creating too many connections.\nIs there any value in sharing a connection over multiple requests?   The requests for this application are almost all \"read-only\" and come fairly rapidly (although the data requested is fairly small).\n", "I am extending a class defined in a library which I cannot change:\npublic class Parent\n{\n    public void init(Map properties) { ... }\n}\n\nIf I am defining a class 'Child' that extends Parent and I am using Java 6 with generics, what is the best way to override the init method without getting unchecked warnings?\npublic class Child extends Parent\n{\n    // warning: Map is a raw type. References to generic type Map<K,V> should be parameterized\n    public void init(Map properties) { }\n}\n\nIf I add generic parameters, I get:\n   // error: The method init(Map<Object,Object>) of type Child has the same erasure as init(Map) of type Parent but does not override it\n   public void init(Map<Object,Object>) { ... }\n   // same error\n   public void init(Map<? extends Object,? extends Object>) { ... }\n   // same error\n   public void init(Map<?,?>) { ... }\n\nThis error occurs regardless of whether I use a specific type, a bounded wildcard, or an unbounded wildcard. Is there a correct or idiomatic way to override a non-generic method without warnings, and without using @SuppressWarnings(\"unchecked\")?\n", "I am writing a desktop application written in Swing developed using Java 1.5. Some of the users seem to be using Mac, but I am interested in Java 6's scripting feature (Java 6 ships with Rhino). Java 6, although it came out almost 2 years ago, doesn't seem to be widely in use. I also hear Apple ships Java 6 only for Intel 64 Macs only. Is Java 1.5 the last Java that runs everywhere?\nIs Java 6 ready for end-user desktop application now? If not now, when?\nEdit: \nDon't get too hung up on the fact that I am using Swing. I would like to know when Java 6 can be considered ready for prime time, not the choice of UI library.\n", "I'm trying to do an image capture on a high end Nokia phone (N95).  The phone's internal camera is very good (4 megapixels) but in j2me I only seem to be able to get a maximum of 1360x1020 image out.  I drew largely from this example http://developers.sun.com/mobility/midp/articles/picture/\nWhat I did was start with 640x480 and increase the width and height by 80 and 60, respectively until it failed.  The line of code is:\njpg = mVideoControl.getSnapshot(\"encoding=jpeg&quality=100&width=\" + width + \"&height=\" + height);\nSo the two issues are:\n 1.  The phone throws an exception when getting an image larger than 1360x1020.\n 2.  The higher resolution images appear to be just smoothed versions of the smaller ones. E.g. When I take a 640x480 image and increase it in photoshop I can't tell the difference between this and one that's supposedly 1360x1020.\nIs this a limitation of j2me on the phone?  If so does anyone know of a way to get a higher resolution from within a j2me application and/or how to access the native camera from within another application?\n", "Is there a way to get the directory of a project in Eclipse?  We are writing a plugin that will allow the user to select files, and then run some processes on those files.  I would ideally like to be able to get all the files with a certain extension, but that is not necessary.\n", "In Java, we can always use an array to store object reference. Then we have an ArrayList or HashTable which is automatically expandable to store objects. But does anyone know a native way to have an auto-expandable array of object references?\nEdit: What I mean is I want to know if the Java API has some class with the ability to store references to objects (but not storing the actual object like XXXList or HashTable do) AND the ability of auto-expansion.\n", "I always hear that programmers try to pick the right tool for the job.  I've never programmed in Java, so I was wondering What are its benefits?  Why is it so popular?  What should I use it for?\nI just program recreationally.  Is there anything about it that makes it particularly fun??\n", "I have a little pet web app project I'd like to show someone who doesn't have an application server themselves (and who has no clue about application servers).\nWhat is the easiest and quickest way for them to get my WAR file running with zero configuration, preferably something I could send along with or bundle with the WAR file? Is there a slimmed down version of Jetty, for example? Something else?\n", "I have a long URL with tons of parameters that I want to open in the default browser from Java on a Windows system using\nRuntime.getRuntime().exec(\"rundll32 url.dll,FileProtocolHandler \"+url)\n\nFor short URLs like \"http://www.google.com\" this works fine. But for long URLs (say, 2000 characters), this simply does absolutely nothing at all: no exception or anything of the sort, it is simply ignored.\nIs there a character limit a) for a Runtime.exec command or b) for the rundll32 url.dll command? If so, what is the limit?\n", "I need to write a regular expression that finds javascript files that match  \n<anypath><slash>js<slash><anything>.js\n\nFor example, it should work for both :\n\nc:\\mysite\\js\\common.js (Windows)\n/var/www/mysite/js/common.js (UNIX)\n\nThe problem is that the file separator in Windows is not being properly escaped :\npattern = Pattern.compile(\n     \"^(.+?)\" + \n     File.separator +\n     \"js\" +\n     File.separator +\n     \"(.+?).js$\" );\n\nThrowing  \njava.util.regex.PatternSyntaxException: Illegal/unsupported escape sequence\n\nIs there any way to use a common regular expression that works in both Windows and UNIX systems ?\n", "I am new to Swing.\nAre there any specific issues related to customizing the paint operation on the Mac?\nI have developed a sample application using NetBeans + Swing on Windows. It is working fine. But if I run the same application on a Mac, panels' buttons' labels don't appear on the screen. Only when the mouse over operation is performed on particular component does it get displayed on the screen.\nKindly can anyone help me out in solving this issue?\nThanks in advance.\nsakkiharry\n", "Is it possible in plain JPA or JPA+Hibernate extensions to declare a composite key, where an element of the composite key is a sequence?\nThis is my composite class:\n@Embeddable\npublic class IntegrationEJBPk implements Serializable {\n\n    //...\n\n\n    @ManyToOne(cascade = {}, fetch = FetchType.EAGER)\n    @JoinColumn(name = \"APPLICATION\")\n    public ApplicationEJB getApplication() {\n        return application;\n    }\n\n\n    @Column(name = \"ENTITY\", unique = false, nullable = false, insertable = true, updatable = true)\n    public String getEntity() {\n        return entity;\n    }\n\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = \"INTEGRATION_ID_GEN\")\n    @SequenceGenerator(name = \"INTEGRATION_ID_GEN\", sequenceName = \"OMP_INTEGRATION_CANONICAL_SEQ\")\n    @Column(name = \"CANONICAL_ID\", unique = false, nullable = false, insertable = true, updatable = true)\n    public String getCanonicalId() {\n        return canonicalId;\n    }\n\n    @Column(name = \"NATIVE_ID\", unique = false, nullable = false, insertable = true, updatable = true)\n    public String getNativeId() {\n        return nativeId;\n    }\n\n    @Column(name = \"NATIVE_KEY\", unique = false, nullable = false, insertable = true, updatable = true)\n    public String getNativeKey() {\n        return nativeKey;\n    }\n\n    //...\n}\n\nI already supply the values for application, entity, nativeId and nativeKey. I want to construct an entity like the one below:\nIntegrationEJB i1 = new IntegrationEJB();\ni1.setIntegrationId(new IntegrationEJBPk());\ni1.getIntegrationId().setApplication(app1);\ni1.getIntegrationId().setEntity(\"Entity\");\ni1.getIntegrationId().setNativeId(\"Nid\");\ni1.getIntegrationId().setNativeKey(\"NK\");\n\nAnd when I call em.persist(i1), I want that the canonicalId is generated and the integration is inserted.\nIs this possible? If so, what's the simple way? (I prefer not to use application-provided keys or native sql).\n", "What does Java do with long variables while performing addition?\nWrong version 1:\nVector speeds = ... //whatever, speeds.size() returns 2\nlong estimated = 1l;\nlong time = speeds.size() + estimated; // time = 21; string concatenation??\n\nWrong version 2:\nVector speeds = ... //whatever, speeds.size() returns 2\nlong estimated = 1l;\nlong time = estimated + speeds.size(); // time = 12; string concatenation??\n\nCorrect version:\nVector speeds = ... //whatever, speeds.size() returns 2\nlong estimated = 1l;\nlong size = speeds.size();\nlong time = size + estimated; // time = 3; correct\n\nI don't get it, why Java concatenate them.\nCan anybody help me, why two primitive variables are concatenated?\nGreetings, guerda\n", "is there a way to configure WebSphere Portal to accept AJP connections? \nE.g. Tomcat/JBoss and Oracle have a specific AJP port. I can't find it in WebSphere, and I'm getting tired of Googlin' around IBM pages.\nThank you in forward...\nBalint\n", "I have a unit test where I have statically defined a quite large byte array (over 8000 bytes) as the byte data of a file I don't want to read every time I run my unit test.\nprivate static final byte[] FILE_DATA = new byte[] {\n12,-2,123,................\n}\n\nThis compiles fine within Eclipse, but when compiling via Ant script I get the following error:\n[javac] C:\\workspace\\CCUnitTest\\src\\UnitTest.java:72: code too large\n[javac]     private static final byte[] FILE_DATA = new byte[] {\n[javac]                                 ^\n\nAny ideas why and how I can avoid this?\n\nAnswer: Shimi's answer did the trick. I moved the byte array out to a separate class and it compiled fine. Thanks!\n", "I'm trying to integrate against a SOAP web service, running on Apache Axis. The WSDL specifies a namespace with a URI, that looks like:\n<xsd:schema\n  xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n  xmlns:stns=\"java:dk.tdc.serviceproviderweb.datatypes\"\n  elementFormDefault=\"qualified\"\n  attributeFormDefault=\"qualified\"\n  targetNamespace=\"java:dk.tdc.serviceproviderweb.datatypes\">\n\nOn the client-side, I'm using PHP, so the namespace xmlns:stns is meaningless. I have some Java class files (and their sources), that seems to correspond to this namespace. How do I handle this in a meaningful way?\n", "I think in this case there is no need to declare a public constructor since the class is not accessible outside the package anyway. But is there some hidden impact when the class has only package private constructor?\n", "I'm launching a Weblogic application inside Eclipse via the BEA Weblogic Server v9.2 runtime environment. If this were running straight from the command-line, I'd do a ctrl-BREAK to force a thread dump. Is there a way to do it in Eclipse?\n", "Does everyone just use XML in the message? Are there any good alternatives to XML?  If you do use XML, do you define an XML Schema so clients know how to send messages to your service?\n", "I need to set the fetch mode on my hibernate mappings to be eager in some cases, and lazy in others. I have my default (set through the hbm file) as lazy=\"true\". How do I override this setting in code? MyClass has a set defined of type MyClass2 for which I want to set the FetchMode to EAGER.\nCurrently, I have something like:\nSession s = HibernateUtil.getSessionFactory().openSession();\nMyClass c = (MyClass)session.get(MyClass.class, myClassID);\n\n", "How can I find out which row in a JTable the user just clicked?\n", "I got dtd in file and I cant remove it. When i try to parse it in Java I get \"Caused by: java.net.SocketException: Network is unreachable: connect\", because its remote dtd. can I disable somehow dtd checking?\n", "do you know any not strict xpath for java? (I want it to not check dtd and schema) and it would be cool if it dont care about correct xml.\n", "Looking through some code I came across the following code\ntrTuDocPackTypdBd.update(TrTuDocPackTypeDto.class.cast(packDto));\n\nand I'd like to know if casting this way has any advantages over \ntrTuDocPackTypdBd.update((TrTuDocPackTypeDto)packDto);\n\nI've asked the developer responsible and he said he used it because it was new (which doesn't seem like a particularly good reason to me), but I'm intrigued when I would want to use the method.\n", "I'm using a third-party library that returns \"XML\" that is not valid, because it contains invalid characters, as well as non-declared entities.  I need to use a Java XML parser to parse this XML, but it's choking.\nIs there a generic way to sanitize this XML so that it becomes valid?\n", "When I create a zip Archive via java.util.zip.*, is there a way to split the resulting archive in multiple volumes?  \nLet's say my overall archive has a filesize of 24 MB and I want to split it into 3 files on a limit of 10 MB per file.\nIs there a zip API which has this feature? Or any other nice ways to achieve this?\nThanks\nThollsten\n", "Just for my own purposes, I'm trying to build a tokenizer in Java where I can define a regular grammar and have it tokenize input based on that. The StringTokenizer class is deprecated, and I've found a couple functions in Scanner that hint towards what I want to do, but no luck yet. Anyone know a good way of going about this?\n", "Can anoyne recommend a good library that will let me easily read/write private member fields of a class? I was looking through apache commons, but couldnt see it. I must be getting blind ?\nEdit: Asking questions on the border of legalities always give these questions of \"why\"? I am writing several javarebel plugins for hotswapping classes. Accessing private variables is only step 1, I might even have to replace implementations of some methods.\n", "I need to resize PNG, JPEG and GIF files. How can I do this using Java?\n", "For example:\npublic void doSomething() {\n\n    final double MIN_INTEREST = 0.0;\n\n    // ...  \n}\n\nPersonally, I would rather see these substitution constants declared statically at the class level.\nI suppose I'm looking for an \"industry viewpoint\" on the matter.\n", "I have a standalone Java app that has some licensing code that I want to secure, i.e., prevent users from changing my software to circumvent the licensing.  What is the best way to do this?  \nI've looked at obfuscation, but that entails all sorts of problems: reflection, serialization, messed-up stack traces, etc.  Perhaps jar signing could be a solution?  But how do I verify the jar at runtime?  And how do I ensure that the user doesn't change the jar verification code?\n", "For the computer game I'm making, I obviously want to play sound. So far, I've been using AudioClip to play WAV files. While this approach works fine, the WAV files tend to be gigantic. A few seconds of sound end up being hundreds of kB. I'm faced with having a game download that's 95% audio!\nThe obvious option here would be to use MP3 or Ogg Vorbis. But I've had limited success with this - I can play MP3 using JLayer (but it plays in the same thread). As for Ogg, I've had no luck at all. Worse, JLayer's legal status is a bit on the dubious side.\nSo my question is to both Java developers and generally people who actually know something about sound: What do I do? Can I somehow \"trim the fat\" off my WAVs? Is there some way of playing Ogg in Java? Is there some other sound format I should use instead?\n", "Developing a heavily XML-based Java-application, I recently encountered an interesting problem on Ubuntu Linux.\nMy application, using the Java Plugin Framework, appears unable to convert a dom4j-created XML document to Batik's implementation of the SVG specification.\nOn the console, I learn that an error occurs:\n\nException in thread \"AWT-EventQueue-0\" java.lang.LinkageError: loader constraint violation in interface itable initialization: when resolving method \"org.apache.batik.dom.svg.SVGOMDocument.createAttribute(Ljava/lang/String;)Lorg/w3c/dom/Attr;\" the class loader (instance of org/java/plugin/standard/StandardPluginClassLoader) of the current class, org/apache/batik/dom/svg/SVGOMDocument, and the class loader (instance of <bootloader>) for interface org/w3c/dom/Document have different Class objects for the type org/w3c/dom/Attr used in the signature\n    at org.apache.batik.dom.svg.SVGDOMImplementation.createDocument(SVGDOMImplementation.java:149)\n    at org.dom4j.io.DOMWriter.createDomDocument(DOMWriter.java:361)\n    at org.dom4j.io.DOMWriter.write(DOMWriter.java:138)\n\nI figure that the problem is caused by a conflict between the original classloader from the JVM and the classloader deployed by the plugin framework.\nTo my knowledge, it's not possible to specify a classloader for the framework to use. It might be possible to hack it, but I would prefer a less aggressive approach to solving this problem, since (for whatever reason) it only occurs on Linux systems.\nHas one of you encountered such a problem and has any idea how to fix it or at least get to the core of the issue?\n", "I have a certain POJO which needs to be persisted on a database, current design specifies its field as a single string column, and adding additional fields to the table is not an option.\nMeaning, the objects need to be serialized in some way. So just for the basic implementation I went and designed my own serialized form of the object which meant concatenating all it's fields into one nice string, separated by a delimiter I chose. But this is rather ugly, and can cause problems, say if one of the fields contains my delimiter.\nSo I tried basic Java serialization, but from a basic test I conducted, this somehow becomes a very costly operation (building a ByteArrayOutputStream, an ObjectOutputStream, and so on, same for the deserialization).\nSo what are my options? What is the preferred way for serializing objects to go on a database?\nEdit: this is going to be a very common operation in my project, so overhead must be kept to a minimum, and performance is crucial. Also, third-party solutions are nice, but irrelevant (and usually generate overhead which I am trying to avoid)\n", "What's the difference between JavaScript and Java?\n", "I'm building an application in Java to retrieve data from MySQL database. After executing a query I get a ResultSet and do the following to extract records:\nwhile (rs.next())\n        {\n            for (int column = 1; column <= rm.getColumnCount(); column++) {\n                row.add(rs.getObject(column));\n            }\n            result.add(row.toString());\n            row.clear();\n        }\n\nwhere rs = ResultSet and rm = ResultSetMetaData\nThe problem is that I have to do result.add(row.toString()); rather than just result.add(row); (with which I'd like to create a two-dimensional ArrayList). Otherwise I get empty results.\nI have tried putting row.clear(); at the beginning, before the for loop, but that results in all my results being filled with multiple instances of the last record. Just like row was not added to the result until the very end, when it's equal to the last record. Do I need to \"commit\" the ArrayList row before adding it as an elemt to another ArrayList? If so, how? \nAlso, out of curiosity, why is .toString() working differently?\n", "I'd love a good native Python library to write XLS, but it doesn't seem to exist.  Happily, Jython does.\nSo I'm trying to decide between jexcelapi and Apache HSSF:\nhttp://www.andykhan.com/jexcelapi/tutorial.html#writing\nhttp://poi.apache.org/hssf/quick-guide.html\n(I can't use COM automation because I'm not on Windows, and even if I was, I couldn't afford Office licenses.)\nMy initial thoughts are that POI/HSSF is very thorough, but also very Java-- everything seems a bit harder than it needs to be.  Good documentation, but my head hurts trying to bridge the gap between what it describes and what I need to accomplish.\njexcepapi seems to have a simpler, nicer (for me) interface, but doesn't have very good documentation or community.\nWhich would you use, and why?\n", "Is there a pure-Java equivalent to <jsp:forward page=\"...\" /> that I can use within a <% ... %> block?\nFor example, I currently have a JSP page something like this:\n<%\n    String errorMessage = SomeClass.getInstance().doSomething();\n    if (errorMessage != null) {\n        session.setAttribute(\"error\", errorMessage);\n%>\n<jsp:forward page=\"error.jsp\" />\n<%\n    } else {\n        String url = response.encodeRedirectURL(\"index.jsp\");\n        response.sendRedirect(url);\n    }\n%>\n\nHaving to break the <% ... %> block to use the jsp:forward is ugly and makes it harder to read due to indentation, among other things.\nSo, can I do the forward in the Java code without use the JSP tag?\nSomething like this would be ideal:\n<%\n    String errorMessage = SomeClass.getInstance().doSomething();\n    if (errorMessage != null) {\n        session.setAttribute(\"error\", errorMessage);\n        someObject.forward(\"error.jsp\");\n    } else {\n        String url = response.encodeRedirectURL(\"index.jsp\");\n        response.sendRedirect(url);\n    }\n%>\n\n", "Is there an efficient way to create a file with a given size in Java?\nIn C it can be done with ftruncate (see that answer). \nMost people would just write n dummy bytes into the file, but there must be a faster way. I'm thinking of ftruncate and also of Sparse files\u2026\n", "I'm pretty new to the idea of recursion and this is actually my first attempt at writing a recursive method. \nI tried to implement a recursive function Max that passes an array, along with a variable that holds the array's size in order to print the largest element. \nIt works, but it just doesn't feel right!\nI have also noticed that I seem to use the static modifier much more than my classmates in general...\nCan anybody please provide any general tips as well as feedback as to how I can improve my code?\npublic class RecursiveTry{\n\nstatic int[] n = new int[] {1,2,4,3,3,32,100};\nstatic int current = 0;\nstatic int maxValue = 0;\nstatic int SIZE = n.length;\n\npublic static void main(String[] args){\n    System.out.println(Max(n, SIZE));\n}   \n\npublic static int Max(int[] n, int SIZE) {\n    if(current <= SIZE - 1){\n        if (maxValue <= n[current]) {\n            maxValue = n[current];\n            current++;\n            Max(n, SIZE);                       \n        }\n        else {\n            current++;\n            Max(n, SIZE);\n        }\n    }\n    return maxValue;\n}\n\n}\n", "I'm currently developping an application in java using Hibernate as a persistence manager and JPA as an abstraction of the persistence manage hibernate. \nI'd like to know the impact of wrapping a result query around a transaction. I know the entity manager must stay open for lazily fetched field bug what about transaction in all this ?\nHere is a code example with transaction activation/desactivation ability.\npublic List<Exportdata> get(Integer max, EntityManager em, Boolean withTransaction) {\n    EntityTransaction tx = null;\n    try {\n        if (withTransaction) {\n            tx = em.getTransaction();\n            tx.begin();\n        }\n\n        Query query = em.createQuery(\"from Exportdata\");\n        query.setMaxResults(10);\n        List<Exportdata> list = query.getResultList();\n\n        if (withTransaction)\n            tx.commit();\n\n        return list;\n    } catch (RuntimeException re) {\n        if (withTransaction)\n            if (tx != null && tx.isActive())\n                tx.rollback();\n\n        throw re;\n    }\n}\n\nWhat is the difference between enabling or disabling withTransaction when this function is called ?\nThanks all,\nFred\n", "I have recently discovered the incredibly useful Eclipse Memory Analysis Tool, which makes quick work of finding memory leaks in Java applications.  Unfortunately, after switching my JDK to 1.6 (under Mac OS 10.5), the JVM terminates immediately upon startup.  All that appears is a dialog stating \"JVM terminated\" with \"Exit code = -1\".\nAnyone else encounter this one? Perhaps there is a way to configure it to use a different JDK?  (such as 1.5: which it was shown to be compatible with)\n", "I have a custom cell renderer set in JTable and it works but instead an \"x\" visible on buttons being table cells I see \"...\" (three dots). What did I miss ??\n  /***************************************************************************\n * Listener reaguj\u0105cy na dodanie nowej warto\u015bci\n **************************************************************************/\nprivate static class ButtonRenderer extends JButton implements\n        TableCellRenderer {\n    /***********************************************************************\n     * Konstruktor\n     **********************************************************************/\n    public ButtonRenderer() {\n        super(\"x\");\n    }\n\n    /***********************************************************************\n     * @see TableCellRenderer#getTableCellRendererComponent(JTable, Object,\n     *      boolean, boolean, int, int)\n     **********************************************************************/\n    public Component getTableCellRendererComponent(JTable table,\n            Object value, boolean isSelected, boolean hasFocus, int row,\n            int column) {\n        return this;\n    }\n\n}\n\n", "I have an oc4j installation bereft of any release notes or version documentation. In the absence of such documents, how do I know for sure, which version of oc4j I am using?\n", "What do you usually use to connect to a Web Service when you are developing a Java project?\nThere are different API-s that can do the job.\nFrom different books and tutorials I have read about: JAX-WS, JAXB, JAXM, JAXR, JAX-RPC, Axis ans so on.\nI'm interested in what exactly are you using and how much? Take this as a survey if you wish :)\n", "If I make a JFrame like this\npublic static void main(String[] args) {\n\n     new JFrame().setVisible(true);\n}\n\nthen after closing the window the appication doesn't stop (I need to kill it).\nWhat is the proper way of showing application's main windows ?\nI'd also like to know a reason of a proposed solution.\nThanks in advance.\n", "The problem is quite basic. I have a JTable showing cached data from a database. If a user clicks in a cell for editing, I want to attempt a lock on that row in the database. If the lock does not succeed, I want to prevent editing.\nBut I can't seem to find any clean way to accomplish this. Am I missing something?\n", "Is there some library for using some sort of cursor over a file? I have to read big files, but can't afford to read them all at once into memory. I'm aware of java.nio, but I want to use a higher level API.\nA little backgrond: I have a tool written in GWT that analyzes submitted xml documents and then pretty prints the xml, among other things. Currently I'm writing the pretty printed xml to a temp file (my lib would throw me an OOMException if I use plain Strings), but the temp file's size are approaching 18 megs, I can't afford to respond a GWT RPC with 18 megs :)\nSo I can have a widget to show only a portion of the xml (check this example), but I need to read the corresponding portion of the file.\n", "Currently there are 2 pages in a jsp file: one of them displays the data and the second one is used for pagination. The task is to include exactly the same paginator table above the data table. Sorry, couldn't resist to draw it :)\n|-----------------------------------------|\n|                      Page 2 of 200  < > |\n|-----------------------------------------|\n|-----------------------------------------|\n|   Some weird business data comes here   |\n|-----------------------------------------|\n|-----------------------------------------|\n|                      Page 2 of 200  < > |\n|-----------------------------------------|\n\nThe question is: how do I do it w/o shameless copypasting?\n", "I would like to be able to emulate the functionality of the \"Presenter Tools\" in MS Office.  This requires the program to be able to detect and use an external/secondary monitor/projector.\nCould somebody please point me in the right direction for achieving this.\nI would like to use Java 1.5\nThankyou.\n", "In C# there is the static property Environment.Newline that changed depending on the running platform.\nIs there anything similar in Java?\n", "I've recently been lifted out of the .Net world into the Java world and I miss my unit tests.\nUsing Visual Studio I used NUnit and TestDriven.net to run my unit tests.\nWhat is a comparable system for Java Using Eclipse?\nI'm looking specifically for the plugins that will get me going, or a guide on how to do it.\nI'm aware that JUnit is what NUnit was initially based on, but I want to know the best way to integrate it into Eclipse as there seem to be a few plugins that do this and I don't have the time to play around with them all.\nUPDATE\nOkay I didn't know that JUnit was built into the IDE. Are there any plugins that make using JUnit any easier?\n", "How can I transform a String value into an InputStreamReader?\n", "I have a JAX-RPC (Java) web service that needs to return a complex polymorphic value.  To be more specific, the class structure is something like this:\nabstract class Child {\n}\n\nclass Question extends Child {\n    private String name;\n    // other fields, getters, and setters\n}\n\nclass Section extends Child {\n    private String label;\n    private Child[] children;\n    // getters and setters\n}\n\nclass Quiz {\n    private Child[] elements;\n    // getter and setter\n}\n\nMy web service has a method that returns a Quiz, which of course may contain Questions and Sections which may contain Questions and other Sections, and so on and so forth.  However, when I generate the WSDL, only Child and Quiz make it in.  When I call the web service, I get back a Quiz element with the right number of children, but they're all Child elements, and they're all empty.\nIs there a good way to make this work, short of just returning XML as a String?\nBefore anyone asks, due to circumstances beyond my control, I cannot use JAX-WS.\n", "I'm in the process of writing a piece of code that connects to a server spawns a bunch of threads using that connection and does a bunch of \"stuff\".\nThere are certain instances where the connection fails and I need to stop everything and start from scratch with a new object.\nI wanted to clean up after the object but calling thread.stop on the threads, but this method is seemingly deprecated.\nWhat is the recommended alternative to doing this? Should I write my own cleanup and exit method for each of the threads? Set the thread to null? or something else? \n", "I have a plugin for OpenFire that creates and delivers a message to a user using\nXMPPServer.getInstance().getMessageRouter().route(message)\n\nWhat I would like to know is what happens to that message if the user is not online.  \nMy goal is to only have the message delivered if the user is online, and fail or be routed to the bit bucket otherwise.\n", "I have a java app that works with an EJB, however if:\n\nThe EJB gets updated, the app is broken.\nThe app server is updated, the app is broken.\n\nWithout human involvement, is there a preferred method to update the client jars for the app server and bean?\nIf there preferred method depends on the app server, then assume jboss.\n", "Connection.close() may throw SqlException, but I have always assumed that it is safe to ignore any such exceptions (and I have never seen code that does not ignore them). \nNormally I would write:\n try{\n    connection.close();\n }catch(Exception e) {}\n\nOr \n try{\n    connection.close();\n }catch(Exception e) {\n     logger.log(e.getMessage(), e); \n }\n\nThe question is:\n\nIs it bad practice (and has anyone had problems when ignoring such exceptions).\nWhen Connection.close() does throw any exception.  \nIf it is bad how should I handle the exception. \n\nComment: \nI know that discarding exceptions is evil, but I'm reffering only to exceptions thrown when closing a connection (and as I've seen this is fairly common in this case). \nDoes anyone know when Connection.close() may throw anything? \n", "What's better practice when defining several methods that return the same shape of data with different filters? Explicit method names or overloaded methods?\nFor example. If I have some Products and I'm pulling from a database\nexplicit way:\npublic List<Product> GetProduct(int productId) {    // return a List    }\npublic List<Product> GetProductByCategory(Category category) {    // return a List    }\npublic List<Product> GetProductByName(string Name ) {    // return a List    }\n\noverloaded way:\npublic List<Product> GetProducts() {    // return a List of all products    }\npublic List<Product> GetProducts(Category category) { // return a List by Category }\npublic List<Product> GetProducts(string searchString ) { // return a List by search string }\n\nI realize you may get into a problem with similar signatures, but if you're passing objects instead of base types (string, int, char, DateTime, etc) this will be less of an issue.  So... is it a good idea to overload a method to reduce the number of methods you have and for clarity, or should each method that filters the data a different way have a different method name?\n", "I'm busy with an asignment where i have to make a graphical interface for a simple program. But i'm strugling with the layout.\nThis is the idea:\nLayout Example http://www.freeimagehosting.net/uploads/6efb4b544f.png\nWhat is the easiest way to accomplish such a layout?\nAnd what method do you use to make layouts in java. Just code it, or use an IDE like netbeans?\n", "I have some thread-related questions, assuming the following code.  Please ignore the possible inefficiency of the code, I'm only interested in the thread part.\n//code without thread use\npublic static int getNextPrime(int from) {\n    int nextPrime = from+1;\n    boolean superPrime = false;\n    while(!superPrime) {\n        boolean prime = true;\n        for(int i = 2;i &lt nextPrime;i++) {\n            if(nextPrime % i == 0) {\n                prime = false;\n            }\n        }\n        if(prime) {\n            superPrime = true;\n        } else {\n            nextPrime++;\n        }\n    }\n    return nextPrime;\n}\n\npublic static void main(String[] args) {\n   int primeStart = 5;\n   ArrayList list = new ArrayList();\n   for(int i = 0;i &lt 10000;i++) {\n       list.add(primeStart);\n       primeStart = getNextPrime(primeStart);\n   }\n}\n\nIf I'm running the code like this and it takes about 56 seconds. If, however, I have the following code (as an alternative):\npublic class PrimeRunnable implements Runnable {\n\n    private int from;\n    private int lastPrime;\n\n    public PrimeRunnable(int from) {\n        this.from = from;\n    }\n\n    public boolean isPrime(int number) {\n        for(int i = 2;i &lt from;i++) {\n            if((number % i) == 0) {\n                return false;\n            }\n        }\n        lastPrime = number;\n        return true;\n    }\n\n    public int getLastPrime() {\n        return lastPrime;\n    }\n\n    public void run() {\n        while(!isPrime(++from))\n            ;\n    }\n}\n\npublic static void main(String[] args) {\n   int primeStart = 5;\n   ArrayList list = new ArrayList();\n   for(int i = 0;i &lt 10000;i++) {\n     PrimeRunnable pr = new PrimeRunnable(primeStart);\n     Thread t = new Thread(pr);\n     t.start();\n     t.join();\n     primeStart = pr.getLastPrime();\n     list.add(primeStart);\n   }\n}\n\nThe whole operation takes about 7 seconds. I am almost certain that even though I only create one thread at a time, a thread doesn't always finish when another is created. Is that right? I am also curious: why is the operation ending so fast?\nWhen I'm joining a thread, do other threads keep running in the background, or is the joined thread the only one that's running?\n", "Question\nI have an application written in Java.  It is designed to run on a Linux box standalone.  I am trying to spawn a new firefox window.  However, firefox never opens.  It always has a shell exit code of 1.  I can run this same code with gnome-terminal and it opens fine.\nBackground\nSo, here is its initialization process:\n\nStart X \"Xorg :1 -br -terminate -dpms -quiet vt7\"\nStart Window Manager \"metacity --display=:1 --replace\"\nConfigure resources \"xrdb -merge /etc/X11/Xresources\"\nBecome a daemon and disconnect from controlling terminal\n\nOnce the program is up an running, there is a button the user can click that should spawn a firefox window.  Here is my code to do that.  Remember X is running on display :1.\nCode\n\npublic boolean openBrowser()\n{\n  try {\n    Process oProc = Runtime.getRuntime().exec( \"/usr/bin/firefox --display=:1\" );\n    int bExit = oProc.waitFor();  // This is always 1 for some reason\n\n    return true;\n\n  } catch ( Exception e ) {\n    oLogger.log( Level.WARNING, \"Open Browser\", e );\n    return false;\n  }\n}\n\n", "I have a Spring MVC web app which uses Spring Security.  I want to know the username of the currently logged in user.  I'm using the code snippet given below .  Is this the accepted way?  \nI don't like having a call to a static method inside this controller - that defeats the whole purpose of Spring, IMHO.  Is there a way to configure the app to have the current SecurityContext, or current Authentication, injected instead?  \n  @RequestMapping(method = RequestMethod.GET)\n  public ModelAndView showResults(final HttpServletRequest request...) {\n    final String currentUser = SecurityContextHolder.getContext().getAuthentication().getName();\n    ...\n  }\n\n", "Are there any plugins/tools available to go through the classpath of an eclipse project (or workspace) and highlight any unused jars?\n", "I am looking to parse a URL to obtain a collection of the querystring parameters in Java. To be clear, I need to parse a given URL(or string value of a URL object), not the URL from a servlet request. \nIt looks as if the javax.servlet.http.HttpUtils.parseQueryString method would be the obvious choice, but it has been deprecated.\nIs there an alternative method that I am missing, or has it just been deprecated without an equivalent replacement/enhanced function?\n", "I mean other than using it when required for functions, classes, if, while, switch, try-catch.\nI didn't know that it could be done like this until I saw this SO question.\nIn the above link, Eli mentioned that \"They use it to fold up their code in logical sections that don't fall into a function, class, loop, etc. that would usually be folded up.\"\nWhat other uses are there besides those mentioned? \nIs it a good idea to use curly braces to limit the scope of your variables and expand the scope only if required (working on a \"need-to-access\" basis)? Or is it actually silly? \nHow about using scopes just so that you can use the same variable names in different scopes but in the same bigger scope? Or is it a better practise to reuse the same variable (if you want to use the same variable name) and save on deallocating and allocating (I think some compilers can optimise on this?)? Or is it better to use different variable names altogether?\n", "I would like to implement a command line interface for a Java application. This wouldn't be too difficult to do, except I would like the command line program to affect the state of another Java GUI program. So for example, I could type:\njava CliMain arg1 arg2\n\nAnd another running GUI instance would perform an appropriate action.\nWhat is the easiest way of implementing something like this?\n", "'''use Jython'''\n\nimport shutil\n\nprint dir(shutil)\n\nThere is no, shutil.move, how does one move a file with Jython?\nand while we at it, how does one delete a file with Jython?\n", "FindBugs has found a potential bug in my code. But it is not a bug.\nIs it possible to mark this occurrence as 'not a bug' AND have it removed from the bug list?\nI have documented quite clearly why for each case it is not a bug.\nFor example. A class implements the comparable interface. it has the compareTo method. I have however not overridden the equals method.\nFindBugs does not like this as the JavaDocs state that it is recommended that\n(x.compareTo(y)==0) == (x.equals(y))\n\nAlthough in my case the above condition is and always will be true.\n", "Already implemented performance boosters :\n- Get compatible image of GraphicsConfiguration to draw on\n- Enable OpenGL pipeline in 1.5: Not possible due to severe artifacts\nSo far I am fine, the main profiled bottleneck of the program is drawing an image with several thousand tiles. Unfortunately it is not regular, else I simply could set pixels\nand scale them.\nI accerelated the image with VolatileImages and own rendering routines (ignore repaint and draw it itself with a timer). The result was pleasing and would suffice, BUT:\nChoosing a JMenu which hovers normally over the part of the image is severely disturbed because the JMenu is overdrawn. Inacceptable and the layout couldn't be changed.\nI tried the GLJPanel of JOGL, but there is no visible performance improvement.\nSo is there a possibitlity to use VolatileImages (or other accerelated lightweighted components like GLCanvas) and still get normal JMenu display and if yes, how ? \n", "Basically the subject says it all: We have a couple of components running on Java 5, they're talking to each other via RMI. Should we expect any problems, if we move some of them to Java6? By moving I mean compiling them with -source/target 1.6 and running on a java6 vm.\n", "I was wondering if in Java I would get any odd behaviour if I synchronise twice on the same object?\nThe scenario is as follows\npulbic class SillyClassName {\n\n    object moo;\n    ...\n    public void method1(){\n        synchronized(moo)\n        {\n            ....\n            method2();\n            ....\n        }\n    }\n\n    public void method2(){\n        synchronized(moo)\n        {\n            doStuff();\n        }\n    }\n}\n\nBoth methods use the object and are synchronised on it. Will the second method when called by the first method stop because it's locked?\nI don't think so because it's the same thread but I'm unsure of any other odd results that might occur.\n", "The java.net.InetAddress.GetByName(String host) method can only return A records so to lookup other record types I need to be able to send DNS queries using the dnsjava library.\nHowever that normally relies on being able to parse /etc/resolv.conf or similar to find the DNS server addresses and that doesn't work on Android.\nThe current DNS settings on Android can apparently only be obtained from within a shell by using the getprop command.\nCan anyone tell me how to get those settings from Java other than by spawning a shell with Runtime.exec() and parsing the output from getprop?\n", "Wanted to generate a UI diagram (with nice layout) depicting relationships amongst network components. Which is the best Java based API to do such layouts with minimum fuss and light codebase.\n", "I have the following legacy code:\npublic class MyLegacyClass\n{\n    private static final String jndiName = \"java:comp/env/jdbc/LegacyDataSource\"\n\n    public static SomeLegacyClass doSomeLegacyStuff(SomeOtherLegacyClass legacyObj)\n    {\n       // do stuff using jndiName\n    }\n}\n\nThis class is working in a J2EE-Container.\nNow I would like to test the class outside of the container.\nWhat is the best strategy?\nRefactoring is basically allowed.\nAccessing the LegacyDataSource is allowed (the test does not have to be a \"pure\" unit-test).\nEDIT: Introducing additional runtime-frameworks is not allowed.\n", "I have an application that I'm trying to wrap into a jar for easier deployment.  The application compiles and runs fine (in a Windows cmd window) when run as a set of classes reachable from the CLASSPATH.  But when I jar up my classes and try to run it with java 1.6 in the same cmd window, I start getting exceptions:\nC:\\dev\\myapp\\src\\common\\datagen>C:/apps/jdk1.6.0_07/bin/java.exe -classpath C:\\myapp\\libs\\commons -logging-1.1.jar -server -jar DataGen.jar\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\n    at com.example.myapp.fomc.common.datagen.DataGenerationTest.<clinit>(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:200)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:276)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n    at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)\n    ... 1 more\n\nThe funny thing is, the offending LogFactory seems to be in commons-logging-1.1.jar, which is in the class path specified.  The jar file (yep, it's really there):\nC:\\dev\\myapp\\src\\common\\datagen>dir C:\\myapp\\libs\\commons-logging-1.1.jar\n Volume in drive C is Local Disk\n Volume Serial Number is ECCD-A6A7\n\n Directory of C:\\myapp\\libs\n\n12/11/2007  11:46 AM            52,915 commons-logging-1.1.jar\n           1 File(s)         52,915 bytes\n           0 Dir(s)  10,956,947,456 bytes free\n\nThe contents of the commons-logging-1.1.jar file:\nC:\\dev\\myapp\\src\\common\\datagen>jar -tf C:\\myapp\\libs\\commons-logging-1.1.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\norg/\norg/apache/\norg/apache/commons/\norg/apache/commons/logging/\norg/apache/commons/logging/impl/\nMETA-INF/LICENSE.txt\nMETA-INF/NOTICE.txt\norg/apache/commons/logging/Log.class\norg/apache/commons/logging/LogConfigurationException.class\norg/apache/commons/logging/LogFactory$1.class\norg/apache/commons/logging/LogFactory$2.class\norg/apache/commons/logging/LogFactory$3.class\norg/apache/commons/logging/LogFactory$4.class\norg/apache/commons/logging/LogFactory$5.class\norg/apache/commons/logging/LogFactory.class\n... (more classes in commons-logging-1.1 ...)\n\nYep, commons-logging has the LogFactory class.  And finally, the contents of my jar's manifest:\nManifest-Version: 1.0\nAnt-Version: Apache Ant 1.6.5\nCreated-By: 10.0-b23 (Sun Microsystems Inc.)\nMain-Class: com.example.myapp.fomc.common.datagen.DataGenerationTest\nClass-Path: commons-logging-1.1.jar commons-lang.jar antlr.jar toplink\n .jar GroboTestingJUnit-1.2.1-core.jar junit.jar\n\nThis has stumped me, and any coworkers I've bugged for more than a day now.  Just to cull the answers, for now at least, third party solutions to this are probably out due to licensing restrictions and company policies (e.g.: tools for creating exe's or packaging up jars).  The ultimate goal is to create a jar that can be copied from my development Windows box to a Linux server (with any dependent jars) and used to populate a database (so classpaths may wind up being different between development and deployment environments).  Any clues to this mystery would be greatly appreciated!\n", "I'm working on cusomizing a Swing application by dynamically altering the UIDefaults. The end goal is to alter many of them (colors, fonts, sizes, borders, etc) and save the result on a per user basis. While it may give the application some non-standard looks, the client asketh and the client shall receive.\nThe only problem I'm running into is that GUI will only update ONCE. The first time I change a ui property everthing is great, subsequent changes don't affect anything.\n// called from the EDT\n// uiKeyName points to some ColorUIResource\nUIManager.getDefaults().put(uiKeyName, <<color from color picker>>);\nSwingUtilties.updateComponentTreeUI(rootWindow);\n\nIt works once, but never again. Ideas?\n", "I see many different Java terms floating around.  I need to install the JDK 1.6.  It was my understanding that Java 6 == Java 1.6.  However, when I install Java SE 6, I get a JVM that reports as version 11.0!  Who can solve the madness?\n", "I am working in Java on a fairly large project.  My question is about how to best structure the set of Properties for my application.\nApproach 1:  Have some static Properties object that's accessible by every class.  (Disadvantages: then, some classes lose their generality should they be taken out of the context of the application; they also require explicit calls to some static object that is located in a different class and may in the future disappear; it just doesn't feel right, am I wrong?)\nApproach 2:  Have the Properties be instantiated by the main class and handed down to the other application classes.  (Disadvantages: you end up passing a pointer to the Properties object to almost every class and it seems to become very redundant and cumbersome; I don't like it.)\nAny suggestions?\n", "My company, a C++ house, is always looking to hire recent grads. However due to the Java Schools phenomenon, we typically end up interviewing strong Java programmers with maybe a minute smattering of C++. Often the C++ classes don't really prepare students for working in C++. Nevertheless, often these are bright kids, eager to learn and do their best.\nEvery interview, I struggle with this fundamental question: \nHow hard is it to turn a \"Java School\" programmer into a C or  C++ programmer? Has your company had experience turning the stereotypical \"Java Schools\" programmer into a strong C++ programmer? Is it worth the effort?\nOne of the reasons I struggle with this is not just due to a C or C++ vs Java language difference, it's the fundamental skills that come with learning C or C++ that I think often get lost at the Java School. These include data structures, computational complexity, manual memory management, really everything Joel Spolsky says here.\nOften, as far as I can tell, a student will have some of those fundamental skills (be able to answer a few questions), but I'll still have this large part of my mind that's extremely skeptical with how well someone can learn these skills without getting their hands dirty in some C or C++. Maybe I need to be disabused of this stereotype. Am I just being unfair?\nAnyway whats your experience with turning the \"Java School\" programmer into a C or C++ programmer?\n", "I noticed the specificaition for Collections.sort:\npublic static <T> void sort(List<T> list, Comparator<? super T> c)\n\nWhy is the \"? super\" necessary here?  If ClassB extends ClassA, then wouldn't we have a guarantee that a Comparator<ClassA> would be able to compare two ClassB objects anyway, without the \"? super\" part?\nIn other words, given this code:\nList<ClassB> list = . . . ;\nComparator<ClassA> comp = . . . ;\nCollections.sort(list, comp);\n\nwhy isn't the compiler smart enough to know that this is OK even without specifying \"? super\" for the declaration of Collections.sort()?\n", "How do I discover classes at runtime in the classpath which implements a defined interface?\nServiceLoader suits well (I think, I haven't used it), but I need do it in Java 1.5.\n", "I want to get the size of a drive (or UNC path pointing to a partition would be nice, but not required), as well as free space for said drive (or UNC path).  This doesn't need to work cross platform; only in Windows.\nI know it's easy to do in Java 6, but that's not an option; I'm stuck with Java 5.\nI can get the free space available by doing:\n\ncmd.exe /c Z:\\ /-c\nor\ncmd.exe /c \\\\server\\share /-c\n\nand just parsing out the resulting bytes free.  However I can't seem to find a way to get the total drive size.\nAny suggestions?\n", "I'm in the process of developing a multi-tiered financial processing application in Java using EJB3 (Hibernate + Glassfish for the app and web services layer, Lift on Glassfish for the web UI) and I'm struggling with the question of where to put my business logic.\nWhen this project started, our first notion was to put the bulk of our business logic into the stateless session beans. As time has gone on, though, we've found the dependency injection provided by the EJB framework too limiting, so a lot of our business logic has ended up in POJOs that are assembled by Guice in the @PostConstruct method of the stateless session beans. This progress has led to fragmentation of our business logic between the session beans and the POJOs, and I'm trying to figure out an approach for correcting this.\nInitially, we tried to have our web tier use the remote interfaces of the session beans to perform some functions that are accessible both from the UI and from the web service layer, which is provided by @WebService-annotated stateless session beans. This turned out to be a nightmare from a persistence and performance perspective, because our entity graph can grow quite large and reattaching the detached entity graph to the persistence context turned out to be highly error-prone, so our solution was to start just passing object identifiers around and looking up the entities from the database wherever they were needed.\nMy basic question is this: what principles and guidelines can you suggest for deciding whether business logic should go in a session bean or a POJO? When does it make sense to pass entity beans around, given a complex object graph?\n", "One of our customers wants to be able to enter a date with only 2 digits for the year component. The date will be in the past, so we want it to work for the previous century if the 2 digit year is after the current year, but work for the current century if the 2 digit year is equal to or less than the current year.\nas of today 10/30/2008\n01/01/01 = 01/01/2001\n01/01/09 = 01/01/1909\nThis is a strange requirement, and I solved the problem, I just don't like my solution.\nIt feels like there is a better way to do this.\nThanks for the help.\npublic static String stupidDate(String dateString)\n{\n    String twoDigitYear = StringUtils.right(dateString, 2);\n    String newDate = StringUtils.left(dateString, dateString.length() - 2);\n    int year = NumberUtils.toInt(twoDigitYear);\n    Calendar c = GregorianCalendar.getInstance();\n    int centuryInt = c.get(Calendar.YEAR) - year;\n    newDate = newDate + StringUtils.left(Integer.toString(centuryInt), 2) + twoDigitYear;\n    return newDate;\n}\n\n", "We've had an ongoing need here that I can't figure out how to address using the stock Maven 2 tools and documentation.\nSome of our developers have some very long running JUnit tests (usually stress tests) that under no circumstances should be run as a regular part of the build process / nightly build.\nOf course we can use the surefire plugin's exclusion mechanism and just punt them from the build, but ideally we'd love something that would allow the developer to run them at will through Maven 2.\n", "I use eclipse to work on an application which was originally created independently of eclipse.  As such, the application's directory structure is decidedly not eclipse-friendly.\nI want to programmatically generate a project for the application.  The .project and .classpath files are easy enough to figure out, and I've learned that projects are stored in the workspace under <workspace>/.metadata/.plugins/org.eclipse.core.resources/.projects\nUnfortunately, some of the files under here (particularly .location) seem to be encoded in some kind of binary format.  On a hunch I tried to deserialize it using ObjectInputStream - no dice.  So it doesn't appear to be a serialized java object.\nMy question is: is there a way to generate these files automatically?\nFor the curious, the error I get trying to deserialize the .location file is the following:\njava.io.StreamCorruptedException: java.io.StreamCorruptedException: invalid stream header: 40B18B81\nUpdate: My goal here is to be able to replace the New Java Project wizard with a command-line script or program.  The reason is the application in question is actually a very large J2EE/weblogic application, which I like to break down into a largish (nearly 20) collection of subprojects.  Complicating matters, we use clearcase for SCM and create a new branch for every release.  This means I need to recreate these projects for every development view (branch) I create.  This happens often enough to automate.\n", "For a very simple ajax name lookup, I'm sending an id from the client webpage to the server (Tomcat 5.5, Java 5), looking it up in a database and returning a string, which is assigned to a javascript variable back in the client (and then displayed).\nThe javascript code that receives the value is pretty standard:\n//client code - javascript\nxmlHttp.onreadystatechange=function() {\n    if (xmlHttp.readyState==4) {\n        var result = xmlHttp.responseText;\n        alert(result);\n        ...\n    }\n    ...\n}\n\nTo return the string, I originally had this in the server:\n//server code - java\nmyString = \"...\";\nout.write(myString.getBytes(\"UTF-8\"));\n\nWhich worked perfectly, if unsafe. Later, I replaced it with:\nimport org.apache.commons.lang.StringEscapeUtils;\n...\nmyString = \"...\";\nout.write(StringEscapeUtils.escapeJavaScript(myString).getBytes(\"UTF-8\"));\n\nBut while safer, the resulting string can't be properly displayed if it contains special chars like \"\u00f1\".\nFor instance, using:\nescapeJavaScript(\"a\u00f1os\").getBytes(\"UTF-8\");\n\nsends:\nan\\u00F1os\n\nto the client.\nThe question: is there a simple way to parse the resulting string in Javascript or is there an alternate escape function I can use in java that would prevent this issue?\n", "I'm trying to compile the examples that come with activemq\nin apache-activemq-5.1.0\\example\\src\\\nTopicPublisher.java, CommandLineSupport.java\non compiling thru netbeans it has some referencing problems saying javax.jms does not exist.\nI've tried the j2ee.jar, openjms, sun jms but they all give the same error.\nits also complaining about org.apache.activemq.util does not exist but I'm referencing activemq-all-5.1.0.jar.\nnote: all other references to external jars are working fine\nany ideas?\nEdit: the jars needed to be referenced are\nactivemq-core-5.1.0.jar\ngeronimo-jms_1.1_spec-1.1.1.jar\ncommons-logging-1.1.jar\ngeronimo-j2ee-management_1.0_spec-1.0.jar\n\nthey're in the activemq binary dist in the lib folder\n", "I have a couple of questions about generic wildcards in Java:\n\nWhat is the difference between List<? extends T> and List<? super T>?\nWhat is a bounded wildcard and what is an unbounded wildcard?\n\n", "Lucene is an excellent search engine, but the .NET version is behind the official Java release (latest stable .NET release is 2.0, but the latest Java Lucene version is 2.4, which has more features).\nHow do you get around this?\n", "I have a MySQL database behind a firewall which can only be accessed via an SSH connection. Does anyone know of an implementation of java.sql.Connection which would allow me to make an SSH connection to this database?\n", "The code at the end produces a compile error:\nNotApplicable.java:7: run() in  cannot be applied to (int)\n                run(42);\n                ^\n1 error\n\nThe question is why?  Why does javac think I am calling run(), and does not find run(int bar)?  It correctly called foo(int bar).  Why do I have to use NotApplicable.this.run(42);?  Is it a bug?\npublic class NotApplicable {\n\n    public NotApplicable() {\n        new Runnable() {\n            public void run() {\n                foo(42);\n                run(42);\n                // uncomment below to fix\n                //NotApplicable.this.run(42);\n            }\n        };\n    }\n\n    private void run(int bar) {\n    }\n\n    public void foo(int bar) {\n    }\n}\n\n", "I've got some generic class for my JPA model POJO that goes like this:\npublic interface Identifiable<PK extends Serializable> {\n    PK getUniqueId();\n}\n\npublic interface GenericDao<T extends Identifiable<PK>> {\n    public T findById(PK id);\n}\n\nThis code won't compile. For this to work, I need to specify \npublic interface GenericDao<T extends Identifiable<PK>, PK extends Serializable> \n\nBut that's redundant information !! The fact that T extends Identifiable imply that a PK type will be specified for the Identifiable instance and that this is the type to use for the DAO's PK. \nHow can I make this work without redundant information ?\nThanks, Fred\n\nEdit: Simplified example\n", "Is it possible to have something like a JTextArea which will color some keywords based on some mappings I have ?\n", "How do you change the CLASSPATH of a Java process from within the Java process?\n\nBefore you ask me \"Why would you want to do that?\" I'll explain it shortly. \n\nWhen you have a Clojure REPL running it is common to need more jars in your CLASSPATH to load a Clojure source file, and I'd like to do it without having to restart Clojure itself (which is not really an option when using it on Slime on Emacs).\n\nThat's the reason but I don't want this question tagged as some-weird-language some-weird-editor and be disregarded by the majority of Java developers that may have the answer.\n", "I'm addicted to Vim, it's now my de facto way of editing text files.\nBeing that it's mainly a text editor and not an IDE, has anyone got tricks for me to make it easier when developing Java apps?\nSome questions I have:\n\nHow do I invoke a maven task without leaving vi?\nCan I get code completion?\nHow's the syntax highlighting?\n\nAnything else (other than \"Don't do it!\") that I should know about?\n", "I'm using Jython to write tests for a Java project.\nIt works well, but I can't figure how to get access to a \njava public nested class.\npackage mypackage;\n\npublic class NyClass {\n    public class MyNestedClass {\n         ...\n    }\n}\n\nDoes somebody knows how to do this?\n", "I have now 1gb ram at work(i hope that will change soon) and jboss takes almost half of it and that is too much, i turned off logging to file, what more can i do to reduce memory usage ?\n", "I have an interface - here's a nicely contrived version as an example:\npublic interface Particle {\n\n    enum Charge {\n        POSITIVE, NEGATIVE\n    }\n\n    Charge getCharge();\n\n    double getMass();\n\n    etc...\n}\n\nIs there any difference in how implementations of this would behave if I defined the Charge enum as static - i.e. does this have any effect:\npublic interface Particle {\n\n    static enum Charge {\n        POSITIVE, NEGATIVE\n    }\n\n    Charge getCharge();\n\n    double getMass();\n\n    etc...\n}\n\n", "I'm having trouble getting the right number of elements in the ArrayList alt in the JSP page below. When I view the JSP it shows the size is 1 (<%=alt.size()%>) when it should be 3; I think I'm adding that method to the array in the generator class, so I don't understand why it's showing 1.\nThis is my jsp page:\n<%\n   ArrayList<Alert> a = AlertGenerator.getAlert();\n   pageContext.setAttribute(\"alt\", a);\n%>\n   <c:forEach var=\"alert\" items=\"${alt}\" varStatus=\"status\" >\n      <p>You have <%=alt.size()%> Active Alert(s)</p>\n      <ul>\n      <li><a href=\"#\" class=\"linkthree\">${alert.alert1}</a></li>\n      <li><a href=\"#\" class=\"linkthree\">${alert.alert2}</a></li>\n      <li><a href=\"#\" class=\"linkthree\">${alert.alert3}</a></li>\n      </ul>\n  </c:forEach>\n\nThis is class that generates the alerts:\npackage com.cg.mock;\n\nimport java.util.ArrayList;\n\npublic class AlertGenerator {\n\n    public static ArrayList<Alert> getAlert() {\n\n        ArrayList<Alert> alt = new ArrayList<Alert>();\n\n        alt.add(new Alert(\"alert1\",\"alert2\",\"alert3\"));\n\n        return alt;\n    }\n\n}\n\nThis is my bean class:\npackage com.cg.mock;\n\npublic class Alert {\n    String alert1;\n    String alert2;\n    String alert3;\n    public Alert(String alert1, String alert2,String alert3) {\n        super();\n        this.alert1 = alert1;\n        this.alert2 = alert2;\n        this.alert3 = alert3;\n    }\n    public String getAlert1() {\n        return alert1;\n    }\n    public void setAlert1(String alert1) {\n        this.alert1 = alert1;\n    }\n    public String getAlert2() {\n        return alert2;\n    }\n    public void setAlert2(String alert2) {\n        this.alert2 = alert2;\n    }\n    public String getAlert3() {\n        return alert3;\n    }\n    public void setAlert3(String alert3) {\n        this.alert3 = alert3;\n    }\n\n}\n\n", "I was looking at the Java code for LinkedList and noticed that it made use of a static nested class, Entry.\npublic class LinkedList<E> ... {\n...\n\n private static class Entry<E> { ... }\n\n}\n\nWhat is the reason for using a static nested class, rather than an normal inner class?\nThe only reason I could think of, was that Entry doesn't have access to instance variables, so from an OOP point of view it has better encapsulation. \nBut I thought there might be other reasons, maybe performance. What might it be?\nNote. I hope I have got my terms correct, I would have called it a static inner class, but I think this is wrong: http://java.sun.com/docs/books/tutorial/java/javaOO/nested.html\n", "I've recently started using code coverage tools (particularily Emma and EclEmma), and I really like the view that it gives me as to the completeness of my unit tests - and the ability to see what areas of the code my unit tests aren't hitting at all. I currently work in an organization that doesn't do a lot of unit testing, and I plan on really pushing everyone to take on unit testing and code coverage and TDD and hopefully convert the organization.\nOne issue that I'm unsure of with this subject is exactly how far I should take my code coverage. For example, if I have a class such as this:\n//this class is meant as a pseudo-enum - I'm stuck on Java 1.4 for time being\npublic final class BillingUnit {\n\n    public final static BillingUnit MONTH = new BillingUnit(\"month\");\n    public final static BillingUnit YEAR = new BillingUnit(\"year\");\n\n    private String value;\n\n    private BillingUnit(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return this.value;\n    }\n\n    public boolean equals(Object obj) {\n        return value.equals(((BillingUnit) obj).getValue());\n\n    }\n\n    public int hashCode() {\n        return value.hashCode();\n    }\n}\n\nI wrote some simple unit tests to make sure that equals() works correctly, that getValue() returns what I expected, etc. But thanks to the visual nature of EclEmma, the hashcode() method shows up as bright red for \"not tested\".\nIs it worthwhile to even bother to test hashCode(), in this example, considering how simple the implementation is? I feel like I would be adding a unit test for this method simply to bump the code coverage % up, and get rid of the glaring red highlight that EclEmma adds to these lines.\nMaybe I'm being neurotic and OCD-like, but I find that using something like EclEmma that makes it so easy to see what is untested - the plugin highlights the source code in red, and covered code in green - really makes me want to push to get as many classes 100% green as a I can - even when it doesn't add much of a benefit.\n", "I'm trying to generate code coverage reports with EMMA using tests of which some use JMockit as a mocking framework. For the most part, it works, but a few of my tests crash with a ClassFormatError, like so:\njava.lang.ClassFormatError\n    at sun.instrument.InstrumentationImpl.redefineClasses0(Native Method)\n    at sun.instrument.InstrumentationImpl.redefineClasses(InstrumentationImpl.java:79)\n    at mockit.internal.RedefinitionEngine.redefineMethods(RedefinitionEngine.java:138)\n    at mockit.internal.RedefinitionEngine.redefineMethods(RedefinitionEngine.java:73)\n    at mockit.Mockit.setUpMocks(Mockit.java:177)\n    at test.my.UnitTest.setUpBeforeClass(UnitTest.java:21)\n\nAny idea what is going on, and whether I can fix the problem? Or are EMMA and JMockit mutually exclusive?\n", "I'm looking for a KDTree implementation in Java.\nI've done a google search and the results seem pretty haphazard. There are actually lots of results, but they're mostly just little one-off implementations, and I'd rather find something with a little more \"production value\". Something like apache collections or the excellent C5 collection library for .NET. Something where I can see the public bug tracker and check to see when the last SVN commit happened. Also, in an ideal world, I'd find a nice well-designed API for spatial data structures, and the KDTree would be just one class in that library.\nFor this project, I'll only be working in either 2 or 3 dimensions, and I'm mostly just interested in a good nearest-neighbors implementation.\n", "I have an application which has to live as a service, I create an object which then spawns off a buch of threads.\nIf I set the only reference to that object to null will all the child threads get cleaned up? or will I suffer from a memory leak.\nDo I have to explicitly terminate all the child threads?\n", "I am using the WMD markdown editor in a project for a large number of fields that correspond to a large number of properties in a large number of Entity classes. Some classes may have multiple properties that require the markdown.\nI am storing the markdown itself since this makes it easier to edit the fields later. However, I need to convert the properties to HTML for display later on. The question is: is there some pattern that I can use to avoid writing markdown conversion code in all my entity classes?\nI created a utility class with a method that accepts a markdown string and returns the HTML. I am using markdownj and this works fine.\nThe problem is for each property of each class that stores markdown I may need another method that converts to HTML:\npublic class Course{\n\n     private String description;\n     .\n     .\n     .\n     public String getDescription(){\n          return description;\n     }\n\n     public String getDescriptionAsHTML(){\n          return MarkdownUtil.convert(getDescription());\n     }\n     .\n     .\n     .\n }\n\nThe problem there is that if the Course class has 2 more properties Tuition and Prerequisites say, that both need converters then I will have to write getTuitionAsHTML() and getPrerequisiteAsHTML().\nI find that a bit ugly and would like a cleaner solution. The classes that require this are not part of a single inheritance hierarchy. \nThe other option I am considering is doing this in the controller rather than the model. What are your thoughts on this? \nThanks.\n[EDIT]: New thoughts (Thanks Jasper). Since the project uses struts2 (I did not say this before) I could create a view component say  that will convert the markdown for me. Then I use that wherever I need to display the value as HTML.\n", "We're seeing JTable selection get cleared when we do a fireTableDataChanged() or fireTableRowsUpdated() from the TableModel.\nIs this expected, or are we doing something wrong?  I didn't see any property on the JTable (or other related classes) about clearing/preserving selection on model updates.\nIf this is default behavior, is there a good way to prevent this?  Maybe some way to \"lock\" the selection before the update and unlock after?\nThe developer has been experimenting with saving the selection before the update and re-applying it.  It's a little slow.\nThis is Java 1.4.2 on Windows XP, if that matters.  We're limited to that version based on some vendor code we use.\n", "This question is a follow up to:\nWhy can\u2019t I call a method outside of an anonymous class of the same name\nThis previous question answer why, but now I want to know if javac should find run(int bar)?  (See previous question to see why run(42) fails)\nIf it shouldn't, is it due to a spec?  Does it produce ambiguous code?  My point is, I think this is a bug.  While the previous question explained why this code fails to compile, I feel it should compile if javac searched higher in the tree if it fails to find a match at the current level.  IE.  If this.run() does not match, it should automatically check NotApplicable.this for a run method.\nAlso note that foo(int bar) is correctly found.  If you give any reason why run(int bar) shouldn't be found, it must also explain why foo(int bar) is found.\npublic class NotApplicable {\n\n    public NotApplicable() {\n        new Runnable() {\n            public void run() {\n\n                // this works just fine, it automatically used NotApplicable.this when it couldn't find this.foo\n                foo(42);\n\n                // this fails to compile, javac find this.run(), and it does not match\n                run(42);\n\n                // to force javac to find run(int bar) you must use the following\n                //NotApplicable.this.run(42);\n            }\n        };\n    }\n\n    private void run(int bar) {\n    }\n\n    public void foo(int bar) {\n    }\n}\n\n", "First off, I know next to nothing about language theory, and I barely know any other languages except Java, but I had an idea that I think would be cool, but I need you guys to tell me:\na: why it sucks\nb: how language x has had that for years\nc: how my mind sucks\nd: all of the above\nThe idea would give composition the same ease of code reuse that extends does. \nSo if you had a class like this:\n\npublic interface A {  \n    public void methodInA();  \n}\n\nAnd then you had a class like this:\n\npublic class B {  \n    private composed A;\n    public B() {\n        // construct A within constructor\n    }\n}\n\nYou would then be able to do this:\n\nB myB = new B();\nmyB.methodInA();\n\nWithout having to add in the delegation in B's class. But you could also do the same as with inheritance, ie:\n\n@Overrides\npublic void methodInA(){\n    // B's own delegation method\n}\n\nDisadvantages include:\n\nmethods are hidden in the source code, making it less obvious where the call is coming from, but this is also the case with extends\nif composed fields share the same method signature there needs to be a conflict resolved (how do conflicting interfaces solve this?)\nif you wanted to have several composed fields of the same type, there would be an obvious conflict for which field to delegate to\nprobably 100 other things I've not thought of\n\nLike I say, I'm obviously no language theorist, and I haven't spent ages thinking about it, the idea just popped in my head and I wanted to know how wrong I am. I just think it would be kind of cool.\n", "I wanted to make Map of Collections in Java, so I can make something like  \npublic void add(K key, V value) {  \n    if (containsKey(key)) {\n        get(key).add(value);\n    } else {\n        Collection c = new Collection();\n        c.add(value);\n        put(key, value);\n    }\n}\n\nI've tried to make it with something like  \npublic class CollectionMap<K, C extends Collection<V>> extends HashMap<K, C>\n\nbut compiler complains about the <V> part, and there would still be an issue of making proper new collection.  \nAt the moment, I've made two classes: SetMap that look like this  \n 1: public class SetMap<K, V> extends HashMap<K, Set<V>> {\n 2: \n 3:    public void add(K key, V value) {\n 4:        if (containsKey(key)) {\n 5:            get(key).add(value);\n 6:        } else {\n 7:            Set<V> list = new HashSet<V>();\n 8:            list.add(value);\n 9:            put(key, list);\n10:        }\n11:    }\n12:\n13: }\n\nand ListMap looks pretty much the same except the line 7 where I make new ArrayList. This sort of duplication is small enough to be tolerable, but question remains is this sort of \"nested generics\" possible in Java?  \nEDIT:\nAs erickson said, solution is in <A, B extends Something<A>> rather than just <B extends Something<A>>\nso code can look something like  \npublic abstract class CollelctionMap<K, V, C extends Collection<V>> extends HashMap<K, C> {\n\n    protected abstract C newCollection();\n\n    public void add(K key, V value) {\n        if (containsKey(key)) {\n            get(key).add(value);\n        } else {\n            C c = newCollection();\n            c.add(value);\n            put(key, c);\n        }\n    }\n}\n\nand ListMap and SetMap only provide proper collection  \n", "I want to simplify my execution of a Groovy script that makes calls to an Oracle database. How do I add the ojdbc jar to the default classpath so that I can run\ngroovy RunScript.groovy\n\ninstead of\ngroovy -cp ojdbc5.jar RunScript.groovy\n\n", "I'm having problems with Iterator.remove() called on a HashSet.\nI've a Set of time stamped objects.  Before adding a new item to the Set, I loop through the set, identify an old version of that data object and remove it (before adding the new object).  the timestamp is included in hashCode and equals(), but not equalsData().\nfor (Iterator<DataResult> i = allResults.iterator(); i.hasNext();)\n{\n    DataResult oldData = i.next();\n    if (data.equalsData(oldData))\n    {   \n        i.remove();\n        break;\n    }\n}\nallResults.add(data)\n\nThe odd thing is that i.remove() silently fails (no exception) for some of the items in the set.  I've verified\n\nThe line i.remove() is actually called.  I can call it from the debugger directly at the breakpoint in Eclipse and it still fails to change the state of Set\nDataResult is an immutable object so it can't have changed after being added to the set originally.\nThe equals and hashCode() methods use @Override to ensure they are the correct methods.  Unit tests verify these work.  \nThis also fails if I just use a for statement and Set.remove instead.  (e.g. loop through the items, find the item in the list, then call Set.remove(oldData) after the loop).\nI've tested in JDK 5 and JDK 6.\n\nI thought I must be missing something basic, but after spending some significant time on this my colleague and I are stumped.  Any suggestions for things to check?\nEDIT:\nThere have been questions - is DataResult truly immutable.  Yes.  There are no setters.  And when the Date object is retrieved (which is a mutable object), it is done by creating a copy.\npublic Date getEntryTime()\n{\n    return DateUtil.copyDate(entryTime);\n}\n\npublic static Date copyDate(Date date)\n{\n    return (date == null) ? null : new Date(date.getTime());\n}\n\nFURTHER EDIT (some time later):\nFor the record -- DataResult was not immutable!  It referenced an object which had a hashcode which changed when persisted to the database (bad practice, I know).  It turned out that if a DataResult was created with a transient subobject, and the subobject was persisted, the DataResult hashcode was changed.\nVery subtle -- I looked at this many times and didn't notice the lack of immutability.\n", "I've been struggling coming up with a good solution to separate my testing data from unit\n tests (hard coded values).  Until it dawned on me that I could create beans with spring \nand use those beans to hold my data.  \nAre there any draw backs to coding my unit tests this way?  Albeit they run a bit slower\n seeing as how spring has to configure all the beans and what not.\n", "I've done numerous searches and I realize that I can just download this file and install it either in windows/system32 or in the application's directory. My question is, how does this dll generally get installed on Vista? I tried installing the .net framework 3.5 and it didn't get installed with that. \nBackground:\nI'm running a java.jar wrapped as an exe using exe4j. \n", "currently i have jdbc code with the following basic stucture:\nget Connection\n(do the next 4 lines several times, never closing statement)\nget statement\nget result set\nprocess result set\nclose result set  \nclose connection  \nIt occurred to me after writing this code that i need to close the statement.\n1  what are the effects of not closing the statement.\n2  will the following work, this si will closing the statement prevent me from processing the result set as normal?\nget Connection\n(do the next 5 lines several times)\nget statement\nget result set\nclose statement\nprocess result set\nclose result set  \nclose connection\n", "I'm extremely new to Java, and have mostly just been teaching myself as I go, so I've started building an applet. I'd like to make one that can select a file from the local disk and upload it as a multipart/form-data POST request but with a progress bar. Obviously the user has to grant permission to the Java applet to access the hard drive. Now I've already got the first part working: the user can select a file using a JFileChooser object, which conveniently returns a File object. But I'm wondering what comes next. I know that File.length() will give me the total size in bytes of the file, but how do I send the selected File to the web, and how do I monitor how many bytes have been sent? Thanks in advance.\n", "In JSP I can reference a bean's property by using the tag\n${object.property}\nIs there some way to deal with properties that might not exist? I have a JSP page that needs to deal with different types. Example:\npublic class Person {\n    public String getName()\n}\npublic class Employee extends Person {\n    public float getSalary()\n}\n\nIn JSP I want to display a table of people with columns of name and salary. If the person is not an employee then salary should be blank. The row HTML might look like:\n<tr>\n    <td><c:out value=\"${person.name}\"></td>\n    <td><c:out value=\"${person.salary}\"></td>\n</tr>\n\nUnfortunately if person is not an employee then it can't find salary and an error occurs. How would I solve this in JSP?\nEdit: Is there an instanceof check in JSP tag language?\n", "I have an existing library (JPhysX) that is a Java wrapper for a native C++ library (PhysX). The Java library makes use of types generated by SWIG, for example, com.jphysx.SWIGTYPE_p_NxStream, which represents a pointer to an NxStream object in the C++ code. Now I want to create my own C++ class that inherits from the C++ type NxStream, and have the Java wrapper for my class also inherit from the wrapper com.jphysx.SWIGTYPE_p_NxStream.\nThe problem is that when I call SWIG to generate the wrapper for my class, it also creates a new wrapper called SWIGTYPE_p_NxStream, which is functionally identical to the one in com.jphysx, but still a different type as far as Java is concerned.\nHow can I convince SWIG to reuse this existing wrapper from com.jphysx and make the wrapper of my class inherit from com.jphysx.SWIGTYPE_p_NxStream instead?\n", "Do you know of any tool that would do like Ruby on Rails' Scaffolding (create simple CRUD pages for any particular class to allow quickly populating a database with dummy data), only which used Java classes with Hibernate for database access, and JSP/JSF for the pages?\nIt is a drag when you are programming one part of an application, but need data that can only be added with another part that is not ready yet, or very cumbersomely by directly inserting it into the DB.\n", "I've been doing C++ development for the last 5 years and need to pick up Java for a new job.  Do you have any suggestions on books/websites/etc to help me with the transition?\n", "When reading this question I remembered there was something I have been researching for a while now and I though Stackoverflow could be of help.\nI have created a framework that handles applications as state machines. Currently all the state business logic and transactions are handled via Java code.\nI was looking for some UI implementation that would allow the user to draw the state machines and transactions and generate a file that can later on be consumed by my framework to \"run\" the workflow according to one or more defined state machines.\nIdeally I would like to use an open standard like SCXML. The goal as the UI would be to have something like this plugin IBM have for Rational Software Architect:\nIBM SCXML Editor - 1 http://www.alphaworks.ibm.com/awss.nsf/screenshots/16947DF3AB2F02C38825729800576322/$FILE/scxml-02.jpg\nIBM SCXML Editor - 2 http://www.alphaworks.ibm.com/awss.nsf/screenshots/E57259478C5E79ED882572980057B991/$FILE/scxml-04.jpg\nDo you know any editor, plugin or library that would have something similar or at least serve as a good starting point?\n", "OK, so I've read through various posts about teaching beginner's to program, and there were some helpful things I will look at more closely.  But what I want to know is whether there are any effective tools out there to teach a kid Java specifically?  \nI want to teach him Java specifically because (a) with my strong background in C I feel that's too complex, (b) Java is the other language I know extremely well and therefore I can assist meaningfully without needing to teach myself a new but (to me) useless language, and (c) I feel that managed languages are the future, and lastly (d) Java is one of the simplest of all the languages I know well (aside from basic).\nI learned in basic, and I am open to teaching that first, but I am unaware of a decent free basic shell for Windows (though I haven't really searched, yet since it's not my first choice), and would anyway want to progress quickly to Java.\nMy son is 8, so that's a couple of years earlier than I started - but he has expressed an \ninterest in learning to program (possibly because I work from home a lot and he sees me programming all the time).\nIf no-one can suggest a tool designed for this purpose, I will probably start him off with text/console based apps to teach the basics, and then progress to GUI building.\nOh, one last thing, I am not a fan of IDE's (old school text editor type), so I would not be put off at all by a system that has him typing real code, and would likely prefer that to a toy drag/drop system.\nEDIT: Just to clarify; I really am specifically after ways to teach him Java; there are already a good many posts with good answers for other language alternatives - but that's not what I am looking for here.\nEDIT: What about Java frameworks for 2D video games - can anyone recommend any of them from personal experience?  I like the idea of him starting with the mechanics in place (main game loop, scoring, etc) and adding the specifics for a game of his own imagining - that's what I did, though for me it was basic on a Commodore VIC-20 and a Sinclair ZX-81.\n", "What is the best OS for Java development? People from Sun are pushing the Solaris, yes Solaris have some extra features included in itself such as (dTrace, possibility for Performance tuning the JVM, etc.. ). Some friends of mine, had port their application on solaris, and they said to me that the performances was brilliant. I'm not happy with switching my OS, and use Solaris instead.\nWhat were your experiences?\n", "I read all over the place about how Spring encourages you to use interfaces in your code. I don't see it. There is no notion of interface in your spring xml configuration. What part of Spring actually encourages you to use interfaces (other than the docs)?\n", "I'm trying to go deep into Dictionary ADT and Skip List for Java. My textbook doesn't cover a lot about this and whatever it has covered is very complicated. Which is the best online site to get more information on Dictionary ADT and Skip List for Java. I'm looking for the one which talks visually and gives a lot of examples.\n", "What, if any, is the performance difference between the following two loops?\nfor (Object o: objectArrayList) {\n    o.DoSomething();\n}\n\nand \nfor (int i=0; i<objectArrayList.size(); i++) {\n    objectArrayList.get(i).DoSomething();\n}\n\n", "Does anyone have a recommendation about web service security architecture in Java (preferably under JBoss)?  Any recommended reading?\nI want to expose a fairly rich web service to the world but the data are sensitive and it requires authentication from the current client (Flex), accessed via RPC.  I definitely do not want any server-side session state.  \nWhat's the best way to go about implementing security through web services in Java/JBoss and where can I read about it?\n", "I've experienced rather strange behavior of JSTL forEach tag.\nI have some bean called SessionBean:\npublic class SessionBean {\n  private Collection<MyObject> objects;\n  public Collection<MyObject> getObjects() {return objects;}\n  ...\n}\n\nAnd a simple JSP page like that:\n<%@page contentType=\"text/html\"%>\n<%@page pageEncoding=\"UTF-8\"%>\n<%@taglib prefix=\"f\" uri=\"http://java.sun.com/jsf/core\"%>\n<%@taglib prefix=\"h\" uri=\"http://java.sun.com/jsf/html\"%>\n<%@taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\n\"http://www.w3.org/TR/html4/loose.dtd\">\n<html>\n<body>\n    <f:view>\n        <h:form>\n            <c:forEach var=\"myObject\" items=\"#{SessionBean.objects}\">\n                <h:outputText value=\"#{myObject}\" /> <br />\n            </c:forEach>\n        </h:form>\n    </f:view>\n</body>\n\nAnd, it doesn't work. Exeption thrown is\n\njavax.servlet.jsp.JspTagException: Don't know how to iterate over supplied \"items\" in <forEach>\n        at org.apache.taglibs.standard.tag.common.core.ForEachSupport.toForEachIterator(ForEachSupport.java:255)\n        at org.apache.taglibs.standard.tag.common.core.ForEachSupport.supportedTypeForEachIterator(ForEachSupport.java:219)\n   ....\n\nWhy?\nAnd then I change items=\"#{SessionBean.objects}\" to items=\"${SessionBean.objects}\", and there's no exception. Except for MyObjects aren't printed.\nThen, I make the same change to <h:outputText value=\"#{myObject}\" />, and it's invalid value for this attribute.\nFinally, replacing JSF outputText tag with just ${myObject} works as expected.\nCould somebody explain, what happens here on each phase, please?\nU: SessionBean is managed by JSF, and surely was created, for it performs some actions in the header.\nRESOLUTION: The problem proved to be due to incompatibility between JSTL and JSF in J2EE 1.4. Switching to J2EE 5 made the first variant work just fine.\nThanks!\n", "Is there a way of getting the websites absolute URL (http://www.domain.com/) using Java? because I've googled a bit but I only come across with having to make 2 or 3 classes to create that function =/\nUpdate:\nThe thing is I am trying to create a crawler that will give me some information and among that I'd like to get the URL of the webpage it's getting the information from. I'm developing this in JAVA and what I meant to say was that I was wondering if there was some getUrl(); or any method like that to get me the Url, because I know it can be done but I've only done it writing a whole other class to retrieve the url and then inherit it and use it further...hope it made it clearer\n", "I am attempting to use a Stream Result to return an image from a struts2 application. I seem to be having problem with configuring the action. Here is the configuration:\n    <result name=\"success\" type=\"stream\">\n            <param name=\"contentType\">image/jpeg</param>\n            <param name=\"inputName\">inputStream</param>\n            <param name=\"contentDisposition\">filename=\"${filename}\"</param>\n            <param name=\"bufferSize\">1024</param>\n    </result>\n\nThe problem seem to be the inputName parameter which according to the docs is:\n\nthe name of the InputStream property from the chained action (default = inputStream).\n\nI am not sure what name I should put there. The error I get is:    \n\nCan not find a java.io.InputStream with the name [inputStream] in the invocation stack.\n\nHas anyone used this before? Any advice?\nThanks.\n", "Which is the best framework for Java? I'm looking for something similar to Symfony for php and Ruby-On-Rails for Ruby? I even don't know if anything such exists for Java or not.\n", "Is there a good Java alternative to pyftpdlib? I am looking for an easy to setup and run embedded ftp server.\n", "I need to create a panel which should be invisible but the components inside it (for example, JTextArea, JButton, etc.) should be visible. When I click on the invisible panel, it should become visible.\nI can only use JRE 1.4 and nothing more than that. :(\nAny idea how to create such a transparent panel???\n", "What is the proper way to terminate a Swing application from the code, and what are the pitfalls?\nI'd tried to close my application automatically after a timer fires. But just calling dispose() on the JFrame didn't do the trick - the window vanished but the application did not terminate. However when closing the window with the close button, the application does terminate. What should I do?\n", "Saving data to Postscript in my app results in a Postscript file which I can view without issues in GhostView, but when I try to print it, the printer isn't able to print it because it seems to be invalid.\nIs there a way to validate / find errors in Postscript files without actually sending it to a printer? Preferred would be some kind of Java API/library, but a program which does the same would be fine as well.\n\nEdit #1 : no I don't know why it's invalid, nor even necessarily if it's invalid, but would like to be able to validate it outside of ghostview, or figure out what's going on when it can't print.\n\nAnswer : Well using the ps2ps trick I was able to see the output that Postscript does and there check the difference. The difference was that I am not allowed to have a decimal number for the width or height of images in the Postscript, but rather only integers. So I still didn't find a way to validate, but this way was good enough for my problem. Thanks.\n", "I'm working through some homework and a question on a previous exam paper asks to name all of the abstract classes in a given UML diagram. Fairly straightforward, I suppose. There is one abstract class and three interfaces. Do these interfaces qualify as abstract classes, in general?\n", "This is a registered bug (Bug ID: 6515708) but does anyone have a workaround for it?\nScenario\n\njavascript calls OpenDialog() method in applet\napplet starts new thread which opens the AWT FileDialog\non completion, the file name is read and the javascript method OnDialogComplete is called\nAt this point the dialog is disposed and (on some browsers only) the browser hangs.\n\nWe have a mixture of XP with IE6/7 and Vista with IE7 but unfortunately the bug appears randomly on any of them.\nIdeas anyone?\n", "I am very familiar with the Command pattern, but I don't yet understand the difference in theory between a Functor and a command. In particular, I am thinking of Java implementations. Both are basically programming \"verbs\" represented as objects. However, in the case of functors, as I have seen from some examples anonymous inner class implementations seem common. Can anyone out there clear this up for me nicely?\n", "How to calculate the length (in pixels) of a string in Java?\nPreferable without using Swing.\nEDIT:\nI would like to draw the string using the drawString() in Java2D \nand use the length for word wrapping.\n", "Here's an interface:\npublic interface Foo<T> extends Comparable<Foo<T>>  {\n   ...\n}\n\nAnd there are some classes implementing this interface:\npublic class Bar extends Something implements Foo<Something> {\n    public Vector<Foo<Bar>> giveBar() {\n        ...\n    }\n}\n\npublic class Boo extends SomethingElse implements Foo<SomethingElse> {\n    public Vector<Foo<Boo>> giveBoo() {\n        ...\n    }\n}\n\nNow I want to keep a bunch of Foos (that may really be Foos or Boos) inside a vector. \nBar bar = new Bar();\nBoo boo = new Boo();\nVector<Foo<?>> vector;\nif (...) \n   vector = bar.giveBar();\nelse\n   vector = boo.giveBoo();\n\nI get:\nType mismatch: cannot convert from Vector<Foo<SomethingElse>> to Vector<Foo<?>>\n\nThe same goes for:\nVector<Foo> vector;\nif (...) \n   vector = giveBar();\nelse\n   vector = giveBoo();\n\nIs a superclass that both Bar and Boo extend the only solution to this problem?\n", "For my next project, the two leading frontrunners are .NET and Java. The project is to take a directory (something like My Music in Windows) that contains directories and music files (MP3s initially, but eventually expanded to other music formats). For each file, it would allow you to play the file and view/edit its metadata, filename, and location.\nI know that Java has libraries for both getting/editing metadata and cross-platform support for file operations. I also know that .NET has libraries for dealing with the metadata, but I'm not sure about the file operations I need. However, I really want to get back into .NET, especially since I want to keep it on my resume, but I haven't used it since .NET 2.0 (and it's, what, 3.5 now?) and if I don't keep up with it, there's no point in putting it on my resume since I couldn't answer any questions about new versions of the technology.\nInitially, Windows is my only concern, but I would like to release this as a cross-platform application.\nNote: I do know that I'm reinventing the wheel, but this is a problem that I've encountered and I think it would be kind of fun to solve. It deals with a number of problems, from UI concerns to file structure management to external libraries and more.\n", "When I try to create a new task in the task scheduler via the Java ProcessBuilder class I get an access denied error an Windows Vista. On XP it works just fine.\nWhen I use the \"Run as adminstrator\" option it runs on Vista as well..\nHowever this is a additional step requeried an the users might not know about this. When the user just double clicks on the app icon it will fail with access denied. My question is how can I force a java app to reuest admin privileges right after startup?\n", "I have a Java maven project which includes XSLT transformations. I load the stylesheet as follows:\nTransformerFactory tFactory = TransformerFactory.newInstance();\n\nDocumentBuilderFactory dFactory = DocumentBuilderFactory\n                .newInstance();\n\ndFactory.setNamespaceAware(true);\n\nDocumentBuilder dBuilder = dFactory.newDocumentBuilder();\n\nClassLoader cl = this.getClass().getClassLoader();\njava.io.InputStream in = cl.getResourceAsStream(\"xsl/stylesheet.xsl\");\n\nInputSource xslInputSource = new InputSource(in);\nDocument xslDoc = dBuilder.parse(xslInputSource);\n\nDOMSource xslDomSource = new DOMSource(xslDoc);\n\nTransformer transformer = tFactory.newTransformer(xslDomSource);\n\nThe stylesheet.xsl has a number of  statements. These appear to be causing problems, when I try to run my unit tests I get the following errors:\nC:\\Code\\workspace\\app\\dummy.xsl; Line #0; Column #0; Had IO Exception with stylesheet file: footer.xsl\nC:\\Code\\workspace\\app\\dummy.xsl; Line #0; Column #0; Had IO Exception with stylesheet file: topbar.xsl\n\nThe include statements in the XSLT are relative links\nxsl:include href=\"footer.xsl\"\nxsl:include href=\"topbar.xsl\"\n\nI have tried experimenting and changing these to the following - but I still get the error.\nxsl:include href=\"xsl/footer.xsl\"\nxsl:include href=\"xsl/topbar.xsl\"\n\nAny ideas? Any help much appreciated.\n", "My application uses loads of Java threads. I am looking for a reliable understanding how the JVM (version 5 and 6) maps the Java threads to underlying Windows threads. I know there is a document for mapping to Solaris threads, but not Windows.\nWhy doesn't Sun publish this information?\nI want to know if there's a 1:1 mapping, or if it varies by JVM, by -server option, by workload, etc, etc.\nI know I am not \"supposed\" to care, I should write properly synchronisd code, but I am inheriting a large body of code...\nAlso, does anyone know how to give names to Windows threads?\n", "Java is nearing version 7. It occurs to me that there must be plenty of textbooks and training manuals kicking around that teach methods based on older versions of Java, where the methods taught, would have far better solutions now.\nWhat are some boilerplate code situations, especially ones that you see people implement through force of habit, that you find yourself refactoring to utilize the latest versions of Java?\n", "Can every possible value of a float variable can be represented exactly in a double variable?\nIn other words, for all possible values X will the following be successful:\nfloat f1 = X;\ndouble d = f1;\nfloat f2 = (float)d;\n\nif(f1 == f2)\n  System.out.println(\"Success!\");\nelse\n  System.out.println(\"Failure!\");\n\nMy suspicion is that there is no exception, or if there is it is only for an edge case (like +/- infinity or NaN).\nEdit: Original wording of question was confusing (stated two ways, one which would be answered \"no\" the other would be answered \"yes\" for the same answer).  I've reworded it so that it matches the question title.\n", "What is the best way of searching the whole classpath for an annotated class?\nI'm doing a library and I want to allow the users to annotate their classes, so when the Web application starts I need to scan the whole classpath for certain annotation.\nDo you know a library or a Java facility to do this?\nEdit: I'm thinking about something like the new functionality for Java EE 5 Web Services or EJB's. You annotate your class with @WebService or @EJB and the system finds these classes while loading so they are accessible remotely.\n", "I am trying to get my development environment up and running, and I am having trouble with Tomcat trying to load JSF classes for some reason.  My application does not use JSF; in fact, I haven't even deployed my application to tomcat yet.  I am getting a number of stack traces in the startup logs and I cannot load the default tomcat homepage when I try to open http://localhost:8080 (I just get the tomcat 404 page).\nHere is what the first stack trace is:\nSEVERE: Error configuring application listener of class com.sun.faces.util.ReflectionUtils$ReflectionUtilsListener\njava.lang.ClassNotFoundException: com.sun.faces.util.ReflectionUtils$ReflectionUtilsListener\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1386)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1232)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3712)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4216)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:626)\n    at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:553)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:488)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1150)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022)\n    at org.apache.catalina.core.StandardHost.start(StandardHost.java:736)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\n    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)\n    at org.apache.catalina.core.StandardService.start(StandardService.java:448)\n    at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:552)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:324)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)\n\nI also get similar stack traces for the following other classes:\ncom.sun.faces.config.ConfigureListener\ncom.sun.faces.application.WebappLifecycleListener\n\nI'm not sure if this is relevant, but I am running Tomcat 5.5.27 with the 1.4 compatibility pack installed, with Java 1.4.2, on Mas OS 10.5.\nThanks for any ideas!\nEDIT: It seems that each of the default applications that come with Tomcat (host-manager, balancer, tomcat-docs, jsp-examples, etc) was relying on these JSF classes.  I removed these default applications, and everything seems to be working.\nSo, my question is now:\nWhy does tomcat come with applications that don't include their dependencies, and what do I need to do to make those default applicaitons work?\n", "Is there any way to reboot the JVM?  As in don't actually exit, but close and reload all classes, and run main from the top?\n", "I am writing a java program that needs a file open dialog.  The file open dialog isn't difficult, I'm hoping to use a JFileChooser.  My problem is that I would like to have a dual pane JFrame (consisting of 2 JPanels).  The left panel would have a JList, and the right panel would have a file open dialog.  \nWhen I use JFileChooser.showOpenDialog() this opens the dialog box above all other windows, which isn't what I want.  Is there any way to have the JFileChooser (or maybe another file selection dialog) display inside a JPanel and not pop-up above it?\nHere is the code that I've tried, at this point it's very simplified. I'm only trying to get the JFileChooser to be embedded in the JPanel at this point.\npublic class JFC extends JFrame{\n    public JFC()\n    {\n        setSize(800,600);\n\n        JPanel panel= new JPanel();\n\n        JFileChooser chooser = new JFileChooser();\n        panel.add(chooser);\n\n        setVisible(true);\n\n        chooser.showOpenDialog(null);\n    }\n\n    public static void main(String[] args)\n    {\n        JFC blah = new JFC();\n    }\n}\n\nI have also tried calling chooser.showOpenDialog with this and panel, but to no avail. Also, I have tried adding the JFileChooser directly to the frame. Both of the attempts listed above still have the JFileChooser pop up in front of the frame or panel (depending on which I add the JFileChooser to).\n", "If I have a button like the one in this image :\nhttp://www.freeimagehosting.net/image.php?4cd775814c.png\nhow could I make the text display itself vertically ? As in \n\nj\nB\nu\nt\nt\no\nn\n1\n\nI would like to know how to do the same thing for JLabel . I'm sure there has to be a better way than to create as many labels as there are characters in the string . Right ?\nEDIT: how can I insert an image into my post ? The button for the image shows the image in the preview section , but when I actually post the data , I only get some text back , like the tags are getting messed up .\n", "I've been developing a few JSF applications lately and am disturbed with the inconsistency in the web component APIs. \nI've noticed that there is extremely unpredictable behavior when calling .getValue() or .getSubmittedValue() on a JSF component object in server side code. Sometimes when I call .getValue() on a drop down list box, I've noticed that I get the value as it was BEFORE I selected my value (so the value from the last page refresh), of which .getSubmittedValue() gets me the correct value, as such:\nUIInput name = new UIInput(); // This is the control I have in a bean.\n\npublic void submit(ActionEvent ae)\n{\n    someMethod(name.getValue().toString());          // Retrieves the \"old\" value\n    someMethod(name.getSubmittedValue().toString()); // Retrieves the correct value \n}\n\nAlso, I've noticed that calling .getSubmittedValue() on a form field sometimes results in a null pointer exception because that value has not been instantiated in the component object, in which case when I call .getValue() in that circumstance I get the correct value, for example:\nHtmlInputText name = new HtmlInputText(); // This is the control I have in a bean.\n\npublic void submit(ActionEvent ae)\n{\n    someMethod(name.getValue().toString());          // Retrieves the correct value\n    someMethod(name.getSubmittedValue().toString()); // Throws NullPointerException \n}\n\nIs this just a \"quirk\" of the JSF framework, or am I just using the API COMPLETELY incorrectly?? Any insight into these two methods would be greatly appreciated. Cheers.\n", "I am trying to add a \"title\" element but am getting a NO_MODIFICATION_ALLOWED_ERR error...\n private static void saveDoc(String f) throws Exception\n    {\n\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n            DocumentBuilder db = dbf.newDocumentBuilder();\n                    Document doc = db.parse(f);\n\n              // create DOMSource for source XML document\n              DOMSource xmlSource = new DOMSource(doc);\n\n\n              Node nextNode = xmlSource.getNode().getFirstChild();\n\n              while (nextNode != null)\n          {\n              System.out.print(\"\\n node name: \" + nextNode.getNodeName() + \"\\n\");\n              if (nextNode.getNodeName().equals(\"map\")){\n                  nextNode.appendChild(doc.createElement(\"title\")); \n\nthe line above is throwing error: Exception in thread \"main\" org.w3c.dom.DOMException: NO_MODIFICATION_ALLOWED_ERR: An attempt is made to modify an object where modifications are not allowed.\n    at com.sun.org.apache.xerces.internal.dom.ParentNode.internalInsertBefore(Unknown Source)\n    at com.sun.org.apache.xerces.internal.dom.ParentNode.insertBefore(Unknown Source)\n    at com.sun.org.apache.xerces.internal.dom.NodeImpl.appendChild(Unknown Source)\n    at myProject.Main.saveDoc(Main.java:171)\n    at myProject.Main.main(Main.java:48)\n                      break;\n              }\n\n\n\n              nextNode = nextNode.getNextSibling();\n\n\n\n          }\n}\n\nMy xml file looks like this:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<?dctm xml_app=\"LOPackage\"?>\n<!DOCTYPE map PUBLIC \"-//OASIS//DTD DITA Map//EN\" \"file:C:/Documents%20and%20Settings/joe/Desktop//LOPackage/map.dtd\">\n<map xmlns:ditaarch=\"http://dita.oasis-open.org/architecture/2005/\" class=\"- map/map \" ditaarch:DITAArchVersion=\"1.1\" domains=\"(map mapgroup-d) (topic indexing-d)\">\n    <topicref class=\"- map/topicref \" href=\"dctm://ai/0501869e80002504?DMS_OBJECT_SPEC=RELATION_ID\" type=\"Le\"/>\n    <topicref class=\"- map/topicref \" href=\"dctm://ai/0501869e80002505?DMS_OBJECT_SPEC=RELATION_ID\" type=\"Pr\"/>\n    <topicref class=\"- map/topicref \" href=\"dctm://ai/0501869e80002506?DMS_OBJECT_SPEC=RELATION_ID\" type=\"Pr\"/>\n</map>\n\n", "Jython's PyObject provides a method to cast a python object to java. There are some old articles on Jython Monthly describing the use of __tojava__ to create a jython object factory\nBesides the need for an interface, are there any other limitations to using Jython to create \"java\" objects.\n", "I have a short preliminary interview with Microsoft in less than 2 hours.\nI've been told that they might ask questions in Java and/or C++.\nWhere can I find a quick overview of both languages?\nI don't need to full tutorial, just something that goes over the language-specific features and a refresher of the semantics.\nI also only have 1.5 hours to study so...\nAny ideas?\nThx!\n", "I have a web-app that I would like to extend to support multiple languages with new URLs.  For example, www.example.com/home.do stays English, but www.example.com/es/home.do is Spanish.  My first thought was to create a Filter which rewrites incoming urls like /es/home.do to /home.do (and sets the Locale in the Request); this works fine.  The Filter wraps the ServletRequest with an HttpServletRequestWrapper which overrides getContextPath() to return the language:\nclass FakeContextRequest extends HttpServletRequestWrapper {\n\n  private String context = \"\";\n  FakeContextRequest(HttpServletRequest request, String context) {\n    super(request);\n    // snip some validation code\n    this.context = request.getContextPath() + context;\n  }\n  @Override\n  public String getContextPath() {\n    return this.context;\n  }\n}\n\nMy Filter forwards to the appropriate request as follows:\nFakeContextRequest fr = new FakeContextRequest(request, lang);\nfr.getRequestDispatcher(newResourceName).forward(fr, response);\n\nMy problem is that the next servlet doesn't forward properly.  The next servlet (typically a Struts ActionServlet) forwards to a JSP (often using Struts Tiles); when I get to the JSP the HttpServletRequest has been wrapped several times and the object in question reports the context to be empty (the root context, which is where the application is actually deployed).\nI want the context to be re-written so that all my context-aware code that already exists can automatically insert the language into the URLs that are written.  Is this possible?\nEdit: I solved my problem by using a wrapped HttpServletResponse instead of a wrapped HttpServletRequest; I rewrite the URL in the response.encodeURL() method.\n", "Why does this test program result in a java.lang.IllegalMonitorStateException?\npublic class test {\n    static Integer foo = new Integer(1);\n    public static void main(String[] args) {\n        synchronized(foo) {\n            foo++;\n            foo.notifyAll();\n        }\n        System.err.println(\"Success\");\n    }\n}\n\nResult:\nException in thread \"main\" java.lang.IllegalMonitorStateException\n        at java.lang.Object.notifyAll(Native Method)\n        at test.main(test.java:6)\n\n", "I have written a small java application for which I need to obtain performance metrics such as memory usage, running time etc., Is there any simple to use performance measurement tool available? \n", "I'd like to set up a large linear programming model to solve an interesting problem.  I would be most comfortable in Java.  What tools/libraries are available?\n", "I have just installed Eclipse 3.4 and found out that there is not a plugin to create Swing applications yet. I also have found that there is a Matisse implementation in MyEclipse IDE, but I'd like to now whether there is such a Matisse plugin for free.\n", "Can an abstract class have a constructor?\nIf so, how can it be used and for what purposes?\n", "If I have a table like:\nCREATE TABLE FRED\n(\nrecordId number(18) primary key,\nfirstName varchar2(50)\n);\n\nIs there an easy way to clone it's structure (not it's data) into another table of a given name. Basically I want to create table with exactly the same structure, but a different name, so that I can perform some functionality on it. I want to do this in code obviously. Java preferably, but most other languages should be similar.\n", "I have a Tapestry PropertyModel for gender.  Right now the dropdown just shows Male and Female because those are the only values in my model. I'd like to add a \"Choose an Option\" option.  Is there a standard way to do this without having to add a fake value to my model?  I'd also like it to be smart enough to know that if the field is required, they can't leave it set to \"Choose an Option\".\n", "An abstract class can only be used as a base class which is extended by some other class, right? The constructor(s) of an abstract class can have the usual access modifiers (public, protected, and private (for internal use)).  Which of protected and public is the correct access modifier to use, since the abstract type seems to indicate that technically a public constructor will act very much protected?  Should I just use protected on all my constructors?\n", "Is it possible to configure two separate web apps (WAR) in a J2EE application (EAR) to access a shared session context?\nFurther info:\nI ended up creating a shared class from the EAR which stored the required information in static members.  This did the trick, even if it seemed like a dirty hack.\n", "I would like to have a Java component which has a resize icon on the bottom right of the component so that when I drag that icon, the component will automatically resize with it.\nBy resize icon, I mean the following:\n\nThe above image contains the resize icon in the Google Talk messenger's main window. Is there any Java component which provides this facility?\n", "I launch a child process in Java as follows:\nfinal String[] cmd = {\"<childProcessName>\"};\nProcess process = Runtime.getRuntime().exec(cmd);\n\nIt now runs in the background. All good and fine. \nIf my program now crashes (it is still in dev :-)) the child process still seems to hang around. How can I make it automatically end when the parent Java process dies?\nIf it helps, I'm using Mac OS X 10.5\n", "Is it possible to implement autoboxing for your own classes?\nTo illustrate my example, this is what I might want to write:\nFoo foo = \"lolcat\";\n\nAnd this is what Java would do (as per my own definitions, somewhere, somehow), under the hood:\nFoo foo = new Foo();\nfoo.setLolcat(\"lolcat\");\n\nSo, is this possible somehow, or is it a JVM-feature only?\n", "How can I create the \"Infinite\" symbol in an excel sheet programmatically?\nPreferably from Java...but other tips are also welcome.\nThx.\n", "I want to share an object between my servlets and my webservice (JAX-WS) by storing it as a servlet context attribute. But how can I retrieve the servlet context from a web service?\n", "Currently I have a structure like this:\nA\n|\n+--B\n|\n+--C\n\nIt's mapped with one table per subclass using joined tables. For historic reasons I also use a discriminator, so the current situation is as described in Section 9.1.3 of the Hibernate manual.\nQuestion: How do I extend the mapping for a structure like this:\nA\n|\n+--B\n|  |\n|  D\n|\n+--C\n\nCan I <subclass> a <subclass> in the hibernate mapping? What <key>s do I need?\n", "I want to use JOGL (for Clojure, not Java). There seems to be quite a combination of alternatives for JDKs and OpenGL bindings, and I don't want to use a scatter gun approach and clog up my machine installing too much cruft. Please help me get started!\n\nWhat Ubuntu/Debian packages do I need to install? (starting with sun-java6-jdk, for example)\nThere don't seem to be JOGL packages, so what's the best way to install it? Should I build from CVS HEAD, or use pre-built jar files?\n\nI'll be using Emacs as my IDE so I don't need to install Eclipse or anything, I just need to be able to build with ant or whatever.\nPlease feel free to revise your answer (building on others' answers) to provide a comprehensive how-to.\n", "I have a dialog where each entry in a JTree has its corresponding options in a different panel, which is updated when the selection changes. If options for one of the entries is set to an invalid state, when the user attempts to change to a different entry in the tree, I want there to be an error dialog and have the selection not change.\nI tried doing this with a valueChangeListener on the JTree, but currently then have to have the valueChanged method call \"setSelectionRow\" to the old selection if there is an error. So that I don't get a StackOverflow, I set a boolean \"isError\" to true before I do this so that I can ignore the new valueChanged event. Somehow I have the gut feeling this is not the best solution. ;-)\nHow would I go about it instead? Is there a good design pattern for situations like this?\n", "So far I've been using public void run() {} methods to execute my code in Java. When/why might one want to use main() or init() instead of run()?\n", "I made a custom ValueObject class with properties (getters/setters) and I need this class for data binding of elements on form. So I want to drag it to \"other components\" on matisse editor so I can bind it - and nothing happens.... Any similar experiences? The same issue is happening both on NetBeans 6.5 and MyEclipse 7.0M2 \n", "I have a XML schema that I will need to create Java classes for. It is not a particularly large schema, I'd say it will result in around 20 classes. I am trying to weigh up whether to use an automatic binding program (like the one supplied in JAXB or JiBX) or whether to manually write my own classes and use something like XStream for marshalling/unmarshalling. \nWhat are the advantages/disadvantages of writing your own classes as opposed to using a binding program.\nAlso, one I use a binding program, am I tied to that forever. For example, if I use JAXB's binding compiler to create the classes, do I have to use JAXB for all marshalling/unmarshalling? \np.s. I've seen the following questions about XML binding/serialization, which were useful, but didn't answer my question totally:\nxml-serialization-in-java and java-xml-binding\n", "I am using ehCache to store larges amount of data.\nThis cache is accessed about 3 times every second and must be kept up to date.\nI have a thread that runs which retrieves all the data i need for the cache from the database every minute into a different cache(different cachemanager also).\nWhat i want to do is copy the contents of the data from the new cache into the cache which is being accessed every second in a quick, reliable and synchronized manner. (e.g. call a replace method passing in the existing cache, and the new cache and update the new cache quickly and safely)\nIs there any way off hand to do this in ehCache?\nAny help is greatly appreciated.\nThanks\nDamien\n", "I am looking for a tool which would create ejb-jar.xml configuration file from annotated EJB3 classes. Something like XDoclet, but for annotations, not tags in comments.  \n", "i have a server - client application that runs on java 1.3; i want to change to java 1.6 step by step, meaning first few clients, than rest of the clients and finally server...\ni was wondering could you direct me to some common problems that can come along and what should i look after?\n", "In our office, we regularly enjoy some rounds of foosball / table football after work. I have put together a small java program that generates random 2vs2 lineups from the available players and stores the match results in a database afterwards.\nThe current prediction of the outcome uses a simple average of all previous match results from the 4 involved players. This gives a very rough estimation, but I'd like to replace it with something more sophisticated, taking into account things like:\n\nplayers may be good playing as attacker but bad as defender (or vice versa)\nplayers do well against a specific opponent / bad against others\nsome teams work well together, others don't\nskills change over time\n\nWhat would be the best algorithm to predict the game outcome as accurately as possible?\nSomeone suggested using a neural network for this, which sounds quite interesting... but I do not have enough knowledge on the topic to say if that could work, and I also suspect it might take too many games to be reasonably trained.\nEDIT:\nHad to take a longer break from this due to some project deadlines. To make the question more specific:\nGiven the following mysql table containing all matches played so far:\ntable match_result\n\nmatch_id      int pk\nmatch_start   datetime\nduration      int (match length in seconds)\nblue_defense  int fk to table player\nblue_attack   int fk to table player\nred_defense   int fk to table player\nred_attack    int fk to table player\nscore_blue    int\nscore_red     int\n\nHow would you write a function predictResult(blueDef, blueAtk, redDef, redAtk) {...}\nto estimate the outcome as closely as possible, executing any sql, doing calculations or using external libraries?\n", "I'm using Hibernate for a Java-based Web Application and want to add full-text search via Compass. Compass is supposed to support that, but fails to provide any useful Getting Started guide.\nI could figure out that I have to annotate my Entities with @Searchable and the various @SearchableXXX variations and accessing Compass in my service code via HibernateHelper.getCompass(sessionFactory).\nI end up with a HibernateException saying \"Compass event listeners not configured, please check the reference documentation and the application's hibernate.cfg.xml\".\nThe reference documentation again hints and hibernate.cfg.xml, while I configure Hibernate with Spring's AnnotationSessionFactoryBean. For that case, the documetantation mentions: \"If Hibernate Annotations or Hibernate EntityManager (JPA) are used, just dropping Compass jar file to the classpath will enable it (make sure you don't have Hibernate Search in the classpath, as it uses the same event class name).\" That doesn't work for me.\nAny ideas whats I'm missing or a good resource for getting started?\n", "Is it possible to have multiple folders where I can place applications to be deployed?\nHow are these defined?\nAnd is it possible to restrict one folder to just be applications for \"domain.com\" and no other domain.\nThanks\n", "A friend of mine asked me to implement a blue and a red pointer to represent the inputs of two separate mice to expedite a mixing desk scenario for real time audio mixing.  I'd love to, but as much as I think it is a great idea, I don't have a clue as to where to start looking for a possible solution.\nWhere should I start researching a viable method of implementing dual mouse inputs?\n", "I'm working on a stripes app that uses a bit of jQuery to make the UI more dynamic/usable.\nI set up an Error Resolution, so if an error is thrown, the user is redirected to an error.jsp page.\nHowever, if an error is thrown during a jQuery Ajax call, instead of redirecting to the error.jsp page, I get html printed to the page where the result of the call should have been instead.\nHow do I tell jQuery to redirect if an exception was thrown instead of printing to the page?\nAn example of the offending Ajax:\n$.post(\"SendStatusEmail.action\",\n            {status: newstatus, id : id },\n            function(data) {\n                column.text(data);\n                column.addClass(\"redfont\");\n                column.parent().fadeOut(3000, function(){column.parent().remove()});\n\n", "Our application defines a URL scheme whose resolution is context-sensitive:  The content of the URL depends on the state of an in-progress database transaction.  As such, to retrieve the content I cannot, for example, open a new database connection.  However, I can't see a way to get at external context from the URLStreamHandler instance.\nThe documentation is a bit misleading, too:  I checked at the java Protocol Handler site and it indicated (in the Implementing URLStreamHandlerFactory section) that the URL class would accept a URLStreamHandlerFactory instance, but the 1.5 JDK indicates that URL accepts only a URLStreamHandler when building a URL.\nSo, my question is, what is the best way to have context-sensitive URL resolution?  Is there any better way than to have a ThreadLocal class variable on my URLStreamHandler implementation, that is set before the calls?\n", "In my spring application context file, I have something like:\n<util:map id=\"someMap\" map-class=\"java.util.HashMap\" key-type=\"java.lang.String\" value-type=\"java.lang.String\">\n    <entry key=\"some_key\" value=\"some value\" />\n    <entry key=\"some_key_2\" value=\"some value\" />   \n</util:map>\n\nIn java class, the implementation looks like:\nprivate Map<String, String> someMap = new HashMap<String, String>();\nsomeMap = (HashMap<String, String>)getApplicationContext().getBean(\"someMap\");\n\nIn Eclipse, I see a warning that says:\nType safety: Unchecked cast from Object to HashMap\nWhat did I do wrong? How do I resolve the issue?\n", "At Java SE Downloads I may for example download:\n\nJava SE Runtime Environment (JRE) 6 Update 10\nJava SE Development Kit (JDK) 6 Update 10\n\nBut I can't find any source code for update 10. If I click Java SE 6 JDK Source Code on the Java SE Downloads page it seems I can only download source for \"JDK 6u3 Source\". Where can I find the source for update 10? If there isn't any and I use update 10 for development, won't there be serious sync problems if I choose to debug and \"step into\" the source of a JDK method? (It seems like it should.)\n", "I currently have 2 BufferedReaders initialized on the same text file. When I'm done reading the text file with the first BufferedReader, I use the second one to make another pass through the file from the top. Multiple passes through the same file are necessary.\nI know about reset(), but it needs to be preceded with calling mark() and mark() needs to know the size of the file, something I don't think I should have to bother with.\nIdeas? Packages? Libs? Code?\nThanks\nTJ\n", "I have a JSF application that consists of two JSPs: login.jsp & main.jsp.\nI have the following faces-config.xml:\n<lifecycle>\n  <phase-listener>package.programs.scorecard.beans.EventBean</phase-listener>\n</lifecycle>\n<managed-bean>\n  <managed-bean-name>FormBean</managed-bean-name>\n  <managed-bean-class>package.programs.scorecard.beans.FormBean</managed-bean-class>\n  <managed-bean-scope>session</managed-bean-scope>\n</managed-bean>\n<managed-bean>\n  <managed-bean-name>DataBean</managed-bean-name>\n  <managed-bean-class>package.programs.scorecard.beans.DataBean</managed-bean-class>\n  <managed-bean-scope>session</managed-bean-scope>\n</managed-bean>\n<managed-bean>\n  <managed-bean-name>EventBean</managed-bean-name>\n  <managed-bean-class>package.programs.scorecard.beans.EventBean</managed-bean-class>\n  <managed-bean-scope>session</managed-bean-scope>\n</managed-bean>  \n\nAnd the following web.xml:\n<welcome-file-list>\n  <welcome-file>faces/login.jsp</welcome-file>\n  <welcome-file>faces/index.jsp</welcome-file>\n  <welcome-file>index.jsp</welcome-file>\n</welcome-file-list>\n<servlet>\n  <servlet-name>Faces Servlet</servlet-name>\n  <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>\n  <load-on-startup>1</load-on-startup>\n</servlet>\n<servlet-mapping>\n  <servlet-name>Faces Servlet</servlet-name>\n  <url-pattern>/faces/*</url-pattern>\n</servlet-mapping>\n\nI have a couple of components on login.jsp that update properties in DataBean on a commandLink click. Upon successful completion, the user is navigated to /main.jsp.\nI notice that when I click the commandLink, the method executes BEFORE the bean is updated. This results in all of my bean properties to be null when the method executes because the values from my form are not being applied to the bean.\nFrom what I understood of the JSF life cycle, the \"Update Model Values\" should always be executed before \"Invoke Application\" unless \"immediate=true\" is specified, which it is not for my commandLink.\nI have been trying to debug this for a couple of hours this morning, and I welcome any suggestions or insights.\nUPDATE: \nI have investigated this issue thoroughly and have concluded that the drop down component I was utilizing has a bug in it that should be fixed in the next release. My solution was to use a regular h:selectOneMenu in lieu of the third party component, and it works like a charm:\n<h:selectOneMenu id=\"ddlManager\" value=\"#{DataBean.managerId}\">\n    <f:selectItems value=\"#{DataBean.managerList}\" />\n</h:selectOneMenu>\n\nWhere managerList is a list of SelectItem objects.\n", "If you have a Java object and an XML schema (XSD), what is the best way to take that object and convert it into an xml file in line with the schema. The object and the schema do not know about each other (in that the java classes weren't created from the schema).\nFor example, in the class, there may be an integer field 'totalCountValue' which would correspond to an element called 'countTotal' in the xsd file. Is there a way of creating a mapping that will say \"if the object contains an int totalCountValue, create an element called 'countTotal' and put it into the XML\".\nSimilarly, there may be a field in the object that should be ignored, or a list in the object that should correspond to multiple XML elements.\nI looked at XStream, but didn't see any (obvious) way of doing it. Are there other XML libraries that can simplify this task?\n", "... the question says it all I believe!\n", "I'm working on a project for school, and I'm implementing a tool which can be used to download files from the web ( with a throttling option ). The thing is, I'm gonna have a GUI for it, and I will be using a JProgressBar widget, which I would like to show the current progress of the download. For that I would need to know the size of the file. How do you get the size of the file prior to downloading the file. \n", "We are developing an application that involves a lot of different tests where each test lead the users to a number of steps.  We are thinking of using a state machine framework to capture the states/transitions out of the code.  We are also thinking of using rule engine to supplement on the rules.  Anyone has experience with any state machine framework that would work with JBoss and/or Java? Thanks in advance.\n-nguyen  \n", "Is there a way to emulate mixins or traits in java? basically, I need a way to do multiple inheritance so I can add common business logic to several classes\n", "I'm a newbie to swing development.\nI have a swing app that needs to access data from a remote sql database. The users of the app are all located in our office.\nIs it bad practice to access the database directly from the swing app? \nShould I put database facing code into an rmi server?\n", "Program followed by output.  Someone please explain to me why 10,000,000 milliseconds from Jan 1, 1970 is November 31, 1969.  Well, someone please explain what's wrong with my assumption that the first test should produce a time 10,000,000 milliseconds from Jan 1, 1970.  Numbers smaller than 10,000,000 produce the same result.\npublic static void main(String[] args) {\n\n    String x = \"10000000\";\n    long l = new Long(x).longValue();\n    System.out.println(\"Long value: \" + l);\n\n    Calendar c = new GregorianCalendar();\n    c.setTimeInMillis(l);\n    System.out.println(\"Calendar time in Millis: \" + c.getTimeInMillis());\n\n    String origDate = c.get(Calendar.YEAR) + \"-\" + c.get(Calendar.MONTH) + \"-\" + c.get(Calendar.DAY_OF_MONTH);  \n    System.out.println(\"Date in YYYY-MM-DD format: \" + origDate);\n\n    x = \"1000000000000\";\n    l = new Long(x).longValue();\n    System.out.println(\"\\nLong value: \" + l);\n\n    c.setTimeInMillis(l);\n    System.out.println(\"Calendar time in Millis: \" + c.getTimeInMillis());\n\n    origDate = c.get(Calendar.YEAR) + \"-\" + c.get(Calendar.MONTH) + \"-\" + c.get(Calendar.DAY_OF_MONTH);  \n    System.out.println(\"Date in YYYY-MM-DD format: \" + origDate);\n}\n\n\nLong value: 10000000\nCalendar time in Millis: 10000000\nDate in YYYY-MM-DD format: 1969-11-31\nLong value: 1000000000000\nCalendar time in Millis: 1000000000000\nDate in YYYY-MM-DD format: 2001-8-8\n\n", "We are using an Oracle 11 database and a java development environment (using Eclipse) and would like to migrate several xml schemas to SQL schemas.\nHave looked ax xsd but really need something that we can run from ant/\nEclipse without SQL Server installed.\nRegards,\nAndy\n", "I usually type my map declarations but was doing some maint and found one without typing.  This got me thinking (Oh No!).  What is the default typing of a Map declaration.  Consider the following:\nMap map = new HashMap();\nmap.put(\"one\", \"1st\");\nmap.put(\"two\", new Integer(2));\nmap.put(\"three\", \"3rd\");\nfor ( Map.Entry entry : map.entrySet() ){\n  System.out.println(entry.getKey() + \" -> \" + entry.getValue());\n}\n\nthis errors with a incompatible types on Map.Entry.  So if I type the declaration with:\nMap<Object,Object> map = new HashMap();\n\nthen all works well.  So what is the default type that gets set in the declaration about?  Or am I missing something else?\n", "Is there a stand-alone GUI designer that can read and write the .form files that NetBeans (Matisse) generates? I like the GUI designer, but I don't want all the overhead of a complete Java IDE just to create and edit .form XML files.\n", "I want to be replace any occurrence of more than one space with a single space, but take no action in text between quotes.\nIs there any way of doing this with a Java regex? If so, can you please attempt it or give me a hint?\n", "I am looking to use quartz to schedule emails, but I'm not sure which approach to take:\n\nCreate a new job and trigger whenever an email is scheduled OR\nCreate a single job, and create a new trigger each time an email is scheduled\n\nI need to pass the message/recipient etc either way, and I'm not sure whether creating heaps of jobs will start adding considerable memory overheads, as there will quite possibly be thousands of emails scheduled.\nUpdate: These emails will be scheduled by users, not by me - so I will be adding these programmatically at runtime, they aren't scheduled to go out at any particular time.\n", "I'm not sure how to describe this problem, so I think an example is the best way to ask my question:\nI have two tables with a manyToMany relationship:\nDriversLicence <-> LicenceClass\nLicenceClass is things like \"Car\", \"Motorbike\", and \"Medium Rigid\".\nUsing Hibernate Criteria, how can I find all licences that have both \"Car\" and \"Motorbike\" LicenceClasses?\nUPDATE 12/11/2008\nI have discovered that this can easily be achieved by using a custom ResultTransformer. However the problem is that a result transformer only gets applied AFTER the query returns its results, it does not actually become part of the SQL. So I guess my question is now \"Can you do what I initially described in SQL - and is there a Hibernate Criteria analog?\"\n", "I need to find two adjacent repeating digits in a string and replace with a single one. How to do this in Java. Some examples:\n123345 should be 12345\n 77433211 should be 74321\n", "I know there is a WeakHashMap in java.util, but since it uses WeakReferences for everything, which is only referenced by this Map, referenced objects will get lost on the next GC cycle. So it's nearly useless if you want to cache random data, which is very likely to be requested again without being Hard-linked the rest of the time. The best solution would be a map, which uses SoftReferences instead, but i didn't find one in the Java RT Package.\n", "I'm trying to deserialize an xml structure that looks like this:\n<somecontainer>\n    <key1>Value1</key1>\n    <key1>Value2</key1>\n    <key2>Value3</key2>\n    <key2>Value4</key2>\n</somecontainer>\n\nI can basically choose what kind if element to deserialize to, maybe something like a List of Pair or something. The essence here is that the element names are the keys.\nAnd no, I cannot change the xml structure. Anyone know how to do this with xstream ?\n", "I have a bunch of JUnit 3 classes which extend TestCase and would like to automatically migrate them to be JUnit4 tests with annotations such as @Before, @After, @Test, etc.\nAny tool out there to do this in a big batch run?\n", "We have a Java program run as root on Unix, that therefore can read for example the content of the folders /home/user1 and /home/user2. However, if the Unix user \"user1\" is logged in in our application, he should not be able to access \"/home/user2\" data. \nWe would like to use directly the Unix rights and not recreate all the permissions in our application !\nSo, could we...\n\ntry to change the UID of our\nprogram depending on the user logged\nin ? Sounds difficult, and each file\naccess is in different threads so\nthe UID would be different on each\nthread of our program... \nuse JNI to read permissions of\n    \"/home/user2\"...And then determine\n    if user1 has sufficient permissions\n    on \"/home/user2\" ? (how ?).\n\n", "You launch a java program from a console (maybe using a .bat script).\nI don't want the console to remain visible, I want to hide it.\nIs there a simple way to do this ? Without JNI ?\n", "So I want to trigger an event (pausing/unpausing some media) whenever the user presses spacebar anywhere in the my Swing app.\nSince there are so many controls and panels that could have focus, its not really possible to add keyevents to them all(not to mention gross).\nSo I found  \nKeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher()\n\nwhich is awesome, you can register global keypress pre-handlers. There's a major problem though - spaces will be typed all the time in input fields, table cells, etc, and I obviously dont want to trigger the pause event then!\nSo any ideas? \nPerhaps there is way to detect globally whether the cursor is focused on something that allows text input, without having to check through a list of all the editable controls(vomit!)? \n", "My web service method returns a Page object which includes the following methods:\npublic Map<String,String[]> getParameters() { ... }\npublic setParameters(Map<String,String[]> parameters) { ... }\n\nOn the client side, the JAX-WS generated getParameters() method returns a Parameters object which provides a getEntry() method that returns a List<Entry>. However, this list is always empty. What is the cause?\n", "I'm currently working on a WebSphere 6.1 Web Project.\nIn my java code, how can i get the current running application port?\n", "There is a console Java application which is supposed to run untill it is stopped by Ctrl+C or closing the console window. How that application can be programmed to execute a clean up code before exit? \n", "My servlet application includes a number of library .jars, some of which contain embedded log4j.xml or log4j.properties files. I'd like to ensure that log4j finds my log4j.xml first! I've tried searching for some specification of the priorities of the various classpath elements in a servlet (e.g. does WEB-INF/classes always precede WEB-INF/lib?), or some way to configure or tweak the servlet's classloader so that a given resource directory appears early in the classpath. So far, I've drawn a blank. Any suggestions on ensuring that a servlet .war file loads the correct log4j.xml via the classloader?\n", "Currently i have this method:\nstatic boolean checkDecimalPlaces(double d, int decimalPlaces){\n    if (d==0) return true;\n\n    double multiplier = Math.pow(10, decimalPlaces); \n    double check  =  d * multiplier;\n    check = Math.round(check);      \n    check = check/multiplier; \n    return (d==check);      \n}\n\nBut this method fails for checkDecmialPlaces(649632196443.4279, 4) probably because I do base 10 math on a base 2 number.\nSo how can this check be done correctly?\nI thought of getting a string representation of the double value and then check that with a regexp - but that felt weird.\nEDIT:\nThanks for all the answers. There are cases where I really get a double and for those cases I implemented the following:  \nprivate static boolean checkDecimalPlaces(double d, int decimalPlaces) {\n    if (d == 0) return true;\n\n    final double epsilon = Math.pow(10.0, ((decimalPlaces + 1) * -1));\n\n    double multiplier = Math.pow(10, decimalPlaces);\n    double check = d * multiplier;\n    long checkLong = (long) Math.abs(check);\n    check = checkLong / multiplier;\n\n    double e = Math.abs(d - check);\n    return e < epsilon;\n}\n\nI changed the round to a truncation. Seems that the computation done in round increases the inaccuracy too much. At least in the failing testcase.\nAs some of you pointed out if I could get to the 'real' string input I should use BigDecimal to check and so I have done:  \nBigDecimal decimal = new BigDecimal(value);\nBigDecimal checkDecimal = decimal.movePointRight(decimalPlaces);\nreturn checkDecimal.scale() == 0;\n\nThe double value I get comes from the Apache POI API that reads excel files.  I did a few tests and found out that although the API returns double values for numeric cells I can get a accurate representation when I immediately format that double with the DecimalFormat:  \nDecimalFormat decimalFormat = new DecimalFormat();\ndecimalFormat.setMaximumIntegerDigits(Integer.MAX_VALUE);\n// don't use grouping for numeric-type cells\ndecimalFormat.setGroupingUsed(false);\ndecimalFormat.setDecimalFormatSymbols(new DecimalFormatSymbols(Locale.US));\nvalue = decimalFormat.format(numericValue);\n\nThis also works for values that can't be represented exactly in binary format.\n", "What is the best way to implement connection pooling in hsqldb, without compromising on the speed?\n", "Spring Workflow has now been published.\n\nHave you tried it yet? For what kind of scenario?\nWhat is your impression? How do you find it stacks up against other workflow libs?\nFound any good docs or tutorials?\n\n", "I work on a medium sized development team that maintains a 8+ years old web application written in Java 1.4.\nFor new development I always try to convince people to adhere to newer standards and best practices, That goes from simple things like using new naming standards like HtmlImplementation over HTMLImplementation, to things like why it's better to code against an interface versus coding against concrete classes, favor immutability or object composition a over class inheritance.\nI have found this rather generic link in Stackoverflow, which is not Java-oriented nor complete.\nI always try to explain the rationale behind my arguments, and always suggest people buy the latest edition of Effective Java, but it's not every developer that takes my word without questioning (which is a good thing). \nWhen that happens, they often ask me for pointers where they could read further about that specific good practice and sometimes I fail to quickly find pointers about that.\nDo you have any links to online material I could gather in a \"collection\" of Best Practices reference, in a way I can always look that up and suggest the \"further reading\" to my teammates?\n", "Always when I run java application it will display in Windows Task Manager is java.exe or javaw.exe. How to rename java.exe or javaw.exe process without wrapper by other programming languages.\n", "Why are there not more opensource easy to use charting libraries for Java?. The only successful opensource project in this area seems to be jfreechart, and it doesn't even have any documentation or examples available.\n", "I'd like to write some unit tests for some code that connects to a database, runs one or more queries, and then processes the results.\n(Without actually using a database)\nAnother developer here wrote our own DataSource, Connection, Statement, PreparedStatement, and ResultSet implementation that will return the corresponding objects based on an xml configuration file. (we could use the bogus datasource and just run tests against the result sets it returns).\nAre we reinventing the wheel here? Does something like this exist already for unit testing?\nAre there other / better ways to test jdbc code?\n", "I've got a WAR file that I need to add two files to. Currently, I'm doing this:\nFile war = new File(DIRECTORY, \"server.war\");\nJarOutputStream zos = new JarOutputStream(new BufferedOutputStream(new FileOutputStream(war)));\n\n//Add file 1\nFile file = new File(DIRECTORY, \"file1.jar\");\nInputStream is = new BufferedInputStream(new FileInputStream(file));\nZipEntry e = new ZipEntry(\"file1.jar\");\nzos.putNextEntry(e);\nbyte[] buf = new byte[1024];\nint len;\nwhile ((len = is.read(buf, 0, buf.length)) != -1) {\n    zos.write(buf, 0, len);\n}\nis.close();\nzos.closeEntry();\n\n//repeat for file 2\n\nzos.close();\n\nThe result is that the previous contents get clobbered: the WAR has only the 2 files I just added in it. Is there some sort of append mode that I'm not using or what?\n", "Is there any performance difference between the for loops on a primitive array? \nAssume:\ndouble[] doubleArray = new double[300000];\n\n\nfor (double var: doubleArray) \n   someComplexCalculation(var);\n\nor :\nfor ( int i = 0, y = doubleArray.length; i < y; i++)\n   someComplexCalculation(doubleArray[i]);\n\nTest result\nI actually profiled it:\nTotal timeused for modern loop= 13269ms\nTotal timeused for old loop   = 15370ms\n\nSo the modern loop actually runs faster, at least on my Mac OSX JVM 1.5. \n", "I'd like to remove all \"unchecked\"  warnings from this general utility method (part of a larger class with a number of similar methods).  In a pinch, I can use @SuppressWarnings(\"unchecked\") but I'm wondering if I can use generics properly to avoid the warning.\nThe method is intended to be allow callers to compare two objects by passing through to compareTo, with the exception that if the object is a strings it does it in a case insensitive manner.\npublic static int compareObject(Comparable o1, Comparable o2)\n{\n    if ((o1 instanceof String) && (o2 instanceof String))\n        return ((String) o1).toUpperCase().compareTo(((String) o2).toUpperCase());\n    else\n        return o1.compareTo(o2);\n}\n\nThis was my first (incorrect) attempt at a solution.  The parameters work fine, but the line o1.compareTo(o2) has a compile error \"The method compareTo(capture#15-of ?) in the type Comparable is not applicable for the arguments (Comparable\".\npublic static int compareObject(Comparable<?> o1, Comparable<?> o2)\n{\n    if ((o1 instanceof String) && (o2 instanceof String))\n        return ((String) o1).toUpperCase().compareTo(((String) o2).toUpperCase());\n    else\n        return o1.compareTo(o2);\n}\n\nAny suggestions?\n", "Is there any performance reason to declare method parameters final in Java?\nAs in:\npublic void foo(int bar) { ... }\n\nVersus:\npublic void foo(final int bar) { ... }\n\nAssuming that bar is only read and never modified in foo().\n", "I would like to make my Java/Swing application compatible with the Services-menu available on Mac OS X. For example, so that the user could select some text in JTextArea and have it converted into speech by Services -> Speech -> Start Speaking Text.\nIs there a simple way to achieve that?\n(The application should still be able to run on platforms other than Mac OS X.)\n", "I'd like to format a duration in seconds using a pattern like H:MM:SS. The current utilities in java are designed to format a time but not a duration.\n", "How can I create an instance of the following annotation (with all fields set to their default value).\n    @Retention( RetentionPolicy.RUNTIME )\n    public @interface Settings {\n            String a() default \"AAA\";\n            String b() default \"BBB\";\n            String c() default \"CCC\";\n    }\n\nI tried new Settings(), but that does not seem to work...\n", "I'm trying to save the output of an vector image drawin in Java2D to an SWF file. There are great libraries for saving java2D output as things like SVG (BATIK) and PDF(itext) but I can't find one for SWF.  Any ideas?\n", "I need to read an Excel 2007 XLSX file in a Java application. Does anyone know of a good API to accomplish this task?\n", "I just pasted some generated javadoc into an eclipse project, to discover none of the HTML is compliant.\nThere is even cases of closing tags that were never opened.\nIs there some way to fix this? Maybe a \"be compliant\" option...\n", "At what point is it better to switch from java.net to java.nio? .net (not the Microsoft entity) is easier to understand and more familiar, while nio is scalable, and comes with some extra nifty features.\nSpecifically, I need to make a choice for this situation: We have one control center managing hardware at several remote sites (each site with one computer managing multiple hardware units (a transceiver, TNC, and rotator)).  My idea was to have write a sever app on each machine that acts as a gateway from the control center to the radio hardware, with one socket for each unit.  From my understanding, NIO is meant for one server, many clients, but what I'm thinking of is one client, many servers.  \nI suppose a third option is to use MINA, but I'm not sure if that's throwing too much at a simple problem.\n\nEach remote server will have up to 8 connections, all from the same client (to control all the hardware, and separate TX/RX sockets). The single client will want to connect to several servers at once, though. Instead of putting each server on different ports, is it possible to use channel selectors on the client side, or is it better to go multi-threaded io on the client side of things and configure the servers differently?\n\nActually, since the remote machines serve only to interact with other hardware, would RMI or IDL/CORBA be a better solution? Really, I just want to be able to send commands and receive telemetry from the hardware, and not have to make up some application layer protocol to do it.\n", "What is the difference between a Hash Map and dictionary ADT. And when to prefer one over another. For my programming assignment my instructor has asked to use one of them but I don't see any difference in between both. The program is supposed to work with a huge no. of strings. Any suggestions?\n", "What does Java use as a default probing method for HashMap? Is it Linear? Chaining or something else?\n", "Im trying to get into some basic JavaFX game development and I'm getting confused with some circle maths.\nI have a circle at (x:250, y:250) with a radius of 50.\nMy objective is to make a smaller circle to be placed on the circumference of the above circle based on the position of the mouse.\nWhere Im getting confused is with the coordinate space and the Trig behind it all.\nMy issues come from the fact that the X/Y space on the screen is not centered at 0,0. But the top left of the screen is 0,0 and the bottom right is 500,500.\nMy calculations are:\nvar xpos:Number = mouseEvent.getX();\nvar ypos:Number = mouseEvent.getY();\n\nvar center_pos_x:Number = 250;\nvar center_pos_y:Number = 250;\n\nvar length = ypos - center_pos_y;\nvar height = xpos - center_pos_x;\n\nvar angle_deg = Math.toDegrees(Math.atan(height / length));\nvar angle_rad = Math.toRadians(angle_deg);\n\nvar radius = 50;\n\nmoving_circ_xpos = (radius * Math.cos(angle_rad)) + center_pos_x;\nmoving_circ_ypos = (radius * Math.sin(angle_rad)) + center_pos_y;\n\nI made the app print out the angle (angle_deg) that I have calculated when I move the mouse and my output is below:\nWhen the mouse is (in degrees moving anti-clockwise):\n\ndirectly above the circle and horizontally inline with the center, the angle is -0\nto the left and vertically centered, the angle is -90\ndirectly below the circle and horizontally inline with the center, the angle is 0\nto the right and vertically centered, the angle is 90\n\nSo, what can I do to make it 0, 90, 180, 270??\nI know it must be something small, but I just cant think of what it is...\nThanks for any help\n(and no, this is not an assignment)\n", "What is the difference in the accessibility of the following variables in Java?\npublic class Joe {\n    public int a;\n    protected int b;\n    private int b;\n    int c;\n}\n\nI'm most interested in what the last one is doing.\n", "Slightly related to my other question: What is the difference between the following:\nprivate class Joe\nprotected class Joe\npublic class Joe\nclass Joe\n\nOnce again, the difference between the last 2 is what I'm most interested in.\n", "I could use the following:\n<fileset dir=\"C:\\Program Files\\eclipse\\plugins\\myplugin\">\n    <include name=\"extraStuff.jar\" />\n</fileset>\n\nBut that breaks the build file on someone else's PC who did not install eclipse into the default folder.\nIn my case I can't use basedir without hard folder references.\nIs there a 'shortcut' to the eclipse install folder that I can use from ant running in eclipse?\n", "Is there anyway to decompile java webstart application? \n", "We currently have a web application loading a Spring application context which instantiates a stack of business objects, DAO objects and Hibernate. We would like to share this stack with another web application, to avoid having multiple instances of the same objects.\nWe have looked into several approaches; exposing the objects using JMX or JNDI, or using EJB3. \nThe different approaches all have their issues, and we are looking for a lightweight method. \nAny suggestions on how to solve this?\nEdit: I have received comments requesting me to elaborate a bit, so here goes:\nThe main problem we want to solve is that we want to have only one instance of Hibernate. This is due to problems with invalidation of Hibernate's 2nd level cache when running several client applications working with the same datasource. Also, the business/DAO/Hibernate stack is growing rather large, so not duplicating it just makes more sense.\nFirst, we tried to look at how the business layer alone could be exposed to other web apps, and Spring offers JMX wrapping at the price of a tiny amount of XML. However, we were unable to bind the JMX entities to the JNDI tree, so we couldn't lookup the objects from the web apps.\nThen we tried binding the business layer directly to JNDI. Although Spring didn't offer any method for this, using JNDITemplate to bind them was also trivial. But this led to several new problems: 1) Security manager denies access to RMI classloader, so the client failed once we tried to invoke methods on the JNDI resource. 2) Once the security issues were resolved, JBoss threw IllegalArgumentException: object is not an instance of declaring class. A bit of reading reveals that we need stub implementations for the JNDI resources, but this seems like a lot of hassle (perhaps Spring can help us?)\nWe haven't looked too much into EJB yet, but after the first two tries I'm wondering if what we're trying to achieve is at all possible. \nTo sum up what we're trying to achieve: One JBoss instance, several web apps utilizing one stack of business objects on top of DAO layer and Hibernate.\nBest regards,\nNils\n", "Could point me to some good links, or share experiences of the differences / similarities between the JBI and SCA specifications?\nMany thanks :-)\n", "How do you do your Hibernate session management in a Java Desktop Swing application? Do you use a single session? Multiple sessions?\nHere are a few references on the subject:\n\nhttp://www.hibernate.org/333.html\nhttp://blog.schauderhaft.de/2008/09/28/hibernate-sessions-in-two-tier-rich-client-applications/ \nhttp://in.relation.to/Bloggers/HibernateAndSwingDemoApp\n\n", "I know about SortedSet, but in my case I need something that implements List, and not Set. So is there an implementation out there, in the API or elsewhere?\nIt shouldn't be hard to implement myself, but I figured why not ask people here first?\n", "I have a JFrame with a menu bar and a canvas covering all the remaining surface. When I click on the menu bar, the menu opens behind the Canvas and I can't see it. Has anyone experienced this? Other than resizing the Canvas (which I am reluctant to do) is there any solution?\nThanks,\nVlad\n", "Consider this:\npublic class TestClass {\n\n    private String a;\n    private String b;\n\n    public TestClass()\n    {\n    a = \"initialized\";\n    }\n\n    public void doSomething()\n    {\n    String c;\n\n        a.notify(); // This is fine\n    b.notify(); // This is fine - but will end in an exception\n    c.notify(); // \"Local variable c may not have been initialised\"\n    }\n\n}\n\nI don't get it. \"b\" is never initialized but will give the same run-time error as \"c\", which is a compile-time error. Why the difference between local variables and members?\nEdit: making the members private was my initial intention, and the question still stands...\n", "I have a servlet that I would like to run within ColdFusion MX 7. I would like to make use of an existing ColdFusion DSN as a javax.sql.DataSource, if possible.\nI thought something like \ncoldfusion.server.ServiceFactory.getDataSourceService().getDatasource(dsname);\n\nwould work, but unfortunately the servlet returns\njava.lang.NoClassDefFoundError: coldfusion/server/ServiceFactory\n\n", "I have two Java classes : B, which extends another class A, as follows :\nclass A\n{\n    public void myMethod()\n    { /* ... */ }\n}\n\nclass B extends A\n{\n    public void myMethod()\n    { /* Another code */ }\n}\n\nI would like to call the A.myMethod() from the B.myMethod(). I am coming from the C++ world, and I don't know how to do this basic thing in Java :(\nIf someone can help :)\nThanks.\n", "[1] In JDBC, why should we first load drivers using Class.forName(\"some driver name\").\nWhy SUN didnt take care of loading driver within the getConnection() method itself.If I pass driver name as a parameter to the getConnection() method. \n[2] I want to understand JBDC internals.Any pointers towards it are appreciated. \n", "We use Tomcat to host our WAR based applications.  We are servlet container compliant J2EE applications with the exception of org.apache.catalina.authenticator.SingleSignOn.\nWe are being asked to move to a commercial Java EE application server.\n\nThe first downside to changing that\nI see is the cost.  No matter what\nthe charges for the application\nserver, Tomcat is free.\nSecond is the complexity.  We don't\nuse either EJB nor EAR features (of\ncourse not, we can't), and have not missed them.\n\nWhat then are the benefits I'm not seeing?\nWhat are the drawbacks that I haven't mentioned?\n\nMentioned were...\n\nJTA - Java Transaction API - We\ncontrol transaction via database\nstored procedures.\nJPA - Java Persistence API - We use\nJDBC and again stored procedures to\npersist.\nJMS - Java Message Service - We use\nXML over HTTP for messaging.\n\nThis is good, please more!\n", "I have implemented a SAX parser in Java by extending the default handler. The XML has a \u00f1 in its content. When it hits this character it breaks. I print out the char array in the character method and it simply ends with the character before the \u00f1. The parser seems to stop after this as no other methods are called even though there is still much more content. ie the endElement method is never called again. Has anyone run into this problem before or have any suggestion on how to deal with it?\n", "We have an Java application running on Weblogic server that picks up XML messages from a JMS or MQ queue and writes it into another JMS queue. The application doesn't modify the XML content in any way. We use BEA's XMLObject to read and write the messages into queues.\nThe XML messages contain the encoding type declarations as UTF-8.\nWe have an issue when the XML contains characters that are out side the normal ASCII range (like \u00a3 symbol for example). When the message is read from the queue we can see that the \u00a3 symbol is intact, however once we write it to the destination queue, the \u00a3 symbol is lost and is replaced with \u00c2\u00a3 instead.\nI have checked the OS level settings (locale settings) and everything seems to be fine. What else should I be checking to make sure that this doesn't happen?\n", "After using them a while I can't help but feel that the hoops you're forced to jump through when using anonymous classes are not worth it.\nYou end up with final all over the place and no matter what the code is more difficult to read than if you'd used a well named inner class.\nSo what are the advantages of using them?  I must be missing something.\n", "I'm trying to change default firstDayOfWeek for java.util.Calendar from SUNDAY to MONDAY. Is it possible to achieve this through JVM configuration instead of adding this piece of code?\ncal.setFirstDayOfWeek(Calendar.MONDAY);\n\n", "I am launching a child process with ProcessBuilder, and need the child process to exit if the parent process does.  Under normal circumstances, my code is stopping the child properly.  However, if I cause the OS to kill the parent, the child will continue running.\nIs there any way to \"tie\" the child process to the parent, such that it'll exit when the parent is killed?\n\nSimilar questions:\n\nHow to make child process die after parent exits?\nAre child processes created with fork() automatically killed when the parent is killed?\n\n", "I have a file I need to rename to that of an existing file. This is a copy, modify, replace original operation on an existing JAR file. I've got the first two steps done, I just need help with the replace original bit. What's the best way to rename the new version of the JAR to that of the old. The old JAR doesn't need preserving and I don't want to have a copy of the new with its initial name sticking around. \nI have commons lang and io already, so if there's a method I've missed, that would be great.\n", "Either for comparisons or initialization of a new variable, does it make a difference which one of these you use?\nI know that BigDecimal.ZERO is a 1.5 feature, so that's a concern, but assuming I'm using 1.5 does it matter?\nThanks.\n", "I'm looking for a good way to run a Apache Derby server in network mode. I'm using the NetworkServerControl to start the server and it's working great.\nI start the server like this:\n/**\n * starts the network server\n * @return true if sucessfull\n */\npublic boolean start()\n{\n    try\n    {\n        // just to be sure that we don't start two servers\n        this.stop();\n\n        server = new NetworkServerControl();\n        server.start( null );\n\n        return true;\n    }\n    catch ( Exception ex )\n    {\n        this.logLogger.debug( ex );\n        return false;\n    }\n}\n\nAnd stop it like this:\n/**\n * stops the server\n * \n * @return true if there were no problems stopping the server\n */\npublic boolean stop()\n{\n    try\n    {\n        if ( server == null )\n        {\n            server = new NetworkServerControl();\n        }\n        server.shutdown();\n\n        return true;\n    }\n    catch ( Exception ex )\n    {\n        this.logLogger.debug( ex );\n        return false;\n    }\n}\n\nOn the main() I have this so the process doesn't die while the server is running\n(...)\nclsDB.start();\n\nwhile( clsDB.testForConnection() )\n{\n   Thread.sleep( 60000 );\n}\n\ntestForConnection() looks like this:\n/**\n * Try to test for a connection\n * \n * @return true if the server is alive\n */\npublic boolean testForConnection()\n{\n    try\n    {\n        server.ping();\n\n        return true;\n    }\n    catch ( Exception ex )\n    {\n        this.logLogger.debug( ex );\n        return false;\n    }\n}\n\nMy problem is that when a new instace of my JAR is called the old one will still be running (unless I'm really really lucky and the test is made before the new server is started).\nI know I could just test if the server is already running and then I wouldn't start again, but I would like for start to work like a restart if the server is already there.\n", "According to Wikipedia when rounding a negative number, you round the absolute number. So by that reasoning, -3.5 would be rounded to -4. But when I use java.lang.Math.round(-3.5) returns -3. Can someone please explain this?\n", "I have been trying to parse Java exceptions that appear in a log for some code I'm working with. My question is, do you parse the exception trace from the top down, or the bottom up? It looks something like this:\nERROR [main]</b> Nov/04 11:03:19,440 [localhost].[/BookmarksPortlet].[] - Exception sending context...\norg.springframework.beans.factory.BeanCreationException: Error creating bean...: Cannot Resolve reference...: Error creating bean... nested exception... nested exception is org.hibernate.HibernateException: Dialect class not found: org.hibernate.dialect.Oracle10gDialect\nCaused by:\n... [similar exceptions and nested exceptions]\n...\n    at [start of stack trace]\n\nSomething like that. Obviously, I'm not looking for the answer to this specific exception, but how do you go about parsing an exception trace like this? Do you start at the top level error, or do you start at the inner most error (under the \"caused by\" clauses)?\nThe problem is more difficult for me because I'm not working with code I wrote. I'm editing the XML configurations, so I'm not really even looking the Java code. In my own code, I would recognize locations in the trace and would know what sort of things to look for. So how do you approach an exception like this in general?\n", "I want the log to roll over as long as the application is running, but I want the log to start fresh when the application is restarted.\nUpdated:\nBased on erickson's feedback, my appender looks like this:\n   <appender name=\"myRFA\" class=\"org.apache.log4j.RollingFileAppender\">\n      <param name=\"File\" value=\"my-server.log\"/>\n      <param name=\"Append\" value=\"false\" />\n      <param name=\"MaxFileSize\" value=\"10MB\"/>\n      <param name=\"MaxBackupIndex\" value=\"10\"/>\n      <layout class=\"org.apache.log4j.PatternLayout\">\n         <param name=\"ConversionPattern\"\n            value=\"%d{ISO8601} %p - %t - %c - %m%n\"/>\n      </layout>\n   </appender>\n\nI simply added the following line:\n<param name=\"Append\" value=\"false\" />\n\nIt now truncates the base log file at startup, but it leaves the rolled files alone.\n", "I'm writing a small GUI app that contains some \"editor\" functionality, and something that I'd like to let users open a few sample text files to test things out quickly. The easiest way of doing this would be to package a separate zip with the appropriate sample files, and have them open them manually; I'd like to make things a little more user-friendly and allow them to pick the files from inside the application and then run them.\nSo... what do I use? I initially considered .properties but that doesn't seem terribly well suited for the job...\n", "An application that has been working well for months has stopped picking up the JPA @Entity annotations that have been a part of it for months.  As my integration tests run I see dozens of \"org.hibernate.MappingException: Unknown entity: com.whatever.OrderSystem\" type errors.\nIt isn't clear to me what's gone wrong here.\nI have no hibernate.cfg.xml file because I'm using the Hibernate Entity Manager.  Since I'm exclusively using annotations, there are no .hbm.xml files for my entities.  My persistence.xml file is minimal, and lives in META-INF as it is supposed to.\nI'm obviously missing something but can't put my finger on it.\nI'm using hibernate-annotations 3.2.1, hibernate-entitymanager 3.2.1, persistence-api 1.0 and hibernate 3.2.1.  hibernate-commons-annotations is also a part of the project's POM but I don't know if that's relevant.\nIs there a web.xml entry that has vanished, or a Spring configuration entry that has accidentally been deleted?\n", "I'm writing a small agent in java that will play a game against other agents. I want to keep a small amount of state (probably approx. 1kb at most) around between runs of the program so that I can try to tweak the performance of the agent based upon past successes. Essentially, I will be reading a small amount of data at the beginning of each game and writing a small amount at the end. It seems like I have 2 options, file I/O or derby. Is there a speed advantage to either? Or does it not really matter for such a small amount of data? \n", "I know the file needs to be where the getClass().getResource(filename) can find it, but I don't know where that is.\nI'm interested both in where to put the files on the filesystem itself, and how to go about using Eclipse's functionality to set up the resources.\n", "I'm looking to update our project's jaxb version from 1 to 2.  Has anyone tried doing this on their projects and are there any tips that anyone wanting to do this?  I understand that each project is unique, I'm just looking for general tips.\n", "A colleague recently asked me how to deep-clone a Map and I realized that I probably have never used the clone() method- which worries me.\nWhat are the most common scenarios you have found where you need to clone an object?\n", "I have two tables (renamed/refactored for illustrative purposes) with a Many-To-Many relationship in an HSQL database.  I want everything to be wiped out when I delete from one side of a Many-to-Many relationship (without querying the table; this is performance critical)\nHere are my main tables:\nCREATE TABLE PERSON\n(\n    PERSON_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, \n    NAME VARCHAR(50)\n)\n\nCREATE TABLE JOB\n(\n    JOB_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, \n    NAME VARCHAR(50)\n)\n\nHere is my join table:\nCREATE TABLE JOB_PERSON\n(\n    PERSON_ID INTEGER, \n    JOB_ID INTEGER\n)\n\nHere are my constraints:\nALTER TABLE JOB_PERSON ADD \n    CONSTRAINT FK_PERSON_JOB FOREIGN KEY(PERSON_ID) \n    REFERENCES PERSON ON DELETE CASCADE ON UPDATE CASCADE \n\nALTER TABLE JOB_PERSON ADD\n    CONSTRAINT FK_JOB_PERSON FOREIGN KEY(JOB_ID) \n    REFERENCES JOB ON DELETE CASCADE ON UPDATE CASCADE\n\nI basically want to do this:  \"delete from person where person_id=0\" and have it delete everything from PERSON, JOB_PERSON and JOB if the JOB entity will be orphaned (no longer referenced in the many to many table)\nIs this possible without querying the database?  When I delete, it only deletes from PERSON and JOB_PERSON.  As you can probably tell, my sql skills are lacking.\nHere is the dummy data I have been playing around with:\ninsert into person values(null,'Arthur');\ninsert into person values(null,'James');\ninsert into job values(null, 'Programmer')\ninsert into job values(null, 'Manager')\ninsert into job_person values(0,0);\ninsert into job_person values(0,1);\ninsert into job_person values(1,1);\n\nSo if I enter both of these statements:  \ndelete from person where person_id=0\ndelete from person where person_id=1\n\nI would like to have everything in all 3 tables deleted.  Possible?\n", "I'm getting this error:\njavax.servlet.ServletException: bean not found within scope\n\non a page with this at the top.\n<jsp:useBean id=\"bean\" type=\"com.example.Bean\" scope=\"request\" />\n\nThe class exists in the classpath, it worked this morning, and I don't get what not found within scope means.\nHow is this caused and how can I solve it?\n", "Is there a way to compile multiple java source directories in a single maven project? \n", "We need some input on what is a good design pattern on using AJAX in a Java application. \nConsider a simple scenario:\n\nUser clicks a button which sends a request to a Java method to fetch data from DB.\nJava object is returned by method and needs to be converted into a HTML table.\nHTML table is shown on JSP.\n\nWhat we currently do:\n\nOn a JSP page, user clicks \"Show Users\" button\nButton using Prototype.js calls a \"middleman\" JSP which forwards the request to the Java method to get the data from the DB.\nThe method returns the Java object to the \"middleman\" JSP which converts the Java object into HTML (since the AJAX call from the calling JSP won't be able to handle the Java object directly).\nThe HTML is then returned to the Prototype call which updates the div on the calling JSP.\n\nOur concerns are:\n\nWe would like to keep the separation of business/presentation logic and would prefer no HTML/JavaScript code inside our Java methods.\nKeeping (1) in mind, is having a \"middleman\" JSP an OK way to do this? Or should we return the Java object as XML/XSLT to the AJAX request?\nThe above way we're doing has very little JavaScript and works in all browsers.\nWe looked at some other packages - DWR, GWT, but either there was too much dependency on JavaScript or required UI components to be present in the Java classes.\n\nIs our way of doing things above OK? Or is there another preferable way?\nAny help/thoughts would be appreciated.\nThanks,\nSP\n", "I've been doing some socket programming to transmit information across the wire.  I've run into a problem with DataOutputStream.writeUTF().  It seems to allow strings of up to 64k but I have a few situations where I can run over this.  Are there any good alternatives that support larger strings or do I need to roll my own?\n", "What is a doubly linked list's remove method?\n", "I wrote an IntelliJ IDEA plugin for version 7.0 that uses JspxIncludePathReferenceProvider to allow autocomplete in a custom JSP tag (e.g. dsp:include src=\"/path/to/file.jsp\").\nThe new version 8 of IntelliJ has changed the API for the Reference providers and I can't figure out how to convert this plugin for the new API.\nAny suggestions?\n", "I have a simple question. Is there a way ( using reflections I suppose ) to iterate all the static values of a class?\nFor instance \nclass Any {\n    static int one = 1;\n    static int two = 2;\n    static int three = 3;\n\n    public static void main( String [] args ) {\n          for( int i : magicMethod( Any.class ) ){\n              System.out.println( i );\n          }\n    }\n }\n\nOutput\n 1\n 2\n 3\n\nThanks.\n", "I am creating a buffered image that is going to be a snapshot of a JComponent (via paint()) and rendered inside an ImageIcon.  There are a large amount of types in the BufferedImage(int width, int height, int imageType) constructor, but which one should I use?  \nI am sure that any of them would work, but which ones are better than the others?  How should I pick one? And Why?\n", "I'm using JMX to save some diagnostic information from a remote process. Looking at the interface in jconsole shows that the return type is CompositeData (the data actually comes back as CompositeDataSupport). I want to output all the key/value pairs that are associated with this object.\nThe problem is that the interface just seems to have a \"values()\" method with no way of getting the keys. Am I missing something here? Is there some other way to approach this task?\nThanks!\n", "I asked a question earlier about which language to use for an AI prototype. The consensus seemed to be that if I want it to be fast, I need to use a language like Java or C++, but that Python / Perl / Ruby would be good for the interface bits. \nSo, this leads me on to another question. How easy is it to link these languages together? And which combination works best? So, if I wanted to have a Ruby CGI-type program calling C++ or Java AI functions, is that easy to do? Any pointers for where I look for information on doing that kind of thing? Or would a different combination be better?\nMy main experience with writing web applications started with C++ CGI and then moved on to Java servlets (about 10 years ago) and then after a long gap away from programming I did some PHP. But I've not had experience of writing a web application in a scripting language which then calls out to a compiled language for the speed-critical bits. So any advice will be welcome!\n", "I am refering to the question on changing the classpath programmatically.\nI read and found out that there is some function under System class as getproperties where we can retrieve the properties and then also can set it using setProperties().\nThe answers however I got was that It Wont work. I have not tried this myself, however, i am taking the call.\nJust to clarify, then why these  setProperty() and getProperty() methods are there if they cannot alter it at run time. Or is this specific to the classpath property only ?\nI will appreciate if someone can present a scenario where they are really helpful?\n", "Sometimes when I am debugging code in Eclipse it happens that although I can see and inspect class member variables without any difficulty I am unable to inspect the values of variables declared locally within functions. As an aside, any parameters to the current function lose their 'real' names and instead one sees their values listed in the Variables window as arg0, arg1, arg2, etc but at least the values are visible.\nThis is occurring at present in relation to classes defined within the core JDK. I have verified that the installed and current JRE is a JDK.\nIs anybody able to shed some light on this behaviour?\n", "The idiom I use the most when programming in Java is to test if object != null before I use it. This is to avoid a NullPointerException. I find the code very ugly, and it becomes unreadable.\nIs there a good alternative to this? \nI want to address the necessity to test every object if you want to access a field or method of this object. \nFor example:\nif (someobject != null) {\n    someobject.doCalc();\n}\n\nIn this case I will avoid a NullPointerException, and I don't know exactly if the object is null or not. These tests appear throughout my code as a consequence.\n", "There is an application with an extensive object graph. This graph mainly consists of a set of subgraphs which are connected to the rest of the graph through the only reference. But internally each such subgraph has some number of cross-references among objects. Once in a while such a sub graph needs to be thrown away. Would it be enough just to set to null the only referece which points to that subgraph to make it eligible for garbage collection?\nMy concern is that internal cross-references may \"protect\" the entire subgraph from garbage collection. In other words, is the garbage collector wise enough to figure out that all references in a subgraph do not leave the boundaries of the subgraph and therefore entire subgraph can be purged.\n", "I've got a Java application that I'm writing an installer for.  We're using the AdvancedInstaller program to create our installer (well, we're evaluating it currently, but will definitely purchase a license soon), and although it has special support for Java applications, it is geared more towards repackaging them as desktop-type apps, and our software is a series of Java services and other utilities which doesn't make sense to distribute in EXE-wrappers.  The target audience for this software is very specific, and we know that our software will probably be automatically distributed on freshly-imaged Windows 2003 Server machines.  So requiring Java as a prerequisite basically makes more work for some poor sysadmin, and I'd rather avoid that if at all possible by repackaging the JRE's installer inside of our own.\nI discovered that if I tried to execute the JRE's installer as a pre-install step from my MSI, it complains that another installer is already running (mine, of course), so it bails out.  When I try to add the JRE installer as a software prerequisite in the AdvancedInstaller project (as a bundled EXE, not a URL link), it never seems to actually get installed, despite me trying to force-install it.\nWhat's the best way to repackage the JRE?  I'm not really a Java guy, so I don't know too much about how other developers deal with this same problem, short of requiring their users to hunt out and install the JRE on their own.  The ideal solution here would be for us to find a EXE installer which can be executed from inside of another MSI installer, or if it's possible, to just package all of the files inside of the JRE and then create the appropriate registry and environment variables.  How should I go about doing this?\n", "We have a couple of applications running on Java 5 and would like now to bring in an application based on Java 6. Can both java versions live together under Windows? \nIs there any control panel to set the appropriate Java version for different applications, or any other way to set up, what version of Java will be used to run that particular application?\n", "My requirement is I have server J2EE web application and client J2EE web application. Sometimes client can go offline. When client comes online he should be able to synchronize changes to and fro. Also I should be able to control which rows/tables need to be synchronized based on some filters/rules. Is there any existing Java frameworks for doing it? If I need to implement on my own, what are the different strategies that you can suggest?\nOne solution in my mind is maintaining sql logs and executing same statements at other side during synchronization. Do you see any problems with this strategy?\n", "I was reading Java Platform Performance (sadly the link seems to have disappeared from the internet since I originally posed this question) and section A.3.3 worried me.\nI had been working on the assumption that a variable that dropped out of scope would no longer be considered a GC root, but this paper appears to contradict that.\nDo recent JVMs, in particular Sun's 1.6.0_07 version, still have this limitation? If so, then I have a lot of code to analyse...\nI ask the question because the paper is from 1999 - sometimes things change, particularly in the world of GC.\n\nAs the paper is no longer available, I'd like to paraphrase the concern. The paper implied that variables that were defined inside a method would be considered a GC root until the method exited, and not until the code block ended. Therefore setting the variable to null was necessary to permit the Object referenced to be garbage collected.\nThis meant that a local variable defined in a conditional block in the main() method (or similar method that contained an infinite loop) would cause a one-off memory leak unless you nulled a variable just before it dropped out of scope.\nThe code from the chosen answer illustrates the issue well. On the version of the JVM referenced in the document, the foo object can not be garbage collected when it drops out of scope at the end of the try block. Instead, the JVM will hold open the reference until the end of the main() method, even though it is impossible for anything to use that reference.\nThis appears to be the origin of the idea that nulling a variable reference would help the garbage collector out, even if the variable was just about to drop out of scope.\n", "I'd like to send mail without bothering with the SMTP-Server which is used for delivery.\nSo JavaMail API doesn't work for me because I have to specify a SMTP server to connect to.\nI'd like the library to find out on its own which SMTP server is responsible for which email address by querying the MX record of the mail address domain.\nI'm looking for something like Aspirin. Unfortunately I can't use Aspirin itself because the development stopped 2004 and the library fails to communicate with modern spam hardened servers correctly.\nAn embeddable version of James would do the task. But I haven't found documentation concerning whether this is possible.\nOr does anyone know about other libraries I could use?\n", "I am using MulticastSocket to receive UDP Multicast packets. How can I determine to which address such a packet was sent? With the methods provided, I am only able to determine the sender address.\nOf course, I am the one who sets the To-Address when creating the listening socket, but can I really be sure about this? What about broadcast packets? What about packets that somehow end up here?\nI really want to distinguish if the packet was REALLY multicast.\nThank you!\nUpdate: Currently it seems like unicast packets just sent to that port also end up in the multicast sockets receive() :( Binding to devices also gives me no better results\n", "I am using a JEditorPane as an editor to write comments in my application. The content type is set \"text/plain\". When I am writing text in it and the text fills the available space and I go on typing, the text is not moving upward to show the cursor. So I dont know where I am typing and what I am typing since it would be visible.\nCould you tell me how to always show the caret by moving the above text upwards?\nInstead, it could be better if I can auto-resize the editor as I am typing. The JEditorPane is inside a JPanel, so I have to resize that too. any Ideas?\n", "In my database application I sometimes have to deal with null strings in the database. In most cases this is fine, but when it comes do displaying data in a form the Swing components - using JTextField for example - cannot handle null strings. (.setText(null) fails)\n(EDIT: I just noticed that JTextField actually accepts a null string, but the question remains for all other cases where unexpected null values can lead to problems.)\nThe null values have no special meaning, they can (must) be treated as empty strings. \nWhat is the best practice to deal with this problem? Unfortunatly I cannot change the database.\n\nChecking every value if it is null before calling setText()?\nAdding a try-catch handler to every setText() call?\nIntroducing a static method which filters all null strings?\nReplace all null values to empty strings immediatly after reading from the database?\n... [your suggestions]\n\n", "since JTree & TreeModel don't provide tooltips straight out-of-the-box, what do you think, what would be the best way to have item-specific tooltips for JTree?\nEdit: (Answering my own question afterwards.) \n@Zarkonnen: Thanks for the getTooltipText idea. \nI found out another (maybe still a bit nicer) way with overriding DefaultTreeCellRenderer and thought to share it:\npublic class JTreeWithToolTips {\n    private static class OwnRenderer extends DefaultTreeCellRenderer {\n        @Override\n        public Component getTreeCellRendererComponent(JTree tree, Object value,\n                boolean sel, boolean expanded, boolean leaf, int row,\n                boolean hasFocus) {\n            setToolTipText(\"foobar\" + row);\n            return super.getTreeCellRendererComponent(tree, value, sel,\n                    expanded, leaf, row, hasFocus);\n        }\n    }\n\n    public static void main(String[] args) {\n        JTree tree = new JTree(new Object[] { \"foo\", \"bar\", \"foobar\" });\n        tree.setCellRenderer(new OwnRenderer());\n        ToolTipManager.sharedInstance().registerComponent(tree);\n\n        JFrame frame = new JFrame();\n        frame.getContentPane().add(tree);\n        frame.pack();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n}\n\n", "My webapp is part of a larger EAR that is deployed into a websphere server. The server hosts number of other apps on the same virtual server. My webapp has some initialisation/health checks in a servletContextListener->contextInitialized method. I want to make the webapp unavailable if initialisation/health checks fail. What is a realiable way of doing this? Will throwing a RuntimeException from within contextInitialized  suffice? Is the rest of the EAR still expected to be available? Thank you.\n", "What program can I use to decompile a class file? Will I actually get Java code, or is it just JVM assembly code?\nOn Java performance questions on this site I often see responses from people who have \"decompiled\" the Java class file to see how the compiler optimizes certain things.\n", "I've got a java server (not web based, more like a big, many-threaded standalone application) that needs to talk to a MS SQL Server database. \nI just worked on a different project that ported a home-grown O/R layer from oracle to SQL Server, and it ran into significant problems because of too many oracle assumptions (locking, mostly). So What O/R layer should I use? \nEdit: I have heard of Hibernate, but everything else is useful! \nSpecifically though, do any of these APIs/frameworks help with the peculiar shortcomings of SQL Servers locking strategy in a multi-threaded environment?\n", "I am looking for a data structure that operates similar to a hash table, but where the table has a size limit.  When the number of items in the hash reaches the size limit, a culling function should be called to get rid of the least-retrieved key/value pairs in the table.\nHere's some pseudocode of what I'm working on:\nclass MyClass {\n  private Map<Integer, Integer> cache = new HashMap<Integer, Integer>();\n  public int myFunc(int n) {\n    if(cache.containsKey(n))\n      return cache.get(n);\n    int next = . . . ; //some complicated math.  guaranteed next != n.\n    int ret = 1 + myFunc(next);\n    cache.put(n, ret);\n    return ret;\n  }\n}\n\nWhat happens is that there are some values of n for which myFunc() will be called lots of times, but many other values of n which will only be computed once.  So the cache could fill up with millions of values that are never needed again.  I'd like to have a way for the cache to automatically remove elements that are not frequently retrieved.\nThis feels like a problem that must be solved already, but I'm not sure what the data structure is that I would use to do it efficiently.  Can anyone point me in the right direction?\n\nUpdate I knew this had to be an already-solved problem.  It's called an LRU Cache and is easy to make by extending the LinkedHashMap class.  Here is the code that incorporates the solution:\nclass MyClass {\n  private final static int SIZE_LIMIT = 1000;\n  private Map<Integer, Integer> cache =\n    new LinkedHashMap<Integer, Integer>(16, 0.75f, true) {\n      protected boolean removeEldestEntry(Map.Entry<Integer, Integer> eldest)\n      {\n        return size() > SIZE_LIMIT;\n      }\n  };\n  public int myFunc(int n) {\n    if(cache.containsKey(n))\n      return cache.get(n);\n    int next = . . . ; //some complicated math.  guaranteed next != n.\n    int ret = 1 + myFunc(next);\n    cache.put(n, ret);\n    return ret;\n  }\n}\n\n", "I have an interesting problem and would appreciate your thoughts for the best solution.\nI need to parse a set of logs. The logs are produced by a multi-threaded program and a single process cycle produces several lines of logs.\nWhen parsing these logs I need to pull out specific pieces of information from each process - naturally this information is across the multiple lines (I want to compress these pieces of data into a single line). Due to the application being multi-threaded, the block of lines belonging to a process can be fragmented as other processes at written to the same log file at the same time.\nFortunately, each line gives a process ID so I'm able to distinguish what logs belong to what process.\nNow, there are already several parsers which all extend the same class but were designed to read logs from a single threaded application (no fragmentation - from original system) and use a readLine() method in the super class. These parsers will keep reading lines until all regular expressions have been matched for a block of lines (i.e. lines written in a single process cycle).\nSo, what can I do with the super class so that it can manage the fragmented logs, and ensure change to the existing implemented parsers is minimal?\n", "When does java let go of a connections to a URL? I don't see a close() method on either URL or URLConnection so does it free up the connection as soon as the request finishes? I'm mainly asking to see if I need to do any clean up in an exception handler.\ntry {\n  URL url = new URL(\"http://foo.bar\");\n  URLConnection conn = url.openConnection();\n  // use the connection\n}\ncatch (Exception e) {\n  // any clean up here?\n}\n\n", "Does anybody know what's going on here:\nI run hibernate 3.2.6 against a PostgreSQL 8.3 (installed via fink) database on my Mac OS X. The setup works fine when I use Java 6 and the JDBC 4 driver (postgresql-8.3-603.jdbc4). However, I need this stuff to work with Java 5 and (hence) JDBC 3 (postgresql-8.3-603.jdbc3). When I change the jar in the classpath and switch to Java 5 (I do this in eclipse), I get the following error:\nException in thread \"main\" org.hibernate.exception.JDBCConnectionException: Cannot open connection\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:74)\n<Rows clipped for readability>\nCaused by: java.sql.SQLException: No suitable driver\n    at java.sql.DriverManager.getConnection(DriverManager.java:545)\n    at java.sql.DriverManager.getConnection(DriverManager.java:140)\n    at org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:110)\n    at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:423)\n\nWhat's the problem here? I cannot see it. Here is my hibernate configuration:\n<hibernate-configuration>\n\n    <session-factory>\n        <property name=\"connection.url\">jdbc:postgresql:test</property>\n        <property name=\"connection.username\">postgres</property>\n        <property name=\"connection.password\">p</property>\n        <property name=\"connection.pool_size\">1</property>\n        <property name=\"dialect\">org.hibernate.dialect.PostgreSQLDialect</property>\n        <property name=\"current_session_context_class\">thread</property>\n        <property name=\"show_sql\">true</property>\n        <mapping resource=\"com/mydomain/MyClass.hbm.xml\"/>\n    </session-factory>\n</hibernate-configuration>\n\nEDIT: The longer, more usual form of the connection URL: jdbc:postgresql://localhost/test has the exact same behaviour.\nThe driver jar is definitely in the classpath, and I also do not manage to get any errors with this direct JDBC test code:\npublic static void main(String[] args) throws Exception {\n  Class.forName(\"org.postgresql.Driver\");  \n  Connection con=DriverManager.getConnection(\"jdbc:postgresql://localhost/test\",\"postgres\", \"p\");\n}\n\n", "We want to share user validation configuration between a Java validation class (for sanity checking) and a Javascript-enabled form web interface (for usability). What's the best way to deploy this static file in our web application so that it is both available to the server-side code, and available via a URL accessed by the client?\nSo far I've thought of putting the file in the application root and pointing the validation class at it when it is used, and putting the file in the WEB-INF/classes directory and somehow configuring the container to serve it.\nHas anyone else configured a web application like this? What did you end up doing?\n", "Seems likes it might be useful to have the assert display a message when an assertion fails.\nCurrently an AssertionError gets thrown, can you specify a custom message for it?\nCan you show an example mechanism for doing this (other than creating your own exception type and throwing it)?\n", "This question has been discussed in two blog posts (http://dow.ngra.de/2008/10/27/when-systemcurrenttimemillis-is-too-slow/, http://dow.ngra.de/2008/10/28/what-do-we-really-know-about-non-blocking-concurrency-in-java/), but I haven't heard a definitive answer yet. If we have one thread that does this:\npublic class HeartBeatThread extends Thread {\n  public static int counter = 0;\n  public static volatile int cacheFlush = 0;\n\n  public HeartBeatThread() {\n    setDaemon(true);\n  }\n\n  static {\n    new HeartBeatThread().start();\n  }\n\n  public void run() {   \n    while (true) {     \n      try {\n        Thread.sleep(500);\n      } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n      }\n\n      counter++;\n      cacheFlush++;\n    }\n  }\n}\n\nAnd many clients that run the following:\nif (counter == HeartBeatThread.counter) return;\ncounter = HeartBeatThread.cacheFlush;\n\nis it threadsafe or not?\n", "With multiple developers working on the same Tomcat application, I'd like to tell the application to install to a different path, based on the current user and revision control client/view.\nSo, if Bob is building, the app should be installed in Bob's test environment, maybe /bob1 or something like that.  Bob might have several revision control clients/views/workspaces he works with so he could have /bob1, /bob2, /bob3, etc.\nThe install location is specified in the build.properties file.  Is there a way to avoid checking that file out and changing it for each specific user and revision control view?\nCan \"ant install\" take arguments or be configured to consider environment variables for the install target?\n", "I have an Eclipse RCP application that displays a lot (10k+) of small images next to each other, like a film strip.  For each image, I am using a SWT Image object.  This uses an excessive amount of memory and resources.  I am looking for a more efficient way.  I thought of taking all of these images and concatenating them by creating an ImageData object of the proper total, concatenated width (with a constant height) and using setPixel() for the rest of the pixels.  However, the Palette used in the ImageData constructor I can't figure out.\nI also searched for SWT tiling or mosaic functionality to create one image from a group of images, but found nothing.\nAny ideas how I can display thousands of small images next to each other efficiently?  Please note that once the images are displayed, they are not manipulated, so this is a one-time cost.\n", "I have stumbled across something truly puzzling regarding System.getProperty(\"os.name\"). According to a Java bug on the matter and the Java 5 release notes (search for \"os.name\"), there was a bug in Java with early \"longhorn\" versions of Vista that should have been fixed in v5 release 10.\nHowever on my Vista SP1 box - using both v5 release 15 and v6 release 6 - System.getProperty(\"os.name\") returns \"Windows XP\". Further System.getProperty(\"os.version\") returns \"5.1\". I cannot find anything relating to this issue via Google though. This makes me wonder whether it is something odd with my Vista setup. I have tried calling the GetVersionEx() API function from a test C program and it returns major version 6, minor 0 (as I'd expect for a Vista install).\nHas anyone else encountered this problem, know of a fix or have any suggestions of how I might work around it without using JNI?\n", "Presuming I have a class named A, and I want to use the decorator design pattern. Correct me if I'm wrong, but for that to work , we'll need to create a decorator class, say ADecorator, which will hold a reference to an A instance, and all the other decorators will extend this to add functionality.\nI don't understand why do we have to create a decorator class, instead of using an A instance?\n", "Is keeping JMS connections / sessions / consumer always open a bad practice?\nCode draft example:\n// app startup code\n\nConnectionFactory cf = (ConnectionFactory)jndiContext.lookup(CF_JNDI_NAME);\nConnection connection = cf.createConnection(user,pass);\nSession session = connection.createSession(true,Session.TRANSACTIONAL);\nMessageConsumer consumer = session.createConsumer(new Queue(queueName));\nconsumer.setMessageListener(new MyListener()); \nconnection.start();\nconnection.setExceptionListener(new MyExceptionHandler()); // handle connection error\n\n\n// ... Message are processed on MyListener asynchronously ...\n\n\n// app shutdown code\n\nconsumer.close();\nsession.close();\nconnection.close();\n\nAny suggestions to improve this pattern of JMS usage? \n", "I need to prepare for my exam and this is the probable question for the test. Given a frustum method such as frustum(-1,1, -0.5, 0.5, 1, 2) how to convert this to a projection matrix? The above example from my textbook but the writers don't define it in detail. If anyone can explain this in detail, I'd appreciate very much.\n", "I have been working on a childish little program: there are a bunch of little circles on the screen, of different colors and sizes. When a larger circle encounters a smaller circle it eats the smaller circle, and when a circle has eaten enough other circles it reproduces. It's kind of neat!\nHowever, the way I have it implemented, the process of detecting nearby circles and checking them for edibility is done with a for loop that cycles through the entire living population of circles... which takes longer and longer as the population tends to spike into the 3000 before it starts to drop. The process doesn't slow my computer down, I can go off and play Dawn of War or whatever and there isn't any slow down: it's just the process of checking every circle to see if it has collided with every other circle...\nSo what occurred to me, is that I could try to separate the application window into four quadrants, and have the circles in the quadrants do their checks simultaneously, since they would have almost no chance of interfering with each other: or something to that effect!\nMy question, then, is: how does one make for loops that run side by side? In Java, say.\n", "How do I check for an open connection in jdbc for oracle database?\nNote: conn.isClosed() cannot be used for this.\n", "I have a Perl module that I would like to use from Java. Is there a way to call this code using either ActiveState Perl on Windows or the generic Perl that comes with Linux? I have found references to JPL but it doesn\u2019t appear to be maintained anymore.\n", "Given a class, org.eclipse.ui.views.navigator.ResourceNavigator for example, how do I find out which jar file to use? I know it's in org.eclipse.ui.ide, but how would I find that out?\nEdit: Thank you to all of you who answered. Like many things, there seems to be several ways to skin this cat. I wish javadoc contained this info. So far here are the different methods:\n\nWithout Internet, Eclipse or NetBeans:\nfor f in `find . -name '*.jar'`;  do echo $f && jar tvf $f | grep -i $1; done\n\nIf you want to find out locally using Eclipse:\n\nJAR Class Finder Plug-in\nClass Locator Plug-in\n\nIf you want to find out from Internet or you do not have the jar yet:\n\njarFinder\nfindjar.com\n\n\n", "What is the best way to print the cells of a String[][] array as a right-justified table? For example, the input\n{ { \"x\", \"xxx\" }, { \"yyy\", \"y\" }, { \"zz\", \"zz\" } }\n\nshould yield the output\n  x xxx\nyyy   y\n zz  zz\n\nThis seems like something that one should be able to accomplish using java.util.Formatter, but it doesn't seem to allow non-constant field widths. The best answer will use some standard method for padding the table cells, not the manual insertion of space characters.\n", "Working with a traditional listener callback model. I have several listeners that collect various stuff. Each listener's collected stuff is inside the listener in internal structures.\nThe problem is that I want some of the listeners to be aware of some of the \"stuff\" in the other listeners.\nI enforce listener registration order, so if I knowingly register events in some order a later listener can be sure that a previously listener updated its stuff and somehow access it to do more stuff. \nMy first attempt at this is to have each listener store a reference to the listeners upon which it depends. So I register listeners in the order of those without dependencies to those with prior-registered dependencies, and then set the references between the listeners in various methods.\nI am starting to realize how bad this feels and I was wondering if somehow has been down this road before. What would be a more appropriate pattern when one of the listeners needs to access stuff in another?\nHere is some pseudocode to illustrate:\ninterface Listener { onEvent(char e); }\n\nclass A implements Listener {\n  private int count;\n  public void onEvent(char  e) { if(e == 'a') count++; }\n  public int getCount() { return count; }\n}\n\nclass B implements Listener {\n private int count;\n // private A a;\n // private void setA(A a) { this.a = a; }\n\n public void onEvent(char  e) { if(e == 'b') count++; }\n public int getCount() { return count; }\n public int getAPlusBCount() {\n   // We know B count, but we don't know A so how would we change this \n   // so B is A aware? Or not even aware, just somehow coupled? This\n   // is the question\n   // return a.getCount() + count;\n }\n\n public void doConditionalHere() {\n  // Do some condition in B that relies on the state of data in A\n  int acount = 0; // a.getCount(); ???\n  if(acount % 2 == 0) {\n   this.count--;\n  }\n }\n}\n\nclass Run {\n A a = new A();\n B b = new B();\n List listeners = new List();\n listeners.add(a);\n listeners.add(b);\n\n // The ugly way I add coupling right now is to keep a reference to A\n // inside B. It's commented out because I am hoping there is a more intelligent approach\n // b.setA(a);\n\n for(char c : \"ababbabab\") {\n   for(listener : listeners) {\n     listener.onEvent(c);\n   }\n }\n}\n\n", "Is there a better way of getting this result? This function fails if num has more digits than digits, and I feel like it should be in the library somewhere (like Integer.toString(x,\"%3d\") or something)\nstatic String intToString(int num, int digits) {\n    StringBuffer s = new StringBuffer(digits);\n    int zeroes = digits - (int) (Math.log(num) / Math.log(10)) - 1; \n    for (int i = 0; i < zeroes; i++) {\n        s.append(0);\n    }\n    return s.append(num).toString();\n}\n\n", "How can I draw something in JPanel that will stay the same and not be repainted, I am doing a traffic simulation program and I want the road to be drawn once because It will not change. \nThanks \n", "I have a form that tries to modify a JComponent's graphics context. I use, for example,\n((Graphics2D) target.getGraphics()).setStroke(new BasicStroke(5));\n\nNow, immediately after I set the value and close the form, the change is not visible. Am I not allowed to modify a JComponent's graphics context? How else would I modify the stroke, color and transformations?\nThanks,\nVlad\n", "I have the string \na.b.c.d\n\nI want to count the occurrences of '.' in an idiomatic way, preferably a one-liner.\n(Previously I had expressed this constraint as \"without a loop\", in case you're wondering why everyone's trying to answer without using a loop).\n", "I can set data in JTable constructor, and then user can change this data when program is running manually(typing from keyboard).\nBut what method should I use in case I want to change data in some column? To change column header I use TableColumn method setHeaderValue. What should I use to set value in JTable cell?\n", "I have a window (derived from JFrame) and I want to disable the close button during certain operations which are not interruptible.  I know I can make the button not do anything (or call a handler in a WindowListener) by calling\nsetDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n\nbut I would like to make it clear visually that it is pointless to click it.\n", "Comparing LinkedLists and Arrays while also comparing their differences with sorted and unsorted data\n\nAdding \nRemoving\nRetrieving \nSorting\nOverall speed\nOverall memory usage\n\nActual questions\n\nDiscuss the feasibility of implementing an unsorted data set as a linked list rather than an array.  What would the tradeoffs be in terms of insertion, removal, retrieval, computer memory, and speed of the application?\nDiscuss the feasibility of implementing a sorted data set as a linked list rather than an array. What would the tradeoffs be in terms of insertion, removal, retrieval, computer memory, and speed of the application? \nBased on your answers to the previous questions, summarize the costs and benefits of using linked lists in an application.\n\nMy answers/input:\n\nLinkedLists have to allocate memory everytime a new Node is added, useful when adding many Nodes and size keeps changing but generally slower when adding few elements\nArrays allocated memory at the beggining of the program run, resizing list slow (adding many elements slow if have to resize)\nRetrieval is faster in array due to indexing\nAdding/removing faster in LinkedList due to pointers\n\n", "I'm trying to write rules for detecting some errors in annotated multi-threaded java programs.  As a toy example, I'd like to detect if any method annotated with @ThreadSafe calls a method without such an annotation, without synchronization.  I'm looking for a tool that would allow me to write such a test. \nI've looked at source analyzers, like CheckStyle and PMD, and they don't really have cross-class analysis capabilities.  Bytecode analysers, like FindBugs and JLint seem rather difficult to extend.\nI'd settle for a solution to something even simpler, but posing the same difficulty: writing a custom rule that checks whether each overriden method is annotated with @Override.  \n", "Let's say you have a text file like this one:\nhttp://www.gutenberg.org/files/17921/17921-8.txt\nDoes anyone has a good algorithm, or open-source code, to extract words from a text file?\nHow to get all the words, while avoiding special characters, and keeping things like \"it's\", etc...\nI'm working in Java.\nThanks\n", "I'm looking to implement something in Java along the lines of:\nclass Foo{\n private int lorem; //\n private int ipsum;      \n\n public setAttribute(String attr, int val){\n  //sets attribute based on name\n }\n\n public static void main(String [] args){\n  Foo f = new Foo();\n  f.setAttribute(\"lorem\",1);\n  f.setAttribute(\"ipsum\",2);\n }\n\n public Foo(){}\n}\n\n...where a variable is set based on the variable name without the variable names hard-coded and without using any other data structures. Is this possible?\n", "I am tracking the Java versions being used by web visitors: http://cowwoc.blogspot.com/2008/12/tracking-java-versions-using-google.html\nUnfortunately, the integration level is skin deep. I would like Google Analytics to tell me what percentage of visitors ran what version, and drill down further to find out what sub-attributes each version is associated with. For example, what referrals/sources brought users with a specific version? What screen resolution did they use? etc... On the flip side, what percentage of Mac users were running what version of Java?\nAny ideas on how to improve the integration? Any idea on how to integrate this into competitors of Google Analytics? At the end of the day I am looking for the best integrated free analytics product out there.\n", "We're creating a web system using Java and Servlet technology (actually Wicket for the presentation layer) and we need our system to be available nearly always as our customers will be quite dependent on it.\nThis has lead us to look for a good book focusing on the subject or another resource which explains how to set up a more redundant and fail safe architecture for our system.\nA non exclusive list of questions we have at the moment:\n\nHow do you have one domain name (like http://www.google.com) which are actually served by several servers with load balancing to distribute the users? Isn't there always a point which is weaker in such a solution(the two [as there can't be more] DNS servers for google.com in their case)?\nIt seems like a good idea to have several database servers for redundancy and load balancing. How is that set up?\nIf one of our web servers goes down we would like to have some kind of fail over and let users use one that is still up. Amongst other things the sessions have to be synchronized in some way. How is that set up?\nDo we need some kind of synchronized transactions too?\nIs Amazon Computer Cloud a good option for us? How do we set it up there? Are there any alternatives which are cost effective?\nDo we need to run in a Java EE container like JBoss or Glassfish?\n\n", "bCrypt's javadoc has this code for how to encrypt a password:\nString pw_hash = BCrypt.hashpw(plain_password, BCrypt.gensalt()); \n\nTo check whether a plaintext password matches one that has been hashed previously, use the checkpw method:\nif (BCrypt.checkpw(candidate_password, stored_hash))\n    System.out.println(\"It matches\");\nelse\n    System.out.println(\"It does not match\");\n\nThese code snippets imply to me that the randomly generated salt is thrown away. Is this the case, or is this just a misleading code snippet?\n", "We have a java web service application that uses log4j to do logging. An  exception gets thrown when log4j tries to delete its rolling log files\nException:java.security.AccessControlException: access denied\n(java.io.FilePermission /var/opt/SUNWappserver/domains/domain1/\napplications/j2ee-modules/ourwebservice/WEB-INF/logs/IMWrapper.log.10 delete)\n\nWhen we do an ls in the directory the service account does have access to read and write to the files and the directory.\nFrom some initial Googling it seems we may have to change the security.policy file to allow the service to delete files. Any suggestions?\n", "What is the best way to find the total number of words in a text file in Java? I'm thinking Perl is the best on finding things such as this. If this is true then calling a Perl function from within Java would be the best? What would you have done in condition such as this? Any better ideas?\n", "I am writing code for uploading a file from a client to my server and the performance isn't as fast as I think it should be.\nI have the current code snippet that is doing the file transfer and I was wondering how I could speed up the transfer.\nSorry about all of the code:\nInputStream fileItemInputStream ;\nOutputStream saveFileStream;\nint[] buffer;\nwhile (fileItemInputStream.available() > 0) {\n    buffer = Util.getBytesFromStream(fileItemInputStream);\n    Util.writeIntArrToStream(saveFileStream, buffer);\n}\nsaveFileStream.close();\nfileItemInputStream.close();\n\nThe Util methods are as follows:\npublic static int[] getBytesFromStream(InputStream in, int size) throws IOException {\n    int[] b = new int[size];\n    int count = 0;\n    while (count < size) {\n        b[count++] = in.read();\n    }\n    return b;\n}\n\nand:\npublic static void writeIntArrToStream(OutputStream out, int[] arrToWrite) throws IOException {\n    for (int i = 0; i < arrToWrite.length; i++) {\n        out.write(arrToWrite[i]);\n    }\n}\n\n", "In Eclipse RCP way of doing things, where should I keep my model objects? And when they are loaded or changed, how should they talk to the views?\nI am attempting to port my existing application to Eclipse RCP. It could be viewed as an IDE-like application: I open a file, which contains links to source files. The source files are displayed in the tree view. I can edit the source, and build the sources into some output...\nFor example, when I handle the Open command, where would I create the model object so my views can see them? I'd rather avoid the use of singleton manager class, but that maybe the simplest way.\nInteresting code I found browsing JDT's source code are JavaCore, JavaModel, JavaModelManager. and JavaProject.\n\nIProject[] projects= ResourcesPlugin.getWorkspace().getRoot().getProjects();\n\n\npublic static IJavaProject create(IProject project) {\n    if (project == null) {\n        return null;\n    }\n    JavaModel javaModel = JavaModelManager.getJavaModelManager().getJavaModel();\n    return javaModel.getJavaProject(project);\n}\n\n\nRelated:\n\nHow do you communicate between eclipse declarative services and Views (ContentProviders)\nMake your Eclipse applications richer with view linking\n\n", "Which libraries for Java are there that have a fast implementation for floating point or fixed point operations with a precision of several thousands of digits? How performant are they?\nA requirement for me is that it implements a multiplication algorithm that is better than the naive multiplication algorithm that takes 4 times as much time for a 2 times larger number of digits (compare Multiplication algorithms).\n", "I've been reading through the details of the System libraries set and get methods yet the parameters are usually Strings.\nWould you consider the use of String as parameters bad practise since the inclusion of enum?\nA better alternative at minimum might be public final String, No?\n", "I hate to have to ask, but I'm pretty stuck here.\nI need to test a sequence of numbers to find the first which has over 500 factors:\nhttp://projecteuler.net/index.php?section=problems&id=12\n-At first I attempted to brute force the answer (finding a number with 480 after a LONG time)\n-I am now looking at determining the prime factors of a number and then use them to find all other factors.\nI am currently at the stage where I can get an array of prime factors for any number I input - i.e 300 has the prime factors 2 2 3 5 5\nUsing this array of prime factors I need to be able to calculate the remaining factors - This is the part I am stuck on.  Basically, as I understand it, I need to calculate ALL possible combinations of the numbers in the array...\ni.e \n2 * 2 \n2 * 2 * 3 \n2 * 2 * 3 * 5 \n2 * 3 \n2 * 3 * 3 \n...and so forth - But where it gets interesting is with things like...\n2 * 5 \n2 * 3 * 5 \n...i.e Numbers which are not adjacent to each other in the array\nI can't think of a way to code this in a generic fashion for any length array...\nI need help!  P.S - I am working in Java\nEDIT: My brute force code - As it has been suggested brute forcing the problem will work and so there may be an error in my code :(\npackage euler.problem12;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        int next = 1;\n        int triangle = 0;\n        int maxFactors = 0;\n\n        while(true) {\n            triangle = triangle + next;\n\n            int factors = 1;\n            int max = (int) triangle / 2;\n\n            for(int i = 1; i <= max; ++i) {\n                if(triangle % i == 0) {\n                    factors ++;\n                }\n            }\n\n            if(factors > maxFactors) {\n                maxFactors = factors;\n\n                System.out.println(triangle + \"\\t\" + factors);\n            }\n\n            next++;\n        }\n    }\n}\n\n", "I am trying to let a piece of runtime state decide WHICH implementation of an interface to use, preferably solely by autowiring. \nI have tried making an object factory for the interface thet uses dynamic proxies, and I used qualifiers to coerce the @Autowired injections to use the factory. The qualifiers are necessary because both the factory and the implementations respond to the same interface.\nThe problem with this is that I end up annotating every @Autowired reference with the @Qualifier. What I'd really want to do is annotate the non-factory implementations with something like @NotCandidateForAutowiringByInterface (my fantasy annotation), or even better make spring prefer the single un-qualified bean when injecting to an un-qualified field \nI may thinking along the totally wrong lines here, so alternate suggestions are welcome.\nAnyone know how to make this happen ?\n", "My schema specifies a namespace, but the documents don't. What's the simplest way to ignore namespace during JAXB unmarshalling (XML -> object)?\nIn other words, I have\n<foo><bar></bar></foo>\n\ninstead of,\n<foo xmlns=\"http://tempuri.org/\"><bar></bar></foo>\n\n", "If you started a new Java EE project today which is to be finished in about a year, which application server would you choose and why?\nPart of your answer should include your arguments for your decision. And also how much experience you have with the Java EE server you choose and with the other available servers on the market. These are interesting as we all get a sense of the investigation and thought that was put into your answer.\n", "Is it possible to use a DB sequence for some column that is not the identifier/is not part of a composite identifier? \nI'm using hibernate as jpa provider, and I have a table that has some columns that are generated values (using a sequence), although they are not part of the identifier.\nWhat I want is to use a sequence to create a new value for an entity, where the column for the sequence is NOT (part of) the primary key:\n@Entity\n@Table(name = \"MyTable\")\npublic class MyEntity {\n\n    //...\n    @Id //... etc\n    public Long getId() {\n        return id;\n    }\n\n   //note NO @Id here! but this doesn't work...\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = \"myGen\")\n    @SequenceGenerator(name = \"myGen\", sequenceName = \"MY_SEQUENCE\")\n    @Column(name = \"SEQ_VAL\", unique = false, nullable = false, insertable = true, updatable = true)\n    public Long getMySequencedValue(){\n      return myVal;\n    }\n\n}\n\nThen when I do this:\nem.persist(new MyEntity());\n\nthe id will be generated, but the mySequenceVal property will be also generated by my JPA provider.\nJust to make things clear: I want Hibernate to generate the value for the mySequencedValue property. I know Hibernate can handle database-generated values, but I don't want to use a trigger or any other thing other than Hibernate itself to generate the value for my property. If Hibernate can generate values for primary keys, why can't it generate for a simple property?\n", "There exists a very good talk about C# vs. Java where H.M\u00f6ssenb\u00f6ck compares the two languages. That's from 2003, C# 2.0 compared with Java 1.5.\nCan be found in German here: http://dotnet.jku.at/\nWhat good resources exist, where actual language versions are compared?\nOr maybe post a comparison right here?\nMy interests are:\nAdvantages/Disadvantages of the Java 6 language (features, syntactic sugar, ..) compared with C# 3.0 language.\nCurrent IDE, VM, CLR and current Framework capabilities would exceed this question...\n", "I'm using Java's Transformer class to process an XML Document object.\nThis is the code that creates the Transformer:\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\n\nTransformer transformer = TransformerFactory.newInstance().newTransformer();\ntransformer.setOutputProperty(OutputKeys.INDENT, \"no\");\ntransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n\ntransformer.transform(source, result);\n\nCurrently, my output looks like this: <svg ... />. I'd like it to include the namespace of each element, as in <svg:svg ... />\nHow can I do that ?\n", "I have a remote EJB with a method that validates an object (returning true or false). I want to be able to pass it an ArrayList object and have the EJB load it with the errors encountered during validation, while still receiving true/false as result.\nHow can I do this? So far, I can send it the list, and it's affected on server side, but the original list is not modified on client side.\n", "What is the functional equivalent of Windows Communication Foundation in Java 6?\n", "I have to read a binary file in a legacy format with Java. \nIn a nutshell the file has a header consisting of several integers, bytes and fixed-length char arrays, followed by a list of records which also consist of integers and chars.\nIn any other language I would create structs (C/C++) or records (Pascal/Delphi) which  are byte-by-byte representations of the header and the record. Then I'd read sizeof(header) bytes into a header variable and do the same for the records.\nSomething like this: (Delphi)\ntype\n  THeader = record\n    Version: Integer;\n    Type: Byte;\n    BeginOfData: Integer;\n    ID: array[0..15] of Char;\n  end;\n\n...\n\nprocedure ReadData(S: TStream);\nvar\n  Header: THeader;\nbegin\n  S.ReadBuffer(Header, SizeOf(THeader));\n  ...\nend;\n\nWhat is the best way to do something similar with Java? Do I have to read every single value on its own or is there any other way to do this kind of \"block-read\"?\n", "I've written a Java applet.  A user reports that he tried to run it in Firefox 3.0.3 on OS X 10.5.5 but no go. It wants him to download a plug-in, but when he tells it to install missing plug-ins it can't find the appropriate installer...\nWhat is going wrong here?\n", "I am trying to run the wsdl2java command on a WSDL file that was given to me from another group in my company.  I know wsdl2java works because I can run the examples but when I try it on the wsdl given to me it fails.  The one big difference is that the WSDL given to me uses SSL.\nI\u2019m using Java 1.4 (checked it a few time) and made sure all the correct jars are in my class path, jsse.jar is there.\nCOMMAND: java org.apache.axis.wsdl.WSDL2Java --server-side GenericWebService.wsdl  \nERROR:\nlog4j:WARN No appenders could be found for logger (org.apache.axis.i18n.ProjectResourceBundle).\nlog4j:WARN Please initialize the log4j system properly.\n**java.io.IOException: Emitter failure.  Invalid endpoint address in port AC_x0020_Generic_x0020_Web_0020_ServiceSoap in service AC_x0020_Generic_x0020_Web_x0020_ServiceLocator: **\n        at org.apache.axis.wsdl.toJava.JavaServiceImplWriter.writeFileBody(JavaServiceImplWriter.ja\na:242)\n        at org.apache.axis.wsdl.toJava.JavaWriter.generate(JavaWriter.java:127)\n        at org.apache.axis.wsdl.toJava.JavaServiceWriter.generate(JavaServiceWriter.java:112)\n        at org.apache.axis.wsdl.toJava.JavaGeneratorFactory$Writers.generate(JavaGeneratorFactory.j\nva:421)\n        at org.apache.axis.wsdl.gen.Parser.generate(Parser.java:476)\n        at org.apache.axis.wsdl.gen.Parser.access$000(Parser.java:45)\n        at org.apache.axis.wsdl.gen.Parser$WSDLRunnable.run(Parser.java:362)\n        at java.lang.Thread.run(Thread.java:534)\nasdf\n<wsdl:portType name=\"AC_x0020_Generic_x0020_Web_x0020_ServiceSoap\">\n  <wsdl:operation name=\"Provision\">\n    <wsdl:input message=\"tns:ProvisionSoapIn\" />\n    <wsdl:output message=\"tns:ProvisionSoapOut\" />\n  </wsdl:operation>\n</wsdl:portType>\n\n<wsdl:binding name=\"AC_x0020_Generic_x0020_Web_x0020_ServiceSoap\" type=\"tns:AC_x0020_Generic_x0020_Web_x0020_ServiceSoap\">\n  <soap:binding transport=\"http://schemas.xmlsoap.org/soap/http\" />\n  <wsdl:operation name=\"Provision\">\n    <soap:operation soapAction=\"http://xmlns.fmr.com/systems/dev/aar/2008/05/GenericWebService/Provision\" style=\"document\" />\n    <wsdl:input>\n      <soap:body use=\"literal\" />\n      <soap:header message=\"tns:ProvisionServiceProcessingDirectives\" part=\"ServiceProcessingDirectives\" use=\"literal\" />\n      <soap:header message=\"tns:ProvisionServiceCallContext\" part=\"ServiceCallContext\" use=\"literal\" />\n    </wsdl:input>\n    <wsdl:output>\n      <soap:body use=\"literal\" />\n    </wsdl:output>\n  </wsdl:operation>\n</wsdl:binding>\n\n\n<wsdl:service name=\"AC_x0020_Generic_x0020_Web_x0020_Service\">\n  <wsdl:documentation xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\">Generic web service definition for provisioning requests callable by AccessCENTRAL</wsdl:documentation>\n  <wsdl:port name=\"AC_x0020_Generic_x0020_Web_x0020_ServiceSoap\" binding=\"tns:AC_x0020_Generic_x0020_Web_x0020_ServiceSoap\">\n    <soap:address location=\"\" />\n  </wsdl:port>\n</wsdl:service>\n\nUPDATED SOLUTION:\nThe problem was that the parser needed a value in the <soap:address location=\"\" /> for it to complete.  I added the URL of my service and it worked.\nNew Lines looked like:\n<soap:address location=\"\" http://localhost:8080/axis/services/AC_x0020_Generic_x0020_Web_x0020_Service\" />\n\n", "I am looking for a java library that will allow me to \"trim\" an audio file so that I can pull out and save X amount of seconds of an audio file. Ideally, I am looking for something that would be like a substr for an audio file. If I want from 123 seconds in to 153 seconds in I would be able to do:\ncoollib.load('bigfile.mp3');    \ncoollib.trimAudioSeconds(123,30);\ncoollib.export('newfile.mp3');\n\nI have seen this post:\nAny good recommendations for MP3/Sound libraries for java?\nBut it didn't have anything about my substr quest. I am hoping someone has needed this functionality before so they will know exactly what direction to point me.\nThanks!\n", "I've been tasked with the awesome job of generating a look-up table for our application culture information.  The columns I need to generate data for are:\n\nDot Net Code\nVersion\nCulture Name\nCountry Name\nLanguage Name\nJava Country Code\nJava Language Code\nIso Country Code\nIso Language Code\n\nI have found the globalization name space, but I'm sure someone out there has asked the same question, or there is a table already available.\nThanks for any help\n", "I'm using Hibernate with Spring in my application. I have been consistently using detached objects and reattaching them whenever I need to make calls to the database. I'm using hibernate template to take care of managing the connections for me.\nMy data structure is as follows:\nclassA: \n   <one-to-many name=\"classB\" inverse=\"true\" cascade=\"all,delete-orphan\" lazy=\"true\">\n\nclassB:\n   <one-to-many name=\"classC\" inverse=\"true\" cascade=\"all,delete-orphan\" lazy=\"false\" fetch=\"subselect\">\n\nWhen I make the following call, with the potential that some of the items in classB or classC have changed, I get an error:\nclassA a = (classA)hibernateTemplate.merge(newClassA);\n\nThe error I get is:\n[11/10/08 12:08:39:126 EST] 00000024 SystemOut     O 2008-11-10 12:08:38,876  -  - ca.thedominion.cfa.persistence.hibernate.ClassADAOImpl  :updateClassA Technical Exception occurred: \norg.springframework.dao.InvalidDataAccessApiUsageException: deleted object would be re-saved by cascade (remove deleted object from associations): [ca...classC#715590]; nested exception is org.hibernate.ObjectDeletedException: deleted object would be re-saved by cascade (remove deleted object from associations): [ca...classC#715590]\n    at org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:639)\n    at org.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:412)\n    at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:424)\n    at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\n    at org.springframework.orm.hibernate3.HibernateTemplate.merge(HibernateTemplate.java:820)\n\nCan someone explain to me why this is generating an error? As I understand it, merge should determine which, if any, objects in the tree changed, and update/delete/insert those, and not attempt to delete and re-insert any others. But this seems to be trying to delete all the elements of type classC and re-insert them.\n", "I launch the following command line (process) from a Windows VC++ 6 program using CreateProcess (or _spawnv()):\n\njava -cp c:\\dir\\updates.jar;c:\\dir\\main.jar Main\n\nand class updates in updates.jar (overiding some in main.jar) are not read or found.  It is as if the updates.jar library cannot be found or read.\nIf I launch the same line from a shortcut, or from the command line proper, everything IS found and executes properly.\nIf I launch a JVM from the command line, keep it running, AND THEN launch the executable stub (above), then everything works OK also.  (This makes it look like the issue is a file rights thing).\nAny insight would be greatly appreciated!\n--Edward\n", "I am doing the following in PHP:\nexec('java -jar \"/opt/flex3/lib/mxmlc.jar\" +flexlib \"/opt/flex3/frameworks\" MyAS3App.as -default-size 360 280 -output MyAS3App.swf');\n\nWhen I run this from the command line, it runs fine and finishes in a second or two.\nWhen I run this command from PHP exec, the java process takes 100% CPU and never returns.\nAny ideas?\nI have also tried running the above command with '/usr/bin/java -Djava.awt.headless=true'.\nI am running Mac OS X 10.5.5, MAMP 1.7, PHP 5.2.5\n", "I need to render JSON data in my JSPs for some AJAX requests. I'd like to know what's the best way to do it in terms of easy to use and stability.\n", "I've been using the Java Pet Store and .Net Pet Store examples for years when comparing Java EE and .Net performance in an eBusiness type setting. \n Is there a better way to compare the performance of Java EE and .Net for this type of application?\nUpdate:\nAs some have pointed out below, the implementation, framework versions, architecture, and hardware can have much more influence on performance than using .Net vs. Java. I wholeheartedly agree with this. However, keeping this in mind, I would still like to know what kind of general comparison would be best. Since the pet shop is a fairly mature and general eCommerce test case, I tend to think it's pretty useful for a baseline.\n", "Let's say I do something in Java like:\n\n\nRemoteResponse response = null;\ntry {\n   FutureTask task new FutureTask(....);\n   executor.execute(task);\n   response = task.get(1000, TimeUnits.MILLISECONDS);\n}\ncatch( TimeoutException te ) {\n   \n   .. should I do something special here? ...\n   .. what happens to the return value of the task if task.get() throws an exception? ...\n   .. is it ever garbage collected? ..\n   \n}\n\n\nMy question is does something hold onto RemoteResponse in the case where TimeoutException is thrown?  Will it get garbage collected?  Do I have to call the cancel() method on the task for that to happen?\n", "currently I have the following code:\nString select = qry.substring(\"select \".length(),qry2.indexOf(\" from \"));\nString[] attrs = select.split(\",\");\n\nwhich works for the most parts but fails if given the following:\nqry = \"select a,b,c,DATETOSTRING(date_attr_name,'mm/dd/yyyy') from tbl_a\";\n\nwhat I'm looking for is the regex to feed to String.split() which will hande that situation, and for that matter any other special cases you might be able to think of that I'm missing.\n", "This could be the dumbest question ever asked but I think it is a total confusion for a newbie. \n\nCan somebody clarify what is meant by immutable? \nWhy is a String immutable?\nWhat are the advantages/disadvantages of immutable objects?\nWhy should a mutable object such as StringBuilder be preferred over String and vice-verse?\n\nA nice example (in Java) will be really appreciated.\n", "I have a factory that returns an interface FormatService:  \npublic class FormatServiceFactory {\n    public FormatService getService() {\n        ...\n    }\n}\n\nIs it possible to mock out this factory so that it will always return a stub implementation of FormatService - FormatServiceStub in our unit tests?  \n", "Does anybody have experience using the open source offering from Terracotta as opposed to their enterprise offering? Specifically, I'm interested if it is worth the effort to use terracotta without the enterprise tools to manage your cluster?\nOver-simplified usage summary: we're a small startup with limited budget that needs to process millions of records and scale for hundreds-of-thousands of page views per day.\n", "Hey everyone, I am trying to run the following program, but am getting a NullPointerException. I am new to the Java swing library so I could be doing something very dumb. Either way here are my two classes I am just playing around for now and all i want to do is draw a damn circle (ill want to draw a gallow, with a hangman on it in the end).\npackage hangman2;\n\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class Hangman2 extends JFrame{\n    private GridLayout alphabetLayout = new GridLayout(2,2,5,5);\n    private Gallow gallow = new Gallow();\n\n    public Hangman2() {\n\n        setLayout(alphabetLayout);\n\n        setSize(1000,500);\n        setVisible( true );\n\n    }\n\n    public static void main( String args[] ) {   \n     Hangman2 application = new Hangman2();\n     application.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n    }\n}\n\n\npackage hangman2;\n\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class Gallow extends JPanel {\n    private Graphics g;\n\n    public Gallow(){\n        g.fillOval(10, 20, 40, 25);       \n    }\n}\n\nThe NullPointerException comes in at the g.fillOval line.\nThanks in advance,\nTomek\n", "These days, many projects have started their life written in Java.  Some of them are eventually converted to C# for incorporation in .NET.  Examples that come to mind are log4net, nhibernate and db4o.\nIncluding sharpen (which is db4o's tool) have you seen and/or used any tools that make continual conversion manageable.  I'd go so far as to say anything that requires more than about a 2 month slip from the original product release isn't really all that useful for continual conversion.\n", "I have often heard this term being used, but I have never really understood it.\nWhat does it mean, and can anyone give some examples/point me to some links?\nEDIT: Thanks to everyone for the replies. Can you also tell me how the canonical representation is useful in equals() performance, as stated in Effective Java?\n", "Spring IoC container gives you an option of replacing a method of a bean. Can someone provide a real life example of using this feature to solve real life problem?\nI can see this used for adapting an old legacy code (w/o sources) to work with your app. But I think I would consider writing an adapter class using the legacy code directly instead of Spring method replacement approach.\n", "I have some code that effectively does this :\nFile file = new File(\"C:\\\\Program Files (x86)\\\\Something\\\\fred.txt\");\nSystem.out.println(\"file.canWrite() = \" + file.canWrite());\n\nIt prints true.\nNow the odd thing is, I can create the file without any exceptions. Furthermore, another program can read the file I've created. The thing is, in Windows Explorer, the file doesn't show up at all!\nShow hidden files you may be thinking, but no, I've got that option turned on.\nI've also found out about 'super hidden files' in Vista, so I've turned that option on and I still can't see the file! Maybe I haven't edited my registry correctly - I can only assume the file is super hidden - where else could it be?\nNow the problem is that I'm creating an html file and the when I fire up a browser, it can't see the html file because it's super hidden.\nHow can I prevent Java creating a super hidden file? This is running under JRE 6 update 6.\n", "I have let's say two pc's.PC-a and PC-b which both have the same application installed with java db support.I want from time to time to copy the data from the database on PC-a to database to PC-b and vice-versa so the two PC's to have the same data all the time.\nIs there an already implemented API in the database layer for this(i.e 1.export-backup database from PC-a 2.import-merge databases to PC-b) or i have to do this in the sql layer(manually)?\n", "I've been thinking of ways of providing syntactic sugar for a framework I have been working on. I want to deal with Immitable objects exclusively.\nSay I have an immutable object and wish to create a modified version of it. Would, in your view, a non-instantiable class with a single static factory method break OO principles ?\n\n\nAs an example using a String:\npublic final class LOWERCASE {\n\n    private LOWERCASE() {}\n\n    public static String string( final String STRING ) {\n\n      return STRING.toLowerCase();\n    }\n}\n\nTherefore from this example I could write:  \nString lowercaseString = LOWERCASE.string( targetString );\n\nWhich I find very readable.\n\n\nAny provisos against such an approach?\n", "The default generated hashCode and equals implementations are ugly at best.\nIs it possible to make eclipse generate ones from HashCodeBuilder and EqualsBuilder, and perhaps even a toString with ToStringBuilder?\n", "Is there any difference between a volatile Object reference and AtomicReference in case I would just use get() and set()-methods from AtomicReference?\n", "Which GUI framework/library would you choose if you were to start your new project now or in the near future?\nIt has to be free for commercial use and cross platform.\nI have been a happy swing user, but Sun seems like pushing swing to deprecation, while pushing Javafx, which is not yet ready for prime time.\nThere's also SWT, but it seems like it has issues on Linux.\nWhat is your Gui library/framework of choice?\nEDIT: Sun has canceled swingx project. From the forum comments on http://swingx.dev.java.net seems like majority of Sun resources that previously worked on core swing are now developing JavaFx full time.\n", "I need to convert several Java classes to C#, but I have faced few problems.\nIn Java I have following class hierarchy:\npublic abstract class AbstractObject {\n    public String getId() {\n        return id;\n    } \n}\n\npublic class ConcreteObject extends AbstractObject {\n    public void setId(String id) {\n        this.id= id;\n    }\n}\n\nThere are implementation of AbstractObject which do not need to have setId() defined, so I cannot move it up in the hierarchy.\nHow to convert this to C# using properties? Is that possible?\n", "I have a JLabel which has an e-mail address in it. I used HTML formatting on the JLabel, so it appears as a link. However, you are not able to click the link. In fact, you cannot select any of the text in the label. Is there a property that I can set on the JLabel to allow the user to at least select the text of the e-mail, and preferably to click on the e-mail address the way they would on a webpage?\nMy code for my JLabel is essentially:\nJLabel l = new JLabel(\"<html><a href=\\\"mailto:bob@bob.com\\\">bob@bob.com</a>\");\n\n", "I currently have Apache HTTP Server, but I'm guessing I'll need Tomcat (and then have to configure it in a way that makes it not open to the public), a Java JDK (which I already have, but should probably update), and an IDE (I have Eclipse). But what else should I have or know before starting?\n", "I am having trouble creating a mapping when the List type is an interface. It looks like I need to create an abstract class and use the discriminator column is this the case? I would rather not have to as the abstract class will just contain an abstract method and I would rather just keep the interface.\nI have an interface lets call it Account\npublic interface Account {\n public void doStuff();\n}\n\nNow I have two concrete implementors of Account\nOverSeasAccount and OverDrawnAccount\npublic class OverSeasAccount implements Account {\n public void doStuff() {\n   //do overseas type stuff\n }\n}\n\nAND\npublic class OverDrawnAccount implements Account {\n public void doStuff() {\n   //do overDrawn type stuff\n }\n}\n\nI have a class called Work with a List\nprivate List<Account> accounts; \n\nI am looking at discriminator fields but I seem to be only able do this for abstract classes. Is this the case? Any pointers appreciated. Can I use discriminators for interfaces? \n", "I am having issues converting a png to tiff.  The conversion goes fine, but the image is huge.  I think the issue is that I am not doing the compression correctly?  Anyone have any suggestions??\nHere is the code sample\npublic static void test() throws IOException {\n\n    // String fileName = \"4958813_1\";\n    String fileName = \"4848970_1\";\n    String inFileType = \".PNG\";\n    String outFileType = \".TIFF\";\n\n    ImageIO.scanForPlugins();\n\n    File fInputFile = new File(\"I:/HPF/UU/\" + fileName + inFileType);\n    InputStream fis = new BufferedInputStream(new FileInputStream(\n            fInputFile));\n    PNGImageReaderSpi spi = new PNGImageReaderSpi();\n    ImageReader reader = spi.createReaderInstance();\n\n    ImageInputStream iis = ImageIO.createImageInputStream(fis);\n    reader.setInput(iis, true);\n    BufferedImage bi = reader.read(0);\n\n    TIFFImageWriterSpi tiffspi = new TIFFImageWriterSpi();\n    ImageWriter writer = tiffspi.createWriterInstance();\n    //Iterator<ImageWriter> iter =  ImageIO.getImageWritersByFormatName(\"TIFF\");\n    //ImageWriter writer = iter.next();\n\n    ImageWriteParam param = writer.getDefaultWriteParam();\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n\n    param.setCompressionType(\"LZW\");\n    param.setCompressionQuality(0.5f);\n    File fOutputFile = new File(\"I:\\\\HPF\\\\UU\\\\\" + fileName + outFileType);\n    ImageOutputStream ios = ImageIO.createImageOutputStream(fOutputFile);\n    writer.setOutput(ios);\n    writer.write(bi);\n\n}\n\n", "I know that lots of web hosting providers are offering FreeBSD, but how good is FreeBSD as a development platform?\nSpecifically, is Java 1.6 available in it? \nIs there somthing specific that it offers with regard to tools that is not available under Linux?\n", "I have a block of JSP code that needs to be used in several places (basically a widget that several pages use). What's a good way to modularize this? I'd rather not put it in an object since string manipulation of HTML gets ugly. Using <%@ include file=\"foo.jsp\"%> is problematic because we wind up having implicit global vars.\n", "Can someone explain how exactly prepared connection pooling using dbcp can be used? (with some example code if possible). I've figured out how to turn it on - passing a KeyedObjectPoolFactory to the PoolableConnectionFactory. \nBut how should the specific prepared statements be defined after that?\nRight now I'm only using a PoolingDataSource to get connections from the pool. How do I use the prepared statements from the pool?\n", "I'm working on a Spring MVC project, and I have unit tests for all of the various components in the source tree.\nFor example, if I have a controller HomeController, which needs to have a LoginService injected into it, then in my unit test HomeControllerTest I simply instantiate the object as normal (outside of Spring) and inject the property:\nprotected void setUp() throws Exception {\n    super.setUp();\n    //...\n    controller = new HomeController();\n    controller.setLoginService( new SimpleLoginService() );\n    //...\n}\n\nThis works great for testing each component as an isolated unit - except now that I have a few dozen classes in the project, after writing a class and writing a successful unit test for it, I keep forgetting to update my Spring MVC context file that does the actual wiring-up in the deployed application. I find out that I forgot to update the context file when I deploy the project to Tomcat and find a bunch of NullPointers from non-wired-up beans.\nSo, here are my questions:\n\nThis is my first Spring project - is it normal to create unit tests for the individual beans, as I have done, and then create a second suite of tests (integration tests) to test that everything works as expected with the actual application context? Is there an established best practice for this?\nIn addition, how do you separate the unit tests from the integration tests? I have all of the source code in src, the unit tests in test - should there be a 2nd test folder (such as test-integration) for integration test cases?\n\nSince this is my first Spring project, I'm curious how others usually go about doing this sort of thing - and rather than re-invent the wheel I rather ask the rest of the community.\n", "For what I can read, it is used to dispatch a new thread in a swing app to perform some \"background\" work, but what's the benefit from using this rather than a \"normal\" thread?\nIs not the same using a new Thread and when it finish invoke some GUI method using SwingUtilities.invokeLater?... \nWhat am I missing here?\nhttp://en.wikipedia.org/wiki/SwingWorker\nhttp://java.sun.com/products/jfc/tsc/articles/threads/threads2.html\n", "Given a word, I've to replace some specific alphabets with some specific letters such as 1 for a, 5 for b etc. I'm using regex for this. I understand that StringBuilder is the best way to deal with this problem as I'm doing a lot of string manipulations. Here is what I'm doing:\nString word = \"foobooandfoo\";\nString converted = \"\";\nconverted = word.replaceAll(\"[ao]\", \"1\");\nconverted = converted.replaceAll(\"[df]\", \"2\");\nconverted = converted.replaceAll(\"[n]\", \"3\");\n\nMy problem is how to rewrite this program using StringBuilder. I tried everything but I can't succeed. Or using String is just fine for this?\n", "I have a bit of a problem.  I wrote an API a long time ago for our production system, and it used Apache XML Beans.  The schema was homogeneous (ie no imports, everything was from within the same schema), and everything worked just fine, even if the code for API handling was incredibly verbose.  I've since written a far simpler and more elegant restful API using JAXB, with parts of the old one in mind, ie different schema, but some of the elements are identical.  In the hopes of cleaning up and simplifying my binding code in the old API, I've replaced some of the parts by deleting them and importing the new schema and using those elements instead.  However, whenever I try to parse documents that use the new mixture of schema, I get a validation error from XML Beans :\nerror: cvc-complex-type.2.4a: Expected element 'redundant-element@http://www.my.com/old/xmlns' instead of 'redundant-element@http://www.my.com/new/xmlns' here in element redundant-element-list@http://www.my.com/old/xmlns\n\nHas anybody encountered this before ? Have any solutions or ideas ? I'd really appreciate it. Thank you kindly.\n", "I'm probably going to be using Tomcat and the Apache Axis webapp plugin, but I'm curious as to any other potential lightweight solutions.\nThe main goal of this is to connect to MySQL database for doing some demos.\nThanks,\nTodd\n", "What is the best way to pass data between a C server to a Java applet? Currently it's done by using a buffer and copying bytes to it using memcpy, but if the object ever changes I have to hunt down every instance of where it's being sent to the applet and have it changed.\nIs there a better way to pass object to java? How would you do it?\nEdit for clarification: It is going from the C server to the Java applet only, there is no java servlet. The only thing the Applet passes to the C server is a hex number signaling an action to be taken\n", "Background: we have a system that was written in an older CMS based on Java back during the 2002-2003 days.  We want to keep moving forward with our new stuff, using tomcat, stripes, and sitemesh.  We have navigation, layouts, \"pods\", js, css, etc, that we've taken out of the old CMS and into a few of our new apps so we have consistent look and feel.\nWe now need some sort of solution to get rid of all the code duplication going on.  Our apps are running on the same VM at the moment, but that might change.  We need a way for all of our tomcat instances to access some common elements (and those elements may/may not need to do some server side stuff).  \nThe best we've come up with so far is making a fairly standard sitemesh decorator, that uses c:import to get what it needs, and plugs it right in.  This solution has some network overhead which could bog it down and introduce a fail point.  We've looked at <%@ include file=\"/something.jsp\" %> as well but that seems to be only context relative.  We could use c:import and point it at localhost, which seems to be the best solution so far.  \nAre there other templating/decorating frameworks out there (Tiles?) that could make this simpler?  What are we missing?\n", "I was wondering if there is a way to implement an action listener for a Jbutton without a name. For example, I have the following for loop that creates a button for each letter of the alphabet.\nfor (int i = 65; i < 91; i++){\n     alphabetPanel.add(new JButton(\"<html><center>\" + (char)i));\n}\n\nIs there a way that I can add an action listener for each of those buttons without getting rid of my for loop and hard coding each JButton and then creating an action listener for each? \nThanks in advance,\nTomek\n", "I'm quite confused about the basic concepts of a Hash table. If I were to code a hash how would I even begin? What is the difference between a Hash table and just a normal array? \nBasically if someone answered this question I think all my questions would be answered:\nIf I had 100 randomly generated numbers (as keys), how would I implement a hash table and why would that be advantageous over an array?\nPsuedo-code or Java would be appreciated as a learning tool...\n", "I was wondering if there was some kind of J tool in the java swing library that opens up a file browser window and allows a user to choose a file. Then the ouput of the file would be the absolute path of the chosen file.\nThanks in advance,\n", "I remember from way back at university using a switch with 'binary search' or 'binary switch'. Something like that, My google foo is broken today. Anyway it goes down like this: You define an array of possible options (Strings usually), some magic happens, and those options in the array become the cases in the switch happens. I do remember that they had to be in alphabetical order for this to work. Can you help me remember the magic? Even a name of what I should be looking at would be fantastic.\n", "Suppose that I have a Java class with a static method, like so:\n\nclass A\n{\n    static void foo()\n    {\n        // Which class invoked me?\n    }\n}\n\nAnd suppose further that class A has an arbitrary number of subclasses:\n\nclass B extends A { }\nclass C extends A { }\nclass D extends A { }\n...\n\nNow consider the following method invocations:\n\nA.foo();\nB.foo();\nC.foo();\nD.foo();\n...\n\n\nMy question is, how can method foo() tell which class is invoking it?\n", "I need to read account number from Maestro/Mastercard with smart card reader. I am using Java 1.6 and its javax.smartcardio package. I need to send APDU command which will ask EMV application stored on card's chip for PAN number. Problem is, I cannot find regular byte array to construct APDU command which will return needed data anywhere... \n", "Suppose I have the following directory layout in a Maven project:\nsrc/\n|-- main\n|   |-- bin\n|   |   |-- run.cmd\n|   |   `-- run.sh\n|   |-- etc\n|   |   |-- common-spring.xml\n|   |   |-- log4j.xml\n|   |   `-- xml-spring.xml\n|   `-- java\n|       `-- com\n...\n\nI would like to build a zip file that, when unzipped, produces something like this:\nassembly\n|-- bin\n|   |-- run.cmd\n|   `-- run.sh\n|-- etc\n|   |-- common-spring.xml\n|   |-- log4j.xml\n|   `-- xml-spring.xml\n`-- lib\n    |-- dependency1.jar\n    |-- dependency2.jar\n...\n\nwhere `run.xx' are executable shell scripts that will call my main application and put all dependencies on the classpath.\nIs this possible with some of the `official' Maven plugins, e.g. maven-assembly-plugin?\n", "I have just moved from phase 1 to phase 2 of a project. In this transition we got rid of all of the XML configuration for spring and struts2, switching to a fully annotated regime.\nAll of the participants are amazed at the actual effect this has on development speed. There are a number of reasons for this:\n\nStructured thinking about which roles are needed lead to clear understanding that we needed @StubRepository, @TestService and @NotTestService annotations to facilitate all the different run-time models that our project uses (runtime, unit test, integration test, selenium test)\nThese annotations replaced a large number of duplicate xml definitions.\nAll dependencies are fully trackable in the ide.\nSimpler to work with code because dependencies are clear\n\nSome of these gains could probably have been realized by re-structuring the xml as well, but that would not have been a trivial task.\nI honestly believe this has given somewhere around 10% boost in productivity for our 20,000 man hour project. I almost find it hard to believe. \nAnyone else sharing this same experience ? What's your gain, and how do you explain it ?\n", "Can I utilise the new functionality provided by the new JavaFX APIs directly from Java to the same extent as I would be able to using JavaFX Script?\nAre all the underlying JavaFX APIs purely Java or JavaFX Script or a mix?\n", "I'm not looking for the usual answer like Web-services. I'm looking for a light solution to be run in the same machine.\nEdit: I'm looking for way in Java to call .NET methods\n", "I'm working now together with others in a grails project. I have to write some Java-classes. But I need access to an searchable object created with groovy. It seems, that this object has to be placed in the default-package. \nMy question is: Is there a way to access this object in the default-package from a Java-class in a named package?\n", "Does anyone know if there is an implementation of javax.jms.QueueConnectionFactory for WebSphere MQ and where to get it? I Googled it and searched IBM website but couldn't find anything. I don't want to retrieve the connection or factory from Websphere MQ via JNDI, I need my own connection factory.\n", "I would like to create a private customized social networking for my company employees and partners so that they can collaborate, exchange messages, share experiences (events, book references, etc) and be grouped into communities. Does anybody know good Java framework for start developing this? \nI would be looking for something that would contain basic components such as Profile, Friend List, Community, Events, Messages, etc. Each of this component could be extended to implement domain specific features. It would be nice if it also supports OpenSocial.\n", "I have a JComponent that's painting various shapes on itself.  I'm detecting whenever the mouse enters one of these shapes and changing the tooltip accordingly.\nThe problems I'm having are:\n\nThe tooltip doesn't follow the mouse as the user tracks the mouse across the shape. It \nstays where it was first set and then only jumps whenever another shape changes the tooltip.\nIt takes about a second for the tooltip to appear, but I'd like it to appear immediately.\n\nCan someone suggest a way of getting these behaviours without writing a custom tooltip mechanism?\n", "G'day!\nI have one million different words which I'd like to query for in a table with 15 million rows. The result of synonyms together with the word is getting processed after each query.\ntable looks like this:\n    synonym      word\n    ---------------------\n    ancient      old\n    anile        old\n    centenarian  old\n    darkened     old\n    distant      far\n    remote       far\n    calm         gentle\n    quite        gentle\n\nThis is how it is done in Java currently:\n....\nPreparedStatement stmt;\nResultSet wordList;\nResultSet syns;\n...\n\nstmt = conn.prepareStatement(\"select distinct word from table\");\nwordList = stmt.executeQuery();\n\nwhile (wordList.next()) {\n    stmt = conn.prepareStatement(\"select synonym from table where word=?\");\n    stmt.setString(1, wordList.getString(1));\n    syns = stmt.executeQuery();\n\n    process(syns, wordList.getString(1));\n}\n...\n\nThis is incredible slow. What's the fastest way to do stuff like this?\nCheers,\nChris\n", "I have an implementation of default handler. When it gets to a \u00a0 in the character data it stops parsing. Is there any reason that it is doing this? Are there additional properties that I need to set in order for it to deal with &nbsp?\n", "How do you automate integration testing? I use JUnit for some of these tests. This is one of the solutions or is totally wrong? What do you suggest?\n", "Is there a way to write log4j logging events to a log file that is also being written to by other applications. The other applications could be non-java applications. What are the drawbacks? Locking issues? Formatting?\n", "Hypothetically, you have two products, one written in Java, the other in C#. You like the Java based backend (non-user visible portion), but would like to use the C# (WPF) frontend. What is the best way to go about interfacing them? \nNote that the backend must be able to run on either a server or on the local machine and the frontend should be able to connect to either one.\nMy first thoughts were to use something like Ice, or maybe a webservice.\nAnd Go!\nEdit\nConverting the code or running it in some variety of neutral VM (IKVM) is not an option.\n", "I'm mostly a .Net person at the moment, but I've been playing with Java some lately-- exploring what's out there.\nNow I'm looking for the Java equivalent for WPF.  I know I could find an OpenGL library or two out there, but that's not really as rich or simple as the WPF system.\n", "Is it possible to call a constructor from another (within the same class, not from a subclass)? If yes how? And what could be the best way to call another constructor (if there are several ways to do it)?\n", "We have a system where customers, mainly European enter texts (in UTF-8) that has to be distributed to different systems, most of them accepting UTF-8, but now we must also distribute the texts to a US system which only accepts US-Ascii 7-bit\nSo now we'll need to translate all European characters to the nearest US-Ascii. Is there any Java libraries to help with this task?\nRight now we've just started adding to a translation table, where \u00c5 (swedish AA)->A and so on and where we don't find any match for an entered character, we'll log it and replace with a question mark and try and fix that for the next release, but it seems very inefficient and somebody else must have done something similair before.\n", "To be able to upload large files from a HTML page to a FTP server, I am looking for a Java/Flash FTP upload applet.\nI really like the way dhtmlxVault works, but I need it to upload to a FTP server instead of a HTTP file upload.\nIt would be really nice if the applet has no GUI of it's own, but instead is fully scriptable using Javascript so I can use HTML/CSS for it's appearance.\nI hopefully looked into Yahoo!'s YUI Uploader since it requires Flash, but the documentation only mentions HTTP upload and no FTP upload.\n", "I got some legacy code with that caption spread out as comment almost in every field. Also appearing is \"Setter for property xyz\". \nJust out of curiosity, which Java tool generated this stubs?\n", "I need to be able to store a date (year/month/day) with no time component. It's an abstract concept of a date, such as a birthday - I need to represent a date in the year and not a particular instant in time.\nI am using Java to parse the date from some input text, and need to store in a MySQL database. No matter what timezone the database, application, or any client is in, they should all see the same year/month/day.\nMy application will run on a machine with a different system timezone from the database server, and I don't have control over either. Does anyone have an elegant solution for ensuring I store the date correctly?\nI can think of these solutions, neither of which seems very nice:\n\nQuery my MySQL connection for its timezone and parse the input date in that timezone\nProcess the date entirely as a string yyyy-MM-dd\n\n", "I understand that BigDecimal is recommended best practice for representing monetary values in Java. What do you use? Is there a better library that you prefer to use instead?\n", "So, let's say I want to write a class that operates on different kinds of numbers, but I don't a priori know what kind of numbers (i.e. ints, doubles, etc.) I will be operating on.\nI would like to use generics to create a general class for this scenario.  Something like:\n Adder<Double> adder = new Adder<Double>();\n adder.add(10.0d, 10.0d);   // = 20.0d\n\nBut, I cannot instantiate the generic type I pass in to my Adder class!  So -- what to do?\n", "Eclipse issues warnings when a serialVersionUID is missing.  \n\nThe serializable class Foo does not declare a static final\n  serialVersionUID field of type long\n\nWhat is serialVersionUID and why is it important?  Please show an example where missing serialVersionUID will cause a problem.\n", "Using Java, how can I test that a URL is contactable, and returns a valid response?\nhttp://stackoverflow.com/about\n\n", "  private void activateRecords(long[] stuff) {\n    ...\n    api.activateRecords(Arrays.asList(specIdsToActivate));\n  }\n\nShouldn't this call to Arrays.asList return a list of Longs?  Instead it is returning a List<long[]>\npublic static <T> List<T> asList(T... a)\n\nThe method signature is consistent with the results, the varargs throws the entire array into the list.  It's the same as new ArrayList(); list.add(myArray)  And yes, I know it's meant to be used like this: Arrays.asList(T t1, T t2, T t3)\nI guess what I'm getting at, is instead of the varargs form, why can't I just have my old asList method (at least I think this is how it used to work) that would take the contents and put them individually into a list?  Any other clean way of doing this?\n", "The equals() method of the URL class in the Java class library makes a DNS request to get the IP for the hostname, to check the two IP's for equality. This happens even for URLs that are created from the same String. Is there a way to avoid this internet access?\n", "I need to configure Tomcat memory settings as part of a larger installation, so manually configuring tomcat with the configuration app after the fact is out of the question. I thought I could just throw the JVM memory settings into the JAVA_OPTS environment variable, but I'm testing that with jconsole to see if it works and it... doesn't.\nAs per the comment below, CATALINA_OPTS doesn't work either. So far, the only way I can get it to work is via the Tomcat configuration GUI, and that's not an acceptable solution for my problem.\n", "If I have a key set of 1000, what is a suitable size for my Hash table, and how is that determined?\n", "example:\nI want to see if array[5] holds a value or is empty.\n", "I am trying to create a Key Listener in java however when I try \nKeyListener listener = new KeyListener();\n\nNetbeans is telling me that KeyListener is abstract;cannot be instantiated. I know that I am missing some other piece of this key listener, but since this is my first time using a key listener i am unsure of what else i need. Why is it telling me this?\nThanks,\nTomek\n", "I am reading log files but not all lines want to be processed straight away. I am using a queue / buffer to store the lines while they wait to be processed.\nThis queue is regularly scanned for particular lines - when they are found, they are removed from the queue (they can be anywhere in it). When there isn't a particular line to be found, lines are taken out of the start of the queue one by one to be processed.\nTherefore, the queue needs the following:\n\nAble to be resized (or give that impression)\nHave elements removed from anywhere\nHave elements added (will always be at the end of the queue)\nBe scanned quickly\nDepending on performance, have a pointer of where it got to on the last scan.\n\nI initially wrote the code when I had little experience of Java or the API, and just used an ArrayList because I knew it would work (not necessarily because it was the best option).\nIts performance is now becoming poor with more and more logs needing to be processed - so, what collection would you recommend to be used in this situation? There's always the possibility of writing my own too.\nThanks\n", "I created 26 JButton in an anonymous actionListener labeled as each letter of the alphabet.\nfor (int i = 65; i < 91; i++){\n    final char c = (char)i;\n    final JButton button = new JButton(\"\" + c);\n    alphabetPanel.add(button);\n    button.addActionListener(\n        new ActionListener () {\n            public void actionPerformed(ActionEvent e) {\n                letterGuessed( c );\n                alphabetPanel.remove(button);\n            }\n        });\n        // set the name of the button\n        button.setName(c + \"\");\n} \n\nNow I have an anonymous keyListener class, where I would like to disable the button based off of which letter was pressed on the keyboard. So if the user presses A, then the A button is disabled. Is this even possible given my current implementation?\n", "To put it simple, I've written a JSE Swing app that needs to talk to a GWT server I've written earlier.\nI absolutely love the way GWT does remoting between it's javascript and server sides and wish I could utilize this mechanism.\nHas anyone managed to use GWT-RPC this way? Should I just go Restlet instead?\n", "What options do I have to read the roles of the current user from my JSP pages? I'm aware of the visibleOnUserRole=\"myRole\" attribute on Tomahawk components, but I need roles for a bit more complicated things than simple visibility.\n", "I'm trying to implement a KeyListener for my JFrame. On the constructor, I'm using this code:\nSystem.out.println(\"test\");\naddKeyListener(new KeyListener() {\n    public void keyPressed(KeyEvent e) { System.out.println( \"tester\"); }\n\n    public void keyReleased(KeyEvent e) { System.out.println(\"2test2\"); }\n\n    public void keyTyped(KeyEvent e) { System.out.println(\"3test3\"); }\n});\n\nWhen I run it, the test message comes up in my console. However, when I press a key, I don't get any of the other messages, as if the KeyListener was not even there.\nI was thinking that it could be because the focus is not on the JFrame\nand so they KeyListener doesn't receive any events.  But, I'm pretty sure it is.\nIs there something that I am missing?\n", "Here's the deal - I want a way to figure out specifically which methods were touched or changed within the last milestone/iteration so that the methods' Javadoc is checked for correct content, especially for the public API methods.\nAny ideas on how to do this, perhaps with an SVN hook?\n", "Let's share Java based web application architectures!\nThere are lots of different architectures for web applications which are to be implemented using Java. The answers to this question may serve as a library of various web application designs with their pros and cons. While I realize that the answers will be subjective, let's try to be as objective as we can and motivate the pros and cons we list.\nUse the detail level you prefer for describing your architecture. For your answer to be of any value you'll at least have to describe the major technologies and ideas used in the architecture you describe. And last but not least, when should we use your architecture?\nI'll start...\n\nOverview of the architecture\nWe use a 3-tier architecture based on open standards from Sun like Java EE, Java Persistence API, Servlet and Java Server Pages.\n\nPersistence\nBusiness\nPresentation\n\nThe possible communication flows between the layers are represented by:\nPersistence <-> Business <-> Presentation\n\nWhich for example means that the presentation layer never calls or performs persistence operations, it always does it through the business layer. This architecture is meant to fulfill the demands of a high availability web application.\nPersistence\nPerforms create, read, update and delete (CRUD) persistence operations. In our case we are using (Java Persistence API) JPA and we currently use Hibernate as our persistence provider and use its EntityManager.\nThis layer is divided into multiple classes, where each class deals with a certain type of entities (i.e. entities related to a shopping cart might get handled by a single persistence class) and is used by one and only one manager.\nIn addition this layer also stores JPA entities which are things like Account, ShoppingCart etc.\nBusiness\nAll logic which is tied to the web application functionality is located in this layer. This functionality could be initiating a money transfer for a customer who wants to pay for a product on-line using her/his credit card. It could just as well be creating a new user, deleting a user or calculating the outcome of a battle in a web based game.\nThis layer is divided into multiple classes and each of these classes is annotated with @Stateless to become a Stateless Session Bean (SLSB). Each SLSB is called a manager and for instance a manager could be a class annotated as mentioned called AccountManager.\nWhen AccountManager needs to perform CRUD operations it makes the appropriate calls to an instance of AccountManagerPersistence, which is a class in the persistence layer. A rough sketch of two methods in AccountManager could be:\n...\npublic void makeExpiredAccountsInactive() {\n    AccountManagerPersistence amp = new AccountManagerPersistence(...)\n    // Calls persistence layer\n    List<Account> expiredAccounts = amp.getAllExpiredAccounts();\n    for(Account account : expiredAccounts) {\n        this.makeAccountInactive(account)\n    }\n}\npublic void makeAccountInactive(Account account) {\n    AccountManagerPersistence amp = new AccountManagerPersistence(...)\n    account.deactivate();\n    amp.storeUpdatedAccount(account); // Calls persistence layer\n}\n\nWe use container manager transactions so we don't have to do transaction demarcation our self's. What basically happens under the hood is we initiate a transaction when entering the SLSB method and commit it (or rollback it) immediately before exiting the method. It's an example of convention over configuration, but we haven't had a need for anything but the default, Required, yet.\nHere is how The Java EE 5 Tutorial from Sun explains the Required transaction attribute for Enterprise JavaBeans (EJB's):\n\nIf the client is running within a\n  transaction and invokes the enterprise\n  bean\u2019s method, the method executes\n  within the client\u2019s transaction. If\n  the client is not associated with a\n  transaction, the container starts a\n  new transaction before running the\n  method.\nThe Required attribute is the implicit\n  transaction attribute for all\n  enterprise bean methods running with\n  container-managed transaction\n  demarcation. You typically do not set\n  the Required attribute unless you need\n  to override another transaction\n  attribute. Because transaction\n  attributes are declarative, you can\n  easily change them later.\n\nPresentation\nOur presentation layer is in charge of... presentation! It's responsible for the user interface and shows information to the user by building HTML pages and receiving user input through GET and POST requests. We are currently using the old Servlet's + Java Server Pages (JSP) combination.\nThe layer calls methods in managers of the business layer to perform operations requested by the user and to receive information to show in the web page. Sometimes the information received from the business layer are less complex types as String's and integers, and at other times JPA entities.\nPros and cons with the architecture\nPros\n\nHaving everything related to a specific way of doing persistence in this layer only means we can swap from using JPA into something else, without having to re-write anything in the business layer.\nIt's easy for us to swap our presentation layer into something else, and it's likely that we will if we find something better.\nLetting the EJB container manage transaction boundaries is nice.\nUsing Servlet's + JPA is easy (to begin with) and the technologies are widely used and implemented in lots of servers.\nUsing Java EE is supposed to make it easier for us to create a high availability system with load balancing and fail over. Both of which we feel that we must have.\n\nCons\n\nUsing JPA you may store often used queries as named queries by using the @NamedQuery annotation on the JPA entity class. If you have as much as possible related to persistence in the persistence classes, as in our architecture, this will spread out the locations where you may find queries to include the JPA entities as well. It will be harder to overview persistence operations and thus harder to maintain.\nWe have JPA entities as part of our persistence layer. But Account and ShoppingCart, aren't they really business objects? It is done this way as you have to touch these classes and turn them into entities which JPA knows how to handle.\nThe JPA entities, which are also our business objects, are created like Data Transfer Objects (DTO's), also known as Value Objects (VO's). This results in an anemic domain model as the business objects have no logic of their own except accessor methods. All logic is done by our managers in the business layer, which results in a more procedural programming style. It's not good object oriented design, but maybe that's not a problem? (After all object orientation isn't the only programming paradigm which has delivered results.)\nUsing EJB and Java EE introduces a bit of complexity. And we can't use purely Tomcat (adding an EJB micro-container isn't purely Tomcat).\nThere are lots of issues with using Servlet's + JPA. Use Google for more information about these issues.\nAs the transactions are closed when exiting the business layer we can't load any information from JPA entities which is configured to be loaded from the database when it's needed (using fetch=FetchType.LAZY) from inside the presentation layer. It will trigger an exception. Before returning an entity containing these kinds of fields we have to be sure to call the relevant getter's. Another option is to use Java Persistence Query Language (JPQL) and do a FETCH JOIN. However both of these options are a little bit cumbersome.\n\n", "I started with jetlang and the basic samples are pretty clear.\nWhat I didn't found is a good sample for using the PoolFiber. Anybody played around\nwith that already? I read also the retlang samples but it seems little bit different there.\nThanks for sharing your thoughts!\nOkami\n", "My company needs a PDF viewer with Java API with the additional requirement on being able to use FDF form data.\nThe only one i found was JPedal which promises to feature everything we need, but it costs a bunch. So what are my options? Is there another tool to do it?\nedit:\nI found iText to be an easy way to merge FDF data into the PDF form.\nThe only LGPL viewer that worked ok (unlike Adobe's own 10 year old Java 1.1 API) was Sun's pdf-renderer. But sadly it doesn't display form values. iText's form-flattening helps, but there has to be a better way.\n", "I'm having a difficult time figuring out how to add a .jar/library to a Netbeans project in such a way that I can get it committed to the repository.\nThe typical way to add a library (per the Netbeans documents I've already gone through) ends up with it just being local to me.  Anyone who checks out my project ends up missing my required library.\nInserting it manually and trying to work around Netbeans results in Netbeans hanging while trying to scan the project...\nSo, how can I tell Netbeans to pick up a jar as a library and include it in my project in such a way that Subversion will be able to handle it?\n", "In Java, is there a way to control the TTL of the IP header for packets sent on a socket? \n", "Is there a tool that will take you java beans (pojos) and automatically make them a form for a webpage?\nTo be more clear I have a bunch of Jaxb objects that I want to be able to display in a form without having to code a bunch of html.  Is there a tool that will read the jaxb objects and generate the editable form for me?  Also, this needs to run on a glassfish server...\n", "What is the smartest way to get an entity with a field of type List persisted?\nCommand.java\npackage persistlistofstring;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.persistence.Basic;\nimport javax.persistence.Entity;\nimport javax.persistence.EntityManager;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Persistence;\n\n@Entity\npublic class Command implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    Long id;\n    @Basic\n    List<String> arguments = new ArrayList<String>();\n\n    public static void main(String[] args) {\n        Command command = new Command();\n\n        EntityManager em = Persistence\n                .createEntityManagerFactory(\"pu\")\n                .createEntityManager();\n        em.getTransaction().begin();\n        em.persist(command);\n        em.getTransaction().commit();\n        em.close();\n\n        System.out.println(\"Persisted with id=\" + command.id);\n    }\n}\n\n\nThis code produces:\n> Exception in thread \"main\" javax.persistence.PersistenceException: No Persistence provider for EntityManager named pu: Provider named oracle.toplink.essentials.PersistenceProvider threw unexpected exception at create EntityManagerFactory: \n> oracle.toplink.essentials.exceptions.PersistenceUnitLoadingException\n> Local Exception Stack: \n> Exception [TOPLINK-30005] (Oracle TopLink Essentials - 2.0.1 (Build b09d-fcs (12/06/2007))): oracle.toplink.essentials.exceptions.PersistenceUnitLoadingException\n> Exception Description: An exception was thrown while searching for persistence archives with ClassLoader: sun.misc.Launcher$AppClassLoader@11b86e7\n> Internal Exception: javax.persistence.PersistenceException: Exception [TOPLINK-28018] (Oracle TopLink Essentials - 2.0.1 (Build b09d-fcs (12/06/2007))): oracle.toplink.essentials.exceptions.EntityManagerSetupException\n> Exception Description: predeploy for PersistenceUnit [pu] failed.\n> Internal Exception: Exception [TOPLINK-7155] (Oracle TopLink Essentials - 2.0.1 (Build b09d-fcs (12/06/2007))): oracle.toplink.essentials.exceptions.ValidationException\n> Exception Description: The type [interface java.util.List] for the attribute [arguments] on the entity class [class persistlistofstring.Command] is not a valid type for a serialized mapping. The attribute type must implement the Serializable interface.\n>         at oracle.toplink.essentials.exceptions.PersistenceUnitLoadingException.exceptionSearchingForPersistenceResources(PersistenceUnitLoadingException.java:143)\n>         at oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider.createEntityManagerFactory(EntityManagerFactoryProvider.java:169)\n>         at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:110)\n>         at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:83)\n>         at persistlistofstring.Command.main(Command.java:30)\n> Caused by: \n> ...\n\n", "The following code does not compile:\npublic class GenericsTest {    \n    public static void main(String[] args) {\n        MyList<?> list = new MyList<Object>();\n        Class<?> clazz = list.get(0);\n\n        // Does not compile with reason \n        // \"Type mismatch: cannot convert from Object to Class\"\n        MyList list2 = new MyList();\n        Class clazz2 = list2.get(0);\n    }\n    static class MyList<T> extends ArrayList<Class<T>> {\n    }\n}\n\nI wanted to do this to introduce generics to old code without breaking the build.\nIs this a bug in both the compiler (both eclipse and javac) or am I missing something here? What other possibility exists to introduce generics to MyList?\nEDIT\nFor clarification:\nI have the generic class\npublic class MyList extends ArrayList<MyObject> {}\n\nwith \npublic class MyObject {}\n\nand code using MyList\nMyList list = new MyList();\n...\nMyObject o = list.get(0);\n\nNow during development I see I want to introduce generics to MyObject\npublic class MyObject<T> {}\n\nand now I want to have this new generic thingy in MyList as well\npublic class MyList<T> extends ArrayList<MyObject<T>> {}\n\nBut that does break my build. Interestingly\npublic class MyList<T> extends ArrayList<MyObject<T>> {\n    public MyObject<T> get(int i) {\n        return super.get(i);\n    }\n}\n\nwill allow old code \nMyList list = new MyList();\n...\nMyObject o = list.get(0);\n\nto compile. \nOK, seems that when I introduce this generic, I will have to live with having to change all calls to MyList to the generic form. I wanted the old code to just introduce a warning instead of an error.\n", "Is it possible to do  a \"C like\" fork in java, using an new independent jvm process ?\nHow?\n", "I want to discover at run-time ONLY the static Methods of a class, how can I do this?\nOr, how to differentiate between static and non-static methods.\n", "I'm working with an existing Java codebase which, while it can be invoked from an HTML page using an <APPLET> tag, does not actually subclass the Applet class. The same jars are also used in a non-browser context, so they did not subclass Applet.\nNow I need to communicate some values from Java back to the Javascript of the invoking page. Normally one would do this using JSObject, but so far as I can one has to use JSObject.getWindow which only works for subclasses of Applet.\nIs there either:\n\na way to use JSObject from something which isn't an Applet subclass?\nsome other mechanism to communicate back to the Javascript of the invoking page?\n\n", "We're having a bit of fun here at work. It all started with one of the guys setting up a Hackintosh and we were wondering whether it was faster than a Windows Box of (nearly) same specs that we have. So we decided to write a little test for it. Just a simple Prime number calculator. It's written in Java and tells us the time it takes to calculate the first n Prime numbers.\nOptimised version below - now takes ~6.6secs\npublic class Primes {\n\n    public static void main(String[] args) {\n        int topPrime = 150000;\n        int current = 2;\n        int count = 0;\n        int lastPrime = 2;\n\n        long start = System.currentTimeMillis();\n\n        while (count < topPrime) {\n\n            boolean prime = true;\n\n            int top = (int)Math.sqrt(current) + 1;\n\n            for (int i = 2; i < top; i++) {\n                if (current % i == 0) {\n                    prime = false;\n                    break;\n                }\n            }\n\n            if (prime) {\n                count++;\n                lastPrime = current;\n            }\n            if (current == 2) {\n             current++;\n            } else {\n                current = current + 2;\n            }\n        }\n\n        System.out.println(\"Last prime = \" + lastPrime);\n        System.out.println(\"Total time = \" + (double)(System.currentTimeMillis() - start) / 1000);\n    } \n}\n\nWe've pretty much lost the plot of the whole Hackintosh vs PC thing and are just having some fun with optimising it. First attempt with no optimisations (the above code has a couple) ran around 52.6min to find the first 150000 prime numbers. This optimisation is running around 47.2mins.\nIf you want to have a go and post your results, then stick em up.\nSpecs for the PC I'm running it on are Pentium D 2.8GHz, 2GB RAM, running Ubuntu 8.04.\nBest Optimisation so far has been the square root of current, first mentioned by Jason Z.\n", "In Websphere when you do an LDAP query using LdapContext are the transmission of credentials encrypted?\nLdapContext ctx = new InitialLdapContext (env, null);\n\nLets say I make an LdapContext for a web app to do some custom LDAP calls.\nHow do I know if my call is secure / encrypted?\n", "How Can I put information in a outputstream from tapestry5 ?\nI need a page when a user enters it open a dialog for save or open the file with the outputstream information.\nI write the next code:\npublic class Index {\n@Inject\nprivate RequestGlobals requestGlobals;\n\n@OnEvent(\"activate\")\npublic void onActivate() {\n    try {\n        HttpServletResponse response = requestGlobals.getHTTPServletResponse();\n        response.setContentType(\"text/txt\");\n        PrintWriter out = response.getWriter();\n        out.println(\"hellooooooo\");\n        out.flush();\n    } catch (IOException ex) {\n        Logger.getLogger(Index.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n\n}\nI hope that the result is only \"helloooooooo\" but is (\"helloooooooo\" + my html raw page)\n", "Is there any plugins for Eclipse for portlet design and deployment? I have never designed portlets so are there any good tutorials on the web as well?\n", "I have this naive regex \"<([\\s]|[^<])+?>\" (excluding the quotation marks). It seems so\nstraightforward but it is indeed evil when it works against the below HTML text. It sends the Java regular expression engine to an infinite loop. \nI have another regex (\"<.+?>\"), which does somewhat the same thing, but it doesn't kill anything. Do you know why this happens?\n<script language=\"JavaScript\" type=\"text/javascript\">\n        var numDivs, layerName;\n        layerName = \"lnavLayer\";\n        catLinkName = \"category\";\n        numDivs = 2;\n        function toggleLayer(layerID){\n            if (!(navigator.appName == \"Netscape\" && navigator.appVersion.substr(0, 1) < 5)){\n                thisLayer = document.getElementById(layerName + layerID);\n                categoryLink = document.getElementById(catLinkName + layerID);\n                closeThem();\n                if (thisLayer.className == 'subnavDefault'){\n                    thisLayer.className = 'subnavToggled';\n                    categoryLink.className = 'leftnavLinkSelectedSection';\n                }\n            }\n        }\n        function closeThem(){\n            for(x = 0; x < numDivs; x++){\n                theLayer = document.getElementById(layerName + (x\n+ 1));\n                thecategoryLink = document.getElementById(catLinkName + (x + 1));\n                theLayer.className = 'subnavDefault';\n                thecategoryLink.className = 'leftnavLink';\n            }\n        } var flag = 0; var lastClicked = 0\n    //-->\n    </script>\n\nit even keeps looping with an online Java regex tool (such as www.fileformat.info/tool/regex.htm) or a utility like RegexBuddy.\n", "I am seeing a strange problem:\nI have a linux machine, installed JDK1.6 on that machine, and some business went on, and some days later had to change the IP address of the machine. and now after some months... i am trying to get some spring application to work... and it seems the RMI Server is starting at my old ip address...\n    21:12:45,412 DEBUG [org.springframework.remoting.rmi.RmiServiceExporter] RMI registry access threw exception\njava.rmi.ConnectIOException: Exception creating connection to: 192.168.13.55; nested exception is:\n        java.net.SocketException: Network is unreachable\n        at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:614)\n        at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:198)\n        at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:184)\n        at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:322)\n        at sun.rmi.registry.RegistryImpl_Stub.list(Unknown Source)\n        at org.springframework.remoting.rmi.RmiServiceExporter.testRegistry(RmiServiceExporter.java:411)\n        at org.springframework.remoting.rmi.RmiServiceExporter.getRegistry(RmiServiceExporter.java:391)\n\ncan somone explain the process or shed some light on what is going on here, or might be going on here.\n", "I need to test a JDBC connection to a database. The java code to do that should be as simple as:\nDriverManager.getConnection(\"jdbc connection URL\", \"username\", \"password\");\n\nThe driver manager will lookup the appropriate the driver for the given connection URL. However I need to be able to load the JDBC driver (jar) at runtime. I.e I don't have the JDBC driver on the classpath of the java application that runs the snippet of code above.\nSo I can load the driver using this code, for example:\nURLClassLoader classLoader = new URLClassLoader(new URL[]{\"jar URL\"}, this.getClass().getClassLoader());\nDriver driver = (Driver) Class.forName(\"jdbc driver class name\", true, classLoader).newInstance();\n\nBut then the driver manager still won't pick it up as I can't tell it which classloader to use. I tried setting the current thread's context classloader and it still doesn't work.\nAnyone has any idea on the best way to achieve that?\n", "Is there anyway to get Eclipse to automatically look for static imports? For example, now that I've finally upgraded to Junit 4, I'd like to be able to write:\nassertEquals(expectedValue, actualValue);\n\nhit Ctrl + Shift + O and have Eclipse add:\nimport static org.junit.Assert.assertEquals;\n\nMaybe I'm asking too much.\n", "I was really looking at the differences between pass by value and how Java allocates objects and what java does to put objects on the stack.\nIs there anyway to access objects allocated on the heap?  What mechanisms does java enforce to guarantee that the right method can access the right data off the heap?\nIt seems like if you were crafty and maybe even manipulate the java bytecode during runtime, that you might be able to manipulate data off the heap when you aren't supposed to?\n", "Suppose that I have a Java program within an IDE (Eclipse in this case).\nSuppose now that I execute the program and at some point terminate it or it ends naturally.\nIs there a convenient way to determine which lines executed at least once and which ones did not (e.g., exception handling or conditions that weren't reached?)\nA manual way to collect this information would be to constantly step with the debugging and maintain a set of lines where we have passed at least once. However, is there some tool or profiler that already does that?\nEdit: Just for clarification: I need to be able to access this information programmatically and not necessarily from a JUnit test.\n", "I want to output a timestamp with a PST offset (e.g., 2008-11-13T13:23:30-08:00). java.util.SimpleDateFormat does not seem to output timezone offsets in the hour:minute format, it excludes the colon. Is there a simple way to get that timestamp in Java?\n// I want 2008-11-13T12:23:30-08:00\nString timestamp = new SimpleDateFormat(\"yyyy-MM-dd'T'h:m:ssZ\").format(new Date());\nSystem.out.println(timestamp); \n// prints \"2008-11-13T12:23:30-0800\" See the difference?\n\nAlso, SimpleDateFormat cannot properly parse the example above. It throws a ParseException.\n// Throws a ParseException\nnew SimpleDateFormat(\"yyyy-MM-dd'T'h:m:ssZ\").parse(\"2008-11-13T13:23:30-08:00\")\n\n", "I'm making a Java application with an application-logic-thread and a database-access-thread.\nBoth of them persist for the entire lifetime of the application and both need to be running at the same time (one talks to the server, one talks to the user; when the app is fully started, I need both of them to work).\nHowever, on startup, I need to make sure that initially the app thread waits until the db thread is ready (currently determined by polling a custom method dbthread.isReady()).\nI wouldn't mind if app thread blocks until the db thread was ready.\nThread.join() doesn't look like a solution - the db thread only exits at app shutdown.\nwhile (!dbthread.isReady()) {} kind of works, but the empty loop consumes a lot of processor cycles.\nAny other ideas? Thanks.\n", "During navigation of Method class I came across the function isBridge(), javadoc of which says, that its true only if java spec declares the method as true.\nPlease help me understand what this is used for ? Can a custom class declare its method as a bridge if required ?\n", "I'm searching for a way of developing a MethodInterceptor which prints the caller class.\nIs there any way of getting the caller object into the method interceptor?\n", "I've written a program that counts lines, words, and characters in a text: it does this with threads. It works great sometimes, but not so great other times. What ends up happening is the variables pointing to the number of words and characters counted sometimes come up short and sometimes don't.\nIt seems to me that the threads are sometimes ending before they can count all the words or characters that they want to. Is it because these threads go out of scope when the while (true) loop breaks?\nI've included the code from the thready part of my problem below:\nprivate void countText() {\n  try {\n    reader = new BufferedReader(new FileReader(\"this.txt\"));\n    while (true) {\n      final String line = reader.readLine();\n      if(line == null) {break;}\n      lines++;\n      new Thread(new Runnable() {public void run() {chars += characterCounter(line);}}).start();\n      new Thread(new Runnable() {public void run() {words += wordCounter(line);}}).start();\n      println(line);\n    }\n\n  } catch(IOException ex) {return;}\n\n}\n\n(Sub Question: This is the first time I've asked about something and posted code. I don't want to use StackOverflow in place of google and wikipedia and am worried that this isn't an appropriate question? I tried to make the question more general so that I'm not just asking for help with my code... but, is there another website where this kind of question might be more appropriate?)\n", "I would like to create a simple program (in Java) which edits text files - particularly one which performs inserting arbitrary pieces of text at random positions in a text file. This feature is part of a larger program I am currently writing.\nReading the description about java.util.RandomAccessFile, it appears that any write operations performed in the middle of a file would actually overwrite the exiting content.   This is a side-effect which I would like to avoid (if possible).\nIs there a simple way to achieve this?\nThanks in advance.\n", "Does anyone know of a Java library that provides a useful abstraction for analyzing and manipulating arbitrary relational database schemata? I'm thinking of something that could do things like\nLibraryClass dbLib = ...;\nDbSchema schema = dbLib.getSchema(\"my_schema\");\nList<DbTable> tables = schema.getTables();\n\nand\nDbTable myTable  = ...\nfor(DbColumn col : myTable.getColumns()){\n    ... = col.getType();\n}\n\nor even manipulate tables like\nmyTable.addColumn(\n    new DbColumn(\"my_new_column\", Type.UNSIGNED_INTEGER);\n);\n\nDbColumn myColumn = ...\nmyTable.removeColumn(myColumn);\n\nMost Database modeling tools will have such an abstraction internally, but is there one in Java that I can use, or will I have to roll my own?\n", "Is it possible using StAX (specifically woodstox) to format the output xml with newlines and tabs, i.e. in the form:\n\n<element1>\n  <element2>\n   someData\n  </element2>\n</element1>\n\ninstead of:\n<element1><element2>someData</element2></element1>\nIf this is not possible in woodstox, is there any other lightweight libs that can do this?\n", "I've got a somewhat dated Java EE application running on Sun Application Server 8.1 (aka SJSAS, precursor to Glassfish).  With 500+ simultaneous users the application becomes unacceptably slow and I'm trying to assist in identifying where most of the execution time is spent and what can be done to speed it up.  So far, we've been experimenting and measuring with LoadRunner, the app server logs, Oracle statpack, snoop, adjusting the app server acceptor and session (worker) threads, adjusting Hibernate batch size and join fetch use, etc but after some initial gains we're struggling to improve matters more.\nOk, with that introduction to the problem, here's the real question: If you had a slow Java EE application running on a box whose CPU and memory use never went above 20% and while running with 500+ users you showed two things: 1) that requesting even static files within the same app server JVM process was exceedingly slow, and 2) that requesting a static file outside of the app server JVM process but on the same box was fast, what would you investigate?\nMy thoughts initially jumped to the application server threads, both acceptor and session threads, thinking that even requests for static files were being queued, waiting for an available thread, and if the CPU/memory weren't really taxed then more threads were in order.  But then we upped both the acceptor and session threads substantially and there was no improvement.  \nClarification Edits: \n1) Static files should be served by a web server rather than an app server.  I am using the fact that in our case this (unfortunately) is not the configuration so that I can see the app server performance for files that it doesn't execute -- therefore excluding any database performance costs, etc.  \n2) I don't think there is a proxy between the requesters and the app server but even if there was it doesn't seem to be overloaded because static files requested from the same application server machine but outside of the application's JVM instance return immediately.\n3) The JVM heap size (Xmx) is set to 1GB.\nThanks for any help!\n", "I am adapting a little rmi client-server application. I have written several things :\nHelloInterface -> A Hello World interface for RMI\nServer -> The server app'\nClient -> The client app'\n\nNothing special, but... I have put my hands in a new RMISecurityManager, which calls a JNI method and checks the permission for a separate user:\npackage rmi;\nimport java.rmi.RMISecurityManager;\nimport java.io.*;\n\npublic class NativeRMISecurityManager extends RMISecurityManager\n{\n    private boolean unix;\n    protected static ThreadLocal user = new ThreadLocal();\n\n    /*\n     * On interdit l'utilisation du constructeur par defaut\n     * pour obliger l'utilisation du constructeur avec user. \n     */\n    private NativeRMISecurityManager()\n    {\n        super();\n    }\n\n    public NativeRMISecurityManager (final String user)\n    {\n        super();\n        String OS = System.getProperty(\"os.name\").toLowerCase();\n        unix = (OS.compareTo(\"windows\") != 0); /* Assume that if not \n                            * windows, then \"UNIX/POSIX\" \n                            */\n        /*\n         * ThreadLocal's user : Each thread is considered \n         * to have different access rights to the machine\n         */\n\n        NativeRMISecurityManager.user.set(user);\n\n        if (!unix)\n        {\n            System.out.println(\"Systeme : \"+OS);\n        }\n    }\n\n    public void checkRead(String file)\n    {\n        super.checkRead(file);\n        /*\n         * If we are on a **IX platform we want to check that \n         * the _user_ has access rights.\n         */\n        if (unix)\n        {\n            String str_user = (String)NativeRMISecurityManager.user.get();\n\n            if (file == null)\n            {\n                throw new SecurityException(\"file = NULL !!!\");\n            }\n        if (str_user == null)\n            {\n                throw new SecurityException(\"user = NULL in the ThreadLocal!!!\");\n            }\n\n            int ret = c_checkRead(\n                    file, \n                    str_user\n                    );\n            if (ret != 0)\n            {\n                throw new SecurityException(\"Access error: \" + file);\n            }\n        }\n    }\n\n    public native int c_checkRead(String file, String user);\n}\n\nIn the Server class I'm doing that : \nString user = \"my_user\";\nSystem.setSecurityManager(new NativeRMISecurityManager(user));\n\nThis class seems to work in the Server's main thread. Now the problem is when I try and connect to that Server class and lookup the Registry.\nI get that exception : \nException in thread \"RMI TCP Connection(1)-192.168.42.207\"     java.lang.ExceptionInInitializerError\n        at sun.rmi.transport.StreamRemoteCall.getInputStream(StreamRemoteCall.java:111)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:118)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:466)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:707)\n        at java.lang.Thread.run(Thread.java:595)\nCaused by: java.lang.SecurityException: user = NULL dans le ThreadLocal!!!\n        at rmi.NativeRMISecurityManager.checkRead(NativeRMISecurityManager.java:62)\n        at java.io.File.exists(File.java:700)\n        at java.lang.ClassLoader$3.run(ClassLoader.java:1689)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1686)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1668)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:822)\n        at java.lang.System.loadLibrary(System.java:993)\n        at sun.security.action.LoadLibraryAction.run(LoadLibraryAction.java:50)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.server.MarshalInputStream.<clinit>(MarshalInputStream.java:97)\n        ... 5 more\n\nIMHO the meaning of this is that a thread is (implicitly) created and gets the NativeRMISecurityManager as its default SecurityManager.\nWould somebody have any advice concerning that ?\n", "I have a JAX-RPC web service that I am attempting to consume using Spring. This is my first time using Spring to consume a web service, so right now I'm just trying to get it to integrate with the JAX-RPC web service as a test.\nThe web service has several dozen operations in it, but for right now I only care about one. Here are the interfaces I've created on the Spring/client side:\npublic interface WSClient {\n    public boolean userExists(int userid);\n}\n\npublic interface WSService {\n    //this method matches the method signature of the Web Service\n    public com.company.data.User getUser(int userid);\n}\n\nAnd here is my applicationContext.xml:\n<bean id=\"WSClient\" class=\"com.company.ws.test.WSClientImpl\">\n    <property name=\"service\" ref=\"myWebService\"></property>\n</bean>\n\n<bean id=\"myWebService\" class=\"org.springframework.remoting.jaxrpc.JaxRpcPortProxyFactoryBean\">\n    <property name=\"serviceInterface\" value=\"com.company.ws.test.WSService\"/>\n    <property name=\"endpointAddress\" value=\"http://1.2.3.4/web-service/data\"/>\n    <property name=\"namespaceUri\" value=\"http://www.company.com/wdsl\"/>\n    <property name=\"serviceName\" value=\"CompanyWebService\"/>\n    <property name=\"username\" value=\"username\"/>\n    <property name=\"password\" value=\"password\"/>\n    <property name=\"maintainSession\" value=\"true\"/>\n</bean>\n\nUsing this configuration of JaxRpcPortProxyFactoryBean, invoking the Service returns the following exception:\n\norg.springframework.remoting.RemoteProxyFailureException: Invalid JAX-RPC call configuration; nested exception is operation style: \"rpc\" not supported\n\nI've never fully understood the difference between RPC and document-style web services; however, I believe this web service is using RPC-style - so this exception confuses me.\nSecond, I'm confused on which properties I should be setting with JaxRpcPortProxyFactoryBean:\n\nIf I set the wsdlDocumentUrl property, I end up getting a HTTP 401 error as this web service sits behind HTTP Basic Authentication, and it seems Spring does not use the username/password properties when fetching the WSDL. \nIf I specify a PortInterface property (with a value of CompanyWebServiceInterfacePort), then I get a different Exception stating: \n\n\nFailed to initialize service for JAX-RPC port [{http://www.company.com/wdsl}CompanyWebServiceInterfacePort]; nested exception is WSDL data missing, this operation is not available  \n\n\nIn other words, it's telling me that the WSDL is missing - which I can't set since Spring won't use the username/password to fetch it from the server!\nI'm not sure if any of this makes any sense, but in essence what I'm unsure of is:\n\nFor a JAX-RPC service, do I need to set the PortInterface property? Is this the path I should be going down?\nSimiliarly, does Spring need me to set the wsdlDocumentUrl property? If so, is there any way I can tell Spring which WSDL and get around the authentication problem?\n\n", "I'm trying to write a quick little java application to read the contents of a pcap file (from Wireshark) and play the data back on the network on a linux box.  The file will only contain UDP broadcast packets, so my application only really needs the timestamp, port number, and data from the packet to do what I need.  My problem is that the application that I'm trying to test with this code is listening for IPv4 UDP broadcasts on Windows.  My test application keeps opening an IPv6 socket to send the data out.\nI'm using netstat  -a -u -p to determine that the socket is a udp6 socket.  On windows I know it isn't.\nWhat is the easiest or best way to force the test app on linux in java to open a udp or udp4 socket instead?  I don't want to be forced in to providing the ipv4 network address each time. I want to be able to move this code to another machine without having to remember that their is some configuration that needs to be changed.\n", "Over the years, I think I have seen and tried every conceivable way of generating stub data structures (fake data) for complex object graphs. It always gets hairy in java.\n   *    *    *    *\nA---B----C----D----E\n\n(Pardon cheap UML) \nThe key issue is that there are certain relationships between the values, so a certain instance of C may imply given values for E. \nAny attempt I have seen at applying a single pattern or group of pattens to solve this problem in java ultimately end up being messy.\nI am considering if groovy or any of the dynamic vm languages can do a better job. It should be possible to do things significantly simpler with closures. \nAnyone have any references/examples of this problem solved nicely with (preferably) groovy or scala ?\nEdit:\nI did not know \"Object Mother\" was the name of the pattern, but it's the one I'm having troubles with: When the object structure to be generated by the Object Mother is sufficiently complex, you'll always end up with a fairly complex internal structure inside the Object Mother itself (or by composing multiple Object Mothers). Given a sufficiently large target structure (Say 30 classes), finding structured ways to implement the object mother(s) is really hard. Now that I know the name of the pattern i can google it better though ;) \n", "I have a third-party ActiveX dll, and I'd like to register it programmatically at run time, if possible. Can this be done in Java? The application I'm working with is an Eclipse application on Windows XP.\n", "The very common beginner mistake is when you try to use a class property \"statically\" without making an instance of that class. It leaves you with the mentioned error message.\nYou can either make the non static method static or make an instance of that class to use its properties.\nWhy? I am not asking for solutions. I would be grateful to know what's the reason behind it. The very core reason!\nprivate java.util.List<String> someMethod(){\n    /* Some Code */\n    return someList;            \n}\n\npublic static void main(String[] strArgs){          \n     // The following statement causes the error. You know why..\n    java.util.List<String> someList = someMethod();         \n}\n\n", "I have a block of code that works and I wanted to ask what exactly is happening here?\nClass<?> normalFormClass = null;\n\n---added---\nThe wildcard \"<?>\" is the part that is confusing for me.  Why would this be used rather than not using it (generics)?\n", "The JUnit framework contains 2 Assert classes (in different packages, obviously) and the methods on each appear to be very similar. Can anybody explain why this is?\nThe classes I'm referring to are: junit.framework.Assert and org.junit.Assert.\n", "Writing a JSP page, what exactly does the <c:out> do? I've noticed that the following both has the same result:\n<p>The person's name is <c:out value=\"${person.name}\" /></p>\n<p>The person's name is ${person.name}</p>\n\n", "We're using Spring/Hibernate on a Websphere Application Server for AIX.  On my Windows machine, the problem doesn't occur--only when running off AIX.  When a user logs in with an account number, if they prefix the '0' to their login ID, the application rejects the login.  In the DB2 table, the column is of numeric type, and there shouldn't be a problem converting '090....' to '90...'\nAnyone else experience a problem like this?  Both machines have Java v1.5.\nTo be more specific, the flow is FormView -> LoginValidator -> LoginController\nIn LoginValidator, the value of login is null with the prefixed 0.  Without the 0, the value is what it should be (But again, this is only on the AIX environment--on 2 Windows environments it's fine).  Here's the snippet of code where the object equals null..\npublic class LoginValidator implements Validator  {\n\n    public boolean supports(Class clazz) {\n    return Login.class.equals(clazz);\n    }\n\n    @SuppressWarnings(\"all\")\n    public void validate(Object obj, Errors errors) {\n        System.out.println(\"Inside LoginValidator\");\n        Login login = (Login) obj;\n        //null value\n        System.out.println(\"Before conversion in Validator, store id = \" \n              + login.getStoreId()); \n    }\n}\n\nI've also written this short Java program for constructing a Long from a String, and using the java binary that is packaged with WebSphere\npublic class String2Long {\n    public static void main(String[] args){\n        String a = \"09012179\";\n        String b = \"9012179\";\n\n        Long _a = new Long(a);\n        Long _b = new Long(b);\n\n        System.out.println(a + \" => \" + _a); //09012179 => 9012179\n        System.out.println(b + \" => \" + _b); //9012179 => 9012179\n        System.out.println(\"_a.equals(_b) \" + _a.equals(_b)); //_a.equals(_b) true\n    }\n}\n\nSOLUTION\n", "I know about BCEL, but this project seems to be dead, as it had no releases for two years. And the Java-world moves on. For example JDK 1.6 has a new class-file-format.\nSo what library can be used to create bytecode for the JVM. If no library, a program is ok too, if I can manipulate the generated code in detail, for example a bytecode-assembler.\nWhich software can you recommend? Is it easy too use? has good examples/tutorials?\nEDIT: For all asking: Yes, the javac is fine. But for generating some classes at runtime, a path directly to bytecode would be cleaner.\n", "When you assign a date to a named SQL parameter Hibernate automatically converts it to GMT time. How do you make it use the current server timezone for all dates?\nLets say you have a query:\nQuery q = session.createQuery(\"from Table where date_field < :now\");\nq.setDate(\"now\", new java.util.Date());\n\n\"now\" will be set to GMT time, while \"new Date()\" gets your current server time.\nThanks.\n", "Have you ever had alternating background colors in a Jasper report and then exported it to Excel?  The Excel export seems to ignore the alternating color.\nI've got a Jasper report where the rows alternating background color using the procedure referenced HERE.  When I preview it using the viewer or export to PDF it works -- but not when I export to Excel.  I've tried using JRXlsExporter and JExcelApiExporter both to no avail. \nI think it might be a side-effect of how you have to make alternating row colors in Jasper, which I despise to begin with, but have found no other way.\nThanks in advance!\n", "Are there any \"Alert\" (or Notification) frameworks in Java out there.\nIn my web application I would like our users to be able to configure which (of the available alerts) they would like to receive and in which (e.g via email) form.\nAs a simple example, a user chooses to be alerted only via email when his/her order has been shipped.\n", "I'm already familiar with the standard Java package naming convention of using a domain name to create a unique package name (i.e. package com.stackoverflow.widgets). However, I've never seen any recommendations for how to choose package names for personal projects. I assume because this is because this is really a matter of personal taste.\nSo, how do you choose package names for personal projects that will never make it into production (you might be experimenting with a new framework in your spare time). Assuming you don't have a personal website whose domain you can use to create your package structure, what do (or would) you do? Do you have a logical system in place for generating new package names for hobby projects, or do you just use simple throw-away package names like mypackage?\nSince I'm just curious to see what different people's thoughts are on this, I've made this a community wiki.\nFor me personally, I've never given it much thought, but I wanted to play around with Wicket tonight and it occurred to me that I don't have a clear idea of how I want to organize my hobby projects. A separate, distinct package naming convention for hobby projects (in my mind, at least) would serve as a good way to keep personal and work-related code clearly separate from each other.\nI was thinking of a simple hierarchal naming convention, to keep the source for my personal projects in a single root folder:\n\nUse myprojects as the root folder \nAppend the project name \nAdd any additional subpackage names\n\nSo, my Wicket project would be in the package myprojects.learningwicket and unit tests would be in the package myprojects.learningwicket.tests (for example).\n", "I have a function which gets a key from the user and generates a Hashtable (on a pattern specified by the key). After creating a Hashtable, I would like to populate a JTable so that each each column represents a key and every rows represents the values associated with the key. I tried everything but couldn't get this work. I'm not creating the table from within the constructor as I need to get input from the user.\n", "A few years ago client Java was unsuitable for web development because a remarkable part of web users did not have Java installed. ( I don't remember exact numbers, more than 10%). \nNow I see the Google Analytics stats for a big site and it tells that >98% of users have Java installed.\nIs these stats very biased by Javascript usage? As I understand Google Analytics measure only users that has Javascript.\nIs the picture similar on other big sites?\nDoes client Java have really \"stopper\" drawbacks compared to Flash?\nEDIT: I mean java applets mainly, java WebStart seems to be not suitable for average user.\nI mention Javascript only to describe the way Google Analytics works.\n", "I recently wrote a class for an assignment in which I had to store names in an ArrayList (in java). I initialized the ArrayList as an instance variable private ArrayList<String> names. Later when I checked my work against the solution, I noticed that they had initialized their ArrayList in the run() method instead.\nI thought about this for a bit and I kind of feel it might be a matter of taste, but in general how does one choose in situations like this? Does one take up less memory or something?\nPS I like the instance variables in Ruby that start with an @ symbol: they are lovelier.\n(meta-question: What would be a better title for this question?)\n", "Since I've started using NetBeans, I've learned of some powerful ways to abstract away the process of creating Java database applications with automatically generated UI, beans bindings, and a bunch of other stuff I only vaguely understand the workings of at the moment (I hate being a newb).  Problem is, how do I do the basic stuff I actually want to do?  The tutorials I've read make a big deal about being able to connect to and mess around with a database from within the IDE, or how to create and bind some UI sliders and checkboxes to table columns, etc.  But where can I learn about how to make my own code do that stuff?  Abstraction is nice and all, but it's quite useless to me at the moment for what I need done.\nCan anyone refer me to some good resources or tutorials to learn this?  The few I've found aren't proving as useful as I'd hoped to get my project underway...\n", "I trying to learn swt, and I use maven for all my builds and eclipse for my IDE. When getting the swt jars out of the maven repository, I get:\nException in thread \"main\" java.lang.UnsatisfiedLinkError: no swt-pi-gtk-3034 in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1709)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:823)\n    at java.lang.System.loadLibrary(System.java:1030)\n    at org.eclipse.swt.internal.Library.loadLibrary(Library.java:100)\n    at org.eclipse.swt.internal.gtk.OS.<clinit>(OS.java:19)\n    at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:63)\n    at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:54)\n    at org.eclipse.swt.widgets.Display.<clinit>(Display.java:112)\n    at wenzlick.test.swt.main.Main.main(Main.java:30)\n\nHas anyone successfully got a swt app to build and run using maven? \nEdit: I did a little research and found the problem. look at my post below\n", "I'm writing a J2ME application.  One of the pieces is something that polls the contents of a directory periodically, and, if there are any new things, paints them on the screen.  I've done this by having the UI form launch a polling thread with a pointer back to itself, and when the polling thread finds something it calls back to the form and calls a syncrhonized method to update it's display.  This seems to work fine.\nThe question I have is this.  In C#/.NET I know it is not nice to have non-UI threads updating the UI, and the correct way to handle this is to delegate it up to the UI thread.  \nE.g. the following:\npublic void DoSomeUIThing()\n{\n    if (this.uiComponent.InvokeRequired)\n    {\n        this.uiComponent.Invoke(someDelegateThatCallsBackToThis);\n    }\n    else\n    {\n        this.uiComponent.Text = \"This is the update I want to happen\";\n    }\n}\n\nIs there a J2ME equivalent for how to manage this process?  How about Java?  Or does Java/J2ME just play nicer in regard to this?  If not, how is this done?\n[EDIT] It appears that Swing supports what I'm asking about via the SwingUtilities.invokeLater() and invokeAndWait() methods.  Is there an equivalent framework for J2ME?\n", "I'm trying to build a Java regular expression to match \".jar!\"\nThe catch is that I don't want the matcher to consume the exclamation mark. I tried using Pattern.compile(\"\\\\.jar(?=!)\") but that failed. As did escaping the exclamation mark.\nCan anyone get this to work or is this a JDK bug?\nUPDATE: I feel like an idiot, Pattern.compile(\"\\\\.jar(?=!)\") does work. I was using Matcher.matches() instead of Matcher.find().\n", "I am trying to run a java based tool using a command line syntax as the following: java -cp archive.jar archiveFolder.theMainClassName.Although the class I am searching for, a main class, \"theMainClassName\" is in the archive.jar and in the archiveFolder given at input, I keep getting the error that my class is not seen. Does anybody have any ideas concerning this problem? Thank you in advance\n", "I have a JavaEE 1.4 web application running on WebSphere Application Server 6.0. In web.xml, there is a servlet configured to intercept all server requests:\n<servlet-mapping>\n    <servlet-name>name</servlet-name>\n    <url-pattern>/*</url-pattern>\n</servlet-mapping>\n\nThis works fine until I try to request something ending with *.jsp. In this case, server tries to find JSP with this name and fails with the error:\n\njava.io.FileNotFoundException: JSPG0036E: Failed to find resource /cfvct/search_criteria.jsp\n    at com.ibm.ws.jsp.webcontainerext.JSPExtensionProcessor.findWrapper(JSPExtensionProcessor.java:279)\n    at com.ibm.ws.jsp.webcontainerext.JSPExtensionProcessor.handleRequest(JSPExtensionProcessor.java:261)\n    at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3226)\n    at com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:253)\n    at com.ibm.ws.webcontainer.VirtualHost.handleRequest(VirtualHost.java:229)\n    at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1970)\n    at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:120)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:434)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewInformation(HttpInboundLink.java:373)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:253)\n    at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminaters(NewConnectionInitialReadCallback.java:207)\n    at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:109)\n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager.requestComplete(WorkQueueManager.java:566)\n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager.attemptIO(WorkQueueManager.java:619)\n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager.workerRun(WorkQueueManager.java:952)\n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager$Worker.run(WorkQueueManager.java:1039)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1475)\n\nI need to have this request processed by the servlet, but seems server uses some JSPExtensionProcessor to process all paths ending with .jsp. Is there any way to change this behaviour?\n", "I'm working on an assignment that is telling me to assume that I have a singly linked list with a header and tail nodes.  It wants me to insert an item y before position p.  Can anybody please look over my code and tell me if I'm on the right track?  If not, can you provide me with any tips or pointers (no pun intended)?  \ntmp = new Node();\ntmp.element = p.element;\ntmp.next = p.next;\np.element = y;\np.next = tmp;\n\nI think I may be wrong because I do not utilize the header and tail nodes at all even though they are specifically mentioned in the description of the problem.  I was thinking of writing a while loop to traverse the list until it found p and tackle the problem that way but that wouldn't be constant-time, would it?\n", "I am just getting started with Grails. How do I add Java libraries to my Grails project? I added the Smack library jar to the lib folder of my Grails project, but I still cannot import any of its packages into my Java or Groovy classes. I am using the Netbeans IDE. Any help would be appreciated..\nBuzzy\n", "Is there any reason to prefer a CharBuffer to a char[] in the following:\nCharBuffer buf = CharBuffer.allocate(DEFAULT_BUFFER_SIZE);\nwhile( in.read(buf) >= 0 ) {\n  out.append( buf.flip() );\n  buf.clear();\n}\n\nvs.\nchar[] buf = new char[DEFAULT_BUFFER_SIZE];\nint n;\nwhile( (n = in.read(buf)) >= 0 ) {\n  out.write( buf, 0, n );\n}\n\n(where in is a Reader and out in a Writer)?\n", "These are some questions for any developer whose made the jump from Java to .Net:\nIf you could go back to the start of your switched, what would you do to make the transition easier? \nAny books you would recommend?\nHow is .Net compared to Java EE?  Anything that totally bugs you?\nAnd the most important, do you regret making the jump?\n", "I am trying to find a simple single purpose plugin that will maintain the Eclipse classpath based on the Maven2 POM dependencies.\nI know about m2eclipse and q4e. Unfortunately, I'm currently using RAD (Rational Application Developer - IBM's commercial version of Eclipse) and it is not fully compatible with m2eclipse, and I can't use q4e as I'm using Maven 2.0.7 with no way to upgrade to 2.1.\nI'm almost to the point where I write my own container plugin (probably based on some m2eclipse source :-)) but there would be a lot of mucking about with resolving transitive and parent dependencies so hopefully someone has already done it...\n", "Does anyone know a way to open up an instance of the platform's (Windows/Linux/Mac) browser within a Swing window that is integrated into a Java application. No other actions would be preformed other than opening a given URL. Currently, we open a new browser window because the Java embedded browsers have been insufficient. However, from a user interaction standpoint this is less than desirable.\nI'm curious if a solution for this was part of the 1.6 Java release. So, far my google-foo has not turned up anything of note. Are there any closed-source libraries that do this? Anything?\n", "Using google's Protocul Buffers, I have a service already written in Java which has its own data structures already. I'd like to use pb to delivering messages and I'm looking for a way to serialize the existing data structures that I have in Java to pb.\nI can start by defining all the data structures in pb from scratch, which is probably the right way to go but I'm too lazy.\nSo, say I have a Person class in Java (or other supported languages) or a Plane class which has tens of attributes in it, is there a way to serialize that class to pb? Can I have a pb attribute of type Plane? (when Plane is not a pb, it's a Java class)\n", "My goal is to get Limewire(JAVA) and Songbird(XULRunner) to run together.\nI was thinking the best way is to run the XUL application(songbird) inside a JAVA swing panel. Is there another way?\nWould it be better or possible to have the GUI entirely in XUL, and then access my JAVA objects somehow?\nHow would I go about doing this?\nThanks\n", "I have a program that is running a basic RMISecurityManager in all its threads. But I would like to do more control to several threads and set another SecurityManager specially for these threads.\nHow can I do that ? ...if this is possible !?\nthank you by advance.\nEdit : I have found my solution. See here for more details.\n", "Since I received no positives answers to my last question. I will try to write a Java FTP upload applet myself.\nMy question is: \"Can you recommend a Java FTP client library for me to use?\"\nI want it to be:\n\nstable\nable to handle passive and active modes\nable to provide upload progress information\nthrow catchable exceptions if something went wrong (especially when an upload does not succeed)\ncheap/free to use, preferably open source\n\nI found this overview of some libraries, but since this article is from 2003, maybe some new developments have happened :)\n", "I just want to clarify one thing. This is not a question on which one is better, that part I leave to someone else to discuss. I don't care about it.\nI've been asked this question on my job interview and I thought it might be useful to learn a bit more.\nThese are the ones I could come up with:\n\nJava is \"platform independent\". Well nowadays you could say there is the Mono project so C# could be considered too but\nI believe it is a bit exaggerating. Why? Well, when a new release of Java is done it is simultaneously available on all platforms it supports, on the other hand how many features of C# 3.0 are still missing in the Mono implementation? Or is it really CLR vs. JRE that we should compare here?\nJava doesn't support events and delegates. As far as I know.\nIn Java all methods are virtual\nDevelopment tools: I believe there isn't such a tool yet as Visual Studio. Especially if you've worked with team editions you'll know what I mean.\n\nPlease add others you think are relevant.\nUpdate:\nJust popped up my mind, Java doesn't have something like custom attributes on classes, methods etc. Or does it?\n", "I've got a message contained in an byte[], encrypted with \"RSA/ECB/PKCS1Padding\". To decrypt it I create a Cipher c and initiate it with\nc = Cipher.getInstance(\"RSA/ECB/PKCS1Padding\");\n\nUntill now I have only decrypted small messages, using the doFinal() method, returning an byte[] with the decrypted bytes. \nc.init(Cipher.DECRYPT_MODE, privateKey);\nbyte[] decryptetBytes = c.doFinal(encryptedBytes);\n\nBut in this case the data is bigger (approx 500 Bytes), and the doFinal()-method throws an exception (javax.crypto.IllegalBlockSizeException: Data must not be longer than 128 bytes). I guess I need to use the update()- method, but I can't figure out how to get it to work properly. How is this done?\n", "I'm looking for the fastest way to determine if a long value is a perfect square (i.e. its square root is another integer).  I've done it the easy way, by using the built-in Math.sqrt() function, but I'm wondering if there is a way to do it faster by restricting yourself to integer-only domain.  Maintaining a lookup table is impratical (since there are about 231.5 integers whose square is less than 263).\nHere is the very simple and straightforward way I'm doing it now:\npublic final static boolean isPerfectSquare(long n)\n{\n  if (n < 0)\n    return false;\n\n  long tst = (long)(Math.sqrt(n) + 0.5);\n  return tst*tst == n;\n}\n\n\nNotes: I'm using this function in many Project Euler problems.  So no one else will ever have to maintain this code.  And this kind of micro-optimization could actually make a difference, since part of the challenge is to do every algorithm in less than a minute, and this function will need to be called millions of times in some problems.\n\nUpdate 2:  A new solution posted by A. Rex has proven to be even faster.  In a run over the first 1 billion integers, the solution only required 34% of the time that the original solution used.  While the John Carmack hack is a little better for small values of n, the benefit compared to this solution is pretty small.\nHere is the A. Rex solution, converted to Java:\nprivate final static boolean isPerfectSquare(long n)\n{\n  // Quickfail\n  if( n < 0 || ((n&2) != 0) || ((n & 7) == 5) || ((n & 11) == 8) )\n    return false;\n  if( n == 0 )\n    return true;\n\n  // Check mod 255 = 3 * 5 * 17, for fun\n  long y = n;\n  y = (y & 0xffffffffL) + (y >> 32);\n  y = (y & 0xffffL) + (y >> 16);\n  y = (y & 0xffL) + ((y >> 8) & 0xffL) + (y >> 16);\n  if( bad255[(int)y] )\n      return false;\n\n  // Divide out powers of 4 using binary search\n  if((n & 0xffffffffL) == 0)\n      n >>= 32;\n  if((n & 0xffffL) == 0)\n      n >>= 16;\n  if((n & 0xffL) == 0)\n      n >>= 8;\n  if((n & 0xfL) == 0)\n      n >>= 4;\n  if((n & 0x3L) == 0)\n      n >>= 2;\n\n  if((n & 0x7L) != 1)\n      return false;\n\n  // Compute sqrt using something like Hensel's lemma\n  long r, t, z;\n  r = start[(int)((n >> 3) & 0x3ffL)];\n  do {\n    z = n - r * r;\n    if( z == 0 )\n      return true;\n    if( z < 0 )\n      return false;\n    t = z & (-z);\n    r += (z & t) >> 1;\n    if( r > (t  >> 1) )\n    r = t - r;\n  } while( t <= (1L << 33) );\n  return false;\n}\n\nprivate static boolean[] bad255 =\n{\n   false,false,true ,true ,false,true ,true ,true ,true ,false,true ,true ,true ,\n   true ,true ,false,false,true ,true ,false,true ,false,true ,true ,true ,false,\n   true ,true ,true ,true ,false,true ,true ,true ,false,true ,false,true ,true ,\n   true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,false,true ,false,\n   true ,true ,true ,false,true ,true ,true ,true ,false,true ,true ,true ,false,\n   true ,false,true ,true ,false,false,true ,true ,true ,true ,true ,false,true ,\n   true ,true ,true ,false,true ,true ,false,false,true ,true ,true ,true ,true ,\n   true ,true ,true ,false,true ,true ,true ,true ,true ,false,true ,true ,true ,\n   true ,true ,false,true ,true ,true ,true ,false,true ,true ,true ,false,true ,\n   true ,true ,true ,false,false,true ,true ,true ,true ,true ,true ,true ,true ,\n   true ,true ,true ,true ,true ,false,false,true ,true ,true ,true ,true ,true ,\n   true ,false,false,true ,true ,true ,true ,true ,false,true ,true ,false,true ,\n   true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,false,true ,true ,\n   false,true ,false,true ,true ,false,true ,true ,true ,true ,true ,true ,true ,\n   true ,true ,true ,true ,false,true ,true ,false,true ,true ,true ,true ,true ,\n   false,false,true ,true ,true ,true ,true ,true ,true ,false,false,true ,true ,\n   true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,false,false,\n   true ,true ,true ,true ,false,true ,true ,true ,false,true ,true ,true ,true ,\n   false,true ,true ,true ,true ,true ,false,true ,true ,true ,true ,true ,false,\n   true ,true ,true ,true ,true ,true ,true ,true ,false,false,true ,true ,false,\n   true ,true ,true ,true ,false,true ,true ,true ,true ,true ,false,false,true ,\n   true ,false,true ,false,true ,true ,true ,false,true ,true ,true ,true ,false,\n   true ,true ,true ,false,true ,false,true ,true ,true ,true ,true ,true ,true ,\n   true ,true ,true ,true ,true ,false,true ,false,true ,true ,true ,false,true ,\n   true ,true ,true ,false,true ,true ,true ,false,true ,false,true ,true ,false,\n   false,true ,true ,true ,true ,true ,false,true ,true ,true ,true ,false,true ,\n   true ,false,false,true ,true ,true ,true ,true ,true ,true ,true ,false,true ,\n   true ,true ,true ,true ,false,true ,true ,true ,true ,true ,false,true ,true ,\n   true ,true ,false,true ,true ,true ,false,true ,true ,true ,true ,false,false,\n   true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,\n   false,false,true ,true ,true ,true ,true ,true ,true ,false,false,true ,true ,\n   true ,true ,true ,false,true ,true ,false,true ,true ,true ,true ,true ,true ,\n   true ,true ,true ,true ,true ,false,true ,true ,false,true ,false,true ,true ,\n   false,true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,true ,false,\n   true ,true ,false,true ,true ,true ,true ,true ,false,false,true ,true ,true ,\n   true ,true ,true ,true ,false,false,true ,true ,true ,true ,true ,true ,true ,\n   true ,true ,true ,true ,true ,true ,false,false,true ,true ,true ,true ,false,\n   true ,true ,true ,false,true ,true ,true ,true ,false,true ,true ,true ,true ,\n   true ,false,true ,true ,true ,true ,true ,false,true ,true ,true ,true ,true ,\n   true ,true ,true ,false,false\n};\n\nprivate static int[] start =\n{\n  1,3,1769,5,1937,1741,7,1451,479,157,9,91,945,659,1817,11,\n  1983,707,1321,1211,1071,13,1479,405,415,1501,1609,741,15,339,1703,203,\n  129,1411,873,1669,17,1715,1145,1835,351,1251,887,1573,975,19,1127,395,\n  1855,1981,425,453,1105,653,327,21,287,93,713,1691,1935,301,551,587,\n  257,1277,23,763,1903,1075,1799,1877,223,1437,1783,859,1201,621,25,779,\n  1727,573,471,1979,815,1293,825,363,159,1315,183,27,241,941,601,971,\n  385,131,919,901,273,435,647,1493,95,29,1417,805,719,1261,1177,1163,\n  1599,835,1367,315,1361,1933,1977,747,31,1373,1079,1637,1679,1581,1753,1355,\n  513,1539,1815,1531,1647,205,505,1109,33,1379,521,1627,1457,1901,1767,1547,\n  1471,1853,1833,1349,559,1523,967,1131,97,35,1975,795,497,1875,1191,1739,\n  641,1149,1385,133,529,845,1657,725,161,1309,375,37,463,1555,615,1931,\n  1343,445,937,1083,1617,883,185,1515,225,1443,1225,869,1423,1235,39,1973,\n  769,259,489,1797,1391,1485,1287,341,289,99,1271,1701,1713,915,537,1781,\n  1215,963,41,581,303,243,1337,1899,353,1245,329,1563,753,595,1113,1589,\n  897,1667,407,635,785,1971,135,43,417,1507,1929,731,207,275,1689,1397,\n  1087,1725,855,1851,1873,397,1607,1813,481,163,567,101,1167,45,1831,1205,\n  1025,1021,1303,1029,1135,1331,1017,427,545,1181,1033,933,1969,365,1255,1013,\n  959,317,1751,187,47,1037,455,1429,609,1571,1463,1765,1009,685,679,821,\n  1153,387,1897,1403,1041,691,1927,811,673,227,137,1499,49,1005,103,629,\n  831,1091,1449,1477,1967,1677,697,1045,737,1117,1737,667,911,1325,473,437,\n  1281,1795,1001,261,879,51,775,1195,801,1635,759,165,1871,1645,1049,245,\n  703,1597,553,955,209,1779,1849,661,865,291,841,997,1265,1965,1625,53,\n  1409,893,105,1925,1297,589,377,1579,929,1053,1655,1829,305,1811,1895,139,\n  575,189,343,709,1711,1139,1095,277,993,1699,55,1435,655,1491,1319,331,\n  1537,515,791,507,623,1229,1529,1963,1057,355,1545,603,1615,1171,743,523,\n  447,1219,1239,1723,465,499,57,107,1121,989,951,229,1521,851,167,715,\n  1665,1923,1687,1157,1553,1869,1415,1749,1185,1763,649,1061,561,531,409,907,\n  319,1469,1961,59,1455,141,1209,491,1249,419,1847,1893,399,211,985,1099,\n  1793,765,1513,1275,367,1587,263,1365,1313,925,247,1371,1359,109,1561,1291,\n  191,61,1065,1605,721,781,1735,875,1377,1827,1353,539,1777,429,1959,1483,\n  1921,643,617,389,1809,947,889,981,1441,483,1143,293,817,749,1383,1675,\n  63,1347,169,827,1199,1421,583,1259,1505,861,457,1125,143,1069,807,1867,\n  2047,2045,279,2043,111,307,2041,597,1569,1891,2039,1957,1103,1389,231,2037,\n  65,1341,727,837,977,2035,569,1643,1633,547,439,1307,2033,1709,345,1845,\n  1919,637,1175,379,2031,333,903,213,1697,797,1161,475,1073,2029,921,1653,\n  193,67,1623,1595,943,1395,1721,2027,1761,1955,1335,357,113,1747,1497,1461,\n  1791,771,2025,1285,145,973,249,171,1825,611,265,1189,847,1427,2023,1269,\n  321,1475,1577,69,1233,755,1223,1685,1889,733,1865,2021,1807,1107,1447,1077,\n  1663,1917,1129,1147,1775,1613,1401,555,1953,2019,631,1243,1329,787,871,885,\n  449,1213,681,1733,687,115,71,1301,2017,675,969,411,369,467,295,693,\n  1535,509,233,517,401,1843,1543,939,2015,669,1527,421,591,147,281,501,\n  577,195,215,699,1489,525,1081,917,1951,2013,73,1253,1551,173,857,309,\n  1407,899,663,1915,1519,1203,391,1323,1887,739,1673,2011,1585,493,1433,117,\n  705,1603,1111,965,431,1165,1863,533,1823,605,823,1179,625,813,2009,75,\n  1279,1789,1559,251,657,563,761,1707,1759,1949,777,347,335,1133,1511,267,\n  833,1085,2007,1467,1745,1805,711,149,1695,803,1719,485,1295,1453,935,459,\n  1151,381,1641,1413,1263,77,1913,2005,1631,541,119,1317,1841,1773,359,651,\n  961,323,1193,197,175,1651,441,235,1567,1885,1481,1947,881,2003,217,843,\n  1023,1027,745,1019,913,717,1031,1621,1503,867,1015,1115,79,1683,793,1035,\n  1089,1731,297,1861,2001,1011,1593,619,1439,477,585,283,1039,1363,1369,1227,\n  895,1661,151,645,1007,1357,121,1237,1375,1821,1911,549,1999,1043,1945,1419,\n  1217,957,599,571,81,371,1351,1003,1311,931,311,1381,1137,723,1575,1611,\n  767,253,1047,1787,1169,1997,1273,853,1247,413,1289,1883,177,403,999,1803,\n  1345,451,1495,1093,1839,269,199,1387,1183,1757,1207,1051,783,83,423,1995,\n  639,1155,1943,123,751,1459,1671,469,1119,995,393,219,1743,237,153,1909,\n  1473,1859,1705,1339,337,909,953,1771,1055,349,1993,613,1393,557,729,1717,\n  511,1533,1257,1541,1425,819,519,85,991,1693,503,1445,433,877,1305,1525,\n  1601,829,809,325,1583,1549,1991,1941,927,1059,1097,1819,527,1197,1881,1333,\n  383,125,361,891,495,179,633,299,863,285,1399,987,1487,1517,1639,1141,\n  1729,579,87,1989,593,1907,839,1557,799,1629,201,155,1649,1837,1063,949,\n  255,1283,535,773,1681,461,1785,683,735,1123,1801,677,689,1939,487,757,\n  1857,1987,983,443,1327,1267,313,1173,671,221,695,1509,271,1619,89,565,\n  127,1405,1431,1659,239,1101,1159,1067,607,1565,905,1755,1231,1299,665,373,\n  1985,701,1879,1221,849,627,1465,789,543,1187,1591,923,1905,979,1241,181\n};\n\n\nUpdate:  I've tried the different solutions presented below.\n\nAfter exhaustive testing, I found that adding 0.5 to the result of Math.sqrt() is not necessary, at least not on my machine.\nThe John Carmack hack was faster, but it gave incorrect results starting at n=410881.  However, as suggested by BobbyShaftoe, we can use the Carmack hack for n < 410881.\nNewton's method was a good bit slower than Math.sqrt().  This is probably because Math.sqrt() uses something similar to Newton's Method, but implemented in the hardware so it's much faster than in Java.  Also, Newton's Method still required use of doubles.\nA modified Newton's method, which used a few tricks so that only integer math was involved, required some hacks to avoid overflow (I want this function to work with all positive 64-bit signed integers), and it was still slower than Math.sqrt().\nBinary chop was even slower.  This makes sense because the binary chop will on average require 16 passes to find the square root of a 64-bit number.\n\nThe one suggestion which did show improvements was made by John D. Cook.  You can observe that the last hex digit (i.e. the last 4 bits) of a perfect square must be 0, 1, 4, or 9.  This means that 75% of numbers can be immediately eliminated as possible squares.  Implementing this solution resulted in about a 50% reduction in runtime.\nWorking from John's suggestion, I investigated properties of the last n bits of a perfect square.  By analyzing the last 6 bits, I found that only 12 out of 64 values are possible for the last 6 bits.  This means 81% of values can be eliminated without using any math.  Implementing this solution gave an additional 8% reduction in runtime (compared to my original algorithm).  Analyzing more than 6 bits results in a list of possible ending bits which is too large to be practical.\nHere is the code that I have used, which runs in 42% of the time required by the original algorithm (based on a run over the first 100 million integers).  For values of n less than 410881, it runs in only 29% of the time required by the original algorithm.\nprivate final static boolean isPerfectSquare(long n)\n{\n  if (n < 0)\n    return false;\n\n  switch((int)(n & 0x3F))\n  {\n  case 0x00: case 0x01: case 0x04: case 0x09: case 0x10: case 0x11:\n  case 0x19: case 0x21: case 0x24: case 0x29: case 0x31: case 0x39:\n    long sqrt;\n    if(n < 410881L)\n    {\n      //John Carmack hack, converted to Java.\n      // See: http://www.codemaestro.com/reviews/9\n      int i;\n      float x2, y;\n\n      x2 = n * 0.5F;\n      y  = n;\n      i  = Float.floatToRawIntBits(y);\n      i  = 0x5f3759df - ( i >> 1 );\n      y  = Float.intBitsToFloat(i);\n      y  = y * ( 1.5F - ( x2 * y * y ) );\n\n      sqrt = (long)(1.0F/y);\n    }\n    else\n    {\n      //Carmack hack gives incorrect answer for n >= 410881.\n      sqrt = (long)Math.sqrt(n);\n    }\n    return sqrt*sqrt == n;\n\n  default:\n    return false;\n  }\n}\n\nNotes:\n\nAccording to John's tests, using or statements is faster in C++ than using a switch, but in Java and C# there appears to be no difference between or and switch.\nI also tried making a lookup table (as a private static array of 64 boolean values).  Then instead of either switch or or statement, I would just say if(lookup[(int)(n&0x3F)]) { test } else return false;.  To my surprise, this was (just slightly) slower.  I'm not sure why.  This is because array bounds are checked in Java. \n\n", "I'm writing an applicationt hat was prototyped on MySQL and is now connecting to an Oracle database.\nAll I had to do to connect to the oracle database (having built up the table structure) was change the connection string.\nWhat is the format to connect to a SQL Server DB on another machine?\nI've read some tutorials which tell you to use the SQL Server JDBC adaptor but I'd rather configure the application so that it's database agnostic, and just have the connection string specify the protocol etc.\nAny references I've seen which tell you how to use the bridge with SQL Server require the ODBC Data Source to be installed, this is less than ideal as my app may run on Linux or windows.\nI'm not doing anything complicated just inserts.\n", "Our team is using a SecureRandom to generate a list of key pairs (the SecureRandom is passed to a KeyPairGenerator).  We cannot agree on which of the following two options to use:\n\nCreate a new instance every time we need to generate a key pair\nInitialize a static instance and use it for all key pairs\n\nWhich approach is generally better and why?\nADDED: My gut feeling is that the second option is more secure.  But my only argument is a theoretical attack based on the assumption that the pseudorandomness is derived from the current timestamp: someone may see the creation time of the key pair, guess timestamps in the surrounding time interval, compute the possible pseudorandom sequences, and obtain the key material.\nADDED: My assumption about determinism based on a timestamp was wrong.  That's the difference between Random and SecureRandom.  So, it looks like the answer is: in terms of security it doesn't really matter.\n", "I'm writing an application which has to be configurable to connect to Oracle, SQL Server and MySQL depending on client whim.\nUp till now I'd been planning on using the JDBC-ODBC bridge and just connecting to the databases using different connection strings.\nI'm told this is not very efficient.\n\nIs there a pattern or best practice for connecting to multiple database systems? Or for selecting which driver to use?\nShould I have it configurable? but include all three drivers or build three separate clients?\n\nI'm not doing anything complex just pumping (inserting) data into the database from an event stream.\n", "I'm developing an invisible Java Applet, that will be controlled entirely from JavaScript.\nI can call the applet's Java methods easily, and I can call JavaScript methods from within the applet by using netscape.javascript.JSObject.getWindow(this).call().\nBut in order to register a JavaScript callback in the applet, I guess I would need an JavaScript function object of some sort.\nI would like to do:\npublic void registerCallback( SomeJavascriptFunction func ) { ... }\n\nWhich I could call from Javascript:\nmyapplet.registerCallback(function(){ alert(\"called back\"); });\n\nSo I could call this function in later code:\nfunc.call( ... );\n\nDoes something like this exist? How can I do this?\nRigth now I'm thinking of creating some Javascript to handle this callback mechanism instead of doing so from the applet.\n", "We have a simple project where we read data from a socket and we want to populate a table with the coming data, but we can't find a way to add rows to a yet created JTable object, we can only find how to add rows at creation time of the table.\nIs it possible to add rows dynamically to a JTable, or there is a better alternative object to deal with this way of showing data?\nEDIT: Thanks a lot for your answers.\nAll three of them look very promising, but I have to choose only one and I think the best is Guillaume's.\n", "I need to spawn a process in Java (under Linux exclusively) that will continue to run after the JVM has exited.  How can I do this? \nBasically the Java app should spawn an updater which stops the Java app, updates files and then starts it again.\nI'm interested in a hack & slash method to just get it working as well as a better design proposal if you have one :)\n", "I have a SQL SELECT query which has a LIKE clause containing an underscore, which should specifically look for an underscore, not treat it as a wildcard: \nSELECT * FROM my_table WHERE name LIKE '_H9%';\n\nI understand that I can change the actual clause to '[_]H9%' for this to work as I expect, but the problem is that this clause is being generated by Hibernate.\nIs there a way to configure Hibernate to escape all underscores in all queries in this way?  Failing that, is there a way to configure SQL Server (2008 in my case) to not treat underscores as wildcards?\n", "I have a .jar file that i've placed in my D:\\Coldfusion8\\wwwroot\\web-inf\\lib\\ directory.  The file is abcdef.jar\nThis is my first time doing this, not sure what the path should be in my createObject().\n<cfset abcObj = createObject(\"java\",\"com.abcdef\") />\n<cfset result = acbObj.doStuff(\"123456\") />\n\nBut when I run it, I get \nObject Instantiation Exception.\nClass not found: com.vp4jo_b \n\nWhat am I missing in the path?\n", "How to create a project in WebLogic Workshop (version 10.3) with support for JPA entity beans?\nI am trying create a separate EJB and EJBClient projects in Workshop and EJB3 session beans work just fine, but I am having problems with JPA entity beans. \nIt seems that when creating a new project you can add support for JPA and BEA Kodo if you are creating a web project, but for some reason you can't add JPA support to a EJB project.\nI do want to separate my EJB3/entity bean stuff and Web stuff to separate projects. How can I do that? \nShould I just add Kodo/JPA .jar to my EJB project? Or should I make a separate Dynamic webproject and treat that as a EJB project.\nWorking example projects would be nice ;)\n", "We have 50+ Java batch processes that run at different times of the day.  They run on a Solaris box, and are started via cron.  Currently, the only way we only know if they succeed or fail is by an email generated at the end of each batch process.  We have a support team that monitors these emails.  Recently, we've had issues with emails not being received, even though the batches are running.  There must be a better way.\nWithout having to reinvent the wheel, are there any open source batch monitoring applications?\nAnd a more general question, what is the best way to monitor batch processes?\n", "Is there a way to prematurely abort a transaction? Say, I have sent a command to the database which runs five minutes and after four, I want to abort it.\nDoes JDBC define a way to send a \"stop whatever you are doing on this connection\" signal to the DB?\n", "I have a JEdit (BeanShell) macro which opens a specific file then immediately saves the file to my c:\\temp folder (so that I don't accidentally update the real file).  \nHere is the bean shell code: \nlogFilePath = \"c:\\\\temp\\\\aj.txt\";\njEdit.openFile( view , logFilePath );\n_buffer = jEdit.getBuffer(logFilePath);\n_buffer.save(view,\"c:\\\\temp\\\\backup.txt\",true);\n\nThis gives me the following error:  \nI/O Error\nEach buffer can only execute one input/output operation at a time.  \nPlease wait until the current operation finishes \n(or abort it in the I/O progress monitor) before starting another one.  \n\nI have tried adding a while loop to wait until  buffer.isLoaded()  is true, but that just goes into an infinite loop.\nWhat does seem to work is popping up a message box ( Macros.message ).  However, I really don't want to have this unnecessary dialogue.  \nI don't know much java, so please tell me if I'm making a rookie mistake.  \nUpdate:\nAdded my own answer to show the code pointed to from Serhii's answer.  \n", "I am implementing web services for a PHP application and am trying to understand what both standard web services and RESTful web services have to offer. \nMy intent is to write wrapper code to abstract away the web service details so that developers can just \"instantiate remote objects\" and use them.\nHere are my thoughts, perhaps some of you could add your experience and expand this:\nRESTful Web Servcies\nare basically just \"XML feeds on demand\", so e.g. you could write wrapper code for a client application so it could query the server application in this way:\n$users = Users::getUsers(\"state = 'CO'\");\n\n\nthis would in turn get an XML feed form a remote URL\n$users could be made into a collection of full User objects, or\nleft as XML, or\nturned into an array, etc.\nthe query script (\"state = 'CO'\") would be translated into SQL on the server side\nRESTful Web Services are in general read-only from the view of the client, although you could write code which could use POST or GET to make changes on the server, e.g. passing an encrypted token for security, e.g.:\n$users = Users::addUser($encryptedTrustToken, 'jim',$encryptedPassword, 'James', 'Taylor');\n\nand this would create a new user on the server application.\nStandard Web Services\nStandard Web Servcies in the end basically do the same thing. The one advantage they have is that client can discover their details via WSDL. But other than that, if I want to write wrapper code which allows a developer to instantiate, edit and save objects remotely, I still need to implement the wrapper code. SOAP doesn't do any of that for me, it can do this:\n$soap = new nusoap_client('http://localhost/test/webservice_user.php?wsdl', true);\n$user = $soap->getProxy(); \n$lastName = $user->lastName();\n\nbut if I want to edit and save:\n$user->setLastName('Jones');\n$user->save();\n\nthen I need to e.g. handle all of the state on the server side, SOAP doesn't seem to hold that object on the server side for each client. \nPerhaps there are limitations in the PHP SOAP implementation I am using (nusoap). Perhaps Java and .NET implementations do much more.\nWill enjoy hearing your feedback to clear up some of these clouds.\n", "I'm astonished that the Apache Commons Collections project still hasn't got around to making their library generics-aware. I really like the features provided by this library, but the lack of support for generics is a big turn-off. There is a Lavalabs fork of Commons Collections which does support generics, which seems to claim backward compatibility, but when I tried updating to this version, my web application failed to start (in JBoss).\nMy questions are:\n\nWhether anyone has successfully updated from Commons Collections to the fork mentioned above\nIf Commons Collections has any plans to add support for generics\n\nBTW, I'm aware of Google collections, but am reluctant to use it until the API stabilises.\nCheers,\nDon\n", "I'm using Spring's dependency injection but I'm running into difficulty loading a resource in my Spring config file. \nThe resource is an XML file and is in a JAR file on my classpath. I try to access it as follows:\n<import resource=\"classpath:com/config/resources.xml\" />\n\nhowever I keep getting encountering the following error:\n\nFailed to import bean definitions from URL location [classpath:com/config/resources.xml]\n\nThe JAR file is on the classpath of a Java project, which is in turn used by my web app. Should I really be doing my Spring configuration in the web project as opposed the Java project, or does that matter?\n", "I'm teaching Java EE at the university, and this was a question a student asked. I said \"no\", but I wasn't really sure, so I thought I might ask you mighty developers. :)\nBasically, what I'd like to do is to use entities if they were in my context: cat getters, setters, etc, so like normal POJOs. if I use an EJB using its remote inferface, the entities gets decoupled from the core infrastructure, so that's a no-go.\nI thought about writing a layer such as this in my MSc thesis. If it's a dead idea, feel free to tell me. If it's not, tell me if you'd like one.\nOr if there is such a tool out there, let me know!\n", "I have a List of beans, each of which has a property which itself is a List of email addresses.\n<c:forEach items=\"${upcomingSchedule}\" var=\"conf\">\n    <div class='scheduled' title=\"${conf.subject}\" id=\"scheduled<c:out value=\"${conf.id}\"/>\">\n    ...\n    </div>\n</c:forEach>\n\nThis renders one <div> per bean in the List.\nFor the sublist, what I'd like to be able to do is to concatenate each of the entries in the list to form a single String, to be displayed as a part of the <div>'s title attribute. Why? Because we are using a javascript library (mootools) to turn this <div> into a floating tool tip, and the library turns the title into the text of the tooltip.\nSo, if ${conf.subject} was \"Subject\", ultimately I'd like the title of the <div> to be \"Subject: blah@blah.com, blah2@blah2.com, etc.\", containing all of the email addresses of the sub-list.\nHow can I do this using JSP EL? I'm trying to stay away from putting scriptlet blocks in the jsp file.\n", "I'm stuck in having to write a simple spam filter\nI'm not really sure about how I'm going to do it.\nSo far I've come up with wordlist and domain filtering, which will give or remove points up to a certain threshold.\nFor example, if you're writing about \"v1agr4\" from a blacklisted domain, you'll get like 2 points for spam, but if you're writing about \"v1agr4\" from a hotmail.com account, you'll get only 1 \"spam point\".\nDo you guys have any other suggestions / ressources?\nThis is more about learning spam filters than developing something enterprise grade\n", "I have a single user java program that I would like to have store data in a light weight database such as Derby or Sqlite. I would like to use a data abstraction layer in my program. Hibernate appears to require a lot of configuration and is overkill for what I need. What are light weight alternatives to Hibernate?\n", "FreeMarker templates support an if-statement with the following syntax\n<#if hot> \n  It's hot.\n</#if>  \n\nI've looked in the documentation and can't find any support for an if-else statement. Of course I could achieve the same result with:\n<#if hot> \n  It's hot.\n</#if>  \n<#if !hot> \n  It's not hot.\n</#if>  \n\nIs support for if-else provided by FreeMarker?\nCheers,\nDon\n", "We're looking into transport/protocol solutions and were about to do various performance tests, so I thought I'd check with the community if they've already done this:\nHas anyone done server performance tests for simple echo services as well as serialization/deserialization for various messages sizes comparing EJB3, Thrift, and Protocol Buffers on Linux?\nPrimarily languages will be Java, C/C++, Python, and PHP.\nUpdate: I'm still very interested in this, if anyone has done any further benchmarks please let me know. Also, very interesting benchmark showing compressed JSON performing similar / better than Thrift / Protocol Buffers, so I'm throwing JSON into this question as well.\n", "I want to watch and learn from Open Source projects that are using Facelets, but my Google skills failed me so I went here. \nThe closest thing I found was http://wiki.java.net/bin/view/Projects/FaceletsProjects but -- correct me if I'm wrong -- that tiny link collection only go to demos, 404:s, commercial products or projects that are simply \"Facelets-compatible\".\nIf there actually are no Open Source projects using Facelets, can anyone explain why? Is it too enterprisey?\n", "A problem I've encountered a few time in my career is in a tiered service architecture a single downstream system can bring down the entire client application if it gets into a state where all its threads are consumed on a deadlock or some sort of infinite loop bug in that system. Under these conditions the server socket on the Java EE server is still accepting and queueing requests from client applications. This causes the client application to use up all its threads waiting for responses from properly established socket connections. Then all users are locked out of the system as their requests are also being queued.\nI've thought of a few solutions but I was wondering if the community has some better ones.\n\nIsolated thread pools for downstream requests. This becomes a problem because you compound the number of idle threads in you system creating many small pools that need to have enough threads to ensure full throughput. Spawning threads means you need to deal with Transaction and Security contexts yourself. Not really a supported Java EE solution.\nMDB solution, the preferred asynchronous solution for Java EE, this however seems rather heavy-weight but has the added benefit of letting the app server deal with management the MDB thread pools. (Currently number one on my list)\nESB. This is even more heavy-weight and adds more network and processing time. But it allows you to set individual service timeouts. Also has the problem of it will take forever to get implemented in a big corporation so probably not practical for my time-frame.\n\nDo you guys have any better ideas?\n", "I have an application that allows different users to update some data that is then published to a website. The application uses JPA as a persistence layer. I now want to add a bit of workflow management to this scenario so that when users with junior roles update data, it is not directly published but rather waits for a senior user to come along and approve the update. While the update is unapproved the original data should remain visible.\nIdeally, the senior user should be able to reject an update and the junior user will see that is was rejected and edit the update accordingly.\nThe question is, what is a good pattern for creating such a scenario?\nThe part that I am having trouble wrapping my mind around is how to represent the changed data without duplicating every entity that I have. And what about multiple changes to the data before an approval?\nI considered the command pattern since it allows a type of undo. I am wondering if anyone has had experience with a similar scenario and has any advice to offer?\nI should point out that I am aware of some tools like JBPM which is a workflow engine but I was hoping to avoid the complications of integrating such tools into the existing architecture. I would appreciate it if someone points out that using such a tool will yield more productivity in the end.\nThanks\n", "Short of rolling your own.  There has to be something out there.  FlexLM/FlexNet is overpriced, and does not work for a company like ours.  The same goes for RLM.  There was one product I had hope in called LUM, but IBM no longer licenses the API.  So what else is available?  Or do you have any known way to get LUM?\nPlease help, I have been reviewing and searching on and off for over a year, and just can't find the right solution.  Maybe everyone just creates their own, we'd rather not.\n", "I am in the process of researching/comparing CXF and Spring-WS for web services? I need to function both as a provider and a consumer of WS. In a nutshell, I have been told that Spring-WS is more configurable, but CXF is easier to get up and running. This question is subjective, but will help direct me in my research.\n\nWhat experience do you have with either of these frameworks?\nHave you run into any pitfalls with either framework?\nHave you found any useful features provided by either that is possibly not provided by the other?\n\n", "I'm still trying to get my head around using Java's generics.  I have no problems at all with using typed collections, but much of the rest of it just seems to escape me.\nRight now I'm trying to use the JUnit \"PrivateAccessor\", which requires a Class[] argument with a list of all the argument types for the private method being called.  In Java 1.4, I'd define that as\nClass[] args = new Class[] { Collection.class, ArrayList.class };\n\nbut the actual code is defined to now take the arguments\nmyMethod(Collection<MyClass1> first, ArrayList<MyClass2> second)\n\nI tried to change the definition of args to be\nClass<? extends Object>[] args = new Class<? extends Object>[] \n{ Collection<MyClass1>.class, ArrayList<MyClass2>.class };\n\nBut Eclipse puts a red marker on the closing >s, and says it's expecting \"void\" at that point.  Can I do this using generics, or shouldn't I bother?\n", "I'm looking for Java code that can be used to generate sound at runtime - NOT playback of existing sound files.\nFor example, what's the best code for generating a sawtooth waveform at 440 Hz for a duration of 2 milliseconds? Source code appreciated!\nI remember my Commodore 128 had a simple Sound command that took as parameters voice, frequency, waveform, and duration to define a sound.  That worked great in a lot of simple cases (quick and dirty games, experiments with sound, etc).\nI am looking specifically for sound-effect like sounds, not music or MIDI (which the JFugue library covers quite well).\n", "Some days ago I realized that PrintWriter (as well as PrintStream) never throw an IOException when writing, flushing or closing.\nInstead it sets an internal flag (trouble=true) when an error occurs.\nIt's not possible to get the exact exception, but only if there was some exception (checkError()).\nMy question is: why would one want to have such behavior? Isn't that bad API design?\n", "I'm writing a basic sprite engine for my own amusement and to get better aquainted with Java's 2d API. Currently I am making use of large numbers of separate .png files with transparent backgrounds to represent the various sprites and different frames of animation that I need. Most 'real world' game development projects seem to make use of 'sprite sheets' which contain multiple sprites or frames of animation within a single file. Also, rather than making use of native image transparency support, people often nominate an arbitrary colour that does not appear in the sprite pallette to be the transparent colour. How does one manage a file like this programatically?\n\nhow do you know where one sprite\nstarts and the next begins\nhow do you deal with transparency\n\nThere may be other factors that I've not thought of here, so I may add to the list above as I think of things or as people make suggestions (please do so in the comments).\n", "I'm using JPA (Hibernate's implementation) to annotate entity classes to persist to a relational database (MySQL or SQL Server). Is there an easy way to auto generate the database schema (table creation scripts) from the annotated classes?\nI'm still in the prototyping phase and anticipate frequent schema changes. I would like to be able to specify and change the data model from the annotated code. Grails is similar in that it generates the database from the domain classes.\n", "For those of you who aren't familiar with the concept, abstraction inversion is the implementation of low-level constructs on top of high-level constructs, and is generally considered a bad thing because it adds both needless complexity and needless overhead.  Of course, this is a somewhat imprecise, subjective definition.\nIn your opinion, does programming in a single-paradigm OOP language where everything must be part of a class and things like pointers aren't exposed, such as Java or C#, inevitably lead to abstraction inversion?  If so, in what cases?\n", "I am having a lot of trouble finding good information on how to call a standard SOAP/WSDL web service with Android. All I've been able to find are either very convoluted documents and references to \"kSoap2\" and then some bit about parsing it all manually with SAX. OK, that's fine, but it's 2008, so I figured there should be some good library for calling standard web services.\nThe web service is just basically one created in NetBeans. I would like to have IDE support for generating the plumbing classes. I just need the easiest/most-elegant way to contact a WSDL based web service from an Android-based phone.\n", "Does anyone know of an algorithm (or search terms / descriptions) to locate a known image within a larger image?\ne.g.\nI have an image of a single desktop window containing various buttons and areas (target).  I also have code to capture a screen shot of the current desktop.  I would like an algorithm that will help me find the target image within the larger desktop image (what exact x and y coordinates the window is located at).  The target image may be located anywhere in the larger image and may not be 100% exactly the same (very similar but not exact possibly b/c of OS display differences)\nDoes anyone know of such an algorithm or class of algorithms?\nI have found various image segmentation and computer vision algorithms but they seem geared to \"fuzzy\" classification of regions and not locating a specific image within another.\n** My goal is to create a framework that, given some seed target images, can find \"look\" at the desktop, find the target area and \"watch\" it for changes. **\n", "How are the java API thread priorities (1-10) gets translated to the OS level priorities since most OS don't have thread priority levels (in terms of number) which match this.\nSo keeping in mind , can there be a scenario when two or more threads with different priorities eventually get the same priority at OS level.\nPlease clarify, if I there is some correction in my understanding.\n", "This may be too basic or limited of a solution, but couldn't you do a String.split() on each line of the file, remembering the result array of the first line to generate the XML, and just spit each line's array data out with the proper XML elements padding each iteration of a loop?\n", "Maybe this might help: JSefa\nYou can read CSV file with this tool and serialize it to XML.\n", "I don't understand why you would want to do this. It sounds almost like cargo cult coding.\nConverting a CSV file to XML doesn't add any value. Your program is already reading the CSV file, so arguing that you need XML doesn't work.\nOn the other hand, reading the CSV file, doing something with the values, and then serializing to XML does make sense (well, as much as using XML can make sense... ;)) but you would supposedly already have a means of serializing to XML.\n", "As far as I know, there's no ready-made library to do this for you, but producing a tool capable of translating from CSV to XML should only require you to write a crude CSV parser and hook up JDOM (or your XML Java library of choice) with some glue code.\n", "There is nothing I know of that can do this without you at least writing a little bit of code... You will need 2 separate library:\n\nA CSV Parser Framework \nAn XML Serialization Framework\n\nThe CSV parser I would recommend (unless you want to have a little bit of fun to write your own CSV Parser) is OpenCSV (A SourceForge Project for parsing CSV Data)\nThe XML Serialization Framework should be something that can scale in case you want to transform large (or huge) CSV file to XML: My recommendation is the Sun Java Streaming XML Parser Framework (See here) which allows pull-parsing AND serialization.\n", "I know you asked for Java, but this strikes me as a task well suited to a scripting language. Here is a quick (very simple) solution written in Groovy.\ntest.csv\nstring,float1,float2,integer\nhello world,1.0,3.3,4\ngoodbye world,1e9,-3.3,45\nhello again,-1,23.33,456\nhello world 3,1.40,34.83,4999\nhello 2 world,9981.05,43.33,444\n\ncsvtoxml.groovy\n#!/usr/bin/env groovy\n\ndef csvdata = []\nnew File(\"test.csv\").eachLine { line ->\n    csvdata << line.split(',')\n}\n\ndef headers = csvdata[0]\ndef dataRows = csvdata[1..-1]\n\ndef xml = new groovy.xml.MarkupBuilder()\n\n// write 'root' element\nxml.root {\n    dataRows.eachWithIndex { dataRow, index ->\n        // write 'entry' element with 'id' attribute\n        entry(id:index+1) {\n            headers.eachWithIndex { heading, i ->\n                // write each heading with associated content\n                \"${heading}\"(dataRow[i])\n            }\n        }\n    }\n}\n\nWrites the following XML to stdout:\n<root>\n  <entry id='1'>\n    <string>hello world</string>\n    <float1>1.0</float1>\n    <float2>3.3</float2>\n    <integer>4</integer>\n  </entry>\n  <entry id='2'>\n    <string>goodbye world</string>\n    <float1>1e9</float1>\n    <float2>-3.3</float2>\n    <integer>45</integer>\n  </entry>\n  <entry id='3'>\n    <string>hello again</string>\n    <float1>-1</float1>\n    <float2>23.33</float2>\n    <integer>456</integer>\n  </entry>\n  <entry id='4'>\n    <string>hello world 3</string>\n    <float1>1.40</float1>\n    <float2>34.83</float2>\n    <integer>4999</integer>\n  </entry>\n  <entry id='5'>\n    <string>hello 2 world</string>\n    <float1>9981.05</float1>\n    <float2>43.33</float2>\n    <integer>444</integer>\n  </entry>\n</root>\n\nHowever, the code does very simple parsing (not taking into account quoted or escaped commas) and it does not account for possible absent data.\n", "This solution does not need any CSV or XML libraries and, I know, it does not handle any illegal characters and encoding issues, but you might be interested in it as well, provided your CSV input does not break the above mentioned rules.\nAttention: You should not use this code unless you know what you do or don't have the chance to use a further library (possible in some bureaucratic projects)... Use a StringBuffer for older Runtime Environments...\nSo here we go:\nBufferedReader reader = new BufferedReader(new InputStreamReader(\n        Csv2Xml.class.getResourceAsStream(\"test.csv\")));\nStringBuilder xml = new StringBuilder();\nString lineBreak = System.getProperty(\"line.separator\");\nString line = null;\nList<String> headers = new ArrayList<String>();\nboolean isHeader = true;\nint count = 0;\nint entryCount = 1;\nxml.append(\"<root>\");\nxml.append(lineBreak);\nwhile ((line = reader.readLine()) != null) {\n    StringTokenizer tokenizer = new StringTokenizer(line, \",\");\n    if (isHeader) {\n        isHeader = false;\n        while (tokenizer.hasMoreTokens()) {\n            headers.add(tokenizer.nextToken());\n        }\n    } else {\n        count = 0;\n        xml.append(\"\\t<entry id=\\\"\");\n        xml.append(entryCount);\n        xml.append(\"\\\">\");\n        xml.append(lineBreak);\n        while (tokenizer.hasMoreTokens()) {\n            xml.append(\"\\t\\t<\");\n            xml.append(headers.get(count));\n            xml.append(\">\");\n            xml.append(tokenizer.nextToken());\n            xml.append(\"</\");\n            xml.append(headers.get(count));\n            xml.append(\">\");\n            xml.append(lineBreak);\n            count++;\n        }\n        xml.append(\"\\t</entry>\");\n        xml.append(lineBreak);\n        entryCount++;\n    }\n}\nxml.append(\"</root>\");\nSystem.out.println(xml.toString());\n\nThe input test.csv (stolen from another answer on this page):\nstring,float1,float2,integer\nhello world,1.0,3.3,4\ngoodbye world,1e9,-3.3,45\nhello again,-1,23.33,456\nhello world 3,1.40,34.83,4999\nhello 2 world,9981.05,43.33,444\n\nThe resulting output:\n<root>\n    <entry id=\"1\">\n        <string>hello world</string>\n        <float1>1.0</float1>\n        <float2>3.3</float2>\n        <integer>4</integer>\n    </entry>\n    <entry id=\"2\">\n        <string>goodbye world</string>\n        <float1>1e9</float1>\n        <float2>-3.3</float2>\n        <integer>45</integer>\n    </entry>\n    <entry id=\"3\">\n        <string>hello again</string>\n        <float1>-1</float1>\n        <float2>23.33</float2>\n        <integer>456</integer>\n    </entry>\n    <entry id=\"4\">\n        <string>hello world 3</string>\n        <float1>1.40</float1>\n        <float2>34.83</float2>\n        <integer>4999</integer>\n    </entry>\n    <entry id=\"5\">\n        <string>hello 2 world</string>\n        <float1>9981.05</float1>\n        <float2>43.33</float2>\n        <integer>444</integer>\n    </entry>\n</root>\n\n", "As the others above, I don't know any one-step way to do that, but if you are ready to use very simple external libraries, I would suggest:\nOpenCsv for parsing CSV (small, simple, reliable and easy to use)\nXstream to parse/serialize XML (very very easy to use, and creating fully human readable xml)\nUsing the same sample data as above, code would look like:\npackage fr.megiste.test;\n\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport au.com.bytecode.opencsv.CSVReader;\n\nimport com.thoughtworks.xstream.XStream;\n\npublic class CsvToXml {     \n\n    public static void main(String[] args) {\n\n        String startFile = \"./startData.csv\";\n        String outFile = \"./outData.xml\";\n\n        try {\n            CSVReader reader = new CSVReader(new FileReader(startFile));\n            String[] line = null;\n\n            String[] header = reader.readNext();\n\n            List out = new ArrayList();\n\n            while((line = reader.readNext())!=null){\n                List<String[]> item = new ArrayList<String[]>();\n                    for (int i = 0; i < header.length; i++) {\n                    String[] keyVal = new String[2];\n                    String string = header[i];\n                    String val = line[i];\n                    keyVal[0] = string;\n                    keyVal[1] = val;\n                    item.add(keyVal);\n                }\n                out.add(item);\n            }\n\n            XStream xstream = new XStream();\n\n            xstream.toXML(out, new FileWriter(outFile,false));\n\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n\nProducing the following result:\n(Xstream allows very fine tuning of the result...)\n<list>\n  <list>\n    <string-array>\n      <string>string</string>\n      <string>hello world</string>\n    </string-array>\n    <string-array>\n      <string>float1</string>\n      <string>1.0</string>\n    </string-array>\n    <string-array>\n      <string>float2</string>\n      <string>3.3</string>\n    </string-array>\n    <string-array>\n      <string>integer</string>\n      <string>4</string>\n    </string-array>\n  </list>\n  <list>\n    <string-array>\n      <string>string</string>\n      <string>goodbye world</string>\n    </string-array>\n    <string-array>\n      <string>float1</string>\n      <string>1e9</string>\n    </string-array>\n    <string-array>\n      <string>float2</string>\n      <string>-3.3</string>\n    </string-array>\n    <string-array>\n      <string>integer</string>\n      <string>45</string>\n    </string-array>\n  </list>\n  <list>\n    <string-array>\n      <string>string</string>\n      <string>hello again</string>\n    </string-array>\n    <string-array>\n      <string>float1</string>\n      <string>-1</string>\n    </string-array>\n    <string-array>\n      <string>float2</string>\n      <string>23.33</string>\n    </string-array>\n    <string-array>\n      <string>integer</string>\n      <string>456</string>\n    </string-array>\n  </list>\n  <list>\n    <string-array>\n      <string>string</string>\n      <string>hello world 3</string>\n    </string-array>\n    <string-array>\n      <string>float1</string>\n      <string>1.40</string>\n    </string-array>\n    <string-array>\n      <string>float2</string>\n      <string>34.83</string>\n    </string-array>\n    <string-array>\n      <string>integer</string>\n      <string>4999</string>\n    </string-array>\n  </list>\n  <list>\n    <string-array>\n      <string>string</string>\n      <string>hello 2 world</string>\n    </string-array>\n    <string-array>\n      <string>float1</string>\n      <string>9981.05</string>\n    </string-array>\n    <string-array>\n      <string>float2</string>\n      <string>43.33</string>\n    </string-array>\n    <string-array>\n      <string>integer</string>\n      <string>444</string>\n    </string-array>\n  </list>\n</list>\n\n", "For the CSV Part, you may use my little open source library\n", "I have an opensource framework for working with CSV and flat files in general. Maybe it's worth looking: JFileHelpers.\nWith that toolkit you can write code using beans, like:\n@FixedLengthRecord()\npublic class Customer {\n    @FieldFixedLength(4)\n    public Integer custId;\n\n    @FieldAlign(alignMode=AlignMode.Right)\n    @FieldFixedLength(20)\n    public String name;\n\n    @FieldFixedLength(3)\n    public Integer rating;\n\n    @FieldTrim(trimMode=TrimMode.Right)\n    @FieldFixedLength(10)\n    @FieldConverter(converter = ConverterKind.Date, \n    format = \"dd-MM-yyyy\")\n    public Date addedDate;\n\n    @FieldFixedLength(3)\n    @FieldOptional\n    public String stockSimbol;  \n}\n\nand then just parse your text files using:\nFileHelperEngine<Customer> engine = \n    new FileHelperEngine<Customer>(Customer.class); \nList<Customer> customers = \n    new ArrayList<Customer>();\n\ncustomers = engine.readResource(\n    \"/samples/customers-fixed.txt\");\n\nAnd you'll have a collection of parsed objects.\nHope that helps!\n", "There is also good library ServingXML by Daniel Parker, which is able to convert almost any plain text format to XML and back.\nThe example for your case can be found here: It uses heading of field in CSV file as the XML element name.\n", "You can do this exceptionally easily using Groovy, and the code is very readable. \nBasically, the text variable will be written to contacts.xml for each line in the contactData.csv, and the fields array contains each column.\ndef file1 = new File('c:\\\\temp\\\\ContactData.csv')\ndef file2 = new File('c:\\\\temp\\\\contacts.xml')\n\ndef reader = new FileReader(file1)\ndef writer = new FileWriter(file2)\n\nreader.transformLine(writer) { line ->\n    fields =  line.split(',')\n\n    text = \"\"\"<CLIENTS>\n    <firstname> ${fields[2]} </firstname>\n    <surname> ${fields[1]} </surname>\n    <email> ${fields[9]} </email>\n    <employeenumber> password </employeenumber>\n    <title> ${fields[4]} </title>\n    <phone> ${fields[3]} </phone>\n    </CLIENTS>\"\"\"\n}\n\n", "You could use XSLT.  Google it and you will find a few examples e.g. CSV to XML\nIf you use XSLT you can then convert the XML to whatever format you want.\n", "This has religious war potential, but it seems to me that if you're using a getter/setter, you should use it internally as well - using both will lead to maintenance problems down the road (e.g. somebody adds code to a setter that needs to run every time that property is set, and the property is being set internally w/o that setter being called).\n", "It depends on how the property is used. For example, say you have a student object that has a name property. You could use your Get method to pull the name from the database, if it hasn't been retrieved already. This way you are reducing unnecessary calls to the database.\nNow let's say you have a private integer counter in your object that counts the number of times the name has been called. You may want to not use the Get method from inside the object because it would produce an invalid count.\n", "\nAm I just going overboard here?\n\nPerhaps ;)\nAnother approach would be to utilize a private/protected method to actually do the getting (caching/db/etc), and a public wrapper for it that increments the count:\nPHP:\npublic function getName() {\n    $this->incrementNameCalled();\n    return $this->_getName();\n}\n\nprotected function _getName() {\n    return $this->name;\n}\n\nand then from within the object itself:\nPHP:\n$name = $this->_getName();\n\nThis way you can still use that first argument for something else (like sending a flag for whether or not to used cached data here perhaps).\n", "Well, it seems with C# 3.0 properties' default implementation, the decision is taken for you; you HAVE to set the property using the (possibly private) property setter.\nI personally only use the private member-behind when not doing so would cause the object to fall in an less than desirable state, such as when initializing or when caching/lazy loading is involved.\n", "As stated in some of the comments: Sometimes you should, sometimes you shouldn't. The great part about private variables is that you are able to see all the places they are used when you change something. If your getter/setter does something you need, use it. If it doesn't matter you decide.\nThe opposite case could be made that if you use the getter/setter and somebody changes the getter/setter they have to analyze all the places the getter and setter is used internally to see if it messes something up.\n", "Personally, I feel like it's important to remain consistent.  If you have getters and setters, use them.  The only time I would access a field directly is when the accessor has a lot of overhead.  It may feel like you're bloating your code unnecessarily, but it can certainly save a whole lot of headache in the future.  The classic example:\nLater on, you may desire to change the way that field works.  Maybe it should be calculated on-the-fly or maybe you would like to use a different type for the backing store.  If you are accessing properties directly, a change like that can break an awful lot of code in one swell foop.\n", "i can be wrong because i'm autodidact, but i NEVER user public properties in my Java clases, they are allways private or protected, so that outside code must access by getters/setters. it's better for mainteance / modification purposes. And for inside class code... if getter method is trivial i use the property directly, but i allways use the setter methods because i could easily add code to fire events if i wish\n", "i've found using setters/getters made my code easier to read. I also like the control it gives when other classes use the methods and if i change the data the property will store.\n", "Private fields with public or protected properties.  Access to the values should go through the properties, and be copied to a local variable if they will be used more than once in a method.  If and ONLY if you have the rest of your application so totally tweaked, rocked out, and otherwise optimized to where accessing values by going through their assosciated properties has become a bottleneck (And that will never EVER happen, I guarantee) should you even begin to consider letting anything other than the properties touch their backing variables directly.\n.NET developers can use automatic properties to enforce this since you can't even see the backing variables at design time.\n", "If by \"purist\" you mean \"most encapsulation\", then I typically declare all my fields as private and then use this.field from within the class itself, but all other classes, including subclasses, access instance state using the getters.\n", "If I won't edit the property I'll use a get_property() public method unless it's a special occasion such as a MySQLi object inside another object in which case I'll just public the property and refer to it as $obj->object_property.\nInside the object it's always $this->property for me.\n", "I like the answer by cmcculloh, but it seems like the most correct is the answer by Greg Hurlman. Use getter/setters all the time if you started using them from the getgo and/or are used to working with them.\nAs an aside, I personally find that using getter/setters makes the code easier to read and to debug later on.\n", "I'm fairly surprised at how unanimous the sentiment is that getters and setters are fine and good. I suggest the incendiary article by Allen Holub \"Getters And Setters Are Evil\". Granted, the title is for shock value, but the author makes valid points.\nEssentially, if you have getters and setters for each and every private field, you are making those fields as good as public. You'd be very hard-pressed to change the type of a private field without ripple effects to every class that calls that getter.\nMoreover, from a strictly OO point of view, objects should be responding to messages (methods) that correspond to their (hopefully) single responsibility. The vast majority of getters and setters don't make sense for their constituent objects;Pen.dispenseInkOnto(Surface) makes more sense to me than Pen.getColor().\nGetters and setters also encourage users of the class to ask the object for some data, perform a calculation, and then set some other value in the object, better known as procedural programming. You'd be better served to simply tell the object to do what you were going to in the first place; also known as the Information Expert idiom.\nGetters and setters, however, are necessary evils at the boundary of layers -- UI, persistence, and so forth. Restricted access to a class's internals, such as C++'s friend keyword, Java's package protected access, .NET's internal access, and the Friend Class Pattern can help you reduce the visibility of getters and setters to only those who need them.\n", "The purist OO way is to avoid both and follow the Law of Demeter by using the Tell Don't Ask approach.\nInstead of getting the value of the object's property, which tightly couples the two class, use the object as a parameter e.g.\n  doSomethingWithProperty() {\n     doSomethingWith( this.property ) ;\n  }\n\nWhere the property was a native type, e.g. int, use an access method,  name it for problem domain not the programming domain.\n  doSomethingWithProperty( this.daysPerWeek() ) ;\n\nThese will allow you to maintain encapsulation and any post-conditions or dependent invariants. You can also use the setter method to maintain any pre-conditions or dependent invariants, however don't fall into the trap of naming them setters, go back to the Hollywood Principle for naming when using the idiom.\n", "PHP offers a myriad of ways to handle this, including magic methods __get and __set, but I prefer explicit getters and setters. Here's why:\n\nValidation can be placed in setters (and getters for that matter)\nIntellisense works with explicit methods\nNo question whether a property is read only, write only or read-write\nRetrieving virtual properties (ie, calculated values) looks the same as regular properties \nYou can easily set an object property that is never actually defined anywhere, which then goes undocumented \n\n", "It depends. It's more a style issue than anything else, and there is no hard rule.\n", "This warning is there because Java is not actually storing type information at run-time in an object that uses generics.  Thus, if object is actually a List<String>, there will be no ClassCastException at run-time except until an item is accessed from the list that doesn't match the generic type defined in the variable.  \nThis can cause further complications if items are added to the list, with this incorrect generic type information.  Any code still holding a reference to the list but with the correct generic type information will now have an inconsistent list.  \nTo remove the warning, try:\nList<?> list = (List<?>) object;\n\nHowever, note that you will not be able to use certain methods such as add because the compiler doesn't know if you are trying to add an object of incorrect type.  The above will work in a lot of situations, but if you have to use add, or some similarly restricted method, you will just have to suffer the yellow underline in Eclipse (or a SuppressWarning annotation).\n", "In Java, the 'int' type is a primitive , whereas the 'Integer' type is an object.\nIn C#, the 'int' type is the same as System.Int32 and is a value type (ie more like the java 'int'). An integer (just like any other value types) can be boxed (\"wrapped\") into an object. \n\nThe differences between objects and primitives are somewhat beyond the scope of this question, but to summarize: \nObjects provide facilities for polymorphism, are passed by reference (or more accurately have references passed by value), and are allocated from the heap. Conversely, primitives are immutable types that are passed by value and are often allocated from the stack.\n", "Well, in Java an int is a primitive while an Integer is an Object. Meaning, if you made a new Integer:\nInteger i = new Integer(6);\n\nYou could call some method on i:\nString s = i.toString();//sets s the string representation of i\n\nWhereas with an int:\nint i = 6;\n\nYou cannot call any methods on it, because it is simply a primitive. So:\nString s = i.toString();//will not work!!!\n\nwould produce an error, because int is not an object.\nint is one of the few primitives in Java (along with char and some others). I'm not 100% sure, but I'm thinking that the Integer object more or less just has an int property and a whole bunch of methods to interact with that property (like the toString() method for example). So Integer is a fancy way to work with an int (Just as perhaps String is a fancy way to work with a group of chars).\nI know that Java isn't C, but since I've never programmed in C this is the closest I could come to the answer. Hope this helps!\nInteger object javadoc\nInteger Ojbect vs. int primitive comparison\n", "In C#, int is just an alias for System.Int32, string for System.String, double for System.Double etc...\nPersonally I prefer int, string, double, etc. because they don't require a using System; statement :) A silly reason, I know...\n", "I'll add to the excellent answers given above, and talk about boxing and unboxing, and how this applies to Java (although C# has it too). I'll use just Java terminology, because I am more au fait with that.\nAs the answers mentioned, int is just a number (called the unboxed type), whereas Integer is an object (which contains the number, hence a boxed type). In Java terms, that means (apart from not being able to call methods on int), you cannot store int or other non-object types in collections (List, Map, etc.). In order to store them, you must first box them up in its corresponding boxed type.\nJava 5 onwards have something called auto-boxing and auto-unboxing which allow the boxing/unboxing to be done behind the scenes. Compare and contrast: Java 5 version:\nDeque<Integer> queue;\n\nvoid add(int n) {\n    queue.add(n);\n}\n\nint remove() {\n    return queue.remove();\n}\n\nJava 1.4 or earlier (no generics either):\nDeque queue;\n\nvoid add(int n) {\n    queue.add(Integer.valueOf(n));\n}\n\nint remove() {\n    return ((Integer) queue.remove()).intValue();\n}\n\nIt must be noted that despite the brevity in the Java 5 version, both versions generate identical bytecode. Thus, although auto-boxing and auto-unboxing is very convenient because you write less code, these operations do happen behind the scenes, with the same runtime costs, so you still have to be aware of their existence.\nHope this helps!\n", "I'll just post here since some of the other posts are slightly inaccurate in relation to C#.\nCorrect: int is an alias for System.Int32.\nWrong: float is not an alias for System.Float, but for System.Single\nBasically, int is a reserved keyword in the C# programming language, and is an alias for the System.Int32 value type.\nfloat and Float is not the same however, as the right system type for ''float'' is System.Single. There are some types like this that has reserved keywords that doesn't seem to match the type names directly.\nIn C# there is no difference between ''int'' and ''System.Int32'', or any of the other pairs or keywords/system types, except for when defining enums. With enums you can specify the storage size to use and in this case you can only use the reserved keyword, and not the system runtime type name.\nWether the value in the int will be stored on the stack, in memory, or as a referenced heap object depends on the context and how you use it.\nThis declaration in a method:\nint i;\n\ndefines a variable i of type System.Int32, living in a register or on the stack, depending on optimizations. The same declaration in a type (struct or class) defines a member field. The same declaration in a method argument list defines a parameter, with the same storage options as for a local variable. (note that this paragraph is not valid if you start pulling iterator methods into the mix, these are different beasts altogether)\nTo get a heap object, you can use boxing:\nobject o = i;\n\nthis will create a boxed copy of the contents of i on the heap. In IL you can access methods on the heap object directly, but in C# you need to cast it back to an int, which will create another copy. Thus, the object on the heap cannot easily be changed in C# without creating a new boxed copy of a new int value. (Ugh, this paragraph doesn't read all that easily.)\n", "This has already been answered for Java, here's the C# answer:\n\"Integer\" is not a valid type name in C# and \"int\" is just an alias for System.Int32. Also, unlike in Java (or C++) there aren't any special primitive types in C#, every instance of a type in C# (including int) is an object. Here's some demonstrative code:\nvoid DoStuff()\n{\n    System.Console.WriteLine( SomeMethod((int)5) );\n    System.Console.WriteLine( GetTypeName<int>() );\n}\n\nstring SomeMethod(object someParameter)\n{\n    return string.Format(\"Some text {0}\", someParameter.ToString());\n}\n\nstring GetTypeName<T>()\n{\n    return (typeof (T)).FullName;\n}\n\n", "Regarding Java 1.5 and autoboxing there is an important \"quirk\" that comes to play when comparing Integer objects.\nIn Java, Integer objects with the values -128 to 127 are immutable (that is, for one particular integer value, say 23, all Integer objects instantiated through your program with the value 23 points to the exact same object).\nExample, this returns true:\nInteger i1 = new Integer(127);\nInteger i2 = new Integer(127);\nSystem.out.println(i1 == i2); //  true\n\nWhile this returns false:\nInteger i1 = new Integer(128);\nInteger i2 = new Integer(128);\nSystem.out.println(i1 == i2); //  false\n\nThe == compares by reference (does the variables point to the same object).\nThis result may or may not differ depending on what JVM you are using. The specification autoboxing for Java 1.5 requires that integers (-128 to 127) always box to the same wrapper object. \nA solution? =) One should always use the Integer.equals() method when comparing Integer objects.\nSystem.out.println(i1.equals(i2)); //  true\n\nMore info at java.net Example at bexhuff.com\n", "In Java there are two basic types in the JVM. 1) Primitive types and 2) Reference Types. int is a primitive type and Integer is a class type (which is kind of reference type).\nPrimitive values do not share state with other primitive values. A variable whose type is a primitive type always holds a primitive value of that type.\nint aNumber = 4;\nint anotherNum = aNumber;\naNumber += 6;\nSystem.out.println(anotherNum); // Prints 4\n\nAn object is a dynamically created class instance or an array. The reference values (often just references) are pointers to these objects and a special null reference, which refers to no object. There may be many references to the same object.\nInteger aNumber = Integer.valueOf(4);\nInteger anotherNumber = aNumber; // anotherNumber references the \n                                 // same object as aNumber\n\nAlso in Java everything is passed by value. With objects the value that is passed is the reference to the object. So another difference between int and Integer in java is how they are passed in method calls. For example in\npublic int add(int a, int b) {\n    return a + b;\n}\nfinal int two = 2;\nint sum = add(1, two);\n\nThe variable two is passed as the primitive integer type 2. Whereas in\npublic int add(Integer a, Integer b) {\n    return a.intValue() + b.intValue();\n}\nfinal Integer two = Integer.valueOf(2);\nint sum = add(Integer.valueOf(1), two);\n\nThe variable two is passed as a reference to an object that holds the integer value 2.\n\n@WolfmanDragon:\nPass by reference would work like so:\npublic void increment(int x) {\n  x = x + 1;\n}\nint a = 1;\nincrement(a);\n// a is now 2\n\nWhen increment is called it passes a reference (pointer) to variable a. And the increment function directly modifies variable a.\nAnd for object types it would work as follows:\npublic void increment(Integer x) {\n  x = Integer.valueOf(x.intValue() + 1);\n}\nInteger a = Integer.valueOf(1);\nincrement(a);\n// a is now 2\n\nDo you see the difference now?\n", "One more thing that I don't see in previous answers:\nIn Java the primitive wrappers classes like Integer, Double, Float, Boolean... and String are suposed to be invariant, so that when you pass an instance of those classes the invoked method couldn't alter your data in any way, in opositi\u00f3n with most of other classes, which internal data could be altered by its public methods. So that this classes only has 'getter' methods, no 'setters', besides the constructor.\nIn a java program String literals are stored in a separate portion of heap memory, only a instance for literal, to save memory reusing those instances\n", "I haven't done SWING development since my early CS classes but if it wasn't built in you could just inherit javax.swing.AbstractButton and create your own. Should be pretty simple to wire something together with their existing framework.\n", "You could always try the Synth look & feel. You provide an xml file that acts as a sort of stylesheet, along with any images you want to use. The code might look like this:\ntry {\n    SynthLookAndFeel synth = new SynthLookAndFeel();\n    Class aClass = MainFrame.class;\n    InputStream stream = aClass.getResourceAsStream(\"\\\\default.xml\");\n\n    if (stream == null) {\n        System.err.println(\"Missing configuration file\");\n        System.exit(-1);                \n    }\n\n    synth.load(stream, aClass);\n\n    UIManager.setLookAndFeel(synth);\n} catch (ParseException pe) {\n    System.err.println(\"Bad configuration file\");\n    pe.printStackTrace();\n    System.exit(-2);\n} catch (UnsupportedLookAndFeelException ulfe) {\n    System.err.println(\"Old JRE in use. Get a new one\");\n    System.exit(-3);\n}\n\nFrom there, go on and add your JButton like you normally would. The only change is that you use the setName(string) method to identify what the button should map to in the xml file.\nThe xml file might look like this:\n<synth>\n    <style id=\"button\">\n        <font name=\"DIALOG\" size=\"12\" style=\"BOLD\"/>\n        <state value=\"MOUSE_OVER\">\n            <imagePainter method=\"buttonBackground\" path=\"dirt.png\" sourceInsets=\"2 2 2 2\"/>\n            <insets top=\"2\" botton=\"2\" right=\"2\" left=\"2\"/>\n        </state>\n        <state value=\"ENABLED\">\n            <imagePainter method=\"buttonBackground\" path=\"dirt.png\" sourceInsets=\"2 2 2 2\"/>\n            <insets top=\"2\" botton=\"2\" right=\"2\" left=\"2\"/>\n        </state>\n    </style>\n    <bind style=\"button\" type=\"name\" key=\"dirt\"/>\n</synth>\n\nThe bind element there specifies what to map to (in this example, it will apply that styling to any buttons whose name property has been set to \"dirt\").\nAnd a couple of useful links:\nhttp://javadesktop.org/articles/synth/\nhttp://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/synth.html\n", "Yes, this is possible. One of the main pros for using Swing is the ease with which the abstract controls can be created and manipulates.\nHere is a quick and dirty way to extend the existing JButton class to draw a circle to the right of the text.\npackage test;\n\nimport java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Graphics;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\npublic class MyButton extends JButton {\n\n    private static final long serialVersionUID = 1L;\n\n    private Color circleColor = Color.BLACK;\n\n    public MyButton(String label) {\n        super(label);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Dimension originalSize = super.getPreferredSize();\n        int gap = (int) (originalSize.height * 0.2);\n        int x = originalSize.width + gap;\n        int y = gap;\n        int diameter = originalSize.height - (gap * 2);\n\n        g.setColor(circleColor);\n        g.fillOval(x, y, diameter, diameter);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        Dimension size = super.getPreferredSize();\n        size.width += size.height;\n        return size;\n    }\n\n    /*Test the button*/\n    public static void main(String[] args) {\n        MyButton button = new MyButton(\"Hello, World!\");\n\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 400);\n\n        Container contentPane = frame.getContentPane();\n        contentPane.setLayout(new FlowLayout());\n        contentPane.add(button);\n\n        frame.setVisible(true);\n    }\n\n}\n\nNote that by overriding paintComponent that the contents of the button can be changed, but that the border is painted by the paintBorder method. The getPreferredSize method also needs to be managed in order to dynamically support changes to the content. Care needs to be taken when measuring font metrics and image dimensions.\nFor creating a control that you can rely on, the above code is not the correct approach. Dimensions and colours are dynamic in Swing and are dependent on the look and feel being used. Even the default Metal look has changed across JRE versions. It would be better to implement AbstractButton and conform to the guidelines set out by the Swing API. A good starting point is to look at the javax.swing.LookAndFeel and javax.swing.UIManager classes.\nhttp://docs.oracle.com/javase/8/docs/api/javax/swing/LookAndFeel.html\nhttp://docs.oracle.com/javase/8/docs/api/javax/swing/UIManager.html\nUnderstanding the anatomy of LookAndFeel is useful for writing controls:\nCreating a Custom Look and Feel\n", "When I was first learning Java we had to make Yahtzee and I thought it would be cool to create custom Swing components and containers instead of just drawing everything on one JPanel.  The benefit of extending Swing components, of course, is to have the ability to add support for keyboard shortcuts and other accessibility features that you can't do just by having a paint() method print a pretty picture.  It may not be done the best way however, but it may be a good starting point for you.\nEdit 8/6 - If it wasn't apparent from the images, each Die is a button you can click. This will move it to the DiceContainer below.  Looking at the source code you can see that each Die button is drawn dynamically, based on its value.\n\n\n\nHere are the basic steps:\n\nCreate a class that extends JComponent\nCall parent constructor super() in your constructors\nMake sure you class implements MouseListener\nPut this in the constructor:\nenableInputMethods(true);   \naddMouseListener(this);\n\nOverride these methods:\npublic Dimension getPreferredSize()  \npublic Dimension getMinimumSize()  \npublic Dimension getMaximumSize()\n\nOverride this method:\npublic void paintComponent(Graphics g)\n\n\nThe amount of space you have to work with when drawing your button is defined by getPreferredSize(), assuming getMinimumSize() and getMaximumSize() return the same value.  I haven't experimented too much with this but, depending on the layout you use for your GUI your button could look completely different.\nAnd finally, the source code.  In case I missed anything.  \n", "I'm probably going a million miles in the wrong direct (but i'm only young :P ). but couldn't you add the graphic to a panel and then a mouselistener to the graphic object so that when the user on the graphic your action is preformed.\n", "I really like regular expressions. As long as the command strings are fairly simple, you can write a few regexes that could take a few pages of code to manually parse.\nI would suggest you check out http://www.regular-expressions.info for a good intro to regexes, as well as specific examples for Java.\n", "A simple string tokenizer on spaces should work, but there are really many ways you could do this.\nHere is an example using a tokenizer:\nString command = \"kick person\";\nStringTokenizer tokens = new StringTokenizer(command);\nString action = null;\n\nif (tokens.hasMoreTokens()) {\n    action = tokens.nextToken();\n}\n\nif (action != null) {\n    doCommand(action, tokens);\n}\n\nThen tokens can be further used for the arguments.  This all assumes no spaces are used in the arguments... so you might want to roll your own simple parsing mechanism (like getting the first whitespace and using text before as the action, or using a regular expression if you don't mind the speed hit), just abstract it out so it can be used anywhere.\n", "I would look at Java migrations of Zork, and lean towards a simple Natural Language Processor (driven either by tokenizing or regex) such as the following (from this link):\n\n    public static boolean simpleNLP( String inputline, String keywords[])\n    {\n        int i;\n        int maxToken = keywords.length;\n        int to,from;\n        if( inputline.length() = inputline.length()) return false; // check for blank and empty lines\n        while( to >=0 )\n        {\n            to = inputline.indexOf(' ',from);\n            if( to > 0){\n                lexed.addElement(inputline.substring(from,to));\n                from = to;\n                while( inputline.charAt(from) == ' '\n                && from = keywords.length) { status = true; break;}\n            }\n        }\n        return status;\n    }\n\n...\nAnything which gives a programmer a reason to look at Zork again is good in my book, just watch out for Grues.\n...\n", "I assume you're trying to make the command interface as forgiving as possible. If this is the case, I suggest you use an algorithm similar to this:\n\nRead in the string\n\n\nSplit the string into tokens\nUse a dictionary to convert synonyms to a common form \nFor example, convert \"hit\", \"punch\", \"strike\", and \"kick\" all to \"hit\"\nPerform actions on an unordered, inclusive base\nUnordered - \"punch the monkey in the face\" is the same thing as \"the face in the monkey punch\"\nInclusive - If the command is supposed to be \"punch the monkey in the face\" and they supply \"punch monkey\", you should check how many commands this matches. If only one command, do this action. It might even be a good idea to have command priorities, and even if there were even matches, it would perform the top action.\n\n\n", "@CodingTheWheel Heres your code, a bit clean up and through eclipse (ctrl+shift+f) and the inserted back here :)\nIncluding the four spaces in front each line.\npublic static boolean simpleNLP(String inputline, String keywords[]) {\n    if (inputline.length() < 1)\n        return false;\n\n    List<String> lexed = new ArrayList<String>(); \n    for (String ele : inputline.split(\" \")) {\n        lexed.add(ele);\n    }\n\n\n    boolean status = false;\n    to = 0;\n    for (i = 0; i < lexed.size(); i++) {\n        String s = (String) lexed.get(i);\n        if (s.equalsIgnoreCase(keywords[to])) {\n            to++;\n            if (to >= keywords.length) {\n                status = true;\n                break;\n            }\n        }\n    }\n    return status;\n}\n\n", "When the separator String for the command is allways the same String or char (like the \";\") y recomend you use the StrinkTokenizer class:\nStringTokenizer\nbut when the separator varies or is complex y recomend you to use the regular expresions, wich can be used by the String class itself, method split, since 1.4. It uses the Pattern class from the java.util.regex package\nPattern\n", "Sun itself recommends staying away from StringTokenizer and using the String.spilt method instead. \nYou'll also want to look at the Pattern class.\n", "Parsing manually is a lot of fun... at the beginning:) \nIn practice if commands aren't very sophisticated you can treat them the same way as those used in command line interpreters. There's a list of libraries that you can use: http://java-source.net/open-source/command-line. I think you can start with apache commons CLI or args4j (uses annotations). They are well documented and really simple in use. They handle parsing automatically and the only thing you need to do is to read particular fields in an object.\nIf you have more sophisticated commands, then maybe creating a formal grammar would be a better idea. There is a very good library with graphical editor, debugger and interpreter for grammars. It's called ANTLR (and the editor ANTLRWorks) and it's free:) There are also some example grammars and tutorials.\n", "If this is to parse command lines I would suggest using Commons Cli.\n\nThe Apache Commons CLI library provides an API for processing command line interfaces. \n\n", "Another vote for ANTLR/ANTLRWorks.  If you create two versions of the file, one with the Java code for actually executing the commands, and one without (with just the grammar), then you have an executable specification of the language, which is great for testing, a boon for documentation, and a big timesaver if you ever decide to port it.\n", "Try JavaCC a parser generator for Java.\nIt has a lot of features for interpreting languages, and it's well supported on Eclipse.\n", "If the language is dead simple like just \nVERB NOUN\nthen splitting by hand works well.\nIf it's more complex, you should really look into a tool like ANTLR or JavaCC.\nI've got a tutorial on ANTLR (v2) at http://javadude.com/articles/antlrtut which will give you an idea of how it works.\n", "Build a time machine and go back to 1987? Ho ho.\nOk, no more snarky comments.\n\nHow do I figure out what the configuration settings (e.g. baud rate) should be...\n\nRead the datasheet? Ok, ok. Seriously, last one. If you don't know the baud rate of the device you are trying to communicate with, you have two choices. Start guessing, or possibly bust out an o-scope. If you need a good starting point, let me suggest 9600-8-N-1. My suspicion is you can get there with brute force relatively quickly. There's a third option of having an old-school ninja who can tell just by the LOOK of the garbled characters at some standard baud rate what actual baud rate is. An impressive party trick to be sure.\nHopefully though you have access to this information. In unix/linux, you can get ahold of minicom to play with the serial port directly. This should make it fairly quick to get the configuration figured out.\n\none of the major Unix shells\n\nIn Unix the serial port(s) is/are file-mapped into the /dev/ subdir. ttyS0, for example. If you setup the correct baud rate and whatnot using minicom, you can even cat stuff to that file to send stuff out there.\nOn to the meat of the question, you can access it programmatically through the POSIX headers. termios.h is the big one. \nSee: http://www.easysw.com/~mike/serial/serial.html#3_1\n(NOT AVAILABLE ANYMORE)\n\nbut I also have some interest in serial programming using Windows/Hyperterminal.\n\nHyperterminal and minicom are basically the same program. As for how Windows let's you get access to the serial port, I'll leave that question for someone else. I haven't done that in Windows since the Win95 days.\n", "From the other side, if you want to do it using C#, which will run on both Windows and Linux--with some limitations (EDIT: which may be out of date. I have no way to test it.). Just create a SerialPort object, set its baudrate, port and any other odd settings, call open on it, and write out your byte[]s. After all the setup, the SerialPort object acts very similar to any networked stream, so it should be easy enough to figure out.\nAnd as ibrandy states, you need to know all these settings, like baud rate, before you even start attempting to communicate to any serial device. \n", "At work we use teraterm and realterm for checking serial data is correctly formatted. Also we have a hardware splitter with a switch so we can monitor traffic to our application via a cable back to another port.\nWindows allows you access to the serial port via CreateFile. That gives you a handle and from there you can configure access.\n", "From Java the rxtx (NOT AVAILABLE ANYMORE)library is quite good. It picks up where Sun's serial IO framework left off. \n", "For C/C++ on Windows you have (at least) two choices:\n\nUse the SerialPort class provided by .NET.\nUse the Win32 API. There is an extensive MSDN article dating back to 1995, and many free libraries and examples on the web to get you started.\n\nThe .NET option will be much easier.\n", "If you want to code in Java I really recommend SerialIOs SerialPort. It is very easy to use and saves you days of work. I've never found an open source library as good as SerialIO, REALLY!\nMy advice: do not use Sun's serial IO framework! It is from 1998 and full of bugs. You can use rxtx but serialio is better!\n", "If it needs to be cross platfrom, I would suggest looking at Boost Asio.\n", "Awhile back I wrote a decent sized application to route connections from a farm of modems through to a TCP/IP network address.\nInitially I looked for an unencumbered (free) Serial IO library.  I tried Sun's, IBM's and RxTx.  They were fine for developing the application, and in initial testing, but in production they each proved unstable.\nFinally I paid for SerialIO's SerialPort.  Converting over was literally an exercise in changing imports, and the library has been absolutely rock solid - I cannot recommend it enough.  My application has been running in the field 24/7 for a couple of years now, with not a single problem encountered by multiple customers.\nIf you start development using SerialPort, they have a better API and I would use it.\nIf you need cross platform support, Java with SerialPort was the best choice I could find.\nLastly, their licensing is pretty darn reasonable as long as you are not preinstalling software on the equipment for your customer(s).\n", "Depending on the device You are trying to communicate with, there may be more parameters than the baud rate, number of data bits, type of parity checking and number of stop bits to consider. If I recall correctly, modems use nine lines of the RS-232C interface. Some devices like, for example cash registers, may use hardware handshaking on RTS/CTS lines or on DTR/STR lines.  \nIn general it's good to know how the interface works. You can't communicate if the baud rate doesn't match, but wrong setting of other parameters might kind of work. For example You can easily send data to the device expecting 1 stop bit with 2 stop bits set. Problems start when You try to receive data in such case. You can also use appropriately set parity bit as one of stop bits, etc.\n", "It seems like an IllegalArgumentException is called for if you don't want null to be an allowed value, and the NullPointerException would be thrown if you were trying to use a variable that turns out to be null.\n", "If it's a setter method and null is being passed to it, I think it would make more sense to throw an IllegalArgumentException. A NullPointerException seems to make more sense in the case where you're attempting to actually use the null.\nSo, if you're using it and it's null, NullPointer. If it's being passed in and it's null, IllegalArgument.\n", "I tend to follow the design of JDK libraries, especially Collections and Concurrency (Joshua Bloch, Doug Lea, those guys know how to design solid APIs). Anyway, many APIs in the JDK pro-actively throws NullPointerException. \nFor example, the Javadoc for Map.containsKey states:\n\n@throws NullPointerException if the key is null and this map\n    does not permit null keys (optional).\n\nIt's perfectly valid to throw your own NPE. The convention is to include the parameter name which was null in the message of the exception. \nThe pattern goes:\npublic void someMethod(Object mustNotBeNull) {  \n    if (mustNotBeNull == null) {  \n        throw new NullPointerException(\"mustNotBeNull must not be null\");  \n    }  \n}\n\nWhatever you do, don't allow a bad value to get set and throw an exception later when other code attempts to use it. That makes debugging a nightmare. You should always the follow the \"fail-fast\" principle.\n", "If you choose to throw a NPE and you are using the argument in your method, it might be redundant and expensive to explicitly check for a null. I think the VM already does that for you.\n", "The accepted practice if to use the IllegalArgumentException( String message ) to declare a parameter to be invalid and give as much detail as possible... So to say that a parameters was found to be null while exception non-null, you would do something like this:\nif( variable == null )\n    throw new IllegalArgumentException(\"The object 'variable' cannot be null\");\n\nYou have virtually no reason to implicitly use the \"NullPointerException\". The NullPointerException is an exception thrown by the Java Virtual Machine when you try to execute code on null reference (Like toString()).\n", "The standard is to throw the NullPointerException. The generally infallible \"Effective Java\" discusses this briefly in Item 42 (in the first edition) or Item 60 (in the second edition) \"Favor the use of standard exceptions\":\n\n\"Arguably, all erroneous method\n  invocations boil down to an illegal\n  argument or illegal state, but other\n  exceptions are standardly used for\n  certain kinds of illegal arguments and\n  states. If a caller passes null in\n  some parameter for which null values\n  are prohibited, convention dictates\n  that NullPointerException be thrown\n  rather than IllegalArgumentException.\"\n\n", "The definitions from the links to the two exceptions above are\nIllegalArgumentException: Thrown to indicate that a method has been passed an illegal or inappropriate argument. \nNullPointerException: Thrown when an application attempts to use null in a case where an object is required.\nThe big difference here is the IllegalArgumentException is supposed to be used when checking that an argument to a method is valid. NullPointerException is supposed to be used whenever an object being \"used\" when it is null.\nI hope that helps put the two in perspective.\n", "Couldn't agree more with what's being said.  Fail early, fail fast.  Pretty good Exception mantra. \nThe question about which Exception to throw is mostly a matter of personal taste.  In my mind IllegalArgumentException seems more specific than using a NPE since it's telling me that the problem was with an argument I passed to the method and not with a value that may have been generated while performing the method.\nMy 2 Cents\n", "If it's a \"setter\", or somewhere I'm getting a member to use later, I tend to use IllegalArgumentException.\nIf it's something I'm going to use (dereference) right now in the method, I throw a NullPointerException proactively. I like this better than letting the runtime do it, because I can provide a helpful message (seems like the runtime could do this too, but that's a rant for another day).\nIf I'm overriding a method, I use whatever the overridden method uses.\n", "In general, a developer should never throw a NullPointerException. This exception is thrown by the runtime when code attempts to dereference a variable who's value is null. Therefore, if your method wants to explicitly disallow null, as opposed to just happening to have a null value raise a NullPointerException, you should throw an IllegalArgumentException.\n", "You should be using IllegalArgumentException (IAE), not NullPointerException (NPE) for the following reasons:\nFirst, the NPE JavaDoc explicitly lists the cases where NPE is appropriate.  Notice that all of them are thrown by the runtime when null is used inappropriately.  In contrast, the IAE JavaDoc couldn't be more clear: \"Thrown to indicate that a method has been passed an illegal or inappropriate argument.\"  Yup, that's you!\nSecond, when you see an NPE in a stack trace, what do you assume?  Probably that someone dereferenced a null.  When you see IAE, you assume the caller of the method at the top of the stack passed in an illegal value.  Again, the latter assumption is true, the former is misleading.\nThird, since IAE is clearly designed for validating parameters, you have to assume it as the default choice of exception, so why would you choose NPE instead?  Certainly not for different behavior -- do you really expect calling code to catch NPE's separately from IAE and do something different as a result?  Are you trying to communicate a more specific error message?  But you can do that in the exception message text anyway, as you should for all other incorrect parameters.\nFourth, all other incorrect parameter data will be IAE, so why not be consistent?  Why is it that an illegal null is so special that it deserves a separate exception from all other types of illegal arguments?\nFinally, I accept the argument given by other answers that parts of the Java API use NPE in this manner.  However, the Java API is inconsistent with everything from exception types to naming conventions, so I think just blindly copying (your favorite part of) the Java API isn't a good enough argument to trump these other considerations.\n", "You should throw an IllegalArgumentException, as it will make it obvious to the programmer that he has done something invalid.  Developers are so used to seeing NPE thrown by the VM, that any programmer would not immediately realize his error, and would start looking around randomly, or worse, blame your code for being 'buggy'.\n", "It's a \"Holy War\" style question. In others words, both alternatives are good, but people will have their preferences which they will defend to the death.\n", "In this case, IllegalArgumentException conveys clear information to the user using your API that the \" should not be null\". As other forum users pointed out you could use NPE if you want to as long as you convey the right information to the user using your API. \nGaryF and tweakt dropped \"Effective Java\" (which I swear by) references which recommends using NPE. And looking at how other good APIs are constructed is the best way to see how to construct your API.\nAnother good example is to look at the Spring APIs. For example, org.springframework.beans.BeanUtils.instantiateClass(Constructor ctor, Object[] args) has a Assert.notNull(ctor, \"Constructor must not be null\") line. org.springframework.util.Assert.notNull(Object object, String message) method checks to see if the argument (object) passed in is null and if it is it throws a new IllegalArgumentException(message) which is then caught in the org.springframework.beans.BeanUtils.instantiateClass(...) method.\n", "We use FindBugs and JDepend integrated with Ant. We use JUnit but we're not using any coverage tool. \nI'm not using it integrated to Rational Application Developer (the IDE I'm using to develop J2EE applications) because I like how neat it looks when you run javac in the Windows console. :P\n", "Checkstyle is another one I've used at a previous company... it's mainly for style checking, but it can do some static analysis too.  Also, Clover for code coverage, though be aware it is not a free tool.\n", "We are using FindBugs and Checkstyle as well as Clover for Code Coverage. \nI think it's important to have some kind of static analysis, supporting your development. Unfortunately it's still not widely spread that these tools are important.\n", "I am looking for many answers to learn about new tools and consolidate this knowledge in a one question/thread, so I doubt there will be 1 true answer to this question.\nMy answer to my own question is that we use:\n\nFindbugs to look for common errors bad/coding - run from maven, and also integrates easily into Eclipse\nCobertura for our coverage reports - run from maven\n\nHudson also has a task-scanner plugin that will display a count of your TODO and FIXMEs, as well as show where they are in the source files.\nAll are integrated with Maven 1.x in our case and tied into Hudson, which runs our builds on check-in as well as extra things nightly and weekly. Hudson trend graphs our JUnit tests, coverage, findbugs, as well as open tasks. There is also a Hudson plugin that reports and graphs our compile warnings. We also have several performance tests with their own graphs of performance and memory use over time using the Hudson plots plugin as well.\n", "All of the following we use and integrate easiy in both our Maven 2.x builds and Eclipse/RAD 7:\n\nTesting - JUnit/TestNG\nCode analysis - FindBugs, PMD\nCode coverage - Clover\n\nIn addition, in our Maven builds we have:\n\nJDepend\nTag checker (TODO, FIXME, etc)\n\nFurthermore, if you're using Maven 2.x, CodeHaus has a collection of handy Maven plugins in their Mojo project.\nNote: Clover has out-of-the-box integration with the Bamboo CI server (since they're both Atlassian products). There are also Bamboo plugins for FindBugs, PMD, and CheckStyle but, as noted, the free Hudson CI server has those too.\n", "For static analysis tools I often use CPD, PMD, FindBugs, and Checkstyle.\nCPD is the PMD \"Copy/Paste Detector\" tool. I was using PMD for a little while before I noticed the \"Finding Duplicated Code\" link on the PMD web page.\nI'd like to point out that these tools can sometimes be extended beyond their \"out-of-the-box\" set of rules. And not just because they're open source so that you can rewrite them. Some of these tools come with applications or \"hooks\" that allow them to be extended. For example, PMD comes with the \"designer\" tool that allows you to create new rules. Also, Checkstyle has the DescendantToken check that has properties that allow for substantial customization.\nI integrate these tools with an Ant-based build. You can follow the link to see my commented configuration.\nIn addition to the simple integration into the build, I find it helpful to configure the tools to be somewhat \"integrated\" in a couple of other ways. Namely, report generation and warning suppression uniformity. I'd like to add these aspects to this discussion (which should probably have the \"static-analysis\" tag also): how are folks configuring these tools to create a \"unified\" solution? (I've asked this question separately here)\nFirst, for warning reports, I transform the output so that each warning has the simple format:\n/absolute-path/filename:line-number:column-number: warning(tool-name): message\nThis is often called the \"Emacs format,\" but even if you aren't using Emacs, it's a reasonable format for homogenizing reports. For example:\n/project/src/com/example/Foo.java:425:9: warning(Checkstyle):Missing a Javadoc comment.\nMy warning format transformations are done by my Ant script with Ant filterchains.\nThe second \"integration\" that I do is for warning suppression. By default, each tool supports comments or an annotation (or both) that you can place in your code to silence a warning that you want to ignore. But these various warning suppression requests do not have a consistent look which seems somewhat silly. When you're suppressing a warning, you're suppressing a warning, so why not always write \"SuppressWarning?\"\nFor example, PMD's default configuration suppresses warning generation on lines of code with the string \"NOPMD\" in a comment. Also, PMD supports Java's @SuppressWarnings annotation. I configure PMD to use comments containing \"SuppressWarning(PMD.\" instead of NOPMD so that PMD suppressions look alike. I fill in the particular rule that is violated when using the comment style suppression:\n// SuppressWarnings(PMD.PreserveStackTrace) justification: (false positive) exceptions are chained\nOnly the \"SuppressWarnings(PMD.\" part is significant for a comment, but it is consistent with PMD's support for the @SuppressWarning annotation which does recognize individual rule violations by name:\n@SuppressWarnings(\"PMD.CompareObjectsWithEquals\") // justification: identity comparision intended\nSimilarly, Checkstyle suppresses warning generation between pairs of comments (no annotation support is provided). By default, comments to turn Checkstyle off and on contain the strings CHECKSTYLE:OFF and CHECKSTYLE:ON, respectively. Changing this configuration (with Checkstyle's \"SuppressionCommentFilter\") to use the strings \"BEGIN\u00a0SuppressWarnings(CheckStyle.\" and \"END\u00a0SuppressWarnings(CheckStyle.\" makes the controls look more like PMD:\n\n// BEGIN SuppressWarnings(Checkstyle.HiddenField) justification: \"Effective Java,\" 2nd ed., Bloch, Item 2\n// END SuppressWarnings(Checkstyle.HiddenField)\n\nWith Checkstyle comments, the particular check violation (HiddenField) is significant because each check has its own \"BEGIN/END\" comment pair.\nFindBugs also supports warning generation suppression with a @SuppressWarnings annotation, so no further configuration is required to achieve some level of uniformity with other tools. Unfortunately, Findbugs has to support a custom @SuppressWarnings annotation because the built-in Java @SuppressWarnings annotation has a SOURCE retention policy which is not strong enough to retain the annotation in the class file where FindBugs needs it. I fully qualify FindBugs warnings suppressions to avoid clashing with Java's @SuppressWarnings annotation:\n@edu.umd.cs.findbugs.annotations.SuppressWarnings(\"UWF_FIELD_NOT_INITIALIZED_IN_CONSTRUCTOR\")\nThese techniques makes things look reasonably consistent across tools. Note that having each warning suppression contain the string \"SuppressWarnings\" makes it easy to run a simple search to find all instances for all tools over an entire code base.\n", "I've had good luck with Cobertura.  It's a code coverage tool which can be executed via your ant script as part of your normal build and can be integrated into Hudson.\n", "I use the static analysis built into IntelliJ IDEA. Perfect integration.\nI use the code coverage built into Intellij IDEA (based on EMMA). Again, perfect integration.\nThis integrated solution is reliable, powerful, and easy-to-use compared to piecing together tools from various vendors.\n", "Our team use PMD and Cobertura, actually our projects are maven projects and there is very simple to include plug ins for code analysis. The real question would be for specific project which analysis you need to use, my opinion is that it's you couldn't use the same plugins for each project.\n", "I use a combination of Cobertura, Checkstyle, (Ecl)Emma and Findbugs.\nEclEmma is an awesome Eclipse plugin that shows the code coverage by coloring the java source in the editor (screenshot) - the coverage is generated by running a JUnit test. This is really useful when you are trying to figure out which lines are covered in a particular class, or if you want to see just which lines are covered by a single test. This is much more user friendly and useful than generating a report and then looking through the report to see which classes have low coverage.\nThe Checkstyle and Findbugs Eclipse plugins are also useful, they generate warnings in the editor as you type.\nMaven2 has report plugins that work with the above tools to generate reports at build time. We use this to get overall project reports, which are more useful when you want aggregate numbers. These are generated by our CI builds, which run using Continuum.\n", "Not Java per-se, but you may run into issues where you have written something to a file, but it hasn't been actually written yet - it might be in a cache somewhere, and reading from the same file may not actually give you the new information.\nShort version - use flush() or whatever the relevant system call is to ensure that your data is actually written to the file.\nNote I am not talking about the OS level disk cache - if your data gets into here, it should appear in a read() after this point.  It may be that the language itself caches writes, waiting until a buffer fills up or file is flushed/closed.\n", "I've never tried it, but you should write a test case to see if reading from a stream after you have hit the end will work, regardless of if there is more data written to the file.\nIs there a reason you can't use a piped input/output stream?  Is the data being written and read from the same application (if so, you have the data, why do you need to read from the file)?\nOtherwise, maybe read till end of file, then monitor for changes and seek to where you left off and continue... though watch out for race conditions.\n", "The answer seems to be \"no\" ... and \"yes\". There seems to be no real way to know if a file is open for writing by another application. So, reading from such a file will just progress until content is exhausted. I took Mike's advice and wrote some test code:\nWriter.java writes a string to file and then waits for the user to hit enter before writing another line to file. The idea being that it could be started up, then a reader can be started to see how it copes with the \"partial\" file. The reader I wrote is in Reader.java.\nWriter.java\npublic class Writer extends Object\n{\n    Writer () {\n\n    }\n\n    public static String[] strings = \n        {\n            \"Hello World\", \n            \"Goodbye World\"\n        };\n\n    public static void main(String[] args) \n        throws java.io.IOException {\n\n        java.io.PrintWriter pw =\n            new java.io.PrintWriter(new java.io.FileOutputStream(\"out.txt\"), true);\n\n        for(String s : strings) {\n            pw.println(s);\n            System.in.read();\n        }\n\n        pw.close();\n    }\n}\n\nReader.java\npublic class Reader extends Object\n{\n    Reader () {\n\n    }\n\n    public static void main(String[] args) \n        throws Exception {\n\n        java.io.FileInputStream in = new java.io.FileInputStream(\"out.txt\");\n\n        java.nio.channels.FileChannel fc = in.getChannel();\n        java.nio.ByteBuffer bb = java.nio.ByteBuffer.allocate(10);\n\n        while(fc.read(bb) >= 0) {\n            bb.flip();\n            while(bb.hasRemaining()) {\n                System.out.println((char)bb.get());\n            }\n            bb.clear();\n        }\n\n        System.exit(0);\n    }\n}\n\nNo guarantees that this code is best practice.\nThis leaves the option suggested by Mike of periodically checking if there is new data to be read from the file. This then requires user intervention to close the file reader when it is determined that the reading is completed. Or, the reader needs to be made aware the content of the file and be able to determine and end of write condition. If the content were XML, the end of document could be used to signal this.\n", "You might also take a look at java channel for locking a part of a file.\nhttp://java.sun.com/javase/6/docs/api/java/nio/channels/FileChannel.html\nThis function of the FileChannel might be a start\nlock(long position, long size, boolean shared) \n\nAn invocation of this method will block until the region can be locked\n", "Could not get the example to work using FileChannel.read(ByteBuffer) because it isn't a blocking read. Did however get the code below to work:\nboolean running = true;\nBufferedInputStream reader = new BufferedInputStream(new FileInputStream( \"out.txt\" ) );\n\npublic void run() {\n    while( running ) {\n        if( reader.available() > 0 ) {\n            System.out.print( (char)reader.read() );\n        }\n        else {\n            try {\n                sleep( 500 );\n            }\n            catch( InterruptedException ex ) {\n                running = false;\n            }\n        }\n    }\n}\n\nOf course the same thing would work as a timer instead of a thread, but I leave that up to the programmer. I'm still looking for a better way, but this works for me for now.\nOh, and I'll caveat this with: I'm using 1.4.2. Yes I know I'm in the stone ages still.\n", "Java autoboxing/unboxing doesn't go to the extent to allow you to dereference a primitive, so your compiler prevents it. Your compiler still knows myInt as a primitive.  There's a paper about this issue at jcp.org.\nAutoboxing is mainly useful during assignment or parameter passing -- allowing you to pass a primitive as an object (or vice versa), or assign a primitive to an object (or vice versa).\nSo unfortunately, you would have to do it like this: (kudos Patrick, I switched to your way)\nInteger.toString(myInt);\n\n", "Ditto on what Justin said, but you should do this instead:\nInteger.toString(myInt);\n\nIt saves an allocation or two and is more readable.\n", "\nseems like a shortcoming of the\n  specification to me\n\nThere are more shortcomings and this is a subtle topic. Check this out:\npublic class methodOverloading{\n   public static void hello(Integer x){\n      System.out.println(\"Integer\");\n   }\n\n   public static void hello(long x){\n      System.out.println(\"long\");\n   }\n\n   public static void main(String[] args){\n      int i = 5;\n      hello(i);\n   }\n}\n\nHere \"long\" would be printed (haven't checked it myself), because the compiler choses widening over autoboxing. Be careful when using autoboxing or don't use it at all!\n", "One other way to do it is to use:\nString.valueOf(myInt);\n\nThis method is overloaded for every primitive type and Object. This way you don't even have to think about the type you're using. Implementations of the method will call the appropriate method of the given type for you, e.g. Integer.toString(myInt).\nSee http://java.sun.com/javase/6/docs/api/java/lang/String.html.\n", "In C#, integers are neither reference types nor do they have to be boxed in order for ToString() to be called. They are considered objects in the Framework (as a ValueType, so they have value semantics), however. In the CLR, methods on primitives are called by \"indirectly\" loading them onto the stack (ldind).\n", "The valid syntax closest to your example is\n((Integer) myInt).toString();\n\nWhen the compiler finishes, that's equivalent to\nInteger.valueOf(myInt).toString();\n\nHowever, this doesn't perform as well as the conventional usage, String.valueOf(myInt), because, except in special cases, it creates a new Integer instance, then immediately throws it away, resulting in more unnecessary garbage. (A small range of integers are cached, and access by an array access.) Perhaps language designers wanted to discourage this usage for performance reasons.\nEdit: I'd appreciate it if the downvoter(s) would comment about why this is not helpful.\n", "I'm not sure if this would be handled exactly the same way for webstart, but we ran into this situation in a desktop application when dealing with a set of native libraries (dlls in our case).\nLoading libA before libB should work, unless one of those libraries has a dependency that is unaccounted for and not in the path. My understanding is that once it gets to a system loadLibrary call (i.e. Java has found the library in its java.library.path and is now telling the OS to load it) - it is completely dependent on the operating system to find any dependent libraries, because at that point it is the operating system that is loading the library for the process, and the OS only knows how to look in the system path. That seems hard to set in the case of a Webstart app, but there is a way around this that does not involve static compiling. You may be able to shuffle where your libraries are - I am unsure \nIf you use a custom classloader, you can override loadLibrary and findLibrary so that it can locate your libraries from within a jar in your classpath, and if you also make it aware of your native library dependencies (i.e. libB depends on libA depends on libX, then when loading libB you can catch yourself and ensure you load libA first, and in checking that notice and load libX first. Then the OS doesn't try to find a library that isn't in your path. It's klunky and a bit painful, but ensuring Java finds them and loads them all in the correct order can work.\n", "Are both native libraries packaged into a signed jar which is listed as\n<nativelib ...> \n\nIn the JNLP file?\n", "Yes it is, try it out in a test.  You will see \"long\" printed.  It is widening because Java will choose to widen the int into a long before it chooses to autobox it to an Integer, so the hello(long) method is chosen to be called.\nEdit: the original post being referenced.\nFurther Edit: The reason the second option would print Integer is because there is no \"widening\" into a larger primitive as an option, so it MUST box it up, thus Integer is the only option.  Furthermore, java will only autobox to the original type, so it would give a compiler error if you leave the hello(Long) and removed hello(Integer).\n", "In the first case, you have a widening conversion happening. This can be see when runinng the \"javap\" utility program (included w/ the JDK), on the compiled class:\npublic static void main(java.lang.String[]);\n  Code:\n   0:   iconst_ 5\n   1:   istore_ 1\n   2:   iload_ 1\n   3:   i2l\n   4:   invokestatic    #6; //Method hello:(J)V\n   7:   return\n\n}\n\nClearly, you see the I2L, which is the mnemonic for the widening Integer-To-Long bytecode instruction. See reference here.\nAnd in the other case, replacing the \"long x\" with the object \"Long x\" signature, you'll have this code in the main method:\npublic static void main(java.lang.String[]);\n  Code:\n   0:   iconst_ 5\n   1:   istore_ 1\n   2:   iload_ 1\n   3:   invokestatic    #6; //Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n   6:   invokestatic    #7; //Method hello:(Ljava/lang/Integer;)V\n   9:   return\n\n}\n\nSo you see the compiler has created the instruction Integer.valueOf(int), to box the primitive inside the wrapper.\n", "Another interesting thing with this example is the method overloading. The combination of type widening and method overloading only working because the compiler has to make a decision of which method to choose. Consider the following example:\npublic static void hello(Collection x){\n   System.out.println(\"Collection\");\n}\n\npublic static void hello(List x){\n   System.out.println(\"List\");\n}\n\npublic static void main(String[] args){\n   Collection col = new ArrayList();\n   hello(col);\n}\n\nIt doesn't use the run-time type which is List, it uses the compile-time type which is Collection and thus prints \"Collection\". \nI encourage your to read Effective Java, which opened my eyes to some corner cases of the JLS.\n", "Your HttpServletRequest object has a getParameter(String paramName) method that can be used to get parameter values.  http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html#getParameter(java.lang.String)\n", "POST variables should be accessible via the request object: HttpRequest.getParameterMap(). The exception is if the form is sending multipart MIME data (the FORM has enctype=\"multipart/form-data\"). In that case, you need to parse the byte stream with a MIME parser. You can write your own or use an existing one like the Apache Commons File Upload API.\n", "Here's a simple example. I didn't get fancy with the html or the servlet, but you should get the idea.\nI hope this helps you out.\n<html>\n<body>\n<form method=\"post\" action=\"/myServlet\">\n<input type=\"text\" name=\"username\" />\n<input type=\"password\" name=\"password\" />\n<input type=\"submit\" />\n</form>\n</body>\n</html>\n\nNow for the Servlet\nimport java.io.*;\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n\npublic class MyServlet extends HttpServlet {\n  public void doPost(HttpServletRequest request,\n                    HttpServletResponse response)\n      throws ServletException, IOException {\n\n    String userName = request.getParameter(\"username\");\n    String password = request.getParameter(\"password\");\n    ....\n    ....\n  }\n}\n\n", "Unfortunately, compilers can't work on theoretical principles, and even though you may know that it is safe in your case, if they allowed it, it would have to be safe for all cases.\nIn other words, the compiler isn't stopping just you, it's stopping everyone, including all those that don't know that it is unsafe and needs special handling. There are probably other reasons for this as well, as all languages usually have ways to do unsafe things if one knows how to deal with them.\nIn C# .NET there are similar provisions, and the only way to declare a constructor that calls a base constructor is this:\npublic ClassName(...) : base(...)\n\nin doing so, the base constructor will be called before the body of the constructor, and you cannot change this order.\n", "I don't know how Java is implemented internally, but if the constructor of the superclass throws an exception, then there isn't a instance of the class you extend.  It would be impossible to call the toString() or equals() methods, for example, since they are inherited in most cases.\nJava may allow a try/catch around the super() call in the constructor if 1. you override ALL methods from the superclasses, and 2. you don't use the super.XXX() clause, but that all sounds too complicated to me.\n", "I can't presume to have a deep understanding of Java internals, but it is my understanding that, when a compiler needs to instantiate a derived class, it has to first create the base (and its base before that(...)) and then slap on the extensions made in the subclass. \nSo it is not even the danger of uninited variables or anything like that at all. When you try to do something in the subclass' constructor before the base class' constructor, you are basically asking the compiler to extend a base object instance that doesn't exist yet.\nEdit:In your case, MyClass becomes the base object, and MyClassMock is a subclass.\n", "It's done to prevent someone from creating a new SecurityManager object from untrusted code.\npublic class Evil : SecurityManager {\n  Evil()\n  {\n      try {\n         super();\n      } catch { Throwable t }\n      {\n      }\n   }\n}\n\n", "J# is no longer included in VS2008. Unless you already have J# code, you should probably stay away.\nFrom j# product page:\n\nSince customers have told us that the\n  existing J# feature set largely meets\n  their needs and usage of J# is\n  declining, Microsoft is retiring the\n  Visual J# product and Java Language\n  Conversion Assistant tool to better\n  allocate resources for other customer\n  requirements. The J# language and JLCA\n  tool will not be available in future\n  versions of Visual Studio. To preserve\n  existing customer investments in J#,\n  Microsoft will continue to support the\n  J# and JLCA technology that shipped\n  with Visual Studio 2005 through to\n  2015 as per our product life-cycle\n  strategy. For more information, see\n  Expanded Microsoft Support Lifecycle\n  Policy for Business & Development\n  Products.\n\n", "The whole purpose of J# is to ease the transition of Java developers to the .NET environment which didn't work so well (I guessing here) so Microsoft dropped J# from Visual Studio 2008.\nFor your question, \"Is there a real benefit of using J#?\"..\nin a nutshell... No..\n", "One of the killers I've found with J# in the past is that there is no built in support for referencing web services. That alone has been enough to deter me from it ever since.\n", "C# syntax is so close to Java (and better in some ways) that you might as well learn C# instead of J#.  And since C# is more widely used, you can easily find Java --> C# tutorials on google or check out http://www.asp.net/learn and watch some videos.\n", "Instead of J#, I would rather prefer IKVM (http://www.ikvm.net/) to convert my JARs to .NET assemblies as well as access Java APIs in C#.\n", "Strongly agree that syntactically C# beats Java hands down, so there is really no reason to lament the demise of j#.  Now trying to get c# compiling to Java bytecode might be an interesting move as Sun's hotspot jvm is great software.\nOr, for a bit of fun with what might well become the next generation of Java, how about Scala on the CLR...\n", "I don't think it's a matter of which language is better. In the .NET world there are some inconsistencies between the libraries different languages provide. There are certain functionality that is available in VB.NET that you might like to use from C# but can't. I remember I had to use J# to use some ZIP libraries that were not available in any other language in .NET.\n", "I have used J# as an easy interim step to port a java library into C#.  It made for a good way to port code I don't plan to maintain from Java to .Net.  However, all new development is being done in C#.\n", "I haven't done this before, but I found this site on the web giving an explanation.\n", "I've been successfully using it on Vista x64 for some light Java work.  Nothing too involved and no extra plugins, but basic Java coding has been working without any issues.  I'm using the 3.4M7 build but it looks like the 3.4 stable build supports Vista x64 now.\n", "I'm using Eclipse with a 64bit VM. However I have to use Java 1.5, because with Java 1.6, even 1.6.0_10ea, Eclipse crashed when changing the .classpath-file. On Linux I had the same problems and could only get the 64bit Eclipse to work with 64bit Java 1.5.\nThe problem seems to be with the just in time compilation, since with vmparam -Xint eclipse works -- but this is not a sollution, because it's slow then.\nEdit:\nWith 1.6.0_11 it seems to work. \n1.6_10 final might work as well as mentioned in the comment, but I've not tested that.\n", "Hmm... off by one hour. DST possibly?\nIs the date set correctly? \nWhat version of the JDK is this running on? (\"java -version\")\n", "It's a \"quirk\" in the way the JVM looks up the zoneinfo file.  See Bug ID 6456628.\nThe easiest workaround is to make /etc/localtime a symlink to the correct zoneinfo file.  For Pacific time, the following commands should work:\n# sudo cp /etc/localtime /etc/localtime.dist\n# sudo ln -fs /usr/share/zoneinfo/America/Los_Angeles /etc/localtime\n\nI haven't had any problems with the symlink approach.\nEdit: Added \"sudo\" to the commands.\n", "It may help to double-check the timezone rules your OS is using.\n/usr/bin/zdump -v /etc/localtime | less\n\nThis file should contain your daylight savings rules, like this one for the year 2080:\n/etc/localtime  Sun Mar 31 01:00:00 2080 UTC = Sun Mar 31 02:00:00 2080 BST isdst=1 gmtoff=3600\n\nYou can compare this with the timezone rules you think you should be using. They can be found in /usr/share/zoneinfo/.\n", "I had a similar issue, possibly the same one. However my tomcat server runs on a windows box so the symlink solution will not work. \nI set \"-Duser.timezone=Australia/Sydney\" in the JAVA_OPTS however tomcat would not recognize that DST was in effect. As a workaround i changed Australia/Sydney (+10 GMT) to Pacific/Numea (+11 GMT) so that times would correctly display however i would love to know the actual solution or bug, if any.\n", "I used JFreeChart (http://www.jfree.org/jfreechart/) on a previous project.  It has some very good built-in capabilities, and the design was WAY extensible so you could always roll your own extension later if you needed some custom chart annotation or wanted an axis to render differently, or whatever.  It's definitely worth checking out.\n", "I've had success using JFreeChart on multiple projects. It is very configurable. JFreeChart is open source, but they charge for the developer guide. If you're doing something simple, the sample code is probably good enough. Otherwise, $50 for the developer guide is a pretty good bargain.\nWith respect to \"real-time\" data, I've also used JFreeChart for these sorts of applications. Unfortunately, I had to create some custom data models with appropriate synchronization mechanisms to avoid race conditions. However, it wasn't terribly difficult and JFreeChart would still be my first choice. However, as the FAQ suggests, JFreeChart might not give you the best performance if that is a big concern.\n", "I've used JFreeChart in a rather complex application that needed to visualize data streams and calculations based on the data. We implemented the ability to visually edit the data plots by mouse and had a very large set of data points. JFreeChart handled it very well.\nUnfortunately I was stuck with v0.7, but the newest release are sooo much better when it comes to API clarity. The community is very helpful and the developers are responding to mails too.\nIf you're doing a web application and don't want to bother with libraries, you can check the Google Chart API. Didn't use it myself, but I started some tests which were very promising.\n", "Check ILOG's JViews - they have a lot of stuff and something might fit your needs. All of them are extremely configurable and quite fast. Not free though.\n", "First I would say, don't rewrite all your tests just to suit the latest fad.  Junit3 works perfectly well, and the introduction of annotations in 4 doesn't buy you very much (in my opinion).  It is much more important that you guys write tests, and it sounds like you do.  \nUse whatever seems most natural and helps you get your work done.\nI can't comment on TestNG b/c I haven't used it.  But I would recommend unitils, a great wrapper for JUnit/TestNG/DBUnit/EasyMock, regardless of which route you take. (It supports all the flavors mentioned above)\n", "I've used both, but I have to agree with Justin Standard that you shouldn't really consider rewriting your existing tests to any new format.  Regardless of the decision, it is pretty trivial to run both.  TestNG strives to be much more configurable than JUnit, but in the end they both work equally well.\nTestNG has a neat feature where you can mark tests as a particular group, and then easily run all tests of a specific group, or exclude tests of a particular group.  Thus you can mark tests that run slowly as in the \"slow\" group and then ignore them when you want quick results.  A suggestion from their documentation is to mark some subset as \"checkin\" tests which should be run whenever you check new files in.  I never saw such a feature in JUnit, but then again, if you don't have it, you don't REALLY miss it.\nFor all its claims of high configuration, I did run into a corner case the a couple weeks ago where I couldn't do what I wanted to do... I wish I could remember what it is, but I wanted to bring it up so you know that it's not perfect.\nThe biggest advantage TestNG has is annotations... which JUnit added in version 4 anyways.\n", "About a year ago, we had the same problem. I spent sometime considering which move was better, and eventually we realized that TestNG has no 'killer features'. It's nice, and has some features JUnit 4 doesn't have, but we don't need them.\nWe didn't want people to feel uncomfortable writing tests while getting to know TestNG because we wanted them to keep writing a lot of tests.\nAlso, JUnit is pretty much the de-facto standard in the Java world. There's no decent tool that doesn't support it from the box, you can find a lot of help on the web and they added a lot of new features in the past year which shows it's alive.\nWe decided to stick with JUnit and never looked back.\n", "TestNG's biggest draw cards for me include its support test groups, and more importantly - test group dependencies (marking a test as being dependent of a group causes the tests to simply skip running when the dependent group fails).\nTestNG's other big draw cards for me include test parameters, data providers, annotation transformers, and more than anything - the vibrant and responsive user community.\nWhilst on the surface one might not think all of TestNGs features above might not be needed, once you start to understand the flexibility bring to your tests, you'll wonder how you coped with JUnit.\n(disclaimer - I've not used JUnit 4.x at all, so am unable to really comment on advances or new features there).\n", "A couple of additions to Mike Stone's reply:\n1) The most frequent thing I use TestNG's groups for is when I want to run a single test method in a test suite.  I simply add this test to the group \"phil\" and then run this group.  When I was using JUnit 3, I would comment out the entries for all methods but the one I wanted to run in the \"suite\" method, but then would commonly forget to uncomment them before checkin.  With the groups, I no longer have this problem.\n2) Depending on the complexity of the tests, migrating tests from JUnit3 to TestNG can be done somewhat automatically with sed and creating a base class to replace TestCase that static imports all of the TestNG assert methods.\nI have info on my migration from JUnit to TestNG here and here.\n", "I don't know about Java and 2008... but you shouldn't have too much trouble with Java and SQL2000. As lubos suggested, you'd be doing yourself a favour to look at c# but if you're much more comfortable with Java then there shouldn't be any real limitations as the JDBC connector is supported by Microsoft\n", "I've worked on a project using MSQL Server in conjunction with a Java Stack. It works very well and as long, since JDBC shouldn't really care about your database. We used ehcache together with Hibernate and had problems with the MS JDBC Driver, so we switched to jtds and it works really good.\nIt's quite a while ago, so you still might wanna give the MS driver a chance...\n", "We've been running an application using Hibernate talking to multiple remote MSQL Server instances for a few years now and we also switched to the jTDS driver early on after a few issues with the M$ driver. Since the switch we haven't had any issues at all. However, it's not a complicated application so it doesn't use any LOB's. Hope that helps.\n", "jTDS is excellent. I've been using it for years without issue in high-availability production environments.\n", "I would lean towards the jTDS driver.  The MSSQL driver has a limitation where you cannot re-read the same column twice.  This happens frequently when using Hibernate.\n", "Two more general-purpose mechanisms for fixing some of Eclipse's idiosyncrasies:\n\nClose and open the project\nDelete the project (but not from disk!) and reimport it as an existing project\n\nFailing that, bugs.eclipse.org might provide the answer.\nIf the workspace is caching something broken, you may be able to delete it by poking around in workspace/.metadata/.plugins. Most of that stuff is fairly transient (though backup and watch for deleted preferences).\n", "If I understand you correctly, the idea is to get a different \"singleton\" object for each caller object or \"context\".\nOne thing you can do is to create a thread-local global variable where you write the ID of the current context. (This can be done with AOP.) Then in the singleton getter, the context ID is fetched from the thread-local to use as a key to the correct \"singleton\" instance for the calling context. \nRegarding AOP there should be no problem using it in applets since, depending on your point-cuts, the advices are woven at compile time and a JAR is added to the runtime dependencies. Hence, no special evidence of AOP should remain at run time.\n", "@Hugo regarding threadlocal:\nI thought about that solution. However, from experiments I found two problems with that approach:\n\nShared thread (server connections, etc) are problematic. This can be solved though by paying special attention to these thread (they're all under my control and are pretty much isolated from the legacy code).\nThe EDT thread is shared across all applets. I failed to find a way to force the creation of a new EDT thread for each applet. This means that the threadlocal for the EDT would be shared across the applets. This one I have no idea how to solve. Suggestions?\n\n", "Singletons are evil, what do you expect? ;)\nPerhaps the most comprehensive approach would be to load the bulk of the applet in a different class loader (use java.net.URLClassLoader.newInstance). Then use a WeakHashMap to associate class loader with an applet. If you could split most of the code into a common class loader (as a parent of each per-applet class loader) and into the normal applet codebase, that would be faster but more work.\nOther hacks:\nIf you have access to any component, you can use Component.getParent repeatedly or SwingUtilities.getRoot.\nIf you are in a per-applet instance thread, then you can set up a ThreadLocal.\nFrom the EDT, you can read the current event from the queue (java.awt.EventQueue.getCurrentEvent()), and possibly find a component from that. Alternatively push an EventQueue with a overridden dispatchEvent method.\n", "If I'm understanding you correctly, it sounds like you're expecting the MathContext to control how many digits should be kept after the decimal point.  That's not what it's for.  It specifies how many digits to keep, total.  So if you specify that you want 3 significant digits, that's all you're going to get.\nFor example, this:\nSystem.out.println(new BigDecimal(\"1234567890.123456789\",\n                   new MathContext(20)));\n\nSystem.out.println(new BigDecimal(\"1234567890.123456789\",\n                   new MathContext(10)));\n\nSystem.out.println(new BigDecimal(\"1234567890.123456789\",\n                   new MathContext(5)));\n\nwill output:\n1234567890.123456789\n1234567890\n1.2346E+9\n\n", "It's not for fun. Actually I found some online example, which stated the use of MathContext to round the amounts/numbers stored in BigDecimal.\nFor example,\nIf MathContext is configured to have precision = 2 and rounding mode = ROUND_HALF_EVEN\nBigDecimal Number = 0.5294, is rounded to 0.53\nSo I thought it is a newer technique and used it for rounding purpose. However it turned into nightmare because it started rounding even mentissa part of number.\nFor example,\nNumber = 1.5294 is rounded to 1.5\nNumber = 10.5294 is rounded to 10\nNumber = 101.5294 is rounded to 100 \n.... and so on\nSo this is not the behavior I expected for rounding (as precision = 2).\nIt seems to be having some logic because from patter I can say that it takes first two digits (as precision is 2) of number and then appends 0's till the no. of digits become same as unrounded amount (checkout the example of 101.5294 ...)\n", "@jatan\n\nThanks for you answer. It makes sense. Can you please explain me MathContext in the context of BigDecimal#round method.\n\nThere's nothing special about BigDecimal.round() vs. any other BigDecimal method.  In all cases, the MathContext specifies the number of significant digits and the rounding technique.  Basically, there are two parts of every MathContext.  There's a precision, and there's also a RoundingMode.\nThe precision again specifies the number of significant digits.  So if you specify 123 as a number, and ask for 2 significant digits, you're going to get 120.  It might be clearer if you think in terms of scientific notation.\n123 would be 1.23e2 in scientific notation.  If you only keep 2 significant digits, then you get 1.2e2, or 120.  By reducing the number of significant digits, we reduce the precision with which we can specify a number.\nThe RoundingMode part specifies how we should handle the loss of precision.  To reuse the example, if you use 123 as the number, and ask for 2 significant digits, you've reduced your precision.  With a RoundingMode of HALF_UP (the default mode), 123 will become 120.  With a RoundingMode of CEILING, you'll get 130.\nFor example:\nSystem.out.println(new BigDecimal(\"123.4\",\n                   new MathContext(4,RoundingMode.HALF_UP)));\nSystem.out.println(new BigDecimal(\"123.4\",\n                   new MathContext(2,RoundingMode.HALF_UP)));\nSystem.out.println(new BigDecimal(\"123.4\",\n                   new MathContext(2,RoundingMode.CEILING)));\nSystem.out.println(new BigDecimal(\"123.4\",\n                   new MathContext(1,RoundingMode.CEILING)));\n\nOutputs:\n123.4\n1.2E+2\n1.3E+2\n2E+2\n\nYou can see that both the precision and the rounding mode affect the output.\n", "Class names should always be descriptive and self-explanatory. If you have multiple domains of responsibility for your classes then they should probably be refactored.\nLikewise for you packages. They should be grouped by domain of responsibility. Every domain has it's own exceptions.\nGenerally don't sweat it until you get to a point where it is becoming overwhelming and bloated. Then sit down and don't code, just refactor the classes out, compiling regularly to make sure everything works. Then continue as you did before.\n", "Use packages to group related functionality together.\nUsually the top of your package tree is your domain name reversed (com.domain.subdomain) to guarantee uniqueness, and then usually there will be a package for your application. Then subdivide that by related area, so your FileStorageStrategy might go in, say, com.domain.subdomain.myapp.storage, and then there might be specific implementations/subclasses/whatever in com.domain.subdomain.myapp.storage.file and com.domain.subdomain.myapp.storage.database. These names can get pretty long, but import keeps them all at the top of files and IDEs can help to manage that as well.\nExceptions usually go in the same package as the classes that throw them, so if you had, say, FileStorageException it would go in the same package as FileStorageStrategy. Likewise an interface defining constants would be in the same package.\nThere's not really any standard as such, just use common sense, and if it all gets too messy, refactor!\n", "One thing I've done in the past - if I'm extending a class I'll try and follow their conventions. For example, when working with the Spring Framework, I'll have my MVC Controller classes in a package called com.mydomain.myapp.web.servlet.mvc\nIf I'm not extending something I just go with what is simplest. com.mydomain.domain for Domain Objects (although if you have a ton of domain objects this package could get a bit unwieldy).\nFor domain specific constants, I actually put them as public constants in the most related class. For example, if I have a \"Member\" class and have a maximum member name length constant, I put it in the Member class. Some shops make a separate Constants class but I don't see the value in lumping unrelated numbers and strings into a single class. I've seen some other shops try to solve this problem by creating SEPARATE Constants classes, but that just seems like a waste of time and the result is too confusing. Using this setup, a large project with multiple developers will be duplicating constants all over the place.\n", "I like break my classes down into packages that are related to each other.\nFor example:\nModel For database related calls\nView Classes that deal with what you see\nControl Core functionality classes\nUtil Any misc. classes that are used (typically static functions)\netc.\n", "I think keep it simple and don't over think it. Don't over abstract and layer too much. Just keep it neat, and as it grows, refactoring it is trivial. One of the best features of IDEs is refactoring, so why not make use of it and save you brain power for solving problems that are related to your app, rather then meta issues like code organisation.\n", "I'm a huge fan of organized sources, so I always create the following directory structure:\n/src - for your packages & classes\n/test - for unit tests\n/docs - for documentation, generated and manually edited\n/lib - 3rd party libraries\n/etc - unrelated stuff\n/bin (or /classes) - compiled classes, output of your compile\n/dist - for distribution packages, hopefully auto generated by a build system\n\nIn /src I'm using the default Java patterns: Package names starting with your domain (org.yourdomain.yourprojectname) and class names reflecting the OOP aspect you're creating with the class (see the other commenters). Common package names like util, model, view, events are useful, too.\nI tend to put constants for a specific topic in an own class, like SessionConstants or ServiceConstants in the same package of the domain classes.\n", "I've really come to like Maven's Standard Directory Layout.\nOne of the key ideas for me is to have two source roots - one for production code and one for test code like so:\nMyProject/src/main/java/com/acme/Widget.java\nMyProject/src/test/java/com/acme/WidgetTest.ava\n\n(here, both src/main/java and src/test/java are source roots).\nAdvantages:\n\nYour tests have package (or \"default\") level access to your classes under test.\nYou can easily package only your production sources into a JAR by dropping src/test/java as a source root.\n\nOne rule of thumb about class placement and packages:\nGenerally speaking, well structured projects will be free of circular dependencies. Learn when they are bad (and when they are not), and consider a tool like JDepend or SonarJ that will help you eliminate them.\n", "One thing that I found very helpful for unit tests was to have a myApp/src/ and also myApp/test_src/ directories. This way, I can place unit tests in the same packages as the classes they test, and yet I can easily exclude the test cases when I prepare my production installation.\n", "Short answer: draw your system architecture in terms of modules, drawn side-by-side, with each module sliced vertically into layers (e.g. view, model, persistence). Then use a structure like com.mycompany.myapp.somemodule.somelayer, e.g. com.mycompany.myapp.client.view or com.mycompany.myapp.server.model.\nUsing the top level of packages for application modules, in the old-fashioned computer-science sense of modular programming, ought to be obvious. However, on most of the projects I have worked on we end up forgetting to do that, and end up with a mess of packages without that top-level structure. This anti-pattern usually shows itself as a package for something like 'listeners' or 'actions' that groups otherwise unrelated classes simply because they happen to implement the same interface.\nWithin a module, or in a small application, use packages for the application layers. Likely packages include things like the following, depending on the architecture:\n\ncom.mycompany.myapp.view\ncom.mycompany.myapp.model\ncom.mycompany.myapp.services\ncom.mycompany.myapp.rules\ncom.mycompany.myapp.persistence (or 'dao' for data access layer)\ncom.mycompany.myapp.util (beware of this being used as if it were 'misc')\n\nWithin each of these layers, it is natural to group classes by type if there are a lot. A common anti-pattern here is to unnecessarily introduce too many packages and levels of sub-package so that there are only a few classes in each package.\n", "Where I'm working, we're using Maven 2 and we have a pretty nice archetype for our projects. The goal was to obtain a good separation of concerns, thus we defined a project structure using multiple modules (one for each application 'layer'):\n  - common: common code used by the other layers (e.g., i18n)\n  - entities: the domain entities\n  - repositories: this module contains the daos interfaces and implementations\n  - services-intf: interfaces for the services (e.g, UserService, ...) \n  - services-impl: implementations of the services (e.g, UserServiceImpl) \n  - web: everything regarding the web content (e.g., css, jsps, jsf pages, ...)\n  - ws: web services\nEach module has its own dependencies (e.g., repositories could have jpa) and some are project wide (thus they belong in the common module). Dependencies between the different project modules clearly separate things (e.g., the web layer depends on the service layer but doesn't know about the repository layer).\nEach module has its own base package, for example if the application package is \"com.foo.bar\", then we have:\ncom.foo.bar.common\ncom.foo.bar.entities\ncom.foo.bar.repositories\ncom.foo.bar.services\ncom.foo.bar.services.impl\n...\n\nEach module respects the standard maven project structure:\n   src\\\n   ..main\\java\n     ...\\resources\n   ..test\\java\n     ...\\resources\n\nUnit tests for a given layer easily find their place under \\src\\test... Everything that is domain specific has it's place in the entities module. Now something like a FileStorageStrategy should go into the repositories module, since we don't need to know exactly what the implementation is. In the services layer, we only know the repository interface, we do not care what the specific implementation is (separation of concerns).\nThere are multiple advantages to this approach:\n\nclear separation of concerns\neach module is packageable as a jar (or a war in the case of the web module) and thus allows for easier code reuse (e.g., we could install the module in the maven repository and reuse it in another project)\nmaximum independence of each part of the project\n\nI know this doesn't answer all your questions, but I think this could put you on the right path and could prove useful to others.\n", "Someone took the javascript code from Google Maps and ported it to python: gmerc.py\nI've used this and it works great.\n", "GeoTools has code to transform to and from about any coordinate system you could imagine, and among them also Google Map's. It's also open source. However, it should also be pointed out that GeoTools is a large library, so if you're looking something small, quick and easy, it's likely not the way to go.\nI would highly recommend it though if you're going to do other GIS/coordinate transformations, etc. as well.\nIf you use GeoTools or something similar, you might also be interested in knowing that the Google Map coordinate system is called EPSG 3785.\n", "Tile utility code in Java on mapki.com (great resource for google map developers)\n", "Perhaps you could deserialise the byte array using a known encoding and ensure that (a) it doesn't throw any exceptions, and (b) deserialises to the original string. It seems that from your description of the scenario, you may not have the original string readily available. Might there be a way to create it?\n", "That's good.\nYou're right, I don't have the original string, since I'm testing a module that creates an XML document as a byte array. I didn't think about deserializing to a String with an expected encoding. That will do the trick.\n", "Install4J. Not free, but worth it. Give the trial a shot\n", "I went through the same and found that all of the free options weren't very good. Looks like you'll be writing your own. I'd be interested to see if someone has a free/cheap option that works\n", "Have you thought about Java Web Start?  Here is a tutorial specifically for deploying an SWT application with Java Web Start.\n", "Maybe you should take a look at IzPack. I created a very nice installer some years ago and I'd bet that they are still improving it. It allows the installation of docs, binaries and a clickable link to start the application IIRC.\n", "Have you considered writing a small program in C/C++ that just calls CreateProcess to start up the java VM with the jar (or class) file?\nYou could get Visual C++ Express and put together the startup program pretty easily.  This would make it easy to add a friendly icon as well.\n", "Another option I was considering: rather than writing a native launcher from scratch, Eclipse comes with the source code for its own launcher, and this could perhaps be repurposed for my app.\nIt's a shame that Sun never included anything similar in the JDK.\n", "I've used the free Launch4J to create a custom launcher for my Java programs on Windows. Combined with the free NSIS Installer you can build a nice package for your Windows users.\nEdit: Did not see that you use SWT. Don't know if it works with SWT as well, because I used only Swing in my apps.\n", "In my company we use Launch4J to create the exe file, and NSIS to create the installer, with SWT applications. \nWe have used it for years in several commercial applications and the pair works fine.\n", "Another vote for Launch4J, just wrote an ant task this morning to integrate with one of my projects.  Seems to work really well\n", "Consider converting your application to Eclipse RCP.  It is written in SWT, and the Eclipse IDE contains packaging tools that generate executables for all major platforms.  For windows, it can generate a zip or a folder containing your code.  For a common installation experience, I'd using NSIS.  There is actually a packages generator project at eclipse to create common installers for all platforms eclipse supports.\n", "To follow up on pauxu's answer, I'm using launch4j and NSIS on a project of mine and thought it would be helpful to show just how I'm using them.  Here's what I'm doing for Windows.  BTW, I'm creating .app and .dmg for Mac, but haven't figured out what to do for Linux yet.\nProject Copies of launch4j and NSIS\nIn my project I have a \"vendor\" directory and underneath it I have a directory for \"launch4j\" and \"nsis\".  Within each is a copy of the install for each application.  I find it easier to have a copy local to the project rather than forcing others to install both products and set up some kind of environment variable to point to each.\nScript Files\nI also have a \"scripts\" directory in my project that holds various configuration/script files for my project.  First there is the launch4j.xml file:\n<launch4jConfig>\n  <dontWrapJar>true</dontWrapJar>\n  <headerType>gui</headerType>\n  <jar>rpgam.jar</jar>\n  <outfile>rpgam.exe</outfile>\n  <errTitle></errTitle>\n  <cmdLine></cmdLine>\n  <chdir>.</chdir>\n  <priority>normal</priority>\n  <downloadUrl>http://www.rpgaudiomixer.com/</downloadUrl>\n  <supportUrl></supportUrl>\n  <customProcName>false</customProcName>\n  <stayAlive>false</stayAlive>\n  <manifest></manifest>\n  <icon></icon>\n  <jre>\n    <path></path>\n    <minVersion>1.5.0</minVersion>\n    <maxVersion></maxVersion>\n    <jdkPreference>preferJre</jdkPreference>\n  </jre>\n  <splash>\n    <file>..\\images\\splash.bmp</file>\n    <waitForWindow>true</waitForWindow>\n    <timeout>60</timeout>\n    <timeoutErr>true</timeoutErr>\n  </splash>\n</launch4jConfig>\n\nAnd then there's the NSIS script rpgam-setup.nsis.  It can take a VERSION argument to help name the file.\n; The name of the installer\nName \"RPG Audio Mixer\"\n\n!ifndef VERSION\n    !define VERSION A.B.C\n!endif\n\n; The file to write\noutfile \"..\\dist\\installers\\windows\\rpgam-${VERSION}.exe\"\n\n; The default installation directory\nInstallDir \"$PROGRAMFILES\\RPG Audio Mixer\"\n\n; Registry key to check for directory (so if you install again, it will \n; overwrite the old one automatically)\nInstallDirRegKey HKLM \"Software\\RPG_Audio_Mixer\" \"Install_Dir\"\n\n# create a default section.\nsection \"RPG Audio Mixer\"\n\n    SectionIn RO\n\n    ; Set output path to the installation directory.\n    SetOutPath $INSTDIR\n    File /r \"..\\dist\\layout\\windows\\\"\n\n    ; Write the installation path into the registry\n    WriteRegStr HKLM SOFTWARE\\RPG_Audio_Mixer \"Install_Dir\" \"$INSTDIR\"\n\n    ; Write the uninstall keys for Windows\n    WriteRegStr HKLM \"Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\RPGAudioMixer\" \"DisplayName\" \"RPG Audio Mixer\"\n    WriteRegStr HKLM \"Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\RPGAudioMixer\" \"UninstallString\" '\"$INSTDIR\\uninstall.exe\"'\n    WriteRegDWORD HKLM \"Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\RPGAudioMixer\" \"NoModify\" 1\n    WriteRegDWORD HKLM \"Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\RPGAudioMixer\" \"NoRepair\" 1\n    WriteUninstaller \"uninstall.exe\"\n\n    ; read the value from the registry into the $0 register\n    ;readRegStr $0 HKLM \"SOFTWARE\\JavaSoft\\Java Runtime Environment\" CurrentVersion\n\n    ; print the results in a popup message box\n    ;messageBox MB_OK \"version: $0\"\n\nsectionEnd\n\nSection \"Start Menu Shortcuts\"\n  CreateDirectory \"$SMPROGRAMS\\RPG Audio Mixer\"\n  CreateShortCut \"$SMPROGRAMS\\RPG Audio Mixer\\Uninstall.lnk\" \"$INSTDIR\\uninstall.exe\" \"\" \"$INSTDIR\\uninstall.exe\" 0\n  CreateShortCut \"$SMPROGRAMS\\RPG AUdio Mixer\\RPG Audio Mixer.lnk\" \"$INSTDIR\\rpgam.exe\" \"\" \"$INSTDIR\\rpgam.exe\" 0\nSectionEnd\n\nSection \"Uninstall\"\n\n    ; Remove registry keys\n    DeleteRegKey HKLM \"Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\RPGAudioMixer\"\n    DeleteRegKey HKLM SOFTWARE\\RPG_Audio_Mixer\n\n    ; Remove files and uninstaller\n    Delete $INSTDIR\\rpgam.exe\n    Delete $INSTDIR\\uninstall.exe\n\n    ; Remove shortcuts, if any\n    Delete \"$SMPROGRAMS\\RPG Audio Mixer\\*.*\"\n\n    ; Remove directories used\n    RMDir \"$SMPROGRAMS\\RPG Audio Mixer\"\n    RMDir \"$INSTDIR\"\n\nSectionEnd\n\nAnt Integration\nI have some targets in my Ant buildfile (build.xml) to handle the above.  First I tel Ant to import launch4j's Ant tasks:\n<property name=\"launch4j.dir\" location=\"vendor/launch4j\" />\n<taskdef name=\"launch4j\" \n    classname=\"net.sf.launch4j.ant.Launch4jTask\"\n    classpath=\"${launch4j.dir}/launch4j.jar:${launch4j.dir}/lib/xstream.jar\" />\n\nI then have a simple target for creating the wrapper executable:\n<target name=\"executable-windows\" depends=\"jar\" description=\"Create Windows executable (EXE)\">\n    <launch4j configFile=\"scripts/launch4j.xml\" outfile=\"${exeFile}\" />\n</target>\n\nAnd another target for making the installer:\n<target name=\"installer-windows\" depends=\"executable-windows\" description=\"Create the installer for Windows (EXE)\">\n    <!-- Lay out files needed for building the installer -->\n    <mkdir dir=\"${windowsLayoutDirectory}\" />\n    <copy file=\"${jarFile}\" todir=\"${windowsLayoutDirectory}\" />\n    <copy todir=\"${windowsLayoutDirectory}/lib\">\n        <fileset dir=\"${libraryDirectory}\" />\n        <fileset dir=\"${windowsLibraryDirectory}\" />\n    </copy>\n    <copy todir=\"${windowsLayoutDirectory}/icons\">\n         <fileset dir=\"${iconsDirectory}\" />\n    </copy>\n    <copy todir=\"${windowsLayoutDirectory}\" file=\"${exeFile}\" />\n\n    <mkdir dir=\"${windowsInstallerDirectory}\" />\n\n    <!-- Build the installer using NSIS -->\n    <exec executable=\"vendor/nsis/makensis.exe\">\n        <arg value=\"/DVERSION=${version}\" />\n        <arg value=\"scripts/rpgam-setup.nsi\" />\n    </exec>\n</target>\n\nThe top portion of that just copies the necessary files for the installer to a temporary location and the second half executes the script that uses all of it to make the installer.\n", "I have used JSmooth in the past, and still have luck with it.  The UI is pretty buggy, but I only use that for building the config file once, and then I build from Ant after that.\nWhat issues are you having with JSmooth?\n", "Although I don't have personal experience, a few friends of mine did Eclipse RCP development, and they used the book \"Eclipse Rich Client Platform: Designing, Coding, and Packaging Java(TM) Applications\". They seemed to like it a lot, and I looked it at myself, and it seemed useful. If I was going to do RCP development on Eclipse, I would probably get this book.\nTo clarify - this book is geared toward Eclipse 3.1, and since I haven't done any RCP development of my own, I'm not sure how much things have changed.\n", "I read the book suggested by Thomas and it's really worth reading, although not very up-to-date.\n", "I've been doing Eclipse RCP development for almost 2 years now.  When I first started, I wanted a book for help and many people told me, with Eclipse you're better off using the Eclipsepedia and Google.\nHowever, I started with \"The Java Developer's Guide to Eclipse\" by D'Anjou et al, and I still reference it when I need a better starting point or a good reference.  It's probably a little outdated now, but is very thorough and really explains how the Eclipse framework works.  Like just about anything, RCP isn't too hard to pick up if you've figured out how the framework supporting it works and you'll get a lot more mileage out of your code.\n", "I agree with Thomas Owens on \"Eclipse Rich Client Platform: Designing, Coding, and Packaging Java(TM) Applications\" and would also add \"Eclipse: Building Commercial-Quality Plug-ins\" to the list of rather outdated but still somewhat useful books on Eclipse RCP. Even though the latter does not go much into the Rich Client Platform, it explains quite a lot about the Eclipse plug-in architecture that is useful knowledge for developers of RCP applications.\nThere has been a lot of improvements in the Eclipse RCP platform since the release of both of these books, so I really hope that there are new versions of these books coming out soon.\n", "I've seen some people having a play with distributed JUnit. I can't particularly vouch for how effective it is, but the other teams I've seen seemed to think it was straight forward enough. Hope that helps.\n", "Our build people use Mozilla Tinderbox.  It seems to have some hooks for distributed testing.  I'm sorry not to know the details but I thought I would at least pass on the pointer to you.\nIt's also nice coz you can find out immediately when a build breaks, and what checkin might have been the culprit.\nhttp://www.mozilla.org/tinderbox.html\n", "There's also parallel-junit. Depending on how you currently execute your tests its convenience may vary - the idea is just to multithread on a single system that has multiple cores. I've played with it briefly, but it's a change from how we currently run our tests. \nHudson, the continuous integration engine I use, also has some ways to distribute test running (separate jobs aggregated results in one).\n", "This defect (found here) points the way to the solution. The Tomcat instance that runs in JBoss is configured with emptySessionPath=\"true\", rather than \"false\", which is the default. This can be modified in .../deploy/jboss-web.deployer/server.xml; both the HTTP and AJP connectors have this option.\nThe feature itself is used to eliminate the context path (eg. \"foo\" in http://example.com/foo) from being included in the JSESSIONID cookie. Setting it to false will break applications that rely on cross-application authentication, which includes stuff built using some portal frameworks. It didn't negatively affect the application in question, however.\n", "Whilst its been years since I have used spring, and I can't say I am a fan of it, I know that the App Fuse tool (https://java.net/projects/appfuse/) has been helpful to help people bootstrap in terms of generating all the artifacts you need to get going.\n", "Focus first on the heart of Spring: Dependency Injection. Once you see all the ways that DI can be used, then start thinking about the more interesting pieces like AOP, Remoting, JDBC Templates etc. So my best bit of advice is let your use of Spring grow out from the core.\nBest practice? If you're using the standard XML config, manage the size of individual files and comment them judiciously. You may think that you and others will perfectly understand your bean definitions, but in practice they're somewhat harder to come back to than plain old java code.\nGood luck!\n", "I actually quite liked Spring.. It was a fresh breeze of air in your average J2EE Java Beans..\nI recommend implementing the example Spring provides: \nhttp://static.springframework.org/docs/Spring-MVC-step-by-step/\nAlso, I decided to go full monty and added Hibernate to my Spring application ;), because Spring provides excellent support for Hibernate... :)\nI do have a DON'T however, which I learned the hard way (product in production)... If you only implement the Controller interface, and return a ModelAndView object with some data as provided with the interface, Spring does garbadge collect those resources, for tries to cache those data. So be careful to put large data in those ModelAndView objects, because they will hog up your server memory for as long as the server is in the air as soon as that page has been viewed...\n", "A good way to get started is to concentrate on the \"Springframework\". The Spring portfolio has grown to a big pile of projects around various aspects of Enterprise Software. Stick to the core at the beginning and try to grasp the concepts. Download the latest binaries and check out Spring's petclinic example once you are familiar with the core. It gives quite a good overview of the various projects SpringSource has to offer.\nAlthough the documentation is very good, I'd recommend a book after you grasp the concepts of the core. What I've found problematic with the documentation, is that it's not in depth and can't give you all the details you need.  \n", "Spring is also very much about unit testing and therefore testability of your classes. That basically means thinking about modularization, separation of concerns, referencing a class through interfaces etc.\n", "If you're just looking to dabble in it a bit and see if you like it, I recommend starting with the DAO layer, using Spring's JDBC and/or Hibernate support. This will expose you to a lot of the core concepts, but do so in a way that is easy to isolate from the rest of your app. This is the route I followed, and it was good warm-up before getting into building a full application with Spring.\n", "Start here - I actually think it's among the best Software Dev books that I've read.\nExpert Spring MVC And Web Flow\nLearn the new Annotation-based configuration for MVC classes. This is part of Spring 2.5. Using Annotation-based classes is going to make writing Unit tests a heck of a lot easier. Also being able to cut down on the amount of XML is a good thing.\nOh yeah Unit Tests - if you're using Spring, you BETTER be Unit Testing. :) Write Unit tests for all of your Web and Service Layer classes. \nRead up on Domain Driven Design. The fact that you can use Domain Object classes at all levels of a Spring Application means you're going to have a VERY powerful Domain Model. Leverage it.\nHowever, when using your Domain Object classes for form population, you will want to take heed of the recent security concerns around the Spring Framework. A discussion on the Server Side reveals the way to close the hole in the comments.\n", "Small tip - I've found it helpful to modularize and clearly label my Spring xml context files based on application concern. Here's an example for a web app I worked on:\n\nMyProject / src / main / resources / spring /\n\ndatasource.xml  -  My single data source bean.\npersistence.xml  -  My DAOs/Repositories. Depends on datasource.xml beans.\nservices.xml  -  Service layer implementations. These are usually the beans to which I apply transactionality using AOP. Depends on persistence.xml beans.\ncontrollers.xml  - My Spring MVC controllers. Depends on services.xml beans.\nviews.xml - My view implementations.\n\n\nThis list is neither perfect nor exhaustive, but I hope it illustrates the point. Choose whatever naming strategy and granularity works best for you.\nIn my (limited) experience, I've seen this approach yeild the following benefits:\nClearer architecture\nClearly named context files gives those unfamiliar with your project structure a reasonable \nplace to start looking for bean definitions. Can make detecting circular/unwanted dependencies a little easier.\nHelps domain design\nIf you want to add a bean definition, but it doesn't fit well in any of your context files, perhaps there's a new concept or concern emerging? Examples:\n\nSuppose you want to make your Service layer transactional with AOP. Do you add those bean definitions to services.xml, or put them in their own transactionPolicy.xml? Talk it over with your team. Should your transaction policy be pluggable?\nAdd Acegi/Spring Security beans to your controllers.xml file, or create a security.xml context file? Do you have different security requirements for different deployments/environments?\n\nIntegration testing\nYou can wire up a subset of your application for integration testing (ex: given the above files, to test the database you need to create only datasource.xml and persistence.xml beans).\nSpecifically, you can annotate an integration test class as such:\n@ContextConfiguration(locations = { \"/spring/datasource.xml\" , \"/spring/persistence.xml\" })\n\nWorks well with Spring IDE's Beans Graph\nHaving lots of focused and well-named context files makes it easy to create custom BeansConfigSets to visualize the layers of your app using Spring IDE's Beans Graph. I've used this before to give new team members a high-level overview of our application's organization.\n", "What kind of data are you planning to use? I would say, that if the server is also done in Java, easiest way for small footprint is to send/receive binary data in predefined format. Just write everything in known order into DataOutputStream.\nBut it would really depend, what what kind of data are you working on and can you define the format.\nActually you should evaluate, if this kind of optimization is even needed. Maybe you target devices are not so limited.\n", "You might want to take a look at wbxml (Wireless Binary XML) it is optimized for size, and often used on mobile phones, but it is not optimized for parsing speed.\n", "It very much depends on the target device. If you have JSR172 available, then you are done with the parsing, the runtime does it for you. And XML is mainly about making your own format. As was alredy stated if your goal is performance, than XML is probably not the best way to go and you will end up doing some binary stuff.\n", "Hessian might be an alternative worth looking at. It is a small protocol, well-suited for Java ME applications. \n\"Hessian is a binary web service protocol that makes web services usable without requiring a large framework, and without learning a new set of protocols. Because it is a binary protocol, it is well-suited to sending binary data without any need to extend the protocol with attachments.\"\nMore links:\nhttp://hessian.caucho.com/\nhttp://www.nubius.be/info-software/hessian4j.html\n", "If you only need some simple process orchestration, Spring's own Web Flow, despite its name can serve as a orchestration task manager.   If you need to preserve state for several days then you will need to become an 'early adopter' of one of the open-source projects.  You may want to look at Eclipse's BPEL project.  \nMy hunch is that once a clearer picture of the BPEL/BPM/Workflow space emerges you will see Spring provide an abstraction layer the same way they have for JDBC, Transactions, ORM frameworks etc... \n", "We're looking at Drools/Guvnor, possibly integrated with jBPM (as in this presentation), to add a workflow engine to our Spring/Java EE app, but we're still in the very early phases of trying it out.\n", "I second Spring Web Flow. Depending on how complex the process is, Web Flow is great for managing various states and I've found that it's pretty easy to pick up and there's a good amount of documentation out there for it.\n", "Like Brian said if you're doing anything of great complexity you might look at using BPEL. \nThere are a number of open source BPEL engines, one that comes to mind is Apache Orchestration Director Engine \n", "I'm not sure how the annotation inheritance works for TestNG but this article may be of some use. http://beust.com/weblog/archives/000170.html. \nActually, this may help better http://testng.org/doc/documentation-main.html#annotations, look at inheritGroups.\n", "TestNG will run all the public methods from a class with a @Test annotation. Maybe you could change the methods you don't want TestNG to run to be non-public\n", "You can specify the @Test annotation at method level that allows for maximum flexibility.\npublic class DBTestBase {\n\n    @BeforeTest(groups = \"db-test\")\n    public void beforeTest() {\n        System.out.println(\"Running before test\");\n    }\n\n    public void method1() {\n        Assert.fail(); // this does not run. It does not belong to 'db-test' group.\n    }\n\n    @Test(groups = \"db-test\")\n    public void testMethod1() {\n        Assert.assertTrue(true);\n    }\n}\n\nDoes this works for you or I am missing something from your question.\n", "It would seem to me as the following code-challenge (community wiki post):\nHow to be able to execute all test methods of Extended class from the group 'aGlobalGroup' without:\n\nspecifying the 'aGlobalGroup' group on the Extended class itself ?\ntesting non-annotated public methods of Extended class ?\n\nThe first answer is easy:\nadd a class TestNG(groups = { \"aGlobalGroup\" }) on the Base class level\nThat group will apply to all public methods of both Base class and Extended class.\nBUT: even non-testng public methods (with no TestNG annotation) will be included in that group.\nCHALLENGE: avoid including those non-TestNG methods.\n@Test(groups = { \"aGlobalGroup\" })\npublic class Base {\n\n    /**\n     * \n     */\n    @BeforeClass\n     public final void setUp() {\n           System.out.println(\"Base class: @BeforeClass\");\n     }\n\n\n    /**\n     * Test not part a 'aGlobalGroup', but still included in that group due to the class annotation. <br />\n     * Will be executed even if the TestNG class tested is a sub-class.\n     */\n    @Test(groups = { \"aLocalGroup\" })\n     public final void aFastTest() {\n       System.out.println(\"Base class: Fast test\");\n     }\n\n    /**\n     * Test not part a 'aGlobalGroup', but still included in that group due to the class annotation. <br />\n     * Will be executed even if the TestNG class tested is a sub-class.\n     */\n    @Test(groups = { \"aLocalGroup\" })\n     public final void aSlowTest() {\n        System.out.println(\"Base class: Slow test\");\n        //throw new IllegalArgumentException(\"oups\");\n     }\n\n     /**\n      * Should not be executed. <br />\n      * Yet the global annotation Test on the class would include it in the TestNG methods...\n     */\n    public final void notATest() {\n       System.out.println(\"Base class: NOT a test\");\n     }\n\n    /**\n     * SubClass of a TestNG class. Some of its methods are TestNG methods, other are not. <br />\n     * The goal is to check if a group specify in the super-class will include methods of this class. <br />\n     * And to avoid including too much methods, such as public methods not intended to be TestNG methods.\n     * @author <a href=\"http://stackoverflow.com/users/6309/vonc\">VonC</a>\n     */\n    public static class Extended extends Base\n    {\n        /**\n         * Test not part a 'aGlobalGroup', but still included in that group due to the super-class annotation. <br />\n         * Will be executed even if the TestNG class tested is a sub-class.\n         */\n        @Test\n        public final void anExtendedTest() {\n           System.out.println(\"Extended class: An Extended test\");\n        }\n\n        /**\n         * Should not be executed. <br />\n         * Yet the global annotation Test on the class would include it in the TestNG methods...\n         */ \n        public final void notAnExtendedTest() {\n            System.out.println(\"Extended class: NOT an Extended test\");\n        }\n    }\n\n", "The answer is through a custom org.testng.IMethodSelector:\nIts includeMethod() can exclude any method we want, like a public not-annotated method.\nHowever, to register a custom Java MethodSelector, you must add it to the XMLTest instance managed by any TestRunner, which means you need your own custom TestRunner.\nBut, to build a custom TestRunner, you need to register a TestRunnerFactory, through the -testrunfactory option.\nBUT that -testrunfactory is NEVER taken into account by TestNG class... so you need also to define a custom TestNG class :\n\nin order to override the configure(Map) method, \nso you can actually set the TestRunnerFactory\nTestRunnerFactory which will build you a custom TestRunner,\nTestRunner which will set to the XMLTest instance a custom XMLMethodSelector\nXMLMethodSelector which will build a custom IMethodSelector\nIMethodSelector which will exclude any TestNG methods of your choosing!\n\nOk... it's a nightmare. But it is also a code-challenge, so it must be a little challenging ;)\nAll the code is available at DZone snippets.\nAs usual for a code challenge:\n\none java class (and quite a few inner classes)\ncopy-paste the class in a 'source/test' directory (since the package is 'test')\nrun it (no arguments needed)\n\n\nUpdate from Mike Stone:\nI'm going to accept this because it sounds pretty close to what I ended up doing, but I figured I would add what I did as well.\nBasically, I created a Groups annotation that behaves like the groups property of the Test (and other) annotations.\nThen, I created a GroupsAnnotationTransformer, which uses IAnnotationTransformer to look at all tests and test classes being defined, then modifies the test to add the groups, which works perfectly with group exclusion and inclusion.\nModify the build to use the new annotation transformer, and it all works perfectly!\nWell... the one caveat is that it doesn't add the groups to non-test methods... because at the time I did this, there was another annotation transformer that lets you transform ANYTHING, but it somehow wasn't included in the TestNG I was using for some reason... so it is a good idea to make your before/after annotated methods to alwaysRun=true... which is sufficient for me.\nThe end result is I can do:\n@Groups({ \"myGroup1\", \"myGroup2\"})\npublic class MyTestCase {\n    @Test\n    @Groups(\"aMethodLevelGroup\")\n    public void myTest() {\n    }\n}\n\nAnd I made the transformer work with subclassing and everything.\n", "I believe that the real answer is that you can't.  The file path won't be sent by the browser for security reasons.  The file name will be sent, however I don't believe it gets sent without an actual upload.\nThe closest you could come, afaik, would be to forcibly kill the connection just when the upload starts.  That would net you the filename with little actual transferred data, but it doesn't sound like it would be useful to you.\nAlternatively, a signed Java applet might get you closer to a solution that you'd want.\n", "Java has a LinkedList implementation, that you might wanna check out. You can download the JDK and it's sources at java.sun.com.\n", "Use java.util.LinkedList. Like this:\nlist = new java.util.LinkedList()\n\n", "The obvious solution to developers familiar to Java is to use the LinkedList class already provided in java.util. Say, however, you wanted to make your own implementation for some reason. Here is a quick example of a linked list that inserts a new link at the beginning of the list, deletes from the beginning of the list and loops through the list to print the links contained in it. Enhancements to this implementation include making it a double-linked list, adding methods to insert and delete from the middle or end, and by adding get and sort methods as well. \nNote: In the example, the Link object doesn't actually contain another Link object -  nextLink is actually only a reference to another link. \nclass Link {\n    public int data1;\n    public double data2;\n    public Link nextLink;\n\n    //Link constructor\n    public Link(int d1, double d2) {\n        data1 = d1;\n        data2 = d2;\n    }\n\n    //Print Link data\n    public void printLink() {\n        System.out.print(\"{\" + data1 + \", \" + data2 + \"} \");\n    }\n}\n\nclass LinkList {\n    private Link first;\n\n    //LinkList constructor\n    public LinkList() {\n        first = null;\n    }\n\n    //Returns true if list is empty\n    public boolean isEmpty() {\n        return first == null;\n    }\n\n    //Inserts a new Link at the first of the list\n    public void insert(int d1, double d2) {\n        Link link = new Link(d1, d2);\n        link.nextLink = first;\n        first = link;\n    }\n\n    //Deletes the link at the first of the list\n    public Link delete() {\n        Link temp = first;\n        if(first == null){\n         return null;\n         //throw new NoSuchElementException(); // this is the better way. \n        }\n        first = first.nextLink;\n        return temp;\n    }\n\n    //Prints list data\n    public void printList() {\n        Link currentLink = first;\n        System.out.print(\"List: \");\n        while(currentLink != null) {\n            currentLink.printLink();\n            currentLink = currentLink.nextLink;\n        }\n        System.out.println(\"\");\n    }\n}  \n\nclass LinkListTest {\n    public static void main(String[] args) {\n        LinkList list = new LinkList();\n\n        list.insert(1, 1.01);\n        list.insert(2, 2.02);\n        list.insert(3, 3.03);\n        list.insert(4, 4.04);\n        list.insert(5, 5.05);\n\n        list.printList();\n\n        while(!list.isEmpty()) {\n            Link deletedLink = list.delete();\n            System.out.print(\"deleted: \");\n            deletedLink.printLink();\n            System.out.println(\"\");\n        }\n        list.printList();\n    }\n}\n\n", "Well, I think I fixed it by doing the following:\ndb2stop force\ndb2start\n\nAt least, things seem to be working now.....\n", "After a bit of mucking around, the answer seems to be to use the Event reader/writer versions rather than the Stream versions.\n(i.e. javax.xml.stream.XMLEventReader and javax.xml.stream.XMLEventWriter)\nSee also http://www.devx.com/tips/Tip/37795, which is what finally got me moving.\n", "StAX works pretty well and is very fast. I used it in a project to parse XML files which are up to 20MB. I don't have a thorough analysis, but it was definitely faster than SAX. \nAs for your question: The difference between streaming and event-handling, AFAIK is control. With the streaming API you can walk through your document step by step and get the contents you want. Whereas the event-based API you can only handle what you are interested in.\n", "I'm not a lawyer but all licenses mentioned are okay to be used in commercial products as long as you don't make any changes and claim the code is yours. \nI think if you don't wanna risk anything you should consult a lawyer.\n", "There are multiple issues here as ikvm is currently being transitioned away from the GNU classpath system to Sun's OpenJDK.  Both are licensed as GPL+Exceptions to state explicitly that applications which merely use the OpenJDK libraries will not be considered derived works.\nGenerally speaking, applications which rely upon components with defined specs such as this do not fall under the GPL anyway.  For example, linking against public POSIX APIs does not trigger GPL reliance in a Linux application, despite the kernel being GPL.  A similar principal will usually (the details can be tricky) apply to replacing Sun's Java with a FOSS/GPL implementation.\n", "I guess you could just use a short to store them.  Not very efficient, but really the only option besides some herculean effort that I have seen.\n", "Probably your best bet is to use an integer rather than a byte.  It has the room to allow for numbers greater than 128 without the overhead of having to create a special object to replace byte.  \nThis is also suggested by people smarter than me (everybody)\n\nhttp://www.darksleep.com/player/JavaAndUnsignedTypes.html\nhttp://www.jguru.com/faq/view.jsp?EID=13647\n\n", "When reading any single value from the array copy it into something like a short or an int and manually convert the negative number into the positive value it should be.\nbyte[] foobar = ..;\nint value = foobar[10];\nif (value < 0) value += 256 // Patch up the 'falsely' negative value\n\nYou can do a similar conversion when writing into the array.\n", "The best way to do bit manipulation/unsigned bytes is through using ints. Even though they are signed they have plenty of spare bits (32 total) to treat as an unsigned byte. Also, all of the mathematical operators will convert smaller fixed precision numbers to int. Example:\nshort a = 1s;\nshort b = 2s;\nint c = a + b; // the result is up-converted\nshort small = (short)c; // must cast to get it back to short\n\nBecause of this it is best to just stick with integer and mask it to get the bits that you are interested in. Example:\nint a = 32;\nint b = 128;\nint foo = (a + b) | 255;\n\nHere is some more info on Java primitive types http://mindprod.com/jgloss/primitive.html\nOne last trivial note, there is one unsigned fixed precision number in Java. That is the char primitive.\n", "Using ints is generally better than using shorts because java uses 32-bit values internally anyway (Even for bytes, unless in an array) so using ints will avoid unnecessary conversion to/from short values in the bytecode.\n", "@pauldoo\nIt is actually possible to get rid of the if statement and the addition if you do it like this.\nbyte[] foobar = ..;\nint value = (foobar[10] & 0xff);\n\nThis way Java doesn't interpret the byte as a negative number and flip the sign bit on the integer also.\n", "I'm not familiar with WebObjects, but I see you have java listed in there.\niText is a java api for building pdfs. If you can access a java api from WebObjects you should be able to build pdfs that way.\n", "ScArcher2>>\nI have looked into different routes for creating PDFs on the fly including FOP and a few Java libraries. I think what I am really asking is if anyone has already done this in the WebObjects framework. My hope is that someone familiar with WebObjects might have done this already and have some insight that would save me some time. \n", "The canonical response when asked about PDFs from WebObjects has generally been ReportMill.    It's a PDF document generating framework that works a lot like WebObjects, and includes its own graphical PDF builder tool similar to WebObjects Builder and Interface Builder.  You can bind elements in your generated PDFs to dynamic data in your application just as you would for a WOComponent.\nThey have couple of tutorial videos on the ReportMill product page that should give you an idea of how the tool works.  It'll probably be a lot easier than trying to work with FOP programmatically.\n", "As you already mentioned, those terms mean different things in different stacks - there is no one right generic answer for web services.\n", "I'd hop over to http://www.w3.org/TR/wsdl.html which I think explains Port, Service and Endpoint reasonably well. A locator is an implementation specific mechanism that some WS stacks use to provide access to service endpoints.\n", "I found the information based on Kevin Kenny's answer, but I figured I'd post it here for others.\nA WSDL document defines services as collections of network endpoints, or ports. In WSDL, the abstract definition of endpoints and messages is separated from their concrete network deployment or data format bindings. This allows the reuse of abstract definitions: messages, which are abstract descriptions of the data being exchanged, and port types which are abstract collections of operations. The concrete protocol and data format specifications for a particular port type constitutes a reusable binding. A port is defined by associating a network address with a reusable binding, and a collection of ports define a service. Hence, a WSDL document uses the following elements in the definition of network services:\n\nTypes\u2013 a container for data type definitions using some type system (such as XSD).\nMessage\u2013 an abstract, typed definition of the data being communicated.\nOperation\u2013 an abstract description of an action supported by the service.\nPort Type\u2013an abstract set of operations supported by one or more endpoints.\nBinding\u2013 a concrete protocol and data format specification for a particular port type.\nPort\u2013 a single endpoint defined as a combination of a binding and a network address.\nService\u2013 a collection of related endpoints.\n\n", "That is not as easy as it sounds.  Java is platform independent, so I am not sure how to do it in Java.  I am guessing that .NET contacts some web site which reports it back.  There are a couple ways to go.  First, a deeper look into the ICMP protocol may give you the information you need.  You can also trace the IP you go through (your route).  When you encounter an IP that is not in the following ranges:\n\n10.0.0.0 \u2013 10.255.255.255\n172.16.0.0 \u2013 172.31.255.255\n192.168.0.0 \u2013 192.168.255.255\n\nit is the IP one hop away from yours, and probably shares a few octets of information with your IP.\nBest of luck.  I'll be curious to hear a definitive answer to this question.\n", "Try shelling out to traceroute if you have it.\n'traceroute -m 1 www.amazon.com' will emit something like this:\ntraceroute to www.amazon.com (72.21.203.1), 1 hops max, 40 byte packets\n 1  10.0.1.1 (10.0.1.1)  0.694 ms  0.445 ms  0.398 ms\n\nParse the second line.  Yes, it's ugly, but it'll get you going until someone posts something nicer.\n", "You may be better off using something like checkmyip.org, which will determine your public IP address - not necessarily your first hop router: at Uni I have a \"real\" IP address, whereas at home it is my local router's public IP address.\nYou can parse the page that returns, or find another site that allows you to just get the IP address back as the only string.\n(I'm meaning load this URL in Java/whatever, and then get the info you need).\nThis should be totally platform independent.\n", "Matthew: Yes, that is what I meant by \"I can get my internet IP using a service on a website.\" Sorry about being glib.\nBrian/Nick: Traceroute would be fine except for the fact that lots of these routers have ICMP disabled and thus it always stalls.\nI think a combination of traceroute and uPnP will work out. That is what I was planning on doing, I as just hoping I was missing something obvious.\nThank you everyone for your comments, so it sounds like I'm not missing anything obvious. I have begun implementing some bits of uPnP in order to discover the gateway.\n", "Java doesn't make this as pleasant as other languages, unfortunately. Here's what I did:\nimport java.io.*;\nimport java.util.*;\n\npublic class ExecTest {\n    public static void main(String[] args) throws IOException {\n        Process result = Runtime.getRuntime().exec(\"traceroute -m 1 www.amazon.com\");\n\n        BufferedReader output = new BufferedReader(new InputStreamReader(result.getInputStream()));\n        String thisLine = output.readLine();\n        StringTokenizer st = new StringTokenizer(thisLine);\n        st.nextToken();\n        String gateway = st.nextToken();\n        System.out.printf(\"The gateway is %s\\n\", gateway);\n    }\n}\n\nThis presumes that the gateway is the second token and not the third. If it is, you need to add an extra st.nextToken(); to advance the tokenizer one more spot.\n", "Regarding UPnP: be aware that not all routers support UPnP. And if they do it could be switched off (for security reasons). So your solution might not always work.\nYou should also have a look at NatPMP.\nA simple library for UPnP can be found  at http://miniupnp.free.fr/, though it's in C...\n", "To overcome the issues mentioned with traceroute (ICMP-based, wide area hit) you could consider:\n\ntraceroute to your public IP (avoids wide-area hit, but still ICMP)\nUse a non-ICMP utility like ifconfig/ipconfig (portability issues with this though).\nWhat seems the best and most portable solution for now is to shell & parse netstat (see the code example here) \n\n", "On windows parsing the output of IPConfig will get you the default gateway, without waiting for a trace.\n", "On Windows, OSX, Linux, etc then Chris Bunch's answer can be much improved by using \nnetstat -rn\n\nin place of a traceroute command.\nYour gateway's IP address will appear in the second field of the line that starts either default or 0.0.0.0.\nThis gets around a number of problems with trying to use traceroute:\n\non Windows traceroute is actually tracert.exe, so there's no need for O/S dependencies in the code\nit's a quick command to run - it gets information from the O/S, not from the network\ntraceroute is sometimes blocked by the network\n\nThe only downside is that it will be necessary to keep reading lines from the netstat output until the right line is found, since there'll be more than one line of output.\nEDIT: The Default Gateway's IP Address is in the second field of the line that starts with 'default' if you are on a MAC (tested on Lion), or in the third field of the line that starts with '0.0.0.0' (tested on Windows 7)\nWindows:\n\n\nNetwork Destination        Netmask          Gateway       Interface  Metric\n0.0.0.0              0.0.0.0    192.168.2.254     192.168.2.46     10\n\n\nMac:\n\n\nDestination        Gateway            Flags        Refs      Use   Netif Expire\ndefault            192.168.2.254      UGSc          104        4     en1\n\n\n", "try{\n\n    Process result = Runtime.getRuntime().exec(\"netstat -rn\");\n\n    BufferedReader output = new BufferedReader\n    (new InputStreamReader(result.getInputStream()));\n\n    String line = output.readLine();\n    while(line != null){\n    if ( line.startsWith(\"default\") == true )\n        break;      \n    line = output.readLine();\n    }\n\n\n    StringTokenizer st = new StringTokenizer( line );\n    st.nextToken();\n    gateway = st.nextToken();\n\n    st.nextToken();\n    st.nextToken();\n    st.nextToken();\n\n    adapter = st.nextToken();\n\n}catch( Exception e ) { \n    System.out.println( e.toString() );\n    gateway = new String();\n    adapter = new String();\n}\n\n", "You can query the URL \"http://whatismyip.com/automation/n09230945.asp\".\nFor example:\n    BufferedReader buffer = null;\n    try {\n        URL url = new URL(\"http://whatismyip.com/automation/n09230945.asp\");\n        InputStreamReader in = new InputStreamReader(url.openStream());\n        buffer = new BufferedReader(in);\n\n        String line = buffer.readLine();\n        System.out.println(line);\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (buffer != null) {\n                buffer.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n", "I guess it really comes down to what your Java code is for, how it's distributed and who your clients are. We don't obfuscate anything, as we've never found one that was particularly good and it tends to be more trouble than it's worth. If someone has access to our JAR files and has the knowledge to be able to sniff around inside them, then there's far more worrying things that they can do than rip off our source code.\n", "I use proguard for JavaME development. It's not only very very good at making jar files smaller (Essential for mobile) but it is useful as a nicer way of doing device-specific code without resorting to IDE-unfriendly preprocessing tools such as antenna.\nE.g.\npublic void doSomething()\n{\n    /* Generated config class containing static finals: */\n    if (Configuration.ISMOTOROLA)\n    {\n        System.out.println(\"This is a motorola phone\");\n    }\n    else\n    {\n        System.out.println(\"This is not a motorola phone\");\n    }\n}\n\nThis gets compiled, obfuscated, and the class file ends up as though you had written:\npublic void doSomething()\n{\n    System.out.println(\"This is a motorola phone\");\n}\n\nSo you can have variants of code to work around manufacturer bugs in JVM/library implementations without bulking out the final executable class files.\nI believe that some commercial obfuscators can also merge class files together in certain cases. This is useful because the more classes you have, the larger the size overhead you have in the zip (jar) file.\n", "If you do obfuscate, stay away from obfuscators that modify the code by changing code flow and/or adding exception blocks and such to make it hard to disassemble it. To make the code unreadable it is usually enough to just change all names of methods, fields and classes.\nThe reason to stay away from changing code flow is that some of those changes makes it impossible for the JVM to efficiently optimize the code. In effect it will actually degrade the performance of your application. \n", "I spent some time this year trying out various Java obfuscators, and I found one to be miles ahead of the rest: JBCO. It's unfortunately a bit cumbersome to set up, and has no GUI, but in terms of the level of obfuscation it produces, it is unparalleled. You try feeding it a simple loop, and if your decompiler doesn't crash trying to load it, you will see something like this:\n    if(i < ll1) goto _L6; else goto _L5\n_L5:\n    char ac[] = run(stop(lI1l));\n    l7 = (long)ac.length << 32 & 0xffffffff00000000L ^ l7 & 0xffffffffL;\n    if((int)((l7 & 0xffffffff00000000L) >> 32) != $5$)\n    {\n        l = (long)III << 50 & 0x4000000000000L ^ l & 0xfffbffffffffffffL;\n    } else\n    {\n        for(l3 = (long)III & 0xffffffffL ^ l3 & 0xffffffff00000000L; (int)(l3 & 0xffffffffL) < ll1; l3 = (long)(S$$ + (int)(l3 & 0xffffffffL)) ^ l3 & 0xffffffff00000000L)\n        {\n            for(int j = III; j < ll1; j++)\n            {\n                l2 = (long)actionevent[j][(int)(l3 & 0xffffffffL)] & 65535L ^ l2 & 0xffffffffffff0000L;\n                l6 = (long)(j << -351) & 0xffffffffL ^ l6 & 0xffffffff00000000L;\n                l1 = (long)((int)(l6 & 0xffffffffL) + j) & 0xffffffffL ^ l1 & 0xffffffff00000000L;\n                l = (long)((int)(l1 & 0xffffffffL) + (int)(l3 & 0xffffffffL)) << 16 & 0xffffffff0000L ^ l & 0xffff00000000ffffL;\n                l = (long)ac[(int)((l & 0xffffffff0000L) >> 16)] & 65535L ^ l & 0xffffffffffff0000L;\n                if((char)(int)(l2 & 65535L) != (char)(int)(l & 65535L))\n                {\n                    l = (long)III << 50 & 0x4000000000000L ^ l & 0xfffbffffffffffffL;\n                }\n            }\n\n        }\n\n    }\n\nYou didn't know Java had goto's? Well, the JVM supports them =)\n", "What platform are you working on? I'd recommend trying to use the preferred/common method for it.\n\nMacOSX - plists\nWin32 - Registry (or are there a new one here, long since I developed on it)\nLinux/Unix - ~/.apprc (name-value perhaps)\n\n", "As far as I know, the Windows registry is no longer the preferred way of storing configuration if you are using .NET - most applications now make use of System.Configuration [1, 2]. Since this is also XML based it seems to be that everything is moving in the direction of using XML for configuration.\nIf you want to stay cross-platform I would say that using some sort of a text file would be the best route to go. As for the formatting of said file, you might want to take into account if a human is going to be manipulating it or not. XML seems to be a bit more friendly to manual manipulation than INI files due to the visible structure of the file.\nAs for the angle bracket tax - I don't worry about it too often as the XML libraries take care of abstracting it. The only time it might be a consideration is if you have very little storage space to work with and every byte counts.\n[1] System.Configuration Namespace - http://msdn.microsoft.com/en-us/library/system.configuration.aspx\n[2] Using Application Configuration Files in .NET - http://www.developer.com/net/net/article.php/3396111\n", "Without starting a new holy war, the sentiments of the 'angle bracket tax' post is one area where I majorly disagree with Jeff. There's nothing wrong with XML, it's reasonably human readable (as much as YAML or JSON or INI files are) but remember its intent is to be read by machines. Most language/framework combos come with an XML parser of some sort for free which makes XML a pretty good choice. \nAlso, if you're using a good IDE like Visual Studio, and if the XML comes with a schema, you can give the schema to VS and magically you get intellisense (you can get one for NHibernate for example).\nUlimately you need to think about how often you're going to be touching these files once in production, probably not that often.\nThis still says it all for me about XML and why it's still a valid choice for config files (from Tim Bray):\n\"If you want to provide general-purpose data that the receiver might want to do unforeseen weird and crazy things with, or if you want to be really paranoid and picky about i18n, or if what you\u2019re sending is more like a document than a struct, or if the order of the data matters, or if the data is potentially long-lived (as in, more than seconds) XML is the way to go. \nIt also seems to me that the combination of XML and XPath hits a sweet spot for data formats that need to be extensible; that is to say, it\u2019s pretty easy to write XML-processing code that won\u2019t fail in the presence of changes to the message format that don\u2019t touch the piece you care about.\"\n", "We are using properties files, simply because Java supports them natively. A couple of months ago I saw that SpringSource Application Platform uses JSON to configure their server and it looks very interesting. I compared various configuration notations and came to the conclusion that XML seems to be the best fit at the moment. It has nice tools support and is rather platform independent.\n", "We are using ini style config files. We use the Nini library to manage them. Nini makes it very easy to use. Nini was orignally for .NET but it has been ported to other platforms using Mono.\n", "Re: epatel's comment\nI think the original question was asking about application configuration that an admin would be doing, not just storing user preferences.  The suggestions you gave seem more for user prefs than application config, and aren't usually something that the user would ever deal with directly (the app should provide the configuration options in the UI, and then update the files).  I really hope you'd never make the user have to view/edit the Registry. :)\nAs for the actual question, I'd say XML is probably OK, as plenty of people will be used to using that for configuration.  As long as you organize the configuration values in an easy to use manner then the \"angle bracket tax\" shouldn't be too bad.\n", "XML XML XML XML.  We're talking config files here.  There is no \"angle bracket tax\" if you're not serializing objects in a performance-intense situation.  \nConfig files must be human readable and human understandable, in addition to machine readable.  XML is a good compromise between the two.\nIf your shop has people that are afraid of that new-fangled XML technology, I feel bad for you.  \n", "@Herms\nWhat I really meant was to stick to the recommended way software should store configuration values for any given platform. \nWhat you often get then is also the recommended ways these should/can be modified. Like a configuration menu in a program or a configuration panel in a \"system prefs\" application (for system services softwares ie). Not letting the end users modify them directly via RegEdit or NotePad...\nWhy?\n\nThe end users (=customers) are used to their platforms\nSystem for backups can better save \"safe setups\" etc\n\n@ninesided\nAbout \" choice of library \", try to link in (static link) any selected library to lower the risk of getting into a version-conflict-war on end users machines.\n", "YAML, for the simple reason that it makes for very readable configuration files compared to XML.\nXML:\n<user id=\"babooey\" on=\"cpu1\">\n    <firstname>Bob</firstname>\n    <lastname>Abooey</lastname>\n    <department>adv</department>\n    <cell>555-1212</cell>\n    <address password=\"xxxx\">ahunter@example1.com</address>\n    <address password=\"xxxx\">babooey@example2.com</address>\n</user>\n\nYAML:\n    babooey:\n        computer : cpu1\n        firstname: Bob\n        lastname: Abooey\n        cell: 555-1212\n        addresses:\n            - address: babooey@example1.com\n              password: xxxx\n            - address: babooey@example2.com\n              password: xxxx\n\nThe examples were taken from this page: http://www.kuro5hin.org/story/2004/10/29/14225/062\n", "XML, JSON, INI.\nThey all have their strengths and weaknesses.\nIn an application context, I feel that the abstraction layer is the important thing.\nIf you can choose a way to structure the data that is a good middle ground between human readability and how you want to access/abstract the data in code, you're golden.  \nWe mostly use XML where I work, and I cant really believe that a configuration file loaded into a cache as objects when first read or after it has been written to, and then abstracted away from the rest of the program, really is that much of a hit on neither CPU nor disk space.\nAnd it is pretty readable too, as long as you structure the file right.\nAnd all languages on all platforms supports XML through some pretty common libraries.\n", "First: This is a really big debate issue, not a quick Q+A.\nMy favourite right now is to simply include Lua, because\n\nI can permit things like width=height*(1+1/3)\nI can make custom functions available\nI can forbid anything else. (impossible in, for instance, Python (including pickles.))\nI'll probably want a scripting language somewhere else in the project anyway.\n\nAnother option, if there's a lot of data is to use sqlite3, because they're right to claim\n\nSmall.\nFast.\nReliable.\n\nChoose any three.\nTo which I would like to add:\n\nbackups are a snap. (just copy the db file.)\neasier to switch to another db, ODBC, whatever. (than it is from fugly-file)\n\nBut again, this is a bigger issue. A \"big\" answer to this probably involves some kind of feature matrix or list of situations like:\nAmount of data, or short runtime\n\nFor large amounts of data, you might want efficient storage, like a db.\nFor short runs (often), you might want something that you don't need to do a lot of parsing for, consider something that can be mmap:ed in directly.\n\nWhat does the configuration relate to?\n\nHost:\n\n\nI like YAML in /etc. Is that reimplemented in windows?\n\nUser:\n\n\nDo you permit users to edit config with text editor?\nShould it be centrally manageable? Registry / gconf / remote db?\nMay the user have several different profiles?\n\nProject:\n\n\nFile(s) in project directory? (Version control usually follows this model...)\n\n\nComplexity\n\nAre there only a few flat values? Consider YAML.\nIs the data nested, or dependent in some way? (This is where it gets interesting.)\nMight it be a desirable feature to permit some form of scripting?\nTemplates can be viewed as a kind of configuration files..\n\n", "Maybe a bit of a tangent here but my opinion is that the config file should be read into a key value dictionary/hash table when the app first starts up and always accessed via this object from then on for speed. Typically the key/value table starts off as string to string but helper functions in the object do things such DateTime GetConfigDate(string key) etc...\n", "@Guy\nBut application config isn't always just key/value pairs.  Look at something like the tomcat configuration for what ports it listens on.  Here's an example:\n    <Connector port=\"80\" maxHttpHeaderSize=\"8192\"\n           maxThreads=\"150\" minSpareThreads=\"25\" maxSpareThreads=\"75\"\n           enableLookups=\"false\" redirectPort=\"8443\" acceptCount=\"100\"\n           connectionTimeout=\"20000\" disableUploadTimeout=\"true\" />\n\n\n    <Connector port=\"8009\" \n           enableLookups=\"false\" redirectPort=\"8443\" protocol=\"AJP/1.3\" />\n\nYou can have any number of connectors.  Define more in the file and more connectors exist.  Don't define any more and no more exist.  There's no good way (imho) to do that with plain old key/value pairs.\nIf your app's config is simple, then something simple like an INI file that's read into a dictionary is probably fine.  But for something more complex like server configuration, an INI file would be a huge pain to maintain, and something more structural like XML or YAML would be better.  It all depends on the problem set.\n", "You could do essentially the same code with Hashtables (or some other Map):\nHashtable<String, Hashtable<String, String>> schedule\n    = new Hashtable<String, Hashtable<String, String>>();\nschedule.put(\"A\", new Hashtable<String, String>());\nschedule.put(\"B\", new Hashtable<String, String>());\nschedule.put(\"C\", new Hashtable<String, String>());\nschedule.put(\"D\", new Hashtable<String, String>());\nschedule.put(\"E\", new Hashtable<String, String>());\n\nschedule.get(\"A\").put(\"Winter\", \"M\");\nschedule.get(\"A\").put(\"Spring\", \"tTS\");\n// Etc...\n\nNot as elegant, but then again, Java isn't a dynamic language, and it doesn't have hashes on the language level.\nNote: You might be able to do a better solution, this just popped in my head as I read your question.\n", "There is no pretty solution.  Java just doesn't do things like this well.  Mike's solution is pretty much the way to do it if you want strings as the indices (keys).  Another option if the hash-of-hashes setup is too ugly is to append the strings together (shamelessly stolen from Mike and modified):\nHashtable<String, String> schedule = new Hashtable<String, String>();\nschedule.put(\"A-Winter\", \"M\");\nschedule.put(\"A-Spring\", \"tTS\");\n\nand then lookup:\nString val = schedule.get(group + \"-\" + season);\n\nIf you're unhappy with the general ugliness (and I don't blame you), put it all behind a method call:\nString whenCanIWater(String group, Date date) { /* ugliness here */ }\n\n", "@Brian Warshaw\nFYI, with Java 1.5, primitives are now autoboxed to the wrapped version, so you can call it with just the primitive:\nHashtable<String, Integer> hash = new Hashtable<String, Integer>();\nhash.put(\"key\", 15); // Works from Java 1.5 on\n\n", "I'm not a Java programmer, but getting away from Java and just thinking in terms that are more language agnostic - a cleaner way to do it might be to use either constants or enumerated types.  This should work in any langauge that supports multi-dimensional arrays.\nIf using named constants, where, for example: \nint A = 0;\nint B = 1;\nint C = 2;\nint D = 3;\n\nint Spring = 0; \nint Summer = 1;\nint Winter = 2; \nint Fall = 3;\n...\n\nThen the constants serve as more readable array subscripts:\nschedule[A][Winter]=\"M\";\nschedule[A][Spring]=\"tTS\";\nschedule[A][Summer]=\"Any\";\nschedule[A][Fall]=\"tTS\";\nschedule[B][Winter]=\"t\";\n\nUsing enumerated types:\nenum groups\n{\n  A = 0,\n  B = 1,\n  C = 2,\n  D = 3\n}\n\nenum seasons\n{\n  Spring = 0,\n  Summer = 1,\n  Fall = 2,\n  Winter = 3\n}\n...\nschedule[groups.A][seasons.Winter]=\"M\";\nschedule[groups.A][seasons.Spring]=\"tTS\";\nschedule[groups.A][seasons.Summer]=\"Any\";\nschedule[groups.A][seasons.Fall]=\"tTS\";\nschedule[groups.B][seasons.Winter]=\"t\";\n\n", "Don't try to be as dynamic as PHP is. You could try to first define what you need.\ninterface Season\n{\n    public string getDays();\n}\n\ninterface User\n{\n    public Season getWinter();\n    public Season getSpring();\n    public Season getSummer();\n    public Season getFall();\n}\n\ninterface UserMap\n{\n    public User getUser(string name);\n}\n\nAnd please, read the documentation of Hashtable before using it. This class is synchronized which means that each call is protected against multithreading which really slows the access when you don't need the extra protection. Please use any Map implementation instead like HashMap or TreeMap.\n", "It seems like everyone is trying to find the Java way to do it like you're doing it in PHP, instead of the way it ought to be done in Java. Just consider each piece of your array an object, or, at the very least, the first level of the array as an object and each sub level as variables inside the object. The build a data structure that you populate with said objects and access the objects through the data structure's given accessors.\nSomething like:\nclass Schedule\n{\n  private String group;\n  private String season;\n  private String rundays;\n  public Schedule() { this.group = null; this.season = null; this.rundays= null; }\n  public void setGroup(String g) { this.group = g; }\n  public String getGroup() { return this.group; }\n  ...\n}\n\npublic ArrayList<Schedule> schedules = new ArrayList<Schedule>();\nSchedule s = new Schedule();\ns.setGroup(...);\n...\nschedules.add(s);\n...\n\nOf course that probably isn't right either. I'd make each season an object, and maybe each weekday list as an object too. Anyway, its more easily reused, understood, and extensible than a hobbled-together Hashtable that tries to imitate your PHP code. Of course, PHP has objects too, and you should use them in a similar fashion instead of your uber-arrays, wherever possible. I do understand the temptation to cheat, though. PHP makes it so easy, and so fun!\n", "I agree that you should definitely put this logic behind the clean interface of:\npublic String lookupDays(String group, String date);\n\nbut maybe you should stick the data in a properties file.  I'm not against hardcoding this data in your source files but, as you noticed, Java can be pretty wordy when it comes to nested Collections.  Your file might looks like:\n\nA.Summer=M\n  A.Spring=tTS\n  B.Summer=T\n\nUsually I don't like to move static data like this to an external file because it increases the \"distance\" between the data and the code that uses it.  However, whenever you're dealing with nested Collections, especially maps, things can get real ugly, real fast.\nIf you don't like this idea, maybe you can do something like this:\npublic class WaterScheduler\n{\n  private static final Map<String, String> GROUP2SEASON = new HashMap<String, String>();\n  static\n  {\n    addEntry(\"A\", \"Summer\", \"M\");\n    addEntry(\"A\", \"Spring\", \"tTS\");\n    addEntry(\"B\", \"Summer\", \"T\");\n  }\n\n  private static void addEntry(String group, String season, String value)\n  {\n    GROUP2SEASON.put(group + \".\" + season, value);\n  }\n\n}\n\nYou lose some readability but at least the data is closer to where it's going to be used.\n", "I'm totally at a loss as to why some of you seem to think that throwing gobs of objects at the code is the way to go.  For example, there are exactly four seasons, and they don't do or store anything.  How does it simplify anything to make them objects?  Wing is quite right that these should probably be constants (or maybe enums).\nWhat Bruce needs, at it's heart, is simply a lookup table.  He doesn't need a hierarchy of objects and interfaces; he needs a way to look up a schedule based on a season and a group identifier.  Turning things into objects only makes sense if they have responsibilities or state.  If they have neither, then they are simply identifiers, and building special objects for them just makes the codebase larger.\nYou could build, e.g., Group objects that each contain a set of schedule strings (one for each season), but if all the Group object does is provide lookup functionality, then you've reinvented the lookup table in a much less intuitive fashion.  If he has to look up the group, and then lookup the schedule, all he has is a two-step lookup table that took longer to code, is more likely to be buggy, and will be harder to maintain.\n", "I think Ian is absolutely right: stop trying to implement your PHP code in Java.  Instead, take a step back and think about how you might design this from scratch.  In particular, why not put all that data into a database, instead of hard-coding it in your sources or using properties files?  Using a database will be much easier to maintain, and there are a variety of free database engines to choose from.\n", "@Jason\n\nIn particular, why not put all that data into a database, instead of hard-coding it in your sources or using properties files? Using a database will be much easier to maintain, and there are a variety of free database engines to choose from.\n\nAdding a database is an incredibly heavyweight way to solve a problem that fits easily into a text file (or even directly into the source).  There are 5 groups and 4 seasons.  That means there are going to be a total of 20 records in the database.\n", "@Derek\n\nAdding a database is an incredibly heavyweight way to solve a problem that fits easily into a text file (or even directly into the source). There are 5 groups and 4 seasons. That means there are going to be a total of 20 records in the database.\n\nTwo of the database engines I linked to are implemented entirely in Java and can be embedded in an application just by including a jar file.  It's a little heavyweight, sure, but it's a lot more scalable and easier to maintain.  Just because there are 20 records today doesn't mean there won't be more later due to changing requirements or feature creep.\nIf in a few weeks or months you decide you want to add, say, time of day watering restrictions, it will be much easier to add that functionality if you're already using a database.  Even if that never happens, then you've spent a few hours learning how to embed a database in an application.\n", "@Jason\n\nTwo of the database engines I linked to are implemented entirely in Java and can be embedded in an application just by including a jar file. It's a little heavyweight, sure, but it's a lot more scalable and easier to maintain. Just because there are 20 records today doesn't mean there won't be more later due to changing requirements or feature creep.\nIf in a few weeks or months you decide you want to add, say, time of day watering restrictions, it will be much easier to add that functionality if you're already using a database. Even if that never happens, then you've spent a few hours learning how to embed a database in an application.\n\nEmbedding a DB in Java doesn't make it easier to maintain.  There's now an additional code dependency that did not previously exist.  Updating the set of schedules is now more difficult, as either a custom tool must be coded or a DB-specific interface must be used, whereas previous notepad.exe was sufficient.  Scalability is not a concern here, either.  The needs of this system could increase by a million and the flat file would still work just fine.\nCertainly, it's possible that in the future needs will evolve to the point that it's worth moving to a database.  That's when you make the change.  Trying to future-proof an application never works, because we always assume incorrectly about future needs.  We can't say it'll only take a few hours to embed the database either, because we suck at estimating schedules, too.  If there even comes a time when the database is appropriate, then refactor the code to use a database.  In the meantime, do the simplest thing that could possibly work.\n", "Does the \"date\" have to be a parameter? If you're just showing the current watering schedule the WateringSchedule class itself can figure out what day it is, and therefore what season it is. Then just have a method which returns a map where the Key is the group letter. Something like:\npublic Map<String,List<String>> getGroupToScheduledDaysMap() {\n  // instantiate a date or whatever to decide what Map to return\n}\n\nThen in the JSP page\n<c:forEach var=\"day\" items=\"${scheduler.groupToScheduledDaysMap[\"A\"]}\">\n   ${day}\n</c:forEach>\n\nIf you need to show the schedules for more than one season, you should have a method in the WateringSchedule class that returns a map where Seasons are the keys, and then Maps of groupToScheduledDays are the values.\n", "Here's one way it could look like, you can figure the rest out:\nA = new Group();\nA.getSeason(Seasons.WINTER).addDay(Days.MONDAY);\nA.getSeason(Seasons.SPRING).addDay(Days.TUESDAY).addDay(Days.THURSDAY);\nA.getSeason(Seasons.SPRING).addDays(Days.MONDAY, Days.TUESDAY, ...);\n\nschedule = new Schedule();\nschedule.addWateringGroup( A );\n\n", "I'm with those that suggest encapsulating function in objects.\nimport java.util.Date;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class Group {\n\n    private String groupName;\n\n    private Map<Season, Set<Day>> schedule;\n\n    public String getGroupName() {\n        return groupName;\n    }\n\n    public void setGroupName(String groupName) {\n        this.groupName = groupName;\n    }\n\n    public Map<Season, Set<Day>> getSchedule() {\n        return schedule;\n    }\n\n    public void setSchedule(Map<Season, Set<Day>> schedule) {\n        this.schedule = schedule;\n    }\n\n    public String getScheduleFor(Date date) {\n        Season now = Season.getSeason(date);\n        Set<Day> days = schedule.get(now);\n        return Day.getDaysForDisplay(days);\n    }\n\n}\n\nEDIT: Also, your date ranges don't take leap years into account:\n\nOur seasons look like this: Summer\n  (5-1 to 8-31) Spring (3-1 to 4-30)\n  Fall (9-1 to 10-31) Winter (11-1 to\n  2-28)\n\n", "The company Navicat has released an Oracle client for Mac (and they do a Windows version too).\nIt's not free, but I think you can get a 30 day demo.\n", "I get the same problem after there's been an active connection sitting idle for a while. I solve it by restarting sql developer every once in a while.\nI also have Toad for Oracle running on a vmware XP session, and it works great.  If you don't mind the money, try that.\n", "Squirrel is a nice database agonstic application development client.  No Oracle specific features, but runs well on the mac\n", "The latest version of SQL Developer is very good and I have experienced no problems with it on my Mac Pro.  DB Solo 3 is also quite good.\n", "I use SQLDeveloper on the Mac and have had problems where it becomes unresponsive.  Usually, I can fix this by going into the Activity Monitor and killing the process.  However, this doesn't always work to end the process.  When that happens, I go to the Terminal and find the process id and send it a SIGKILL and then the next time it will work correctly.\nHowever, more importantly I evaluated SQLGrinder at one point.  I didn't end up buying the software, largely because I have a Mac laptop and a windows desktop.  Therefore, I more often use Toad on the windows desktop and it wasn't worth purchasing SQLGrinder for me.\n", "If you are using Java 5 or later, you can connect to your application using jconsole to view all running threads. jstack also will do a stack dump. I think this should still work even inside a container like Tomcat.\nBoth of these tools are included with JDK5 and later (I assume the process needs to be at least Java 5, though I could be wrong)\nUpdate:\nIt's also worth noting that starting with JDK 1.6 update 7 there is now a bundled profiler called VisualVM which can be launched with 'jvisualvm'. It looks like it is a java.net project, so additional info may be available at that page. I haven't used this yet but it looks useful for more serious analysis.\nHope that helps\n", "If it's for professional purpose and you have some money to spend, try to get your hands on JProfiler. If you just want to get some insights, try out the Eclipse Profiler Plugin. I used it several times, but I don't know the current state.\nA new(?) project from the eclipse project itself is available too: http://www.eclipse.org/tptp/ (See this article). Never used it, so I can't tell if it is worth the effort.\nThere's also a very good list of open source profilers available at http://www.manageability.org/blog/stuff/open-source-profilers-for-java\n", "Facing the same problem I used YourKit profiler. It's loader doesn't activate unless you actually connect to it (though it does open a port to listen for connections). The profiler itself has a nice \"get amount of time spent in each method\" while working in it's less obtrusive mode.\nAnother way is to detect CPU load (via JNI, so you'd need an external library for this) in a \"watchdog\" thread with highest priority and start logging all threads when the CPU is high enough for a long enough time. You might find this article enlightining.\n", "For completeness sake: even though my company more or less standardizes on Eclipse we use Netbeans (6 and up) with its included, free profiler on a daily basis. It works better than the Eclipse TPTP plugin (last checked 3 months ago) and for us it removes any need for a commercial profiler such as JProfiler, which is excellent, but fast becoming unnecessary.\n", "VisualVM should be the profiler from netbeans as standalone. I tried the TPTP for eclipse but visualVm seems as a much nicer option!\n", "Use a profiler. Yes they cost money, and using them can occasionally be a bit awkward, but they do provide you with a great deal more real evidence rather than guesswork.\nHuman beings are universally bad at guessing where performance bottlenecks are. It just seems to be something our brains aren't build to do very well. It may seem obvious, you may have great ideas about what the problem is, but the real world often turns out to be doing something different. And optimising the wrong part of code means, at best, lots of work for minimal benefit. More often it makes things slower, and sometimes it breaks things entirely. So before you make any changes for the sake of optimisation, you should always have real evidence from a profiler or other accurate tool.\nAs mentioned, both JProfiler and YourKit are both fairly good and not prohibitively expensive. Last time I looked, they both had free demos too.\n", "If JConsole can't be used you can\n\npress CTRL+BREAK under Windows\nsend kill -3 <process id> under Linux\n\nto get a full Thread Dump. This doesn't affect performance and can always be run in production.\n", "JRockit Mission Control Latency Analyzer.\nThe Latency Analyzer that comes with JRockit shows you what the JVM is \"doing\" when it's not doing anything. In the latest version you can see latencies for:\n\nJava wait/blocked/sleep/parked.\nFile I/O\nNetwork I/O\nMemory allocation\nGC pauses\nJVM latencies, e.g code generation and class loading \nThread suspension \n\nThe tool will give you the stack trace when the latency occurred. You can view the latency data in many different ways (aggregated traces, as a histogram, in a thread graph etc.). The tool also allows you to see transitions between threads, for instance when one thread notifies another.\nlatency analyzer http://blogs.oracle.com/hirt/WindowsLiveWriter/The.0LatencyAnalyserMigratedfromtheoldBE_7246/latency_graph_2.png\nThe overhead is negligible and unlike many other tools it can be used in a production environment. \nThis blog post gives you a brief introduction and the program can be downloaded here.\nIt's free to use for development!\n", "Perhaps:\n#\nalert=Please update your {0}address{1} and {2}contact information{3}.\n\n", "One approach that comes to mind is that you could store the translated replacement parameters i.e. \"address\" and \"contact information\" in a separate properties file, one per locale. Then have your Action class (or probably some helper class) look up the values from the correct ResourceBundle for the current locale and pass them to the message tag.\n", "\nThe message message tag API allows\n  only 5 parametric arguments\n\nAh! I blame my complete ignorance of the Struts API.\nTo quote the manual: \n\nSome of the features in this taglib\n  are also available in the JavaServer\n  Pages Standard Tag Library (JSTL). The\n  Struts team encourages the use of the\n  standard tags over the Struts specific\n  tags when possible.\n\nYou could probably do this with the http://java.sun.com/jsp/jstl/fmt taglib.\n<fmt:bundle basename=\"messages\">\n    <fmt:message key=\"alert\">\n        <fmt:param value='<a href=\"/\">' />\n        <fmt:param value=\"</a>\" />\n        <fmt:param value='<a href=\"/\">' />\n        <fmt:param value=\"</a>\" />\n    </fmt:message>\n</fmt:bundle>\n\nThe downside is that this isn't valid XML and yanking the values to variables involves more indirection, lookups and verbosity. This is not a good solution.\nI don't know Struts, but if it is anything like JavaServer Faces (same architect), then there is probably support for configuring a replacement control. I would either replace the existing control with a more flexible one or add a new one.\n\nAnytime I receive newly-translated\n  text, I must decide what to surround\n  with the <a>...</a> markup.\n\nThere is no way you should be doing this and I see this as a fault in your translation process (I am an ex-localization engineer and ex-developer of localization tools). The {0} characters should be included in the files that are sent to the translators. The localization guidelines should explain the string's context and the meaning of any variables.\nYou can programmatically validate the property bundles on return. String-specific regex's might do the trick. It isn't outside the realms of possibility that \"address\" and \"contact information\" would swap order during translation.\nThe simplest solution is to redesign the messages to render:\n<a href=\"/address.do\">Please update your address.</a>\n<a href=\"/contact.do\">Please update your contact information.</a>\n\nI accept that this might not be a solution in all cases and may have your UI designer spitting teeth.\n", "\nAvoid creating links within long\n  blocks of text. Prefer shorter text\n  that can act as a logically complete\n  and independent link.\n\nGenerally, it will lead to fewer problems. Sometimes you have to compromise your UI design to accommodate localization; sometimes you need to compromise your localization process to accommodate the UI.\nAny time a developer manually manipulates post-translation strings is a source of potentially expensive bugs. Cutting/pasting or string editing can result in character corruption, misplaced strings, etc. A translation defect needs the participation of outside parties to fix which involves cost and takes time.\nThinking on it, something like this might be less ugly:\n<p>Please update your address and contact information.\n<br />\n<a href=\"/address.do\">update address</a>\n<br />\n<a href=\"/contact.do\">update contact information</a></p>\n\n...but I'm no UI designer.\n", "This is very much up to personal preference, but I find the following structure suitable for large projects consisting of many modules:\n\nbranches\n  project-name\n    module1\n      branch-name\n    module2   \n      possibly-another-branch-name\n    branch-name-on-a-higher-level-including-both-modules\n      module1\n      module2\ntags\n  ... (same as branches)\ntrunk\n  project-name\n    module1\n    module2\n\nI have also often used the structure in large repositories containing many projects, because keeping all projects in the same repository makes cross-referencing projects and sharing code between them\u2014with history\u2014easier.\nI like to use the structure with root trunk, tags and branches folders from the start because in my experience (with large repositories containing many projects), many sub-projects and modules will never have separate tags or branches, so there is no need to create the folder structure for them. It also makes it easier for the developers to check out the entire trunk of the repository and not get all the tags and branches (which they don't need most of the time).\nI guess this is a matter of project or company policy though. If you have one repository for each project or a given developer is only likely to work on a single project in the repository at a time the rooted trunk may not make as much sense.\n", "The Subversion book contains two sections on this:\n\nRepository Layout\nPlanning Your Repository Organization\n\nA blog entry on the subject: \"Subversion Repository Layout\"\nThe short answer, though: while your mileage will vary (every situation is individual), your /bundle/<project>/(trunk|tags|branches) scheme is rather common and will likely work well for you.\n", "I've answered a similar question in a StackOverflow Version Control Structure question. It actually fits even better here since we do heavy OSGi development and have lots of bundles. I must echo Anders Sandvig comments: keep trunk/tags/branches on the root level since you will only branch a limited set of modules. It also does not interfere with modules building individually.\nI won't copy the answer I made before but it is entirely relevant to this question.\n", "This was the solution I came up with\nhttp://sourceforge.net/projects/sshtools/ (most error handling omitted for clarity). This is an excerpt from my blog\nSshClient ssh = new SshClient();\nssh.connect(host, port);\n//Authenticate\nPasswordAuthenticationClient passwordAuthenticationClient = new PasswordAuthenticationClient();\npasswordAuthenticationClient.setUsername(userName);\npasswordAuthenticationClient.setPassword(password);\nint result = ssh.authenticate(passwordAuthenticationClient);\nif(result != AuthenticationProtocolState.COMPLETE){\n     throw new SFTPException(\"Login to \" + host + \":\" + port + \" \" + userName + \"/\" + password + \" failed\");\n}\n//Open the SFTP channel\nSftpClient client = ssh.openSftpClient();\n//Send the file\nclient.put(filePath);\n//disconnect\nclient.quit();\nssh.disconnect();\n\n", "Another option is to consider looking at the JSch library. JSch seems to be the preferred library for a few large open source projects, including Eclipse, Ant and Apache Commons HttpClient, amongst others.\nIt supports both user/pass and certificate-based logins nicely, as well as all a whole host  of other yummy SSH2 features.\nHere's a simple remote file retrieve over SFTP. Error handling is left as an exercise for the reader :-)\nJSch jsch = new JSch();\n\nString knownHostsFilename = \"/home/username/.ssh/known_hosts\";\njsch.setKnownHosts( knownHostsFilename );\n\nSession session = jsch.getSession( \"remote-username\", \"remote-host\" );    \n{\n  // \"interactive\" version\n  // can selectively update specified known_hosts file \n  // need to implement UserInfo interface\n  // MyUserInfo is a swing implementation provided in \n  //  examples/Sftp.java in the JSch dist\n  UserInfo ui = new MyUserInfo();\n  session.setUserInfo(ui);\n\n  // OR non-interactive version. Relies in host key being in known-hosts file\n  session.setPassword( \"remote-password\" );\n}\n\nsession.connect();\n\nChannel channel = session.openChannel( \"sftp\" );\nchannel.connect();\n\nChannelSftp sftpChannel = (ChannelSftp) channel;\n\nsftpChannel.get(\"remote-file\", \"local-file\" );\n// OR\nInputStream in = sftpChannel.get( \"remote-file\" );\n  // process inputstream as needed\n\nsftpChannel.exit();\nsession.disconnect();\n\n", "A nice abstraction on top of Jsch is Apache commons-vfs which offers a virtual filesystem API that makes accessing and writing SFTP files almost transparent. Worked well for us.\n", "Can you write a unit test against your FooRepository class just using it as a POJO.  If that works as expected then I'm not familiar with any reason why it would function differently inside a container.\nI suspect there is something else going on and it will probably be easier to debug if you test it as a POJO.\n", "I tried it with a pojo and it seems to work. I had to modify your code a bit.\nI think your interfaces were a bit off, but I'm not sure.\nI assumed \"Foo\" was a concrete type, but if not I can do some more testing for you.\nI just wrote a main method to test this.\nI hope this helps!\npublic static void main(String[] args){\n        FooRepository fooRepository = new FooRepositoryImpl();\n        fooRepository.delete(new Foo(\"Bar\"));\n}\n\npublic class Foo\n{\n    private String value;\n\n    public Foo(String inValue){\n        super();\n        value = inValue;\n    }\n    public String toString(){\n        return value;\n    }\n}\n\npublic interface Repository<E>\n{\n    public void delete(E entity);\n}\n\npublic interface FooRepository extends Repository<Foo>\n{\n    //other methods\n}\n\npublic class AbstractRespository<E> implements Repository<E>\n{\n    public void delete(E entity){\n        System.out.println(\"Delete-\" + entity.toString());\n    }\n}\n\npublic class FooRepositoryImpl extends AbstractRespository<Foo> implements FooRepository\n{\n     @Override\n       public void delete(Foo entity){\n          //do something before deleting the entity\n            System.out.println(\"something before\");\n          super.delete(entity);\n       }\n}\n\n", "As a simpler alternative to JNI, try JNA: https://jna.dev.java.net/, may solve this hassle for you and be simpler (assuming it can do what you want).\n", "I strongly dislike make because of its implicit ruleset and treatment of whitespace.  Personally I would use cpp tasks (http://ant-contrib.sourceforge.net/cpptasks/index.html) to do my C compilation.   They are not as flexible as make but they are also far less complex and it will mean you don't have to burden your developers with learning make.  \n", "I'm working on something similar right now. Be aware that using swig from swig.org is often easier as it generates the stubs to the native library for you.\nThe short answer to your question is that the ant file should run the make file after the java library has already been built, as the native library depends on the swig generated header, which is generated from the java class files.\nIf you are super familiar with ant, and don't want to learn a new system, then http://ant-contrib.sourceforge.net/cpptasks/index.html, also linked by another poster, will let you build c++ in ant.\n", "I'd skip JNI entirely, and use an external program which writes notifications on standard-output. Java can then simply read from the programs output stream and generate whatever event is necessary. JNI is way too much work if all you want is to send simple notifications.\nAlso, on Linux you can simply start \"inotifywait\" (with some suitable parameters, see \"man inotifywait\").\n", "The convention is to avoid labels altogether.\nThere are very, very few valid reasons to use a label for breaking out of a loop. Breaking out is ok, but you can remove the need to break at all by modifying your design a little. In the example you have given, you would extract the 'Lots of code' sections and put them in individual methods with meaningful names. \nfor ( ;/*stuff*/; ) \n{\n    lotsOfCode();\n\n    if ( !isEnough() )\n    {\n        moreCode();\n    }\n}\n\n\nEdit: having seen the actual code in question (over here), I think the use of labels is probably the best way to make the code readable. In most cases using labels is the wrong approach, in this instance, I think it is fine.\n", "The convetion/best practise would still be not to use them at all and to refactor the code so that is more readable using extract as method.\n", "If you have to use them use capitals, this draws attention to them and singles them out from being mistakenly interpreted as \"Class\" names.  Drawing attention to them has the additional benefit of catching someone's eye that will come along and refactor your code and remove them. ;)\n", "They are kind of the goto of Java - not sure if C# has them. I have never used them in practice, I can't think of a case where avoiding them wouldn't result in much more readable code. \nBut if you have to- I think all caps is ok. Most people won't use labelled breaks, so when they see the code, the caps will jump out at them and will force them to realise what is going on. \n", "\nI know, I should not use labels.\nBut just assume, I have some code, that could gain a lot in readability from labeled breaks, how do I format them.\n\nMo, your premise is wrong.\nThe question shouldn't be 'how do I format them?'\nYour question should be 'I have code that has a large amount of logic inside loops - how do I make it more readable?'\nThe answer to that question is to move the code into individual, well named functions. Then you don't need to label the breaks at all.\n", "The convention I've most seen is simply camel case, like a method name...\nmyLabel:\n\nbut I've also seen labels prefixed with an underscore\n_myLabel:\n\nor with lab...\nlabSomething:\n\nYou can probably sense though from the other answers that you'll be hard-pushed to find a coding standard that says anything other than 'Don't use labels'. The answer then I guess is that you should use whatever style makes sense to you, as long as it's consistent.\n", "I don't understand where this \"don't use labels\" rule comes from. When doing non-trivial looping logic, the test to break or continue isn't always neatly at the end of the surrounding block.\nouter_loop:\nfor (...) {\n  //  some code\n  for (...) {\n    //  some code\n    if (...)\n      continue outer_loop;\n    //  more code\n  }\n  //  more code\n}\n\nYes, cases like this do happen all the time. What are people suggesting I use instead? A boolean condition like this?\nfor (...) {\n  //  some code\n  boolean continueOuterLoop = false;\n  for (...) {\n    //  some code\n    if (...) {\n      continueOuterLoop = true;\n      break;\n    }\n    //  more code\n  }\n  if (continueOuterLoop)\n    continue;\n  //  more code\n}\n\nYuck!  Refactoring it as a method doesn't alleviate that either:\nboolean innerLoop (...) {\n  for (...) {\n    //  some code\n    if (...) {\n      return true;\n    }\n    //  more code\n  }\n  return false;\n}\n\nfor (...) {\n  //  some code\n  if (innerLoop(...))\n    continue;\n  //  more code\n}\n\nSure it's a little prettier, but it's still passing around a superfluous boolean. And if the inner loop modified local variables, refactoring it into a method isn't always the correct solution.\nSo why are you all against labels? Give me some solid reasons, and practical alternatives for the above case.\n", "wrt sadie's code example:\nYou gave \nouterloop:\nfor (...) {\n  //  some code\n  for (...) {\n    //  some code\n    if (...)\n      continue outerloop;\n    //  more code\n  }\n  //  more code\n}\n\nAs an example. You make a good point. My best guess would be:\npublic void lookMumNoLabels() {\n  for (...) {\n    // some code\n    doMoreInnerCodeLogic(...);\n  }\n}\n\nprivate void doMoreInnerCodeLogic(...) {\n   for (...) {\n      // some code\n      if (...) return;\n   }\n}\n\nBut there would be examples where that kind of refactoring doesn't sit correctly with whatever logic you're doing.\n", "As labels are so rarely useful, it appears, that there is no clear convention. The Java language specification has one example with labels and they are in non_cap.\nBut since they are so rare, in my opinion it is best, to think twice whether they are really the right tool.\nAnd if they are the right tool, make them all caps so that other developers (or yourself later on) realize them as something unusual right away. (as Craig already pointed out)\n", "Sun's Java code style seem to prefer naming labels in the same way as variables, meaning camel case with the first letter in lower case.\n", "This question actually seems to be about Java vs. C++ performance, and that's not the object orientation so much as running on a virtual machine with garbage collection and such.\nThis whitepaper on Java vs. C++ performance might be worth a read.\n", "Well, flyweight is a ridiculous pattern to use in a word processor.  IIRC, they had each character being referenced as a object [note: it was for each glyph, which is still crazy because your OS will happily draw that for you].  With a pointer being wider than a character and all the processing associated with indirection, you'd be mad to use that particular pattern that way in a word processor.\nIf you're interested in the design of word processors, I found an article that doesn't address patterns but does look at some of the data structures underlying word processor design and design considerations.\nTry to remember that design patterns are there to make your life easier, not for you to be pure.  There has to be a reason to use a pattern, it has to offer some benefit.\n", "Flyweight really is just a way of conserving resources in situations where there are thousands of objects with intrinsic shared state, so it could be useful in higher level languages than C/C++. Maybe the GoF's example using glyphs in a document was not the best choice to illustrate this pattern.\nI think there's a lot more to building a high performance word processor than just these basic patterns though - not sure whether there is anything in GoF that rules out being able to successfully do this.\nGenerally, Visual Studio (VS) is more advanced and performs significantly better than Eclipse - at least, the versions of VS that I have seen. Eclipse is one of the most impressive Java applications out there though, it runs quite well on more recent machines with lots of RAM.\n", "\nOne of the things you have to remember was that the GoF book was written in the early 90s, when the prevalent OSes did not have extensive graphic libraries. Even Windows was not yet an OS at that time.\n\nIIRC GoF was released in 1994. Even in 1994 Windows 95 Beta was available (and running on my 486DX33) and Windows 3.x had been around since roughly 1990.\n", "Eclipse + netbeans + IntelliJ all are written pretty much all in java or something that runs on the JVM (not C++). In at least 2 of those IDEs I have spent some time with the editor code, so I can assure you its all java (and its not easy either). \nVS 2005 was my last experience of visual studio, and even then I thought eclipse was much more responsive (intelliJ doubly so given time to warm up and index). \nNot sure how thats relevant but thats my experience. But I am surprised visual studio is still today written in C++ - I would think that it would be in Microsoft's interest to use C# - if nothing else it would really push its performance hard, nothing like eating your own dog food !\n", "The point of GoF and patterns in general is to talk about how to do things \"right\" as in correct, not necessarily \"right\" as in right for the circumstances. Where performance is an issue, and you find that no named pattern gives adequate performance, then perhaps you can justify going your own way. But a good knowledge of patterns gives you a \"sensible default\" and will probably mean that you sacrifice clarity / SoC / etc only so much as is necessary to give adequate performance.\nFeeling that you are \"deviating\" from the norm encourages you to a) think twice, and b) comment the non-idiomatic code well.\nPatterns are vital knowledge, but nothing is gospel and you must always apply judgement.\nHaving said all that - I can't think of any reason why you couldn't write a decent text editor using patterns and a modern JDK\n", "Before you start coding, plan out your database schema - everything else will flow from that. Getting the database reasonably correct early on will save you time and headaches later.\n", "Do you know much about OOP?  If so, look into Spring and Hibernate to keep your implementation clean and orthogonal.  If you get that, you should find TDD a good way to keep your design compact and lean, especially since you have \"automated testing\" up and running.\nUPDATE:\nLooking at the first slew of answers, I couldn't disagree more.  Particularly in the Java space, you should find plenty of mentors/resources on working out your application with Objects, not a database-centric approach.  Database design is typically the first step for Microsoft folks (which I do daily, but am in a recovery program, er, Alt.Net).  If you keep the focus on what you need to deliver to a customer and let your ORM figure out how to persist your objects, your design should be better.\n", "I do it the other way around. I find that doing it database-schema-first gets the system stuck in a data-driven-design that is difficult to abstract from persistence. We try to do domain model designs first and then base the database schema on those.\nAnd then there's the infrastructure design: the team should settle on conventions on how to structure the program first and foremost. And then we work together to agree first on a design for the common functionality of the system (e.g., things everyone needs like persistence, logging, etc.). This becomes the framework of the system.\nWe all work on that together first before we split the rest of the functionalities amongst ourselves.\n", "The main thing is being able to abstract the complexity of the system so that you don't get bogged down by it as soon as you start off.\n\nFirst read the spec like a story (skimming through it). Don't stop at every requirement to analyze it right there and then. This will allow you to get an overall picture of the system without too many details. At this point you would start identifying the major functional components of the system. Start putting these down (use a mindmap tool if you like).\nThen take each component and start exploding it (and tying each detail with requirements in the spec document). Do this for all components, till you have covered all requirements.\nNow, you should start looking at relationships between the components, and whether there are repetitions of features or functions across the various components (which you can then pull out to create utility components, or such). Around now, you would have a good detailed map of your requirements in your mind.\nNOW, you should think of designing the database, ER diagrams, Class Design, DFDs, deployment, etc.\n\nThe problem with doing the last step first is that you can get bogged down in the complexity of your system without really gaining an overall understanding in the first place.\n", "I also disagree about starting with the database.  The DB is simply an artifact of how your business objects are persisted.  I don't know of an equivalent in Java, but .Net has stellar tools such as SubSonic that allow your DB design to stay fluid as you iterate through your business objects design.  I'd say first and foremost (even before deciding on what technologies to introduce) focus on the process and identify your nouns and verbs ... then build out from those abstractions.  Hey, it really does work in the \"real world\", just like OOP 101 taught you!\n", "This sounds very much like my first job. Straight out of university, I was asked to design the database and business logic layer, while other people would take care of the UI. Meanwhile the boss was looking over my shoulder, unwilling to let go of what used to be his baby and was now mine, and poking his finger in it. Three years later, developers were fleeing the company and we were still X months away from actually selling anything.\nThe big mistake was in being too ambitious. If this is your first job, you will make mistakes and you will need to change how things work long after you've written them. We had all sorts of features that made the system more complicated than it needed to be, both on the database level and in the API that it presented to other developers. In the end, the whole thing was just far too complicated to support all at once and just died.\nSo my advice:\n\nIf you're not sure about taking on such a big job single-handed, don't. Tell your employers, and get them to find or hire somebody for you to work with who can help you out. If people need to be added to the project, then it should be done near the start rather than after stuff starts going wrong.\nThink very carefully about what the product is for, and to boil it down to the simplest set of requirements you can think of. If the people giving you the spec aren't technical, try to see past what they've written to what will actually work and make money. Talk to customers and salespeople, and understand the market.\nThere's no shame in admitting you're wrong. If it turns out that the entire system needs to be rewritten, because you made some mistake in your first version, then it's better to admit this as soon as possible so you can get to it. Correspondingly, don't try to make an architecture that can anticipate every possible contingency in your first version, because you don't know what every contingency is and will just get it wrong. Write once with an eye to throwing away and starting again - you may not have to, the first version may be fine, but admit it if you do.\n\n", "Split the big system to smaller pieces.\nAnd don't think that it's so complex, because it usually isn't. By thinking too complex it just ruins your thoughts and eventually the design. Some point you just realize that you could do the same thing easier, and then you redesign it.\nAtleast this has been my major mistake in designing.\nKeep it simple!\n", "It has been my experience that Java applications (.NET also) that consider the database last are highly likely to perform poorly when placed into a corporate environment.  You need to really think about your audience.  You didn't say if it was a web app or not.  Either way the infrastructure that you are implementing on is important when considering how you handle your data.\nNo matter what methodology you consider, how you get and save your data and it's impact on performance should be right up there as one of your #1 priorities.\n", "I found very insightful ideas about starting a new large project, based on\n\ncommon good practices\nTest Driven Development\nand pragmatic approach  \n\nin the book Growing Object-Oriented Software, Guided by Tests.\nIt is still under development, but first 3 chapters may be what You are looking for and IMHO worth reading. \n", "I'd suggest thinking about how this application will be used. How will future users work with it? I'm sure you know at least a few things about what this application needs to handle, but my first advice is \"think of the user and what he or she needs\".\nDraw it up on plain paper, thinking of where to section off the code. Remeber not to mix logic with GUI code (common error). This way you will be set to extend your applications reach in the future to servlets and/or applets or whatever platform comes along. Section in layers so that you can respond to large changes faster without rebuilding everything. Layers should not see any other layers than their closest neighbouring layers.\nBegin with true core functionallity. All that time consuming fluff (that will make your project 4 weeks late), wont matter much to the wast majority of users. It can be added later once you are sure you can deliver on time.\nBtw. Even though this has nothing to do with design I'd just like to say that you won't deliver on time. Make a realistic estimate on time consumption and then double it :-) I assume here that you will not be alone in this project and that people will come and go as the project progresses. You may need to train people midway through the project, people go on holiday / need surgery etc. \n", "I've never used (or even heard of) Stripes.\nRegardless, there's a book from The Pragmatic Bookshelf called Stripes: ...and Java web development is fun again that may be worth checking out. You could also check out the Stripes mailing list archive.\n", "We considered it when we were looking at open source frameworks.  But we saw the same thing your did that there really just isn't much support or information for it.  You should always weight the community support factor surrounding open source projects before picking one. (which is what you are doing here)  :)\n", "I recommend checking out the book referenced by jko:\n\na book from The Pragmatic Bookshelf called Stripes: ...and Java web development is fun again\n\nWhilst still in 'beta' the book covers everything very well.\nAnother good place to start is this ONJava article. \nI have used Stripes on a few projects now and have liked it a lot. \nIt may sound crazy but the Stripes quickstart and sample application documentation on the website does a pretty good job of covering the bases. \nThis is helped by the fact there is little to Stripes, probably because it is relatively new and not trying to be all things to all people. I would say give the quick-start a try and if by the end of it you are unsatisfied look elsewhere. At the end of the day you and your company have to be happy (and productive) with what you are using irrespective of how many people are using it.\n", "Stripes is a great framework. We converted a major project from a home grown framework to stripes and it took less than one week.\nThe book referenced above is a great resources, as is the mailing list.\nThere's also an active irc channel #stripes on freenode.\nIt's a very powerful framework that doesn't get in your way.\n", "It's a shame that some people perceive Stripes as a framework for which \"there really just isn't much support or information for it.\" In reality, the Stripes community is very supportive - have a look at the mailing list and you'll see how friendly and responsive people are. In fact, some have said on the #stripes IRC channel that they have had better response for Hibernate-related questions than on #hibernate itself!\nGive Stripes a good, serious look instead of dismissing it because of misconceptions.\n", "Here's how to do it using Xerces2. A tutorial for this, here (req. signup).\nOriginal attribution: blatantly copied from here:\nimport org.apache.xerces.parsers.DOMParser;\nimport java.io.File;\nimport org.w3c.dom.Document;\n\npublic class SchemaTest {\n  public static void main (String args[]) {\n      File docFile = new File(\"memory.xml\");\n      try {\n        DOMParser parser = new DOMParser();\n        parser.setFeature(\"http://xml.org/sax/features/validation\", true);\n        parser.setProperty(\n             \"http://apache.org/xml/properties/schema/external-noNamespaceSchemaLocation\", \n             \"memory.xsd\");\n        ErrorChecker errors = new ErrorChecker();\n        parser.setErrorHandler(errors);\n        parser.parse(\"memory.xml\");\n     } catch (Exception e) {\n        System.out.print(\"Problem parsing the file.\");\n     }\n  }\n}\n\n", "Are you looking for a tool or a library?\nAs far as libraries goes, pretty much the de-facto standard is Xerces2 which has both C++ and Java versions.\nBe fore warned though, it is a heavy weight solution. But then again, validating XML against XSD files is a rather heavy weight problem.\nAs for a tool to do this for you, XMLFox seems to be a decent freeware solution, but not having used it personally I can't say for sure.\n", "The Java runtime library supports validation. Last time I checked this was the Apache Xerces parser under the covers. You should probably use a javax.xml.validation.Validator.\nimport javax.xml.XMLConstants;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.*;\nimport java.net.URL;\nimport org.xml.sax.SAXException;\n//import java.io.File; // if you use File\nimport java.io.IOException;\n...\nURL schemaFile = new URL(\"http://host:port/filename.xsd\");\n// webapp example xsd: \n// URL schemaFile = new URL(\"http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\");\n// local file example:\n// File schemaFile = new File(\"/location/to/localfile.xsd\"); // etc.\nSource xmlFile = new StreamSource(new File(\"web.xml\"));\nSchemaFactory schemaFactory = SchemaFactory\n    .newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\ntry {\n  Schema schema = schemaFactory.newSchema(schemaFile);\n  Validator validator = schema.newValidator();\n  validator.validate(xmlFile);\n  System.out.println(xmlFile.getSystemId() + \" is valid\");\n} catch (SAXException e) {\n  System.out.println(xmlFile.getSystemId() + \" is NOT valid reason:\" + e);\n} catch (IOException e) {}\n\nThe schema factory constant is the string http://www.w3.org/2001/XMLSchema which defines XSDs. The above code validates a WAR deployment descriptor against the URL http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd but you could just as easily validate against a local file.\nYou should not use the DOMParser to validate a document (unless your goal is to create a document object model anyway). This will start creating DOM objects as it parses the document - wasteful if you aren't going to use them.\n", "I had to validate an XML against XSD just one time, so I tried XMLFox. I found it to be very confusing and weird. The help instructions didn't seem to match the interface.\nI ended up using LiquidXML Studio 2008 (v6) which was much easier to use and more immediately familiar (the UI is very similar to Visual Basic 2008 Express, which I use frequently). The drawback: the validation capability is not in the free version, so I had to use the 30 day trial.\n", "Easily, my good man.\nfor( int idx = 0; idx < vectorLength; idx++) {\n  if( conditionAtVectorPosition( v, idx ) ) continue;\n\n  for( rowIdx = 0; rowIdx < n; rowIdx++ ) {\n    if( anotherConditionAtVector( v, rowIdx ) ) continue;\n    if( conditionAtMatrixRowCol( m, rowIdx, idx ) ) break;\n  }\n  if( !conditionAtMatrixRowCol( m, rowIdx, idx ) )\n    setValueInVector( v, idx );\n}\n\nEDIT: Quite correct you are Anders. I've edited my solution to take that into account as well.\n", "@Patrick you are assuming calling setValueInVector( v, idx ); at the end of the second loop is OK. If the code is to be identical, logically, it must be rewritten to somethng like this:\nfor( int idx = 0; idx \n", "Does this work for you? I extracted the inner loop into a method CheckedEntireMatrix (you can name it better than me) - Also my java is a bit rusty.. but I think it gets the message across\nfor( int idx = 0; idx < vectorLength; idx++) {\n    if( conditionAtVectorPosition( v, idx ) \n    || !CheckedEntireMatrix(v)) continue;\n\n    setValueInVector( v, idx );\n}\n\nprivate bool CheckedEntireMatrix(Vector v)\n{\n    for( rowIdx = 0; rowIdx < n; rowIdx++ ) {\n        if( anotherConditionAtVector( v, rowIdx ) ) continue;\n        if( conditionAtMatrixRowCol( m, rowIdx, idx ) ) return false;\n    }   \n    return true;\n}\n\n", "Gishu has the right idea :\nfor( int idx = 0; idx < vectorLength; idx++) {\n    if (!conditionAtVectorPosition( v, idx ) \n        && checkedRow(v, idx))\n         setValueInVector( v, idx );\n}\n\nprivate boolean checkedRow(Vector v, int idx) {\n    for( rowIdx = 0; rowIdx < n; rowIdx++ ) {\n        if( anotherConditionAtVector( v, rowIdx ) ) continue;\n        if( conditionAtMatrixRowCol( m, rowIdx, idx ) ) return false;\n    }  \n    return true;\n}\n\n", "I'm not too sure to understand the first continue.\nI would copy Gishu and write something like ( sorry if there are some mistakes ) :\nfor( int idx = 0; idx < vectorLength; idx++) {\n    if( !conditionAtVectorPosition( v, idx ) && CheckedEntireMatrix(v))\n        setValueInVector( v, idx );\n}\n\ninline bool CheckedEntireMatrix(Vector v) {\n    for(rowIdx = 0; rowIdx < n; rowIdx++)\n        if ( !anotherConditionAtVector(v,rowIdx) && conditionAtMatrixRowCol(m,rowIdx,idx) ) \n            return false;\n    return true;\n}\n\n", "From reading your code. \n\nI noticed your eliminating the invalid vector positions at conditionAtVectorPosition then you remove the invalid rows at anotherConditionAtVector. \nIt seems that checking rows at anotherConditionAtVector is redundant since whatever the value of idx is, anotherConditionAtVector only depends on the row index (assuming anotherConditionAtVector has no side effects). \n\nSo you can do this:\n\nGet the valid positions first using conditionAtVectorPosition (these are the valid columns).\nThen get the valid rows using anotherConditionAtVector.\nFinally, use conditionAtMatrixRowCol using the valid columns and rows.\n\nI hope this helps.\n", "Looking at the solutions presented so far:\n\nThey all look less readable than the original, in that they involve spending more code on the mechanism of the code rather than on the algorithm itself\nSome of them are broken, or were before they were edited. Most damning is the fact that people are having to think quite hard about how to write the code without labels and not break anything.\nSome come with a performance penalty of running the same test twice, which may not always be trivial. The alternative to that is storing and passing round booleans, which gets ugly.\nRefactoring the relevant part of the code into a method is effectively a no-op: it rearranges how the code is laid out in the file, but has no effect on how it's executed.\n\nAll of which makes me believe that, at least in the case of this question as phrased, the label is the correct solution and doesn't need to be refactored away. Certainly there are cases where labels are used incorrectly and should be refactored away. I just don't think it should be treated as some unbreakable rule.\n", "@Sadie:\n\nThey all look less readable than the original, in that they involve spending more code on the mechanism of the code rather than on the algorithm itself\n\nExternalizing the second loop outside the algorithm is not necessarily less readable. If the method name is well chosen, it can improve readability.\n\nSome of them are broken, or were before they were edited. Most damning is the fact that people are having to think quite hard about how to write the code without labels and not break anything.\n\nI have a different point of view: some of them are broken because it is hard to figure out the behavior of the original algorithm.\n\nSome come with a performance penalty of running the same test twice, which may not always be trivial. The alternative to that is storing and passing round booleans, which gets ugly.\n\nThe performance penalty is minor. However I agree that running a test twice is not a nice solution.\n\nRefactoring the relevant part of the code into a method is effectively a no-op: it rearranges how the code is laid out in the file, but has no effect on how it's executed.\n\nI don't see the point. Yep, it doesn't change the behavior, like... refactoring?\n\nCertainly there are cases where labels are used incorrectly and should be refactored away. I just don't think it should be treated as some unbreakable rule.\n\nI totally agree. But as you have pointed out, some of us have difficulties while refactoring this example. Even if the initial example is readable, it is hard to maintain.\n", "@Nicolas\n\n\nSome of them are broken, or were before they were edited. Most damning is the fact that \n    people are having to think quite hard about how to write the code without labels and not \n    break anything.\n\nI have a different point of view: some of them are broken because it is hard to figure out \n  the behavior of the original algorithm.\n\nI realise that it's subjective, but I don't have any trouble reading the original algorithm. It's shorter and clearer than the proposed replacements.\nWhat all the refactorings in this thread do is emulate the behaviour of a label using other language features - as if you were porting the code to a language that didn't have labels.\n", "Some come with a performance penalty of running the same test twice, which may not always be trivial. The alternative to that is storing and passing round booleans, which gets ugly.\n\nThe performance penalty is minor. However I agree that running a test twice is not a nice solution.\nI believe the question was how to remove the labels, not how to optimize the algorithm. It appeared to me that the original poster was unaware of how to use 'continue' and 'break' keywords without labels, but of course, my assumptions may be wrong. \nWhen it comes to performance, the post does not give any information about the implementation of the other functions, so for all I know they might as well be downloading the results via FTP as consisting of simple calculations inlined by the compiler.\nThat being said, doing the same test twice is not optimal\u2014in theory.\nEDIT: On a second thought, the example is actually not a horrible use of labels. I agree that \"goto is a no-no\", but not because of code like this. The use of labels here does not actually affect the readability of the code in a significant way. Of course, they are not required and can easily be omitted, but not using them simply because \"using labels is bad\" is not a good argument in this case. After all, removing the labels does not make the code much easier to read, as others have already commented.\n", "This question was not about optimizing the algorithm - but thanks anyway ;-) \nAt the time I wrote it, I considered the labeled continue as a readable solution.\nI asked SO a question about the convention (having the label in all caps or not) for labels in Java.\nBasically every answer told me \"do not use them - there is always a better way! refactor!\". So I posted this question to ask for a more readable (and therefore better?) solution.\nUntil now, I am not completely convinced by the alternatives presented so far.\nPlease don't get me wrong. Labels are evil most of the time. \nBut in my case, the conditional tests are pretty simple and the algorithm is taken from a mathematical paper and therefore very likely to not change in the near future. So I prefer having all the relevant parts visible at once instead of having to scroll to another method named something like checkMatrixAtRow(x).\nEspecially at more complex mathematical algorithms, I find it pretty hard to find \"good\" function-names - but I guess that is yet another question\n", "I think that labelled loops are so uncommon that you can pick whatever method of labelling works for you - what you have there makes your intentions with the continues perfectly clear.\n\nAfter leading the charge to suggest refactoring the loops in the original question and now seeing the code in question, I think you've got a very readable loop there.\nWhat I had imagined was a very different chunk of code - putting the actual example up, I can see it is much cleaner than I had thought.\nMy apologies for the misunderstanding.\n", "You should be able to do this with query\ntry \n fn:replace(string,pattern,replace)\n\nI am new to xquery myself and I have found it to be a painful query language to work with, but it does work quiet well once you get over the initial learning curve. \nI do still wish there was an easier way which was as efficient? \n", "How about an object oriented approach?  You could deserialise the XML to an object, set the location value on the object, then serialise back to XML.\nXStream makes this really easy.\nFor example, you would define the main object, which in your case is CustomData (I'm using public fields to keep the example simple):\npublic class CustomData {\n  public String tag1;\n  public String tag2;\n  public String location;\n  public String tag3;\n}\n\nThen you initialize XStream:\nXStream xstream = new XStream();\n// if you need to output the main tag in lowercase, use the following line\nxstream.alias(\"customdata\", CustomData.class);  \n\nNow you can construct an object from XML, set the location field on the object and regenerate the XML:\nCustomData d = (CustomData)xstream.fromXML(xml);\nd.location = \"http://stackoverflow.com\";\nxml = xstream.toXML(d);\n\nHow does that sound?\n", "How about an XPath based approach? I like this approach as the logic is super-easy to understand. The code is pretty much self-documenting.\nIf your xml document is available to you as an org.w3c.dom.Document object (as most parsers return), then you could do something like the following:\n// get the list of customdata nodes\nNodeList customDataNodeSet = findNodes(document, \"//customdata\" );\n\nfor (int i=0 ; i < customDataNodeSet.getLength() ; i++) {\n  Node customDataNode = customDataNodeSet.item( i );\n\n  // get the location nodes (if any) within this one customdata node\n  NodeList locationNodeSet = findNodes(customDataNode, \"location\" );\n\n  if (locationNodeSet.getLength() > 0) {\n    // replace\n    locationNodeSet.item( 0 ).setTextContent( \"http://stackoverflow.com/\" );\n  }\n  else {\n    // insert\n    Element newLocationNode = document.createElement( \"location\" );\n    newLocationNode.setTextContent(\"http://stackoverflow.com/\" );\n    customDataNode.appendChild( newLocationNode );\n  }\n}\n\nAnd here's the helper method findNodes that does the XPath search.\nprivate NodeList findNodes( Object obj, String xPathString )\n  throws XPathExpressionException {\n\n  XPath xPath = XPathFactory.newInstance().newXPath();\n  XPathExpression expression = xPath.compile( xPathString );\n  return (NodeList) expression.evaluate( obj, XPathConstants.NODESET );\n}\n\n", "If you don't know the schema the XStream solution probably isn't the way to go. At least XStream is on your radar now, might come in handy in the future!\n", "Tomcat Documentation\nDBCP uses the Jakarta-Commons Database Connection Pool. It relies on number of Jakarta-Commons components:\n* Jakarta-Commons DBCP\n* Jakarta-Commons Collections\n* Jakarta-Commons Pool\n\nThis attribute may help you out.\nremoveAbandonedTimeout=\"60\"\n\nI'm using the same connection pooling stuff and I'm setting these properties to prevent the same thing it's just not configured through tomcat.\nBut if the first thing doesn't work try these.\ntestWhileIdle=true\ntimeBetweenEvictionRunsMillis=300000\n\n", "I do not know whether the above answer does basically the same thing, but some of our systems use the DB connection about once a week and I've seen that we provide a -Otimeout flag or something of that sort to mysql to set the connection timeout.\n", "Just to clarify what is actually causing this. MySQL by default terminates open connections after 8 hours of inactivity.  However the database connection pool will retain connections for longer than that.\nSo by setting timeBetweenEvictionRunsMillis=300000 you are instructing the connection pool to run through connections and evict and close idle ones every 5 minutes.\n", "I really like the Apache Felix tutorials. However, I think in general leveraging OSGi in your application isn't one of those \"let's use this framework, because it's hype\" decision. It's more of a design question, but then everything that OSGi gives you in terms of design, you can have with vanilla Java as well.\nAs for the runtime, you cannot just add an existing application and make it OSGi enabled. It needs to be design to be dynamic. Spring DM makes it easy to hide that from you, but it's still there and you need to be aware of it.\n", "Well, since you can not have one part OSGi and one part non-OSGi you'll need to make your entire app OSGi. In its simplest form you make a single OSGi bundle out of your entire application. Clearly this is not a best practice but it can be useful to get a feel for deploying a bundle in an OSGi container (Equinox, Felix, Knoplerfish, etc).\nTo take it to the next level you'll want to start splitting your app into components, components should typically have a set of responsibilities that can be isolated from the rest of your application through a set of interfaces and class dependencies. Identifying these purely by hand can range from rather straightforward for a well designed highly cohesive but loosely coupled application to a nightmare for interlocked source code that you are not familiar with.\nSome help can come from tools like JDepend which can show you the coupling of Java packages against other packages/classes in your system. A package with low efferent coupling should be easier to extract into an OSGi bundle than one with high efferent coupling. Even more architectural insight can be had with pro tools like Structure 101.\nPurely on a technical level, working daily with an application that consists of 160 OSGi bundles and using Spring DM I can confirm that the transition from \"normal\" Spring to Spring DM is largely pain free. The extra namespace and the fact that you can (and should) isolate your OSGi specific Spring configuration in separate files makes it even easier to have both with and without OSGi deployment scenarios.\nOSGi is a deep and wide component model, documentation I recommend:\n\nOSGi R4 Specification: Get the PDFs of the Core and Compendium specification, they are canonical, authoritative and very readable. Have a shortcut to them handy at all times, you will consult them.\nRead up on OSGi best practices, there is a large set of things you can do but a somewhat smaller set of things you should do and there are some things you should never do (DynamicImport: * for example). \n\nSome links: \n\nOSGi best practices and using Apache Felix\nPeter Kriens and BJ Hargrave in a Sun presentation on OSGi best practices \none key OSGi concept are Services, learn why and how they supplant the Listener pattern with the Whiteboard pattern\nThe Spring DM Google Group is very responsive and friendly in my experience\nThe Spring DM Google Group is no longer active and has moved to Eclipse.org as the Gemini Blueprint project which has a forum here.\n\n", "Is your existing application monolithic or tiered in seperate processes/layers?\nIf tiered, you can convert the middle/app-tier to run in an OSGi container.\nIn my team's experience, we've found trying to do web-stuff in OSGi painful.  Other pain points are Hibernate and Jakarta Commons Logging.\nI find the OSGi specs pretty readable and I recommend you print out the flowchart that shows the algorithm for class loading.  I'll guarantee you'll have moments of, \"why am I getting a NoClassDefFoundError?\": the flowchart will tell you why.\n", "There are a couple of thinks to keep in mind if you are starting with OSGi.\nAs mentioned elsewhere in this thread, knowing about classloading is really important. In my experience everybody sooner or later runs into problems with it.\nAnother important thing to remember is: never hold references! Have a look at the whiteboard pattern on which the services concept of OSGi is build (see the link in one of the other answers).\nIn my experience you should not try to convert a monolitic application into an OSGi-based one. This usually leads to a badly and unmanageable mess. Start anew.\nDownload one of the freely available stand-alone oSGi implementations. I found Knopflerfish rather good and stable (I use it in many projects). It also comes with lots of source code. You can find it here: http://www.knopflerfish.org\nAnother good tutorial can be found here. https://pro40.abac.com/deanhiller/cgi-bin/moin.cgi/OsgiTutorial\nPeter Kriens of the OSGi Alliance gave a nice interview: http://www.infoq.com/interviews/osgi-peter-kriens. His homepage and blog (which is always a good read can be found here: http://www.aqute.biz\n", "Try http://neilbartlett.name/blog/osgibook/. The book has hands on examples with OSGi best practices.\n", "When learning a new technology rich tooling gets you into things without big headaches.\nAt this point the community at ops4j.org provides a rich toolset called \"PAX\" which includes:\n\nPax Runner: Run and switch between Felix, Equinox, Knopflerfish and Concierge easily\nPax Construct: Construct, Organize & Build OSGi projects with maven easily\nPax Drone: Test your OSGi bundles with Junit while being framework independent (uses PaxRunner)\n\nThen there are many implementations of OSGi compendium services: \n\nPax Logging (logging), \nPax Web (http service), \nPax Web Extender (war support), \nPax Coin (configuration), \nPax Shell (shell implementation, part of the next osgi release) \nand much more.\n\n.. and there is a helpful, framework independend community, - but thats now advertisement ;-) \n", "CXF - I'd look into CXF. I've used it to create a web service and client in java using ws-secuirty. I also connected a .net web service to it.\nThey have pretty good documentation too. I had more luck with it than axis.\n", "\nApache Axis can generate proxy code from WSDL http://ws.apache.org/axis/java/user-guide.html#UsingWSDLWithAxis\nNetBeans with the RESTful Web Services plug-in can generate code for you.  Instructions for an example client for the eBay shopping web service are at http://ebay.custhelp.com/cgi-bin/ebay.cfg/php/enduser/std_adp.php?p_faqid=1230.\n\n", "I guess I should be more clear - I have used the wsdl2java code generators to generate client code for the service.  However the generated code does not include the necessary WS-Security SOAP headers so that the service will accept the requests.\n", "@Mike\nI recently did a test and this is the code I used.\nI'm not using policy stuff, but I used WS-Security with plain text authentication.\nCXF has really good documentation on how to accomplish this stuff.\nI used wsdl2java and then added this code to use the web service with ws-security.\nI hope this helps you out.\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.security.auth.callback.Callback;\nimport javax.security.auth.callback.CallbackHandler;\nimport javax.security.auth.callback.UnsupportedCallbackException;\n\nimport org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor;\nimport org.apache.ws.security.WSConstants;\nimport org.apache.ws.security.WSPasswordCallback;\nimport org.apache.ws.security.handler.WSHandlerConstants;\n\npublic class ServiceTest implements CallbackHandler\n{\n\n     public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n\n            WSPasswordCallback pc = (WSPasswordCallback) callbacks[0];\n            // set the password for our message.\n            pc.setPassword(\"buddah\");\n        }\n\n    public static void main(String[] args){\n        PatientServiceImplService locator = new PatientServiceImplService();\n        PatientService service = locator.getPatientServiceImplPort();\n\n        org.apache.cxf.endpoint.Client client = org.apache.cxf.frontend.ClientProxy.getClient(service);\n        org.apache.cxf.endpoint.Endpoint cxfEndpoint = client.getEndpoint();\n\n        Map<String, Object> outProps = new HashMap<String, Object>();\n        outProps.put(WSHandlerConstants.ACTION, WSHandlerConstants.USERNAME_TOKEN + \" \" +  WSHandlerConstants.TIMESTAMP);\n        outProps.put(WSHandlerConstants.USER, \"joe\");\n        outProps.put(WSHandlerConstants.PASSWORD_TYPE, WSConstants.PW_TEXT);\n\n        // Callback used to retrieve password for given user.\n        outProps.put(WSHandlerConstants.PW_CALLBACK_CLASS, ServiceTest.class.getName());\n\n        WSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(outProps);\n        cxfEndpoint.getOutInterceptors().add(wssOut);\n\n\n        try\n        {\n            List list = service.getInpatientCensus();\n            for(Patient p : list){\n                System.out.println(p.getFirstName() + \" \" + p.getLastName());\n            }\n\n        }\n        catch (Exception e)\n        {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n\n", "WS-Security specifications are not typically contained in a WSDL (never in a WSE WSDL). So wsdl2java does not know that WS-Security is even required for this service. The fact that security constraints are not present in a WSE WSDL is a big disappointment to me (WCF will include WS-Trust information in a WSDL).\nOn the client end, you'll need to use Rampart to add the necessary WS-Security headers to your outgoing client message. Since the WSDL does not report what WS-Security settings are necessary, you're best off by asking the service provider what is required. WS-Security requirements may be simple plaintext password, or might be X509 certificates, or might be encrypted message..... Rampart should be able to handle most of these scenarios.\nApache Rampart is \"turned on\" by engaging the module in your axis2.xml file. You'll need to download the Rampart module and put it in a specific place in your axis2 directory, then modify the xml file. You can also engage Rampart programatically (please edit your original question if this is a requirement and I'll edit this response).\nDepending on how you configure rampart (through other XML files or programatically), it will intercept any outgoing messages and add the necessary WS-Security information to it. I've personally used axis2 with rampart to call a WSE3 service that is secured with UsernameToken in plaintext and it worked great. Similar, but more advanced scenarios should also work.  There are more details on how to set up and get started with Rampart on the site linked above. If you have problems about the specifics of Rampart or how to use Rampart with your particular WSE setup, then edit your question and I'll try my best to answer.\n", "The Maven SourceForge plug-in does not work with Maven 2. Also I believe this plug-in uses FTP which is no longer supported.\n", "It looks like I am going to have to write this myself.\nhttps://sourceforge.net/projects/wagon-sf/\n", "I found that CruiseControl can upload releases to SFEE and also works with Maven and Maven2\n", "The Equals method is intended to compare references. So it should not be overriden to change its behaviour.\nYou should create a new method to test for equivalence in different instances if you need to (or use the CompareTo method in some .NET classes)\n", "Overriding the equals method is necessary if you want to test equivalence in standard library classes (for example, ensuring a java.util.Set contains unique elements or using objects as keys in java.util.Map objects).\nNote, if you override equals, ensure you honour the API contract as described in the documentation. For example, ensure you also override Object.hashCode:\n\nIf two objects are equal according to\n  the equals(Object)  method, then\n  calling the hashCode method on each of\n  the two objects must produce the same\n  integer result.\n\nEDIT: I didn't post this as a complete answer on the subject, so I'll echo Fredrik Kalseth's statement that overriding equals works best for immutable objects. To quote the API for Map:\n\nNote: great care must be exercised if\n  mutable objects are used as map keys.\n  The behavior of a map is not specified\n  if the value of an object is changed\n  in a manner that affects equals\n  comparisons while the object is a key\n  in the map.\n\n", "You should only need to override the equals() method if you want specific behaviour when adding objects to sorted data structures (SortedSet etc.)\nWhen you do that you should also override hashCode().\nSee here for a complete explanation.\n", "I would highly recommend picking up a copy of Effective Java and reading through item 7 obeying the equals contract. You need to be careful if you are overriding equals for mutable objects, as many of the collections such as Maps and Sets use equals to determine equivalence, and mutating an object contained in a collection could lead to unexpected results. Brian Goetz also has a pretty good overview of implementing equals and hashCode.\n", "You should \"never\" override equals & getHashCode for mutable objects - this goes for .net and Java both. If you do, and use such an object as the key in f.ex a dictionary and then change that object, you'll be in trouble because the dictionary relies on the hashcode to find the object.\nHere's a good article on the topic: http://weblogs.asp.net/bleroy/archive/2004/12/15/316601.aspx\n", "To be honest, in Java there is not really an argument against overriding equals.  If you need to compare instances for equality, then that is what you do.  \nAs mentioned above, you need to be aware of the contract with hashCode, and similarly, watch out for the gotchas around the Comparable interface - in almost all situations you want the natural ordering as defined by Comparable to be consistent with equals (see the BigDecimal api doc for the canonical counter example)\nCreating a new method for deciding equality, quite apart from not working with the existing library classes, flies in the face of Java convention somewhat.\n", "@David Schlosnagle mentions mentions Josh Bloch's Effective Java -- this is a must-read for any Java developer.\nThere is a related issue: for immutable value objects, you should also consider overriding compare_to.  The standard wording for if they differ is in the Comparable API:\n\nIt is generally the case, but not strictly required that (compare(x, y)==0) == (x.equals(y)). Generally speaking, any comparator that violates this condition should clearly indicate this fact. The recommended language is \"Note: this comparator imposes orderings that are inconsistent with equals.\"\n\n", "Does this happen when you run the javac command from the command line? You might want to try the fork attribute.\n", "Try adding some variation of these attributes to the Ant javac task line:\nmemoryinitialsize=\"256M\" memorymaximumsize=\"1024M\"\n\nYou can also try fork=\"true\", not sure if this allows you to set values for stack and heap (aka -Xm1024), but it may help (if it would work from the command line, but not in Ant).\n[Edit]:\nAdded link -- the javac task page would seem to suggest that the parameters above require that you do also set fork=\"true\".\n", "That's quite odd, 100 classes really isn't that many. What is the compiler doing when the stack overflows? Is there a useful stack trace generated? What happens if you run javac directly on the command line instead of thorugh ant?\nOne possible workaround is to simply increase the size of the stack using the -Xss argument to the JVM; either to the JVM running ant or by setting fork=\"true\" and a <compilerarg> on the <javac> task. Actually now that I think of it, does the problem go away just putting in the fork=\"true\"?\n", "Here is what I found.\nAfter posting my question I went on and modified the compile task with the attributes fork=\"true\", memoryinitialsize=\"256m\" and memorymaximumsize=\"1024m\" (a found today that this was suggested by Kieron and jmanning2k, thanks for your time). This didn't solve the problem nonetheless.\nI decided to start removing classes from the source tree to see if a could pinpoint the problem. Turns out we had a Web Service client class for Axis 1.4 that was auto-generated from a WSDL file. Now, this class is a monster (as in Frankenstein), it has 167 field members (all of them of type String), 167 getter/setter pairs (1 for each field), a constructor that receives all 167 fields as parameters, an equals method that compares all 167 fields in a strange way. For each field the comparison goes like this:\n(this.A == null && other.getA() == null) || (this.A != null && this.A.equals(other.getA()))\n\nThe result of this comparison is \"anded\" (&&) with the result of the comparison of the next field, and so on. The class goes on with a hashCode method that also uses all fields, some custom XML serialization methods and a method that returns a Axis-specific metadata object that describes the class and that also uses all field members.\nThis class is never modified, so I just put a compiled version in the application classpath and the project compiled without issues. \nNow, I know that removing this single source file solved the problem. However, I have absolutely no idea as to why this particular class caused the problem. It will be nice to know; what can cause or causes a StackOverflowError during compilation of Java code? I think I'll post that question.\nFor those interested:\n\nWindows XP SP2\nSUN's JDK 1.4.2_17\nAnt 1.7.0\n\n", "\nIt will be nice to know; what can\n  cause or causes a StackOverflowError\n  during compilation of Java code?\n\nIt is probable that evaluating the long expression in your java file consumes lots of memory and because this is being done in conjunction with the compilation of other classes, the VM just runs out of stack space. Your generated class is perhaps pushing the legal limits for its contents. See chapter 4.10 Limitations of the Java Virtual Machine in The Java Virtual Machine Specification, Second Edition.\nFix 1: refactor the class\nSince your class is being generated, this might not be an option. Still, it is worth looking at the options your class generation tool offers to see if it can produce something less troublesome.\nFix 2: increase the stack size\nI think Kieron has one solution when he mentions the -Xss argument. javac takes a number of non-standard arguments that will vary between versions and compiler vendors.\nMy compiler:\n$ javac -version\njavac 1.6.0_05\n\nTo list all the options for it, I'd use these commands:\njavac -help\njavac -X\njavac -J-X\n\nI think the stack limit for javac is 512Kb by default. You can increase the stack size for this compiler to 10Mb with this command:\njavac -J-Xss10M Foo.java\n\nYou might be able to pass this in an Ant file with a compilerarg element nested in your javac task.\n<javac srcdir=\"gen\" destdir=\"gen-bin\" debug=\"on\" fork=\"true\">\n    <compilerarg value=\"-J-Xss10M\" />\n</javac>\n\n", "Mailto isn't a bad route to go. But as you mentioned, you'll need to make sure it is encoded correctly. \nThe main problem with using mailto is with breaking lines. Use %0A for carriage returns, %20 for spaces.\nAlso, keep in mind that the mailto is considered the same as a URL of sorts and therefore will have the same limitations for length. See \nhttp://support.microsoft.com/kb/208427, note the maximum URL length of 2083 characters. This is confirmed for mailto as well \nin this article: http://support.microsoft.com/kb/279460/en-us. Also, some mail clients can also have a limit (I believe older versions of Outlook Express had a limit of something much smaller like 483 characters or something. If you expect to have a longer string than that then you'll need to look at alternatives.\nBTW, you shouldn't have to resort to kicking out a script to do that as long as you can shell out a command from Java (I don't know if you can since I don't do Java).\n", "1. Add a Subject Line \nYou can prefill the subject line in the email by adding the subject preceded by '?subject=' after the email address. \nSo the link now becomes: \n<a href=\"mailto:someone@yoursite.com?subject=Mail from Our Site\">Email Us</a> \n\n2. Send to Multiple Recipients \nMail can be sent to additional recipients either as carbon copies (cc) or blind carbon copies (bcc). \nThis is done in a similar way, by placing '?cc=someoneelse@theirsite.com' after the initial address. \nSo the link looks like this:\n<a href=\"mailto:someone@yoursite.com?cc=someoneelse@theirsite.com\">Email Us</a>\n\ncc can simply be replaced by bcc if you wish to send blind carbon copies. \nThis can be very useful if you have links on pages with different subjects. You might have the email on each page go to the appropriate person in a company but with a copy of all mails sent to a central address also. \nYou can of course specify more than one additional recipient, just separate your list of recipients with a comma. \n<a href=\"mailto:someone@yoursite.com?cc=someoneelse@theirsite.com, another@thatsite.com, me@mysite.com\">Email Us</a> \n\nSourced from Getting More From 'mailto' which now 404s.  I retrieved the content from waybackmachine.    \n3. Combining Code \nYou can combine the various bits of code above by the addition of an '&' between each.\nThus adding \nme@mysite.com?subject=Hello&cc=you@yoursite.com&bcc=her@hersite.com\n\nwould send an email with the subject 'Hello' to me, you and her. \n4. Write the Email \nYou can also prefill the body of the email with the start of a message, or write the whole message if you like! To add some thing to the body of the email it is again as simple as above - '?body=' after the email address. However formatting that email can be a little tricky. To create spaces between words you will have to use hex code - for example '%20' between each word, and to create new lines will mean adding '%0D'. Similarly symbols such as $ signs will need to be written in hex code.\nIf you also wish to add a subject line and send copies to multiple recipients, this can make for a very long and difficult to write bit of code. \nIt will send a message to three people, with the subject and the message filled in, all you need to do is add your name. \nJust look at the code! \n<a href=\"mailto:abbeyvet@outfront.net?CC=spooky@outfront.net\n&BCC=thomasbrunt@outfront.net&Subject=Please%2C%20I%20insist\n%21&Body=Hi%0DI%20would%20like%20to%20send%20you%20\n%241000000%20to%20divide%20as%20you%20see%20fit%20among\n%20yourselves%20and%20all%20the%20moderators.%0DPlease%\n20let%20me%20know%20to%20whom%20I%20should%20send\n%20the%20check.\">this link</a> \n\nNote: Original source URL where I found this is now 404ing so I grabbed to content from waybackmachine and posted it here so it doesn't get lost.  Also, the OP stated it was not for a website, which is what these examples are, but some of these techniques may still be useful.\n", "I have implemented this, and it works well on OS X. (Ryan's mention of the max URL length has not been codified.)\npublic void email(String subject, String body) throws Exception {\n    String cmd = \"open mailto:\";        \n    cmd += \"?subject=\" + urlEncode(subject);\n    cmd += \"&body=\" + urlEncode(body);\n    Runtime.getRuntime().exec(cmd);\n}\n\nprivate static String urlEncode(String s) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i < s.length(); i++) {\n        char ch = s.charAt(i);\n        if (Character.isLetterOrDigit(ch)) {\n            sb.append(ch);\n        }\n        else {\n            sb.append(String.format(\"%%%02X\", (int)ch));\n        }\n    }\n    return sb.toString();\n}\n\nI had to re-implement URLencode because Java's would use + for space and Mail took those literally. Haven't tested on Windows yet.\n", "\nI had to re-implement URLencode\n  because Java's would use + for space\n  and Mail took those literally.\n\nI don't know if Java has some built-in method for urlencoding the string, but this link http://www.permadi.com/tutorial/urlEncoding/ shows some of the most common chars to encode:\n;       %3B\n?       %3F\n/       %2F\n:       %3A\n#       %23\n&       %24\n=       %3D\n+       %2B\n$       %26\n,       %2C\nspace   %20 or +\n%       %25\n<       %3C\n>       %3E\n~       %7E\n%       %25\n\n", "start works fine in Windows (see below). I would use Java's built in UrlEscape then just run a second replacement for '+' characters.\nstart mailto:\"?subject=My%20Subject&body=The%20Body\"\n\n", "\nI don't know if Java has some built-in method for urlencoding the string, but this link http://www.permadi.com/tutorial/urlEncoding/ shows some of the most common chars to encode:\n\nFor percent-encoding mailto URI hnames and hvalues, I use the rules at http://shadow2531.com/opera/testcases/mailto/modern_mailto_uri_scheme.html#encoding. Under http://shadow2531.com/opera/testcases/mailto/modern_mailto_uri_scheme.html#implementations, there's a Java example that may help.\nBasically, I use:\nprivate String encodex(final String s) {\n    try {\n        return java.net.URLEncoder.encode(s, \"utf-8\").replaceAll(\"\\\\+\", \"%20\").replaceAll(\"\\\\%0A\", \"%0D%0A\");\n    } catch (Throwable x) {\n        return s;\n    }\n}\n\nThe string that's passed in should be a string with \\r\\n, and stray \\r already normalized to \\n.\nAlso note that just returning the original string on an exception like above is only safe if the mailto URI argument you're passing on the command-line is properly escaped and quoted.\nOn windows that means:\n\nQuote the argument.\nEscape any \" inside the quotes with \\.\nEscape any \\ that precede a \" or the end of the string with \\.\n\nAlso, on windows, if you're dealing with UTF-16 strings like in Java, you might want to use ShellExecuteW to \"open\" the mailto URI. If you don't and return s on an exception (where some hvalue isn't completely percent-encoded, you could end up narrowing some wide characters and losing information. But, not all mail clients accept unicode arguments, so ideally, you want to pass a properly percent-encoded-utf8 ascii argument with ShellExecute.\nLike 'start', ShellExecute with \"open\" should open the mailto URI in the default client.\nNot sure about other OS's.\n", "Never use Runtime.exec(String) on Mac OS X or any other operating system.  If you do that, you'll have to figure out how to properly quote all argument strings and so on; it's a pain and very error-prone.\nInstead, use Runtime.exec(String[]) which takes an array of already-separated arguments.  This is much more appropriate for virtually all uses.\n", "In Java 1.6 you have a stardard way to open the default mailer of the platform:\nthe Desktop.mail(URI) method.The URI can be used to set all the fields of the mail (sender, recipients, body, subject).\nYou can check a full example of desktop integration in Java 1.6 on Using the Desktop API in Java SE 6\n", "This is only a difference in text files, where UNIX uses a single Line Feed (LF) to signify a new line, Windows uses a Carriage Return/Line Feed (CRLF) and Mac uses just a CR.\nBinary files there should be no difference (i.e. a JPEG on a windows machine will be byte for byte the same as the same JPEG on a unix box.)\n", "There could also be a difference in character encoding for national characters. There is no \"unix-encoding\" but many linux-variants use UTF-8 as the default encoding. Mac OS (which is also a unix) uses its own encoding (macroman). I am not sure, what windows default encoding is.\nBut this could be another source of trouble (apart from the different linebreaks).\nWhat are your problems? The linebreak-related problems can be easily corrected with the programs dos2unix or unix2dos on the unix-machine\n", "If you are just interested in the content of text files, then yes the line endings are different.  Take a look at something like dos2unix, it may be of help here.\n(Of course there are many other things that make unix and windows files different, but I don't think you're interested in those other differences right now.)\n", "In addition to the new-line differences, the byte-order mark can cause problems if files are treated as Unicode on Windows.\n", "As pauldoo suggests, tools like dos2unix can be very useful. Note that these may be on your linux/unix system as fromdos or tofrodos, or perhaps even as the general purpose toolbox recode.\nHowever, another set of problems that you may come across can be related to single/multi-byte character encodings. If you see strange unexpected chars (not at end-of-line) then this could be the reason. Especially if you see square boxes, question marks, upside-down question marks, extra characters or unexpected accented characters.\nRunning the command locale on your *nix box will tell you what the system locale is. If this is different to the encoding used in the text files that have been transferred over from the windows machine, then this can sometimes cause issues, depending on the usage of those files. You can use the very powerful recode command to try and convert between the different charsets as well as any line ending issues. recode -l will show you all of the formats and encodings that the tool can convert between. It is likely to be a VERY long list.\nWhen writing to files or reading from files (that you are in control of), it is often worth specifying the encoding to use, as most Java methods allow this. However, also ensuring that the system locale matches can save a lot of pain.\n", "In addition to the answers given, you may find issues with the different file systems:\n\nOn unix, files that start with a . are hidden. On windows, it's a filesystem flag that you probably don't have easy access to. This may result in files that are supposed to be hidden now becoming visible on the client machines.\nFile permissions vary between the two. You will probably find, when you copy files onto a unix system, that the files now belong to the user that did the copying and have limited rights. You'll need to use chown/chmod to make sure the correct users have access to them.\n\n", "You'll want to do floating point division, and then use the ceiling function, to round up the value to the next integer.\n", "Another alternative is to use the mod() function (or '%'). If there is a non-zero remainder then increment the integer result of the division.\n", "This should give you what you want.  You will definitely want x items divided by y items per page, the problem is when uneven numbers come up, so if there is a partial page we also want to add one page.\nint x = number_of_items;\nint y = items_per_page;\n\n// with out library\nint pages = x/y + (x % y > 0 ? 1 : 0)\n\n// with library\nint pages = (int)Math.Ceiling((double)x / (double)y);\n\n", "For C# the solution is to cast the values to a double (as Math.Ceiling takes a double):\nint nPages = (int)Math.Ceiling((double)nItems / (double)nItemsPerPage);\n\nIn java you should do the same with Math.ceil().\n", "Found an elegant solution:\nint pageCount = (records + recordsPerPage - 1) / recordsPerPage;\n\nSource: Number Conversion, Roland Backhouse, 2001\n", "The integer math solution that Ian provided is nice, but suffers from an integer overflow bug. Assuming the variables are all int, the solution could be rewritten to use long math and avoid the bug:\n\nint pageCount = (-1L + records + recordsPerPage) / recordsPerPage;\n\nIf records is a long, the bug remains. The modulus solution does not have the bug.\n", "As far as I know, iterate and instantiate is the only way to do this.  Something like (for others potential help, since I'm sure you know how to do this):\nList<Integer> oldList = ...\n/* Specify the size of the list up front to prevent resizing. */\nList<String> newList = new ArrayList<String>(oldList.size()) \nfor (Integer myInt : oldList) { \n  newList.add(String.valueOf(myInt)); \n}\n\n", "@Jonathan: I could be mistaken, but I believe that String.valueOf() in this case will call the String.valueOf(Object) function rather than getting boxed to String.valueOf(int).  String.valueOf(Object) just returns \"null\" if it is null or calls Object.toString() if non-null, which shouldn't involve boxing (although obviously instantiating new string objects is involved).\n", "Instead of using String.valueOf I'd use .toString(); it avoids some of the auto boxing described by @johnathan.holland\nThe javadoc says that valueOf returns the same thing as Integer.toString().\nList<Integer> oldList = ...\nList<String> newList = new ArrayList<String>(oldList.size());\n\nfor (Integer myInt : oldList) { \n  newList.add(myInt.toString()); \n}\n\n", "I think using Object.toString() for any purpose other than debugging is probably a really bad idea, even though in this case the two are functionally equivalent (assuming the list has no nulls).  Developers are free to change the behavior of any toString() method without any warning, including the toString() methods of any classes in the standard library.\nDon't even worry about the performance problems caused by the boxing/unboxing process.  If performance is critical, just use an array.  If it's really critical, don't use Java.  Trying to outsmart the JVM will only lead to heartache.\n", "The source for String.valueOf shows this:\npublic static String valueOf(Object obj) {\n    return (obj == null) ? \"null\" : obj.toString();\n}\n\nNot that it matters much, but I would use toString.\n", "You can't avoid the \"boxing overhead\"; Java's faux generic containers can only store Objects, so your ints must be boxed into Integers.  In principle it could avoid the downcast from Object to Integer (since it's pointless, because Object is good enough for both String.valueOf and Object.toString) but I don't know if the compiler is smart enough to do that.  The conversion from String to Object should be more or less a no-op, so I would be disinclined to worry about that one.\n", "Not core Java, and not generic-ified, but the popular Jakarta commons collections library has some useful abstractions for this sort of task.  Specifically, have a look at the collect methods on\nCollectionUtils\nSomething to consider if you are already using commons collections in your project.\n", "What you're doing is fine, but if you feel the need to 'Java-it-up' you could use a Transformer and the collect method from Apache Commons, e.g.:\npublic class IntegerToStringTransformer implements Transformer<Integer, String> {\n   public String transform(final Integer i) {\n      return (i == null ? null : i.toString());\n   }\n}\n\n..and then..\nCollectionUtils.collect(\n   collectionOfIntegers, \n   new IntegerToStringTransformer(), \n   newCollectionOfStrings);\n\n", "To the people concerned about \"boxing\" in jsight's answer: there is none. String.valueOf(Object) is used here, and no unboxing to int is ever performed.\nWhether you use Integer.toString() or String.valueOf(Object) depends on how you want to handle possible nulls. Do you want to throw an exception (probably), or have \"null\" Strings in your list (maybe). If the former, do you want to throw a NullPointerException or some other type?\nAlso, one small flaw in jsight's response: List is an interface, you can't use the new operator on it. I would probably use a java.util.ArrayList in this case, especially since we know up front how long the list is likely to be.\n", "An answer for experts only:\n    List<Integer> ints = ...;\n    String all = new ArrayList<Integer>(ints).toString();\n    String[] split = all.substring(1, all.length()-1).split(\", \");\n    List<String> strs = Arrays.asList(split);\n\n", "Just for fun, a solution using the jsr166y fork-join framework that should in JDK7.\nimport java.util.concurrent.forkjoin.*;\n\nprivate final ForkJoinExecutor executor = new ForkJoinPool();\n...\nList<Integer> ints = ...;\nList<String> strs =\n    ParallelArray.create(ints.size(), Integer.class, executor)\n    .withMapping(new Ops.Op<Integer,String>() { public String op(Integer i) {\n        return String.valueOf(i);\n    }})\n    .all()\n    .asList();\n\n(Disclaimer: Not compiled. Spec is not finalised. Etc.)\nUnlikely to be in JDK7 is a bit of type inference and syntactical sugar to make that withMapping call less verbose:\n    .withMapping(#(Integer i) String.valueOf(i))\n\n", "This is such a basic thing to do I wouldn't use an external library (it will cause a dependency in your project that you probably don't need).\nWe have a class of static methods specifically crafted to do these sort of jobs. Because the code for this is so simple we let Hotspot do the optimization for us. This seems to be a theme in my code recently: write very simple (straightforward) code and let Hotspot do its magic. We rarely have performance issues around code like this - when a new VM version comes along you get all the extra speed benefits etc.\nAs much as I love Jakarta collections, they don't support Generics and use 1.4 as the LCD. I am wary of Google Collections because they are listed as Alpha support level!\n", "I can't find anything built in... but using the ExpandoMetaClass I can do this: \nArrayList.metaClass.collectMap = {Closure callback->\n    def map = [:]\n    delegate.each {\n        def r = callback.call(it)\n        map[r[0]] = r[1]\n    }\n    return map\n}\n\nthis adds the collectMap method to all ArrayLists... I'm not sure why adding it to List or Collection didn't work.. I guess that's for another question... but now I can do this...\nassert [\"foo\":\"oof\", \"42\":\"24\", \"bar\":\"rab\"] ==\n            [\"foo\", \"42\", \"bar\"].collectMap { return [it, it.reverse()] }\n\nfrom List to calculated Map with one closure... exactly what I was looking for. \nEdit: the reason I couldn't add the method to the interfaces List and Collection was because I did not do this:\nList.metaClass.enableGlobally()\n\nafter that method call, you can add methods to interfaces.. which in this case means my collectMap method will work on ranges like this:\n(0..2).collectMap{[it, it*2]}\n\nwhich yields the map: [0:0, 1:2, 2:4]\n", "Also, if you're use google collections (http://code.google.com/p/google-collections/), you can do something like this:\n  map = Maps.uniqueIndex(list, Functions.identity());\n\n", "ok... I've played with this a little more and I think this is a pretty cool method...\ndef collectMap = {Closure callback->\n    def map = [:]\n    delegate.each {\n        def r = callback.call(it)\n        map[r[0]] = r[1]\n    }\n    return map\n}\nExpandoMetaClass.enableGlobally()\nCollection.metaClass.collectMap = collectMap\nMap.metaClass.collectMap = collectMap\n\nnow any subclass of Map or Collection have this method...\nhere I use it to reverse the key/value in a Map\n[1:2, 3:4].collectMap{[it.value, it.key]} == [2:1, 4:3]\n\nand here I use it to create a map from a list\n[1,2].collectMap{[it,it]} == [1:1, 2:2]\n\nnow I just pop this into a class that gets called as my app is starting and this method is available throughout my code.\nEDIT:\nto add the method to all arrays...\nObject[].metaClass.collectMap = collectMap\n\n", "What about something like this?\n// setup\nclass Pair { \n    String k; \n    String v; \n    public Pair(def k, def v) { this.k = k ; this.v = v; }\n}\ndef list = [ new Pair('a', 'b'), new Pair('c', 'd') ]\n\n// the idea\ndef map = [:]\nlist.each{ it -> map.putAt(it.k, it.v) }\n\n// verify\nprintln map['c']\n\n", "Check out \"inject\".  Real functional programming wonks call it \"fold\".\ncolumns.inject([:]) { memo, entry ->\n    memo[entry.name] = entry.val\n    return memo\n}\n\nAnd, while you're at it, you probably want to define methods as Categories instead of right on the metaClass.  That way, you can define it once for all Collections:\nclass PropertyMapCategory {\n    static Map mapProperty(Collection c, String keyParam, String valParam) {\n        return c.inject([:]) { memo, entry ->\n            memo[entry[keyParam]] = entry[valParam]\n            return memo\n        }\n    }\n}\n\nExample usage: \nuse(PropertyMapCategory) {\n    println columns.mapProperty('name', 'val')\n}\n\n", "I think the most flexible approach would be to implement your own file system on top of the RMS. You can handle the RMS records in a similar way as blocks on a hard drive and use a inode structure or similar to spread logical files over multiple blocks. I would recommend implementing a byte or stream-oriented interface on top of the blocks, and then possibly making another API layer on top of that for writing special data structures (or simply make your objects serializable to the data stream).\nTanenbaum's classical book on operating systems covers how to implement a simple file system, but I am sure you can find other resources online if you don't like paper.\n", "RMS performance and implementation varies wildly between devices, so if platform portability is a problem, you may find that your code works well on some devices and not others. RMS is designed to store small amounts of data (High score tables, or whatever) not large amounts.\nYou might find that some platforms are faster with files stored in multiple record stores. Some are faster with multiple records within one store. Many are ok for storage, but become unusably slow when deleting large amounts of data from the store.\nYour best bet is to use JSR-75 instead where available, and create your own file store interface that falls back to RMS if nothing better is supported.\nUnfortunately when it comes to JavaME, you are often drawn into writing device-specific variants of your code.\n", "For anything past a few kilobytes you need to use either JSR 75 or a remote server. RMS records are extremely limited in size and speed, even in some higher end handsets. If you need to juggle 1MB of data in J2ME the only reliable, portable way is to store it on the network. The HttpConnection class and the GET and POST methods are always supported.\nOn the handsets that support JSR 75 FileConnection it may be valid alternative but without code signing it is an user experience nightmare. Almost every single API call will invoke a security prompt with no blanket permission choice. Companies that deploy apps with JSR 75 usually need half a dozen binaries for every port just to cover a small part of the possible certificates. And this is just for the manufacturer certificates; some handsets only have carrier-locked certificates.\n", "I'm just starting to code for JavaME, but have experience with old versions of PalmOS, where all data chunks are limited in size, requiring the design of data structures using record indexes and offsets.\n", "Under Blackberry OS 4.6 the RMS store size limit has been increased to 512Kb but this isn't much help as many devices will likely not have support for 4.6. The other option on Blackberry is the Persistent Store which has a record size limit of 64kb but no limit on the size of the store (other than the physical limits of the device). \nI think Carlos and izb are right.\n", "It is quite simple, use JSR75 (FileConnection) and remember to sign your midlet with a valid (trusted) certificate.\n", "Thanks everyone for useful commments. In the end the simplest solution was to limit the amount of data being stored, implementing code that adjusts the data according to how large the store is, and fetching data from the server on demand if its not stored locally. Thats interesting that the limit is increased in OS 4.6, with any luck my code will simply adjust on its own and store more data :)\nDeveloping a J2ME application for Blackberry without using the .cod compiler limits the use of JSR 75 some what since we can't sign the archive. As pointed out by Carlos this is a problem on any platform and I've had similar issues using the PIM part of it. The RMS seems to be incredibly slow on the Blackberry platform so I'm not sure how useful a inode/b-tree file system on top would be, unless data was cached in memory and written to RMS in a low priority background thread.\n", "Are you just asking how to store UTF-8/16 characters in a DB? in mysql it's just a matter of making sure you build with UTF8 support and setting that as the default, or specifying it at the column or table level. I've done this in oracle and mysql before. Create a table and cut and paste some i18n data into it and see what happens... you might be set already..\nor am I completely missing your point? \nedit: \nto be more explicit... I usually implement a three column table... language, key, value... where \"value\" contains potentially foreign language words or phrases... \"language\" contains some language key and \"key\" is an english key (i.e. login.error.password.dup)... language and key are indexed...  \nI've then built interfaces on a structure like this that shows each key with all its translations (values)... it can get fancy and include audit trails and \"dirty\" markers and all the other stuff you need to enable translators and data entry folk to make use of it..\nEdit 2:\nNow that you added the info about the JSTL tags, I understand a bit more... I've never done that myself.. but I found this old info on theserverside...\nHttpSession session = .. [get hold of the session] \nResourceBundle bundle = new PropertyResourceBundle(toInputStream(myOwnProperties)) [toInputStream just stores the properties into an inputstream] \nLocale locale = .. [get hold of the locale]\njavax.servlet.jsp.jstl.core.Config.set(session, Config.FMT_LOCALIZATION_CONTEXT, new LocalizationContext(bundle ,locale));\n\n", "We have a database table with key/language/term where key is a n integer and is a combined primary key together with language.\nWe are using Struts, so we ended up writing our own PropertyMessageResources implementation which allows us to do something like <bean:message key=\"impressum.text\" />.\nIt works very well and gives us the flexibility to do dynamically switch languages in the front-end as well as updating the translations on the fly.\n", "I finally got this working with danb's help above.\nThis is my resource bundle class and resource bundle control class.\nI used this code from @[danb]'s.\nResourceBundle bundle = ResourceBundle.getBundle(\"AwesomeBundle\", locale, DbResourceBundle.getMyControl());\njavax.servlet.jsp.jstl.core.Config.set(actionBeanContext.getRequest(), Config.FMT_LOCALIZATION_CONTEXT, new LocalizationContext(bundle, locale));\n\nand wrote this class.\npublic class DbResourceBundle extends ResourceBundle\n{\n    private Properties properties;\n\n    public DbResourceBundle(Properties inProperties)\n    {\n        properties = inProperties;\n    }\n\n    @Override\n    @SuppressWarnings(value = { \"unchecked\" })\n    public Enumeration<String> getKeys()\n    {\n        return properties != null ? ((Enumeration<String>) properties.propertyNames()) : null;\n    }\n\n    @Override\n    protected Object handleGetObject(String key)\n    {\n        return properties.getProperty(key);\n    }\n\n    public static ResourceBundle.Control getMyControl()\n    {\n        return new ResourceBundle.Control()\n        {\n\n            @Override\n            public List<String> getFormats(String baseName)\n            {\n                if (baseName == null)\n                {\n                    throw new NullPointerException();\n                }\n                return Arrays.asList(\"db\");\n            }\n\n            @Override\n            public ResourceBundle newBundle(String baseName, Locale locale, String format, ClassLoader loader, boolean reload) throws IllegalAccessException,\n                  InstantiationException, IOException\n            {\n                if ((baseName == null) || (locale == null) || (format == null) || (loader == null))\n                    throw new NullPointerException();\n                ResourceBundle bundle = null;\n                if (format.equals(\"db\"))\n                {\n                    Properties p = new Properties();\n                    DataSource ds = (DataSource) ContextFactory.getApplicationContext().getBean(\"clinicalDataSource\");\n                    Connection con = null;\n                    Statement s = null;\n                    ResultSet rs = null;\n                    try\n                    {\n                        con = ds.getConnection();\n                        StringBuilder query = new StringBuilder();\n                        query.append(\"select label, value from i18n where bundle='\" + StringEscapeUtils.escapeSql(baseName) + \"' \");\n\n                        if (locale != null)\n                        {\n                            if (StringUtils.isNotBlank(locale.getCountry()))\n                            {\n                                query.append(\"and country='\" + escapeSql(locale.getCountry()) + \"' \");\n\n                            }\n                            if (StringUtils.isNotBlank(locale.getLanguage()))\n                            {\n                                query.append(\"and language='\" + escapeSql(locale.getLanguage()) + \"' \");\n\n                            }\n                            if (StringUtils.isNotBlank(locale.getVariant()))\n                            {\n                                query.append(\"and variant='\" + escapeSql(locale.getVariant()) + \"' \");\n\n                            }\n                        }\n                        s = con.createStatement();\n                        rs = s.executeQuery(query.toString());\n                        while (rs.next())\n                        {\n                            p.setProperty(rs.getString(1), rs.getString(2));\n                        }\n                    }\n                    catch (Exception e)\n                    {\n                        e.printStackTrace();\n                        throw new RuntimeException(\"Can not build properties: \" + e);\n                    }\n                    finally\n                    {\n                        DbUtils.closeQuietly(con, s, rs);\n                    }\n                    bundle = new DbResourceBundle(p);\n                }\n                return bundle;\n            }\n\n            @Override\n            public long getTimeToLive(String baseName, Locale locale)\n            {\n                return 1000 * 60 * 30;\n            }\n\n            @Override\n            public boolean needsReload(String baseName, Locale locale, String format, ClassLoader loader, ResourceBundle bundle, long loadTime)\n            {\n                return true;\n            }\n\n        };\n    }\n\n", "If you already know Java/C# I'd recommend going directly to C instead of C++. According to the website, GLUT has the same bindings for C as C++ so you should be all set. Anyways, the best way to learn C is to purchase and read a copy of \"The C Programming Language\" and sit down with your C compiler and get your stuff to run.\n", "Effective C++ by Scott Meyers is a great book to help you learn C++.  Gives you an overview of the language and introduces a lot of key concepts that you will use throughout the development of basically any C++ program.\n", "Yeah, I got bit by the same bug.  The university tended to lean on Java, and then allowed you to choose the language you wanted to work with during projects.\nThe best way is to just jump in. Start small, take baby steps, and just Google things that confuse you when you get there. Also find projects that have released their source code. See how they structure their programs. Basically, just tinker with concepts.  There is plenty of information around the web.\nMake it fun and grab a C++ game development book so it doesn't become mind numbing too quickly. \nHere's some places that I found useful while learning\nhttp://www.cprogramming.com/\nhttp://www.wikipedia.com\nhttp://www.cplusplus.com/\n", "\nEffective C++ by Scott Meyers is a great book to help you learn C++. Gives you an overview of the language and introduces a lot of key concepts that you will use throughout the development of basically any C++ program.\n\nI love this book in all 3 editions, and it was one of the books in a class I had as a Senior at UT, but it's just not a starting book.  You can become comfortable in C++ with a lot less, though you certainly won't be one with the compiler until you have read Meyer's work.  \nI don't know if it's still in print but I found Navigating C++ usefull, but I was also very comfortable with pointers from Pascal.  Err of course I am forgetting that 15 years ago you had to learn what OOP was, now it's a little more assumed.  So perhaps Meyer's is not out of line.  Thoughts? \n", "Wikipedia has an article on comparisons between Java and C++.\nYou don't have to worry about checked exceptions in C++, but you do need to know about const correctness.\n", "There are two main differences: the syntax, and memory management.\nIn C++ you have pointers, which are more powerful (or less powerful depending on your interpretation of power) object references, which you already know about from Java.\nIn Java you might do this:\nThing mything = new Thing(); // mything is an object reference\nmything.method();\n\nIn C++ you would do this:\nThing * mything = new Thing(); // mything is an object pointer\nmything->method();\ndelete mything;\n\nThe syntactical difference is obvious: '->' instead of '.' when calling an object method from a pointer to an object. In C++, you have to free the memory explicitly when you are done with an object. At the end of the day you are doing the same thing in C++ and Java, instantiating objects and calling methods, putting useless semicolons at the end of every line, etc. Is it any wonder that Python is becoming so popular?:\nmything = Thing() # mything is whatever I want it to be\nmything.method()\n\nSkimming through any half decent C++ text will help you fill in the rest of the details.\n", "I also thoroughly recommend Bruce Eckel's Thinking in C++. A fantastic book for already experienced programmers that want to get into the C++ mindset. \nHe is kind enough to make electronic versions of his books available for free.\n", "I strongly recommend that anyone learning C++ reads Stroustrups \"The C++ Programming Language.\"  Meyers and Eckel have great stuff, but nothing beats learning from the guy who decided what the language should be and how he intended for it to be used.\n", "I had the exact same issue.  The only book I was able to find was \"Pro Visual C++ 2005 for C# Developers\" by Dean C. Wills.  It's a good read with excellent examples, and I think the angle from which the book comes is probably what you're looking for.\n", "I'd probably be looking to use a JTable rather than a JList and since the default rendering of a checkbox is rather ugly, I'd probably be looking to drop in a custom TableModel, CellRenderer and CellEditor to represent a boolean value. Of course, I would imagine this has been done a bajillion times already. Sun has good examples.\n", "Create a custom ListCellRenderer and asign it to the JList.\nThis custom ListCellRenderer must return a JCheckbox in the implementantion of getListCellRendererComponent(...) method.\nBut this JCheckbox will not be editable, is a simple paint in the screen is up to you to choose when this JCheckbox must be 'ticked' or not, \nFor example, show it ticked when the row is selected (parameter isSelected), but this way the check status will no be mantained if the selection changes. Its better to show it checked consulting the data below the ListModel, but then is up to you to implement the method who changes the check status of the data, and notify the change to the JList to be repainted.\nI Will post sample code later if you need it\nListCellRenderer\n", "Odds are good w/ Java that someone has already implemented the widget or utility you need. Part of the benefits of a large OSS community. No need to reinvent the wheel unless you really want to do it yourself. In this case it would be a good learning exercise in CellRenderers and Editors.\nMy project has had great success with JIDE. The component you want, a Check Box List, is in the JIDE Common Layer (which is OSS and hosted on java.net). The commercial stuff is good too, but you don't need it.\nhttp://www.jidesoft.com/products/oss.htm\nhttps://jide-oss.dev.java.net/\n", "The concept of closures requires the concept of contexts. C's context is based on the stack and the registers of the CPU, so to create a block/closure, you need to be able to manipulate the stack pointer in a correct (and reentrant) way, and store/restore registers as needed.\nThe way this is done by interpreters or virtual machines is to have a context structure or something similar, and not use the stack and registers directly. This structure keeps track of a stack and optionally some registers, if you're designing a register based VM. At least, that's the simplest way to do it (though slightly less performant than actually mapping things correctly).\n", "There's a good set of slides on Ruby Blocks as part of the \"Rails with Passion\" course:\nRuby_Blocks.pdf\nThis covers representing a block, how they get passed arguments and executed, and even further into things like Proc objects.  It's very clearly explained.\nIt might then be of interest to look at how the JRuby guys handled these in their parsing to Java.  Take a look at the source at codehaus.\n", "I haven't actually implemented any of this, so take it with a sack of salt.\nThere are two parts to a closure: the data environment and the code environment. Like you said, you can probably pass a void* to handle references to data. You could probably use setjmp and longjmp to implement the non-linear control flow jumps that the Ruby break requires. \nIf you want closures you should probably be programming in a language that actually supports them. :-)\nUPDATE: Interesting things are happening in Clang. They've prototyped a closure for C. http://lists.cs.uiuc.edu/pipermail/cfe-dev/2008-August/002670.html might prove to be interesting reading.\n", "Maybe encode them into a known set - something like base 64 is a popular choice.\n", "Try Base64 encoding/decoding your binary data. Also look into CDATA sections\n", "You could encode the binary data using base64 and put it into a Base64 element; the below article is a pretty good one on the subject.\nHandling Binary Data in XML Documents\n", "I usually encode the binary data with MIME Base64 or URL encoding.\n", "XML is so versatile...\n<DATA>\n  <BINARY>\n    <BIT index=\"0\">0</BIT>\n    <BIT index=\"1\">0</BIT>\n    <BIT index=\"2\">1</BIT>\n    ...\n    <BIT index=\"n\">1</BIT>\n  </BINARY>\n</DATA>\n\nXML is like violence - If it doesn't solve your problem, you're not using enough of it.\nEDIT:\nBTW: Base64 + CDATA is probably the best solution\n(EDIT2:\nWhoever upmods me, please also upmod the real answer. We don't want any poor soul to come here and actually implement my method because it was the highest ranked on SO, right?)\n", "Base64 is indeed the right answer but CDATA is not, that's basically saying: \"this could be anything\", however it must not be just anything, it has to be Base64 encoded binary data. XML Schema defines Base 64 binary as a primitive datatype which you can use in your xsd.\n", "You can also Uuencode you original binary data. This format is a bit older but it does the same thing as base63 encoding. \n", "You should find your answer in the Java language specification.\nYou have forgot static method call, method call inside parameters...\n", "Calling a method using reflection (the name of the method is in a string).\n", "You could use the Byte Code Engineering Library with binaries. You can use a DescendingVisitor to visit a class' members and references. I've used it to find class dependencies.\nAlternatively, you could reuse some model of the source files. I'm pretty sure the Java editor in the Eclipse JDT is backed by some form of model.\n", "Does M include calls to its own methods?  Or calls to inner classes? For instance:\nclass J {\n  a() { }\n  b() { this.a(); }\n  c() { jj.aa(); }\n  d() { i.k(); }\n  e() { this.f().a(); }\n  f() { return this; }\n  g() { i.m().n(); }\n\n  class JJ {\n    aa() { a(); }\n  }\n}\n\nWhat would the M value of this be?  There's only three function calls to a method not defined in this class (the calls in the d() and g() functions).  Do you want to include calls to inner classes, or calls to the main class made in the inner class?  Do you want to include calls to other methods on the same class?\nIf you're looking at any method calls, regardless of the source, then a regex could probably work, but would be tricky to get right (does your regex properly ignore strings that contain method-call like contents?  Does it handle constructor calls properly?).  If you care about the source of the method call then regexes probably won't get you what you want.  You'd need to use reflection (though unfortunately I don't know enough about reflection to be helpful there).\n", "I think you're better off flattening your directory structure.  Perhaps you want to come up with a naming convention for the directories such that they sort nicely when viewing all of the projects, but ultimately I don't think all of that extra hierarchy is necessary.\nAssuming you're using Eclipse as your IDE all of the projects are going to end up in a flat list once you import them anyway so you don't really gain anything from the additional sub directories.  That in addition to the fact that the configuration is so much simpler without all the extra hierarchy makes the choice pretty clear in my mind.\nYou might also want to consider combining some of the modules.  I know nothing about your app or domain, but it seems like a lot of those leaf level modules might be better suited as just packages or sets of packages inside another top level module.  I'm all for keeping jars cohesive, but it can be taken too far sometimes.\n", "We have a largish application (160+ OSGi bundles where each bundle is a Maven module) and the lesson we learned, and continue to learn, is that flat is better. The problem with encoding semantics in your hierarchy is that you lose flexibility. A module that is 100% say \"communication\" today may be partly \"service\" tomorrow and then you'll need to be moving things around in your repository and that will break all sorts of scripts, documentation, references, etc.\nSo I would recommend a flat structure and to encode the semantics in another place (say for example an IDE workspace or documentation).\nI've answered a question about version control layout in some detail with examples at another question, it may be relevant to your situation.\n", "I don't work in the games industry, but it sounds to me like this will do the same thing for video games as the Quake and Half-Life engines did. That is they will promote getting young developers interested in the industry and promote development of indie games. \nFrom what I can tell, video game companies do not reuse most of their code, because if they do it implies that their new game is just a rehash of an old one. Everyone wants a cool new physics engine, better graphics, new ways to play the game. Most video game engines and frameworks are made for a specific scenario and thus are not very bendable to other situations. \nMaybe Darkstar will get it right though, but I kinda doubt it, since generalizing only works for so much.\n", "\nFrom what I can tell, video game companies do not reuse most of their code, because if they do it implies that their new game is just a rehash of an old one.\n\nUm... if you're referring to the long tail of video game companies, maybe. Within a company that has had a series of successful games, there is usually some modicum of reuse. Major hardware changes can result in ditching a lot of work, but it really depends on the company.\n", "Sounds like useless tech to me. The MMO world is controlled by a few big game companies that already have their own tech in place. Indie game developers love trying to build MMO's and sometimes they do, but those games rarely gain traction. Larger companies breaking into the MMO world would probably license \"proven\" technology, or extend their own.\nGame companies reuse vast quantities of code from game to game. Most/many game companies have developed their own tech internally, and use it on every game they produce. Occasionally, they will do something like replace their physics code with a 3rd party physics engine. If their internal code base (game engine, design tools, internal pipeline) starts to age too much, or become unwieldy, they might switch to one of the big game engines like Unreal. Even then, major chunks of code will continue to be re-used from game to game.\n", "It sounds like fun to design and code, but I think it ultimately comes down to useless abstractions (to steal from Joel).\n", "It's very common for games to reuse \"game engines,\" even those from third-parties. This sounds like another step in that direction.\n", "Optimising bytecode is probably an oxymoron in most cases. Unless you control the VM, you have no idea what it does to speed up code execution, if anything. The compiler would need to know the details of the VM in order to generate optimised code.\n", "\nOptimising bytecode is probably an oxymoron in most cases\n\nI don't think that's true. Optimizations like hoisting loop invariants and propagating constants can never hurt, even if the JVM is smart enough to do them on its own, by simple virtue of making the code do less work.\n", "I'm just gonna add two links which explain Java's bytecode pretty well and some of the various optimization of the JVM during runtime.\n", "Optimisation is what makes JVMs viable as environments for long running applications, you can bet that SUN, IBM and friends are doing their best to ensure they can optimise your bytecode and JIT-compiled code in an efficient a manner as possible.\nWith that being said, if you think you can pre-optimise your bytecode then it probably won't do much harm.\nIt is worth being aware, however, that JVMs can tend towards performing better (and not crashing) when presented with just the sort of bytecode the Java compiler tends to construct.  It is not unknown for optimisations to be missed or even for the JVM to crash when permutations of bytecode occur that are correct but unlike what would be produced by javac.  Hopefully that sort of thing is more in the past now, but may be something to be aware of.\n", "Your code was fine except for the Base 64 encoding bit (which you mentioned was a test), the reason the output may not have made sense is that you were displaying a raw byte array (doing toString() on a byte array returns its internal Java reference, not the String representation of the contents). Here's a version that's just a teeny bit cleaned up and which prints \"kyle boon\" as the decoded string:\nimport java.security.MessageDigest;\nimport java.util.Arrays;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class TripleDESTest {\n\n    public static void main(String[] args) throws Exception {\n\n        String text = \"kyle boon\";\n\n        byte[] codedtext = new TripleDESTest().encrypt(text);\n        String decodedtext = new TripleDESTest().decrypt(codedtext);\n\n        System.out.println(codedtext); // this is a byte array, you'll just see a reference to an array\n        System.out.println(decodedtext); // This correctly shows \"kyle boon\"\n    }\n\n    public byte[] encrypt(String message) throws Exception {\n        final MessageDigest md = MessageDigest.getInstance(\"md5\");\n        final byte[] digestOfPassword = md.digest(\"HG58YZ3CR9\"\n                .getBytes(\"utf-8\"));\n        final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n        for (int j = 0, k = 16; j < 8;) {\n            keyBytes[k++] = keyBytes[j++];\n        }\n\n        final SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n        final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n        final Cipher cipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n\n        final byte[] plainTextBytes = message.getBytes(\"utf-8\");\n        final byte[] cipherText = cipher.doFinal(plainTextBytes);\n        // final String encodedCipherText = new sun.misc.BASE64Encoder()\n        // .encode(cipherText);\n\n        return cipherText;\n    }\n\n    public String decrypt(byte[] message) throws Exception {\n        final MessageDigest md = MessageDigest.getInstance(\"md5\");\n        final byte[] digestOfPassword = md.digest(\"HG58YZ3CR9\"\n                .getBytes(\"utf-8\"));\n        final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n        for (int j = 0, k = 16; j < 8;) {\n            keyBytes[k++] = keyBytes[j++];\n        }\n\n        final SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n        final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n        final Cipher decipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n        decipher.init(Cipher.DECRYPT_MODE, key, iv);\n\n        // final byte[] encData = new\n        // sun.misc.BASE64Decoder().decodeBuffer(message);\n        final byte[] plainText = decipher.doFinal(message);\n\n        return new String(plainText, \"UTF-8\");\n    }\n}\n\n", "If you encode it in base64, this will turn any data into ascii safe text, but base64 encoded data is larger than the orignal data\n", "How are you building your XML document?  If you use java's built in XML classes then the string encoding should be handled for you.\nTake a look at the javax.xml and org.xml packages.  That's what we use for generating XML docs, and it handles all the string encoding and decoding quite nicely.\n---EDIT:\nHmm, I think I misunderstood the problem.  You're not trying to encode a regular string, but some set of arbitrary binary data?  In that case the Base64 encoding suggested in an earlier comment is probably the way to go.  I believe that's a fairly standard way of encoding binary data in XML.\n", "See this question, How do you embed binary data in XML?\nInstead of converting the byte[] into String then pushing into XML somewhere, convert the byte[] to a String via BASE64 encoding (some XML libraries have a type to do this for you). The BASE64 decode once you get the String back from XML.\nUse http://commons.apache.org/codec/\nYou data may be getting messed up due to all sorts of weird character set restrictions and the presence of non-priting characters. Stick w/ BASE64.\n", "String(byte[]) treats the data as the default character encoding. So, how bytes get converted from 8-bit values to 16-bit Java Unicode chars will vary not only between operating systems, but can even vary between different users using different codepages on the same machine! This constructor is only good for decoding one of your own text files. Do not try to convert arbitrary bytes to chars in Java!\nEncoding as base64 is a good solution. This is how files are sent over SMTP (e-mail). The (free) Apache Commons Codec project will do the job.\nbyte[] bytes = loadFile(file);          \n//all chars in encoded are guaranteed to be 7-bit ASCII\nbyte[] encoded = Base64.encodeBase64(bytes);\nString printMe = new String(encoded, \"US-ASCII\");\nSystem.out.println(printMe);\nbyte[] decoded = Base64.decodeBase64(encoded);\n\nAlternatively, you can use the Java 6 DatatypeConverter:\nimport java.io.*;\nimport java.nio.channels.*;\nimport javax.xml.bind.DatatypeConverter;\n\npublic class EncodeDecode {    \n  public static void main(String[] args) throws Exception {\n    File file = new File(\"/bin/ls\");\n    byte[] bytes = loadFile(file, new ByteArrayOutputStream()).toByteArray();\n    String encoded = DatatypeConverter.printBase64Binary(bytes);\n    System.out.println(encoded);\n    byte[] decoded = DatatypeConverter.parseBase64Binary(encoded);\n    // check\n    for (int i = 0; i < bytes.length; i++) {\n      assert bytes[i] == decoded[i];\n    }\n  }\n\n  private static <T extends OutputStream> T loadFile(File file, T out)\n                                                       throws IOException {\n    FileChannel in = new FileInputStream(file).getChannel();\n    try {\n      assert in.size() == in.transferTo(0, in.size(), Channels.newChannel(out));\n      return out;\n    } finally {\n      in.close();\n    }\n  }\n}\n\n", "Can you give us some more information on how you add the combo boxes to the JPanel?  This is a pretty common thing to do in Swing so I doubt that it's a JVM issue but I guess anything is possible.\nSpecifically, I would double check to make sure you're not accessing the GUI from any background threads.  In this case, maybe you're reading the choices from a DB or something and updating the JComboBox from a background thread, which is a big no-no in Swing.  See SwingUtils.invokeLater().\n", "We run DB40 .NET version in a large client/server project.\nOur experiences is that you can potentially get much better performance than typical relational databases.\nHowever, you really have to tweak your objects to get this kind of performance. For example, if you've got a list containing a lot of objects, DB4O activation of these lists is slow. There are a number of ways to get around this problem, for example, by inverting the relationship.\nAnother pain is activation. When you retrieve or delete an object from DB4O, by default it will activate the whole object tree. For example, loading a Foo will load Foo.Bar.Baz.Bat, etc until there's nothing left to load. While this is nice from a programming standpoint, performance will slow down the more nesting in your objects. To improve performance, you can tell DB4O how many levels deep to activate. This is time-consuming to do if you've got a lot of objects.\nAnother area of pain was text searching. DB4O's text searching is far, far slower than SQL full text indexing. (They'll tell you this outright on their site.) The good news is, it's easy to setup a text searching engine on top of DB4O. On our project, we've hooked up Lucene.NET to index the text fields we want.\nSome APIs don't seem to work, such as the GetField APIs useful in applying database upgrades. (For example, you've renamed a property and you want to upgrade your existing objects in the database, you need to use these \"reflection\" APIs to find objects in the database. Other APIs, such as the [Index] attribute don't work in the stable 6.4 version, and you must instead specify indexes using the Configure().Index(\"someField\"), which is not strongly typed.\nWe've witnessed performance degrade the larger your database. We have a 1GB database right now and things are still fast, but not nearly as fast as when we started with a tiny database.\nWe've found another issue where Db4O.GetByID will close the database if the ID doesn't exist anymore in the database.\nWe've found the Native Query syntax (the most natural, language-integrated syntax for queries) is far, far slower than the less-friendly SODA queries. So instead of typing:\n// C# syntax for \"Find all MyFoos with Bar == 23\".\n// (Note the Java syntax is more verbose using the Predicate class.)\nIList<MyFoo> results = db4o.Query<MyFoo>(input => input.Bar == 23);\n\nInstead of that nice query code, you have to an ugly SODA query which is string-based and not strongly-typed.\nFor .NET folks, they've recently introduced a LINQ-to-DB4O provider, which provides for the best syntax yet. However, it's yet to be seen whether performance will be up-to-par with the ugly SODA queries.\nDB4O support has been decent: we've talked to them on the phone a number of times and have received helpful info. Their user forums are next to worthless, however, almost all questions go unanswered. Their JIRA bug tracker receives a lot of attention, so if you've got a nagging bug, file it on JIRA on it often will get fixed. (We've had 2 bugs that have been fixed, and another one that got patched in a half-assed way.)\nIf all this hasn't scared you off, let me say that we're very happy with DB4O, despite the problems we've encountered. The performance we've got has blown away some O/RM frameworks we tried. I recommend it.\nupdate July 2015 Keep in mind, this answer was written back in 2008. While I appreciate the upvotes, the world has changed since then, and this information may not be as reliable as it was when it was written.\n", "Main problem I've encountered with it is reporting. There just doesn't seem to be any way to run efficient reports against a db4o data source.\n", "Most native queries can and are efficiently converted into SODA queries behind the scenes so that should not make a difference. Using NQ is of course preferred as you remain in the realms of strong typed language. If you have problems getting NQ to use indexes please feel free to post your problem to the db4o forums and we'll try to help you out.\nGoran\n", "Judah, it sounds like you are not using transparent activation, which is a feature of the latest production version (7.4)? Perhaps if you specified the version you are using as there may be other issues which are now resolved in the latest version?\n", "That depends on the clipboard format. If it is plain-text, then no. Unless you want to install global hooks on the clipboard.\nWhich you cannot do from Java.\n", "The API function GetClipboardOwner returns the clipboard owner \n(http://msdn.microsoft.com/en-us/library/ms649041(VS.85).aspx), -sorry cannot mark as link because the \"()\" in the URL-\nDon't know Java, I suppose you can call native API functions from inside the Java VM.\nA \"quick and dirty\" approach could be using an AutoHotKey script to intercept the CTRL+C / CTRL+INS hotkeys, grab the id of the active process (in a file or any place that can be accessed by the Java app) and proceed with the clipboard copy. The AutoHotKey part shouldn't be difficult, don't know about the Java part.\n", "It depends on what your application is doing.  You might want to throw individual exceptions in cases like \n\nThe application is high availability \nSending e-mail is particularly important \nThe scope of the application is small and sending e-mail is a large part of it\nThe application will be deployed to a site which is remote and you will only get logs for debugging\nYou can recover from some subset of the exceptions encapsulated in the mailException but not others\n\nIn most cases I would say just log the text of the exception and don't waste your time granularizing already pretty granular exceptions.  \n", "In my code, I find that MOST exceptions percolate up to a UI layer where they are caught by my exception handlers which simply display a message to the user (and write to the log). It's an unexpected exception, after all.\nSometimes, I do want to catch a specific exception (as you seem to want to do). You'll probably find, however, that this is somewhat rare and that it is indicative of using exceptions to control logic -- which is inefficient (slow) and often frowned upon.\nSo using your example, if you want to run some special logic when the email server is not configured, you may want to add a method to the emailUtil object like:\npublic bool isEmailConfigured()\n... call that first, instead of looking for a specific exception.\nWhen an exception does happen, it really means that the situation was completely unexpected and the code can't handle it -- so the best you can do is report it to the user (or write it to a log or restart )\nAs for having an exception hierarchy vs exceptions-with-error-codes-in-them, I typically do the latter. It's easier to add new exceptions, if you just need to define a new error constant instead of a whole new class. But, it doesn't matter much as long as you try to be consistent throughout your project.\n", "Instead of using exceptions, I tend to return a list of status objects from methods that may have problems executing.  The status objects contain a severity enum (information, warning, error, ...) a status object name like \"Email Address\" and a user readable message like \"Badly formatted Email Address\"\nThe calling code would then decide which to filter up to the UI and which to handle itself.\nPersonally, I think exceptions are strictly for when you can't implement a normal code solution.  The performance hit and handling restrictions are just a bit too much for me.\nAnother reason for using a list of status objects is that identifying multiple errors (such as during validation) is MUCH easier.  After all, you can only throw one exception which must be handled before moving on.  \nImagine a user submitting an email that had a malformed destination address and contained language that you are blocking.  Do you throw the malformed email exception, then, after they fix that and resubmit, throw a bad language exception?  From a user experience perspective dealing with all of them at once is a better way to go.\nUPDATE: combining answers\n@Jonathan: My point was that I can evaluate the action, in this case sending an email, and send back multiple failure reasons. For example, \"bad email address\", \"blank message title\", etc..\nWith an exception, you're limited to just percolating the one problem then asking the user to resubmit at which point they find out about a second problem. This is really bad UI design.\nReinventing the wheel.. possibly. However, most applications should analyze the whole transaction in order to give the best possible information to the user. Imagine if your compiler stopped dead at the first error. You then fix the error and hit compile again only to have it stop again for a different error. What a pain in the butt. To me, that's exactly the problem with throwing exceptions and hence the reason I said to use a different mechanism.\n", "@Chris.Lively\nYou know you can pass a message in your exception, or even the \"status codes\". You are reinventing the wheel here.\n", "I tend to have less Exception types, although it's not really the OO way to do it. Instead I put an enum to my custom Exceptions, which classifies the Exception. Most of the time I have a custom base Exception, which holds on to a couple of members, which can be overridden or customized in derived Exception types. \nA couple of months ago I blogged about the idea of how to internationalize Exceptions. It includes some of the ideas mentioned above.\n", "I would just go by\nthrow new exception(\"WhatCausedIt\")\n\nif you want to handle your exceptions, you could pass a code instead of \"WhatCausedIt\" an then react to the different answers with a switch statement. \n", "While you can differenciate the code execution looking the exception don't matter if it's done by the \"catch exceptionType hierarchy mode\" or by \"if(...) else...exception code mode\"\nbut if you are developing software wich is going to be used by other people, like a library i think it's usefull create your own exception types to notice the other people that your sofware can throw other exceptions than the normal ones, and they better catch and resolve them.\nWhen i use a library and their methods simply launch an 'Exception' i allways wonder: What can cause this exception?, how must my program react?, if there is a javadoc maybe the cause will be explained, but mustly of times there is not a javadoc or the exception is not explained. Too much overhead witch can be avoided with a WellChossenExceptionTypeName\n", "It depends on whether the code that catches the exception needs to differentiate between exceptions or whether you are just using exceptions to fail out to an error page.  If you need to differentiate between a NullReference exception and your custom MailException higher up in the call stack, then spend the time and write it.  But most of the time programmers just use exceptions as a catch all to throw up an error on the web page.  In this case you are just wasting effort on writing a new exception.\n", "I think a combination of the above is going to give you the best result. \nYou can throw different exceptions depending on the problem. e.g. Missing email address = ArgumentException. \nBut then in the UI layer you can check the exception type and, if need be, the message and then display a appropriate message to the user. I personally tend to only show a informational message to the user if a certain type of exception is thrown (UserException in my app). Of course you should scrub and verify user input as much as possible further up the stack to make sure any exceptions are generated by truly unlikely scenarios, not as a filter for malformed emails which can easily be checked with a regex.\nI also wouldn't worry about the performance implications of catching an exception from user input. The only time you are going to see performance problems from exceptions is when they are being thrown and caught in a loop or similar.\n", "I usually start with a general exception and subclass it as needed. I always can catch the general exception (and with it all subclassed exceptions) if needed, but also the specific.\nAn example from the Java-API is IOException, that has subclasses like FileNotFoundException or EOFException (and much more).\nThis way you get the advantages of both, you don't have throw-clauses like:\nthrows SpecificException1, SpecificException2, SpecificException3 ...\n\na general\nthrows GeneralException\n\nis enough. But if you want to have a special reaction to special circumstances you can always catch the specific exception.\n", "IDEA 8 Milestone 1 is a beta(ish) \"based on a new platform\". This may have changed the way that swing is handled. Also you are running a beta JDK.\nYou will probably get more help/submit a bug at the Jetbrain forums unless they are on SO also. Here is the bug tracker link\n", "Ask your question directly on the IDEA website. They always react fast and the problem you have is probably either fixed or documented.\n", "I have actually experienced problems from using the JDK 6u10 beta myself and had to downgrade to JDK 6u7 for the time being. This solved some of my problems with among other things swing.\nAlso, i have been running IJ8M1 since the 'release' and I am very satisfied with it, especially if you regard the \"beta\" tag. It feels snappier and also supports multiple cores which makes my development machine rejoice. ;p\nAnyway, i use WinXP32 and IJ8M1 with JDK 6u7 and that is afaik very stable indeed.\n", "Static methods are not instance methods. There's no instance context, therefore to implement it from the interface makes little sense.\n", "I'll answer your question with an example. Suppose we had a Math class with a static method add. You would call this method like so:\nMath.add(2, 3);\n\nIf Math were an interface instead of a class, it could not have any defined functions. As such, saying something like Math.add(2, 3) makes no sense.\n", "The reason why you can't have a static method in an interface lies in the way Java resolves static references. Java will not bother looking for an instance of a class when attempting to execute a static method. This is because static methods are not instance dependent and hence can be executed straight from the class file. Given that all methods in an interface are abstract, the VM would have to look for a particular implementation of the interface in order to find the code behind the static method so that it could be executed. This then contradicts how static method resolution works and would introduce an inconsistency into the language.\n", "An interface is used for polymorphism, which applies to Objects, not types. Therefore (as already noted) it makes no sense to have an static interface member.\n", "Perhaps a code example would help, I'm going to use C#, but you should be able to follow along.\nLets pretend we have an interface called IPayable\npublic interface IPayable\n{\n    public Pay(double amount);\n}\n\nNow, we have two concrete classes that implement this interface:\npublic class BusinessAccount : IPayable\n{\n    public void Pay(double amount)\n    {\n        //Logic\n    }\n}\n\npublic class CustomerAccount : IPayable\n{\n    public void Pay(double amount)\n    {\n        //Logic\n    }\n}\n\nNow, lets pretend we have a collection of various accounts, to do this we will use a generic list of the type IPayable\nList<IPayable> accountsToPay = new List<IPayable>();\naccountsToPay.add(new CustomerAccount());\naccountsToPay.add(new BusinessAccount());\n\nNow, we want to pay $50.00 to all those accounts:\nforeach (IPayable account in accountsToPay)\n{\n    account.Pay(50.00);\n}\n\nSo now you see how interfaces are incredibly useful. \nThey are used on instantiated objects only. Not on static classes. \nIf you had made pay static, when looping through the IPayable's in accountsToPay there would be no way to figure out if it should call pay on BusinessAcount or CustomerAccount.\n", "There are a few issues at play here.  The first is the issue of declaring a static method without defining it.  This is the difference between\npublic interface Foo {\n  public static int bar();\n}\n\nand\npublic interface Foo {\n  public static int bar() {\n    ...\n  }\n}\n\nThe first is impossible for the reasons that Espo mentions: you don't know which implementing class is the correct definition.\nJava could allow the latter; and in fact, starting in Java 8, it does!\n", "The reason lies in the design-principle, that java does not allow multiple inheritance. The problem with multiple inheritance can be illustrated by the following example:\npublic class A {\n   public method x() {...}\n}\npublic class B {\n   public method x() {...}\n}\npublic class C extends A, B { ... }\n\nNow what happens if you call C.x()? Will be A.x() or B.x() executed? Every language with multiple inheritance has to solve this problem.\nInterfaces allow in Java some sort of restricted multiple inheritance. To avoid the problem above, they are not allowed to have methods. If we look at the same problem with interfaces and static methods:\npublic interface A {\n   public static method x() {...}\n}\npublic interface B {\n   public static method x() {...}\n}\npublic class C implements A, B { ... }\n\nSame problem here, what happen if you call C.x()?\n", "I think the article \"Java theory and practice: A brief history of garbage collection\" from IBM should help explain some of the questions you have.\n", "There are drawbacks of using reference counting. One of the most mentioned is circular references: Suppose A references B, B references C and C references B. If A were to drop its reference to B, both B and C will still have a reference count of 1 and won't be deleted with traditional reference counting. CPython (reference counting is not part of python itself, but part of the C implementation thereof) catches circular references with a separate garbage collection routine that it runs periodically...\nAnother drawback: Reference counting can make execution slower. Each time an object is referenced and dereferenced, the interpreter/VM must check to see if the count has gone down to 0 (and then deallocate if it did). Garbage Collection does not need to do this.\nAlso, Garbage Collection can be done in a separate thread (though it can be a bit tricky). On machines with lots of RAM and for processes that use memory only slowly, you might not want to be doing GC at all! Reference counting would be a bit of a drawback there in terms of performance...\n", "Darren Thomas gives a good answer.  However, one big difference between the Java and Python approaches is that with reference counting in the common case (no circular references) objects are cleaned up immediately rather than at some indeterminate later date.\nFor example, I can write sloppy, non-portable code in CPython such as\ndef parse_some_attrs(fname):\n    return open(fname).read().split(\"~~~\")[2:4]\n\nand the file descriptor for that file I opened will be cleaned up immediately because as soon as the reference to the open file goes away, the file is garbage collected and the file descriptor is freed.  Of course, if I run Jython or IronPython or possibly PyPy, then the garbage collector won't necessarily run until much later; possibly I'll run out of file descriptors first and my program will crash.\nSo you SHOULD be writing code that looks like\ndef parse_some_attrs(fname):\n    with open(fname) as f:\n        return f.read().split(\"~~~\")[2:4]\n\nbut sometimes people like to rely on reference counting to always free up their resources because it can sometimes make your code a little shorter.\nI'd say that the best garbage collector is the one with the best performance, which currently seems to be the Java-style generational garbage collectors that can run in a separate thread and has all these crazy optimizations, etc.  The differences to how you write your code should be negligible and ideally non-existent.\n", "The latest Sun Java VM actually have multiple GC algorithms which you can tweak.  The Java VM specifications intentionally omitted specifying actual GC behaviour to allow different (and multiple) GC algorithms for different VMs.\nFor example, for all the people who dislike the \"stop-the-world\" approach of the default Sun Java VM GC behaviour, there are VM such as IBM's WebSphere Real Time which allows real-time application to run on Java.\nSince the Java VM spec is publicly available, there is (theoretically) nothing stopping anyone from implementing a Java VM that uses CPython's GC algorithm.\n", "Reference counting is particularly difficult to do efficiently in a multi-threaded environment. I don't know how you'd even start to do it without getting into hardware assisted transactions or similar (currently) unusual atomic instructions.\nReference counting is easy to implement. JVMs have had a lot of money sunk into competing implementations, so it shouldn't be surprising that they implement very good solutions to very difficult problems. However, it's becoming increasingly easy to target your favourite language at the JVM.\n", "Garbage collection is faster (more time efficient) than reference counting, if you have enough memory. For example, a copying gc traverses the \"live\" objects and copies them to a new space, and can reclaim all the \"dead\" objects in one step by marking a whole memory region. This is very efficient, if you have enough memory. Generational collections use the knowledge that \"most objects die young\"; often only a few percent of objects have to be copied.\n[This is also the reason why gc can be faster than malloc/free]\nReference counting is much more space efficient than garbage collection, since it reclaims memory the very moment it gets unreachable. This is nice when you want to attach finalizers to objects (e.g. to close a file once the File object gets unreachable). A reference counting system can work even when only a few percent of the memory is free. But the management cost of having to increment and decrement counters upon each pointer assignment cost a lot of time, and some kind of garbage collection is still needed to reclaim cycles.\nSo the trade-off is clear: if you have to work in a memory-constrained environment, or if you need precise finalizers, use reference counting. If you have enough memory and need the speed, use garbage collection.\n", "Actually reference counting and the strategies used by the Sun JVM are all different types of garbage collection algorithms.\nThere are two broad approaches for tracking down dead objects: tracing and reference counting. In tracing the GC starts from the \"roots\" - things like stack references, and traces all reachable (live) objects. Anything that can't be reached is considered dead. In reference counting each time a reference is modified the object's involved have their count updated. Any object whose reference count gets set to zero is considered dead.\nWith basically all GC implementations there are trade offs but tracing is usually good for high through put (i.e. fast) operation but has longer pause times (larger gaps where the UI or program may freeze up). Reference counting can operate in smaller chunks but will be slower overall. It may mean less freezes but poorer performance overall.\nAdditionally a reference counting GC requires a cycle detector to clean up any objects in a cycle that won't be caught by their reference count alone. Perl 5 didn't have a cycle detector in its GC implementation and could leak memory that was cyclic.\nResearch has also been done to get the best of both worlds (low pause times, high throughput):\nhttp://cs.anu.edu.au/~Steve.Blackburn/pubs/papers/urc-oopsla-2003.pdf\n", "You'll have to write your own parser, like the author of String::Random (Perl) did. In fact, he doesn't use regexes anywhere in that module, it's just what perl-coders are used to.\nOn the other hand, maybe you can have a look at the source, to get some pointers.\n\nEDIT: Damn, blair beat me to the punch by 15 seconds.\n", "Edit: \nAs mentioned in the comments, there is a library available at Google Code to acheive this:\nhttp://code.google.com/p/xeger\nSee also https://github.com/mifmif/Generex as suggested by Mifmif\nOriginal message:\nFirstly, with a complex enough regexp, i believe this can be impossible. But you should be able to put something together for simple regexps.\nIf you take a look at the source code of the class java.util.regex.Pattern, you'll see that it uses an internal representation of Node instances. Each of the different pattern components have their own implementation of a Node subclass. These Nodes are organised into a tree.\nBy producing a visitor that traverses this tree, you should be able to call an overloaded generator method or some kind of Builder that cobbles something together.\n", "Visual Studio Team System does include something like this. Check it out\nNot much help for Java though, so sorry.\n", "On stackoverflow podcast 11:\n\nSpolsky:  Yep.  There's a new product also, if you don't want to use the Team System there our friends at Redgate have a product called SQL Data Generator [http://www.red-gate.com/products/sql_data_generator/index.htm].  It's $295, and it just generates some realistic test data.  And it does things like actually generate real cities in the city column that actually exist, and then when it generates those it'll get the state right, instead of getting the state wrong, or putting states into German cities and stuff like... you know, it generates pretty realistic looking data.  I'm not really sure what all the features are.\n\nThis is probably not what you are looking for, but it might be a good starting off point, instead of creating your own.\nI can't seem to find anything in google, so I would suggest tackling the problem by parsing a given regular expression into the smallest units of work (\\w, [x-x], \\d, etc) and writing some basic methods to support those regular expression phrases.\nSo for \\w you would have a method getRandomLetter() which returns any random letter, and you would also have getRandomLetter(char startLetter, char endLetter) which gives you a random letter between the two values.\n", "I know there's already an accepted answer, but I've been using RedGate's Data Generator (the one mentioned in Craig's answer) and it works REALLY well for everything I've thrown at it. It's quick and that leaves me wanting to use the same regex to generate the real data for things like registration codes that this thing spits out.\nIt takes a regex like:\n[A-Z0-9]{3,3}-[A-Z0-9]{3,3}\n\nand it generates tons of unique codes like:\nLLK-32U\n\nIs this some big secret algorithm that RedGate figured out and we're all out of luck or is it something that us mere mortals actually could do?\n", "It's far from supporting a full PCRE regexp, but I wrote the following Ruby method to take a regexp-like string and produce a variation on it. (For language-based CAPTCHA.)\n# q = \"(How (much|many)|What) is (the (value|result) of)? :num1 :op :num2?\"\n# values = { :num1=>42, :op=>\"plus\", :num2=>17 }\n# 4.times{ puts q.variation( values ) }\n# => What is 42 plus 17?\n# => How many is the result of 42 plus 17?\n# => What is the result of 42 plus 17?\n# => How much is the value of 42 plus 17?\nclass String\n  def variation( values={} )\n    out = self.dup\n    while out.gsub!( /\\(([^())?]+)\\)(\\?)?/ ){\n      ( $2 && ( rand > 0.5 ) ) ? '' : $1.split( '|' ).random\n    }; end\n    out.gsub!( /:(#{values.keys.join('|')})\\b/ ){ values[$1.intern] }\n    out.gsub!( /\\s{2,}/, ' ' )\n    out\n  end\nend\n\nclass Array\n  def random\n    self[ rand( self.length ) ]\n  end\nend\n", "A very simple formula for converting from CMYK to RGB ignoring all color profiles is:\n\n    R = ( (255-C)*(255-K) ) / 255;\n    G = ( (255-M)*(255-K) ) / 255;\n    B = ( (255-Y)*(255-K) ) / 255;\n\nThis code requires CMYK values to be in rage of 0-255. If you have 0 to 100 or 0.0 to 1.0 you'll have to convert the values.\nHope this will get you started.\nAs for the java and ColdFusion interfacing, I'm sorry, but I have no idea how to do that.\n", "The tag cfx_image may be of use to you.  I haven't used it in a while but I remember it had a ton of features.\nAlternatively, you might be able to script a windows app such as Irfanview (via commandline using cfexecute) to process images.\nHope that helps\n", "I've had good success using Mockito.\nWhen I tried learning about JMock and EasyMock, I found the learning curve to be a bit steep (though maybe that's just me).\nI like Mockito because of its simple and clean syntax that I was able to grasp pretty quickly. The minimal syntax is designed to support the common cases very well, although the few times I needed to do something more complicated I found what I wanted was supported and easy to grasp.\nHere's an (abridged) example from the Mockito homepage:\nimport static org.mockito.Mockito.*;\n\nList mockedList = mock(List.class);\nmockedList.clear();\nverify(mockedList).clear();\n\nIt doesn't get much simpler than that.\nThe only major downside I can think of is that it won't mock static methods.\n", "We are heavily using EasyMock and EasyMock Class Extension at work and are pretty happy with it. It basically gives you everything you need. Take a look at the documentation, there's a very nice example which shows you all the features of EasyMock.\n", "I started using mocks through JMock, but eventually transitioned to use EasyMock. EasyMock was just that, --easier-- and provided a syntax that felt more natural. I haven't switched since.\n", "Mockito also provides the option of stubbing methods, matching arguments (like anyInt() and anyString()), verifying the number of invocations (times(3), atLeastOnce(), never()), and more.\nI've also found that Mockito is simple and clean.\nOne thing I don't like about Mockito is that you can't stub static methods.\n", "Yes, Mockito is a great framework. I use it together with hamcrest and Google guice to setup my tests.\n", "You could also have a look at testing using Groovy. In Groovy you can easily mock Java interfaces using the 'as' operator:\ndef request = [isUserInRole: { roleName -> roleName == \"testRole\"}] as HttpServletRequest \n\nApart from this basic functionality Groovy offers a lot more on the mocking front, including the powerful MockFor and StubFor classes.\nhttp://docs.codehaus.org/display/GROOVY/Groovy+Mocks\n", "I've been having success with JMockit.\nIt's pretty new, and so it's a bit raw and under-documented.  It uses ASM to dynamically redefine the class bytecode, so it can mock out all methods including static, private, constructors, and static initializers.  For example:\nimport mockit.Mockit;\n\n...\nMockit.redefineMethods(MyClassWithStaticInit.class,\n                       MyReplacementClass.class);\n...\nclass MyReplacementClass {\n  public void $init() {...} // replace default constructor\n  public static void $clinit{...} // replace static initializer\n  public static void myStatic{...} // replace static method\n  // etc...\n}\n\nIt has an Expectations interface allowing record/playback scenarios as well:\nimport mockit.Expectations;\nimport org.testng.annotations.Test;\n\npublic class ExpecationsTest {\n  private MyClass obj;\n\n  @Test\n  public void testFoo() {\n    new Expectations(true) {\n      MyClass c;\n      {\n        obj = c;\n        invokeReturning(c.getFoo(\"foo\", false), \"bas\");\n      }\n    };\n\n    assert \"bas\".equals(obj.getFoo(\"foo\", false));\n\n    Expectations.assertSatisfied();\n  }\n\n  public static class MyClass {\n    public String getFoo(String str, boolean bool) {\n      if (bool) {\n        return \"foo\";\n      } else {\n        return \"bar\";\n      }\n    }\n  }\n}\n\nThe downside is that it requires Java 5/6.\n", "Set a short timeout?\nDoes isOutputShutdown() not get you what you want?\nYou could always build a SocketWatcher class that spins up in its own Thread and repeatedly tries to write empty strings to the Socket until that raises a SocketClosedException.\n", "Set a different thread to reading from the socket.  It will block until the socket is closed, and then an exception will be thrown.  Catch that exception to detect the close immediately.\n", "I did make some headway on this sort of thing a few years back using Apache POI to extract the contents of an email from .msg files.  I'm pretty sure they have a simple swing explorer / viewer that you can use to examine the structure within the compound document format, but I can't find it right now.  \nI was able to extract most information that I was interested in but was ultimately wanting to create a mime format version of the message and couldn't extract all the information I needed in a format I could use.\n", "I assume that you've already ruled out the tools in \"org.eclipse.swt.dnd\" for some reason?  There are some examples here on how to go about using them, in case you haven't.  If what you really want to do is drag&drop, you're going to have to do some work with those tools.  At that point, really the question becomes, what format is it in on the clipboard, vs in a file, and which is easier to integrate into your app. \n", "There's also JGraph, but I'm not sure if that's only for graphs (i.e. nodes and edges), or if it does charts also.\n", "Here's something different: it's very to embed web pages in SWT views. I recently tried it and it works very well. You can see where this is going: there are plenty of beautiful charting components for HTML, it could be an option. Just make sure the component is client-side only (unless you want to start a server).\nI haven't tested Flash, but I'm pretty sure you can get it to work (naturally, this means your software will require Flash plug-in installed).\n", "I have not used BIRT or JGraph, however I use JFreeChart in my SWT application. I have found the best way to use JFreeChart in SWT is by making a composite an AWT frame and using the AWT functionality for JFreeChart. The way to do this is by creating a composite \nComposite comp = new Composite(parent, SWT.NONE | SWT.EMBEDDED);\nFrame frame = SWT_AWT.new_Frame(comp);\nJFreeChart chart = createChart();\nChartPanel chartPanel = new ChartPanel(chart);\nframe.add(chartPanel);\n\nThere are several problems in regards to implementations across different platforms as well as the SWT code in it is very poor (in its defense Mr. Gilbert does not know SWT well and it is made for AWT). My two biggest problems are as AWT events bubble up through SWT there are some erroneous events fired and due to wrapping the AWT frame JFreeChart becomes substantially slower.\n@zvikico\nThe idea of putting the chart into a web page is probably not a great way to go. There are a few problems first being how Eclipse handles integrating the web browser on different platforms is inconsistent. Also from my understanding of a few graphing packages for the web they are server side requiring that setup, also many companies including mine use proxy servers and sometimes this creates issues with the Eclipse web browsing.\n", "There\u2019s also ILOG JViews Charts which looks pretty feature-complete\u2026 if you can afford it.\nHere is some additional infos on using it with eclipse. \n", "JCharts is another option. It is similar to JFreeChart but the documentation is free. It does not have direct support for SWT but you can always generate an image and embed it in an SWT frame.\n", "You will want to use org.xml.sax.XMLReader (http://docs.oracle.com/javase/7/docs/api/org/xml/sax/XMLReader.html).\n", "I would use Stax to parse XML, it's fast and easy to use. I've been using it on my last project to parse XML files up to 24MB. There's a nice introduction on java.net, which tells you everything you need to know to get started.\n", "Gigaspaces is top notch as far as a Javaspaces implementation goes for scalability and performance. Are you restricted to a Javaspaces implementation? Blitz Javaspaces is top notch for a free product.\n", "As the first answer says, what are your criteria?  There's a number of commercial and open-source tools in the same space (but not Javaspaces-based):\n\nOracle Coherence\nGemstone's Gemfire\nTerracotta (a degree of overlap, but not quite in the same space)\nGridGain (does the grid bit, but not the distributed cache bit)\n\n", "Let Y = 0.3*R + 0.59*G + 0.11*B for each pixel in the image, then set them to be\n((R1+Y)/2,(G1+Y)/2,(B1+Y)/2)\nif (R1,G1,B1) is what you are colorizing with.\n", "I have never used GIMP's colorize command. However, if your getting the RGB value of each pixel and adding RGB value to it you should really use a LookupOp. Here is some code that I wrote to apply a BufferedImageOp to a BufferedImage.\nUsing Nicks example from above heres how I would do it.\n\nLet Y = 0.3*R + 0.59*G + 0.11*B for\n  each pixel\n(R1,G1,B1) is what you are colorizing\n  with\n\nprotected LookupOp createColorizeOp(short R1, short G1, short B1) {\n    short[] alpha = new short[256];\n    short[] red = new short[256];\n    short[] green = new short[256];\n    short[] blue = new short[256];\n\n    int Y = 0.3*R + 0.59*G + 0.11*B\n\n    for (short i = 0; i < 256; i++) {\n        alpha[i] = i;\n        red[i] = (R1 + i*.3)/2;\n        green[i] = (G1 + i*.59)/2;\n        blue[i] = (B1 + i*.11)/2;\n    }\n\n    short[][] data = new short[][] {\n            red, green, blue, alpha\n    };\n\n    LookupTable lookupTable = new ShortLookupTable(0, data);\n    return new LookupOp(lookupTable, null);\n}\n\nIt creates a BufferedImageOp that will mask out each color if the mask boolean is true.\nIts simple to call too.\nBufferedImageOp colorizeFilter = createColorizeOp(R1, G1, B1);\nBufferedImage targetImage = colorizeFilter.filter(sourceImage, null);\n\nIf this is not what your looking for I suggest you look more into BufferedImageOp's.\nThis is would also be more efficient since you would not need to do the calculations multiple times on different images. Or do the calculations over again on different BufferedImages as long as the R1,G1,B1 values don't change.\n", "You can mark variables as \"silent\" like this:\n$!variable\n\nIf $variable is null, nothing will be rendered. If it is not null, its value will render as it normally would.\n", "You will also need to be sure and use the proper syntax.  Your example is missing the dollar before the variable.  It should be $!{person.age}, not just {person.age}.\n", "class Producer implements Runnable {\n   private final BlockingQueue queue;\n   Producer(BlockingQueue q) { queue = q; }\n   public void run() {\n     try {\n       while (true) { queue.put(produce()); }\n     } catch (InterruptedException ex) { ... handle ...}\n   }\n   Object produce() { ... }\n }\n\n class Consumer implements Runnable {\n   private final BlockingQueue queue;\n   Consumer(BlockingQueue q) { queue = q; }\n   public void run() {\n     try {\n       while (true) { consume(queue.take()); }\n     } catch (InterruptedException ex) { ... handle ...}\n   }\n   void consume(Object x) { ... }\n }\n\n class Setup {\n   void main() {\n     BlockingQueue q = new SomeQueueImplementation();\n     Producer p = new Producer(q);\n     Consumer c1 = new Consumer(q);\n     Consumer c2 = new Consumer(q);\n     new Thread(p).start();\n     new Thread(c1).start();\n     new Thread(c2).start();\n   }\n }\n\nThis example was taken from the JDK 1.6 docs of BlockingQueue. So You can see that you are doing it the right way. Here's the quote which tells you that it have to work:\n\nMemory consistency effects: As with\n  other concurrent collections, actions\n  in a thread prior to placing an object\n  into a BlockingQueue happen-before\n  actions subsequent to the access or\n  removal of that element from the\n  BlockingQueue in another thread.\n\n", "\nAlso, are they unique to Java, is there a C++ equivalent?\n\nNo, but VB and C# have attributes which are the same thing.\nTheir use is quite diverse. One typical Java example, @Override has no effect on the code but it can be used by the compiler to generate a warning (or error) if the decorated method doesn't actually override another method. Similarly, methods can be marked obsolete.\nThen there's reflection. When you reflect a type of a class in your code, you can access the attributes and act according to the information found there. I don't know any examples in Java but in .NET this is used by the compiler to generate (de)serialization information for classes, determine the memory layout of structures and declare function imports from legacy libraries (among others). They also control how the IDE form designer works.\n/EDIT: Attributes on classes are comparable to tag interfaces (like Serializable in Java). However, the .NET coding guidelines say not to use tag interfaces. Also, they only work on class level, not on method level.\n", "Annotations are primarily used by code that is inspecting other code. They are often used for modifying (i.e. decorating or wrapping) existing classes at run-time to change their behavior. Frameworks such as JUnit and Hibernate use annotations to minimize the amount of code you need to write yourself to use the frameworks.\nOracle has a good explanation of the concept and its meaning in Java on their site.\n", "Anders gives a good summary, and here's an example of a JUnit annotation\n@Test(expected=IOException.class)\npublic void flatfileMissing() throws IOException {\n    readFlatFile(\"testfiles\"+separator+\"flatfile_doesnotexist.dat\");\n}\n\nHere the @Test annotation is telling JUnit that the flatfileMissing method is a test that should be executed and that the expected result is a thrown IOException.  Thus, when you run your tests, this method will be called and the test will pass or fail based on whether an IOException is thrown.\n", "Java also has the Annotation Processing Tool (apt) where not only you create annotations, but decide also how do these annotations work on the source code.\nHere is an introduction.\n", "To see some cool stuff you can do with Annotations, check out my JavaBean annotations and annotation processor.\nThey're great for generating code, adding extra validations during your build, and I've also been using them for an error message framework (not yet published -- need to clear with the bosses...).\n", "You should change the #if line to:\n#if($car)\n\n", "In the upcoming Velocity 1.6 release, you will be able to do #if( $car == $null ) without error messages.  This will allow you to distinguish easily between when $car is null and when it is false.  To do that now requires #if( $car && $car != false ), which just isn't as friendly.\n", "My rules:\n\nDon't initialize with the default values in declaration (null, false, 0, 0.0\u2026).\nPrefer initialization in declaration if you don't have a constructor parameter that changes the value of the field.\nIf the value of the field changes because of a constructor parameter put the initialization in the constructors.\nBe consistent in your practice (the most important rule).\n\n", "Assuming the type in your example, definitely prefer to initialize fields in the constructor. The exceptional cases are:\n\nFields in static classes/methods\nFields typed as static/final/et al\n\nI always think of the field listing at the top of a class as the table of contents (what is contained herein, not how it is used), and the constructor as the introduction. Methods of course are chapters.\n", "What if I told you, it depends?\nI in general initialize everything and do it in a consistent way. Yes it's overly explicit but it's also a little easier to maintain. \nIf we are worried about performance, well then I initialize only what has to be done and place it in the areas it gives the most bang for the buck.\nIn a real time system, I question if I even need the variable or constant at all.\nAnd in C++ I often do next to no initialization in either place and move it into an Init() function. Why? Well, in C++ if you're initializing something that can throw an exception during object construction you open yourself to memory leaks.\n", "I normally try the constructor to do nothing but getting the dependencies and initializing the related instance members with them. This will make you life easier if you want to unit test your classes.\nIf the value you are going to assign to an instance variable does not get influenced by any of the parameters you are going to pass to you constructor then assign it at declaration time.\n", "In C# it doesn't matter. The two code samples you give are utterly equivalent. In the first example the C# compiler (or is it the CLR?) will construct an empty constructor and initialise the variables as if they were in the constructor.\nIf there is already a constructor then any initialisation \"above\" will be moved into the top of it.\nIn terms of best practice the former is less error prone than the latter as someone could easily add another constructor and forget to chain it.\n", "There is a slight performance benefit to setting the value in the declaration.  If you set it in the constructor it is actually being set twice (first to the default value, then reset in the ctor).  \n", "The semantics of C# differs slightly from Java here. In C# assignment in declaration is performed before calling the superclass constructor. In Java it is done immediately after which allows 'this' to be used (particularly useful for anonymous inner classes), and means that the semantics of the two forms really do match.\nIf you can, make the fields final.\n", "Disclamer: I work at Vaadin (previously IT Mill) \nIf you are doing something RIAish, you might want to take look at Vaadin. It's an open source UI-oriented AJAX framework that, to me, is nice to use (I come from a PHP background myself).\nThere's a case study that compares doing the same application (i.e. two applications with the same set of features) in Icefaces and Vaadin. In a nutshell, it states that the UI development was considerably faster. \nEven though the study is hosted at the company's wiki, I can assure that it's objective, genuine and truthful, although I can't force you in believing me.\n", "I think for your modest requirements, you just need to code up servlets or simple jsp pages that you can serve from Tomcat server. I dont think you need any kind of web-framework (like struts) for personal web-site data\n", "My favorite is the Spring Framework. With 2.5 Spring MVC is soooo kick ass, with new annotations, convention over configuration features, etc.\nIf you're just doing something super simple you could also just try using the regular Servlet API and not bother with a framework.\n", "I've heard good things about the Spring Framework too.  In general, though, I've been underwhelmed by most Java web frameworks I've looked at (esp Struts).  \nFor a simple app I'd definitely consider using \"raw\" servlets and JSPs and not worry about adopting a framework.  If the servlets are well written, it should be straightforward in the future to port to a framework if necessary when the app grows in complexity.\n", "I've used Tapestry 3, Wicket, Echo, and JSF fairly extensively.  I'd really recommend you look those over and pick the one that appears the easiest for you, and to most closely fit the way you prefer to work.\nOf them, the most comfortable for me to work with was Wicket, due to the lightweight nature of component building and simplicity of page templating.  That goes doubly so if you are using your own db code instead of Hibernate or some other framework (I was never completely happy with Wicket Hibernate or Spring Integration).\nEcho is great if you don't mind writing all of your layout in Java.  I know that is different now, but I still think that product serves a fairly narrow niche.  They change the development model with every major release as well it seems.\nTapestry is a great product, but it is obviously very different from the others in terms of development model as it is led mainly by one dude.  Howard Lewis Ship is no doubt quite smart, but I am disappointed with their decision to basically forget backwards compatibility with each release.  Again, though, for your needs this may not matter, and I've always found the Tapestry products pleasurable to work against.\nJSF has been out for years, and still feels like something that a Struts guy built to fix all of the problems of Struts.  Without really understanding all of the problems with Struts.  It still has an unfinished feel to it, although the product is obviously very flexible.  I use it and have some fondness for it, with great hopes for its future.  I think the next release (2.0) to be delivered in JEE6 will really bring it into its own, with a new template syntax (similar to Facelets) and a simplified component model (custom components in only 1 file... finally).\nAnd, of course, there are a million smaller frameworks and tools that get their own following (Velocity for basic needs, raw JSPs, Struts, etc).  I generally prefer component oriented frameworks myself, though.  \nIn the end, I'd recommend just taking a look at Tapestry, Wicket, and JSF and just picking the one that feels the best to you.  You'll probably find one that just fits the way you like to work very quickly.\n", "I've recently started using the Stripes Framework. If you're looking for a request based framework that's really easy to use, but doesn't impose any limits on what you are doing I'd highly recommend it.\nIt's similar to struts, but it goes way beyond it. There are even some plugin projects that enable you to do use hibernate or jpa with very little configuration.\nThere are a lot of good frameworks out there though I've heard wicket is a good one as well, but I haven't used it.\n", "I recommend the component oriented Wicket framework. It allows you to write your web application in plain old Java code, you can use POJOs as the model for all components and don't need to mess around with huge XML configuration files. \nI had successfully developed an online banking application with Struts when I discovered Wicket and saw how easy web application development can be!\n", "UPDATE: Tapestry 5.2 is out, so it's not abandoned, as it previously appeared to be. My experience is with Tapestry 4, not 5, so your mileage may vary. My opinion of Tapestry has changed over the years; I have modified this post to reflect it.\nI can no longer recommend Tapestry as I did previously. Tapestry 5 appears to be a significant improvement, but my main issue with Tapestry is not with platform itself; it's with the people behind it.\nHistorically, every major version update of Tapestry has broken backwards compatibility with extreme prejudice, far more than one might expect. This seems to be due to the incorporation of new coding techniques or technologies that require significant rewrites.\nHoward Lewis Ship (the principal author of Tapestry) is certainly a brilliant developer, but I can't say I care for his management of the Tapestry project. Development of Tapestry 5 began almost immediately after Tapestry 4 shipped. From what I can tell, Ship pretty much devoted himself to that, leaving Tapestry 4 in the hands of other contributors, who I feel are not nearly as capable as Ship. After having made the painful switch from Tapestry 3 to Tapestry 4, I felt that I had been abandoned almost immediately.\nOf course, with the release of Tapestry 5, Tapestry 4 became a legacy product. I wouldn't have a problem with this if the upgrade path wasn't so brutal again. So now our development team is in the rather unenviable position: We could continue to use an essentially abandoned web platform (Tapestry 4), make the heinous upgrade to Tapestry 5, or give up on Tapestry entirely and rewrite our application using another platform. None of these options is very attractive.\nTapestry 5 is supposedly written so as to reduce the likelihood of update breakage from this point forward. A good example is in the page classes: in previous incarnations, page classes descended from a base class provided by Tapestry; incompatible API changes in this class were the cause of a large number of backward compatibility problems. In Tapestry 5, pages are POJOs which are enhanced at runtime with the \"magic Tapestry fairy dust\" via annotations. So as long as the contract for the annotations is maintained, changes to Tapestry won't affect your page classes.\nIf this is right, then writing a new application using Tapestry 5 could turn out well. But personally, I don't feel like putting my hand on the burner again.\n", "Can't believe no one has mentioned GWT\n", "My favorite way to go for really simple apps is Apache VelocityTools (VelocityLayoutServlet) with Velosurf (http://velosurf.sourceforge.net).\nFor more complex apps, Spring MVC or Struts 2.\n", "All of them - that's the problem ;-)\n", "The regex shown in your example, should work regardless of language.\nSo is it the regex you want, or the java code to put this logic around the regex?\n", "The Open Web Application Security Project (OWASP) have a few suggestion for sanitizing your input. See for instance:\n\nJava Table of Contents\nHow to perform HTML entity encoding in Java\nHow to add validation logic to HttpServletRequest\n\n", "The biggest problem by using jeffs code is the @ which currently isnt available. \nI would probably just take the \"raw\" regexp from jeffs code if i needed it and paste it into \nhttp://www.cis.upenn.edu/~matuszek/General/RegexTester/regex-tester.html \nand see the things needing escape get escaped and then use it.\n\nTaking the usage of this regex in mind I would personally make sure I understood exactly what I was doing, why and what consequences would be if I didnt succeed, before copy/pasting anything, like the other answers try to help you with.\n(Thats propbably pretty sound advice for any copy/paste)\n", "No - If you can parse it yourself (as you are doing), and it will scale for your needs, you do not need any library.\nJust ensure that your future needs are going to be met - complex xml creation is better done using libraries - some of which come in very simple flavors too.\n", "I think that custom string manipulation is fine, but you have to keep two things in mind:\n\nYour code isn't as mature as the library. Allocate time in your plan to handle the bugs that pop-up.\nYour approach will probably not scale as well as a 3rd party library when the xml starts to grow (both in terms of performance and ease of use).\n\nI know a code base that uses custom string manipulation for xml output (and a 3rd party library for input). It was fine to begin with but became a real hassle after a while.\n", "Yes, use the library.\nSomebody took the time and effort to create something that is usually better than what you could come up with. String manipulation is for sending back a single node, but once you start needing to manipulate the DOM, or use an XPath query, the library will save you.\n", "No - especially for generating (parsing I would be less inclined to as input text can always surprise you). I think its fine - but be prepared to shift to a library should you find yourself spending more then a few minutes maintaining your own code. \n", "I don't think that using the DOM XML API wich comes with the JDK is difficult, it's easy to create Element nodes, attributes, etc... and later is easy convert strings to a DOM document sor DOM documents into a String\nIn the first page google finds from Spain (spanish XML example):\npublic String DOM2String(Document doc)\n{\n    TransformerFactory transformerFactory =TransformerFactory.newInstance();\n    Transformer transformer = null;\n    try{\n        transformer = transformerFactory.newTransformer();\n    }catch (javax.xml.transform.TransformerConfigurationException error){\n        coderror=123;\n        msgerror=error.getMessage();\n        return null;\n    }\n\n    Source source = new DOMSource(doc);\n\n    StringWriter writer = new StringWriter();\n    Result result = new StreamResult(writer);\n    try{\n        transformer.transform(source,result);\n    }catch (javax.xml.transform.TransformerException error){\n        coderror=123;\n        msgerror=error.getMessage();\n        return null;\n    }\n\n    String s = writer.toString();\n    return s;\n}\n\npublic Document string2DOM(String s)\n{\n    Document tmpX=null;\n    DocumentBuilder builder = null;\n    try{\n        builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n    }catch(javax.xml.parsers.ParserConfigurationException error){\n        coderror=10;\n        msgerror=\"Error crando factory String2DOM \"+error.getMessage();\n        return null;\n    }\n    try{\n        tmpX=builder.parse(new ByteArrayInputStream(s.getBytes()));\n    }catch(org.xml.sax.SAXException error){\n        coderror=10;\n        msgerror=\"Error parseo SAX String2DOM \"+error.getMessage();\n        return null;\n    }catch(IOException error){\n        coderror=10;\n        msgerror=\"Error generando Bytes String2DOM \"+error.getMessage();\n        return null;\n    }\n    return tmpX;\n}\n\n", "It's not essential, but advisable. However, if string manipulation works for you, then go for it! There are plenty of cases where small or simple XML text can be safely built by hand.\nJust be aware that creating XML text is harder than it looks. Here's some criteria I would consider:\n\nFirst: how much control do you have on the information that goes into the xml?\n\nThe less control you have on the source data, the more likely you will have trouble, and the more advantageous the library becomes. For example: (a) Can you guarantee that the element names will never have a character that is illegal in a name? (b) How about quotes in an attribute's content? Can they happen, and are you handling them? (c) Does the data ever contain anything that might need to be encoded as an entity (like the less-than which often needs to be output as &lt;); are you doing it correctly?\n\nSecond, maintainability: is the code that builds the XML easy to understand by someone else?\n\nYou probably don't want to be stuck with the code for life. I've worked with second-hand C++ code that hand-builds XML and it can be surprisingly obscure. Of course, if this is a personal project of yours, then you don't need to worry about \"others\": substitute \"in a year\" for \"others\" above.\nI wouldn't worry about performance. If your XML is simple enough that you can hand-write it, any overhead from the library is probably meaningless. Of course, your case might be different, but you should measure to prove it first.\nFinally, Yes; you can hand build XML text by hand if it's simple enough; but not knowing the libraries available is probably not the right reason.\nA modern XML library is a quite powerful tool, but it can also be daunting. However, learning the essentials of your XML library is not that hard, and it can be quite handy; among other things, it's almost a requisite in today's job marketplace. Just don't get bogged down by namespaces, schemas and other fancier features until you get the essentials.\nGood luck.\n", "Xml is hard. Parsing yourself is a bad idea, it's even a worse idea to generate content yourself. Have a look at the Xml 1.1 spec.\nYou have to deal with such things as proper encoding, attribute encoding (e.g.,  produces invalid xml), proper CDATA escaping, UTF encoding, custom DTD entities, and that's without throwing in the mix xml namespaces with the default / empty namespace, namespace attributes, etc.\nLearn a toolkit, there's plenty available.\n", "By not using a library, you risk generating or parsing data that isn't well-formed, which sooner or later will happen. For the same reason document.write isn't allowed in XHTML, you shouldn't write your XML markup as a string.\n", "You don't have to use library to parse XML, but check out this question What considerations should be made before reinventing the wheel?\nbefore you start writing your own code for parsing/generating xml.\n", "The only time I've done something like this in production code was when a collegue and I built a pre-processor so that we could embed XML fragments from other files into a larger XML. On load we would first parse these embed (file references in XML comment strings) and replace them with the actual fragment they referenced. Then we would pass on the combined result to the XML Parser.\n", "It was quite some time since I dug into those parts of Java, but...\nWhy you can't do it was probably a design choice by the language developers. Still, due to the type erasure employed by Java, the generics information gets dropped at compile time anyway, so in your example it would create exactly the same byte code whether you had the type parameter or not.\n", "You can, if you pass in the type as a method parameter.\nstatic <T> List<T> createEmptyList( Class<T> type ) {\n  return new ArrayList<T>();\n}\n\n@Test\npublic void createStringList() {\n  List<String> stringList = createEmptyList( String.class );\n}\n\nMethods cannot be genericised in the same way that a type can, so the only option for a method with a dynamically-typed generic return type -- phew that's a mouthful :-) -- is to pass in the type as an argument.\nFor a truly excellent FAQ on Java generics, see Angelika Langer's generics FAQ.\n.\n.   \nFollow-up:\nIt wouldn't make sense in this context to use the array argument as in Collection.toArray( T[] ). The only reason an array is used there is because the same (pre-allocated) array is used to contain the results (if the array is large enough to fit them all in). This saves on allocating a new array at run-time all the time.\nHowever, for the purposes of education, if you did want to use the array typing, the syntax is very similar:\nstatic <T> List<T> createEmptyList( T[] array ) {\n  return new ArrayList<T>();\n}\n\n@Test\npublic void testThing() {\n  List<Integer> integerList = createEmptyList( new Integer[ 1 ] );\n}\n\n", "@pauldoo\nYes, you are quite right. It is one of the weaknesses with the java generics imho.\nI response to Cheekysoft I'd like to propose to also look at how it is done by the Java people themselves, such as T[] AbstractCollection#toArray(T[] a). I think Cheekysofts version is superior, but the Java one has the advantage of familiarity.\nEdit: Added link.\nRe-edit: Found a bug on SO :)\n\nFollow-up on Cheekysoft:\nWell, as it is a list of some type that should be returned the corresponding example should look something like:\nstatic <T> List<T> createEmptyList( List<T> a ) {\n  return new ArrayList<T>();\n}\n\nBut yes, passing the class object is clearly the better one. My only argument is that of familiarity, and in this exact instance it isn't worth much (in fact it is bad).\n", "When the java compiler cannot infer the parameter type by itself for a static method, you can always pass it using the full qualified method name: Class . < Type > method();\nObject list = Collections.<String> emptyList();\n\n", "No input is not the same as the end of the stream. You can usually simulate the end of the stream in a console by pressing Ctrl+D (AFAIK some systems use Ctrl+Z instead). But I guess this is not what you want so better test for empty strings additionally to null strings.\n", "\nFrom my understanding of this, readLine should return null the first time no input is entered other than a line termination, like '\\r'.\n\nThat is not correct. readLine will return null if the end of the stream is reached. That is, for example, if you are reading a file, and the file ends, or if you're reading from a socket and the socket closses.\nBut if you're simply reading the console input, hitting the return key on your keyboard does not constitute an end of stream. It's simply a character that is returned (\\n or \\r\\n depending on your OS).\nSo, if you want to break on both the empty string and the end of line, you should do:\nwhile (line != null && !line.equals(\"\"))\n\nAlso, your current program should work as expected if you pipe some file directly into it, like so:\njava -cp . Echo < test.txt\n\n", "There's a nice apache commons lang library which has a good api for common :) actions. You could use statically import StringUtils and use its method isNotEmpty(String ) to get:\nwhile(isNotEmpty(line)) {\n    System.out.println(line);\n    line = br.readLine();\n}\n\nIt might be useful someday:) There are also other useful classes in this lib.\n", "I can not really help you out with a Java implementation. Microsoft of course, have their own Biztalk adapter for ISO15022 and 20022. And they will actually do the validation fairly well. But as you say you are actually looking for a java solution.  \nYou might find, as I did when I researched this 6 years ago, that mapping FIN messages to XML and then to into objects, a standard library will only get you partly to your goal. You will have to integrate this with your backend application and whatever market practices you face in the particular messages you need to support.  \nI finally ended up writing a generic FIN parser /150022 class library  in c++.\nAnyway, good luck. An idea is to be more specific in your question. What types of messages do you need to support?\n", "Have you looked at WIFE?  We use that in our application which translates SWIFT messages to an internal XML format and back again.  We haven't had any problems with it.  Also, it's licensed under the LGPL, so you can hack it up if you need to.  Check it out.\n", "If your company is not comfortable with the LGPL license, You might want to check Progress Sonic ESB,  or ArtixDS (recently acquired), TIBCO ActiveWhatever or Oracle/BEA Aqualogic. Chances are you are already using something from these companies and you can get decent discount.\n", "There is a product call Volant\u00e9 that make a great job. Their solution is certified by SWIFT and the integration is easy ( I sound like I'm working for them ... I'm not). I've been using it since a couple of month . \nIBM is also offering a solution (cannot remember to name right now) but then you are committed to the big blue.\n", "Have you considered building on top of Eclipse's Rich Client Platform, and then exposing the Eclipse extension framework?\nAlso, depending on your needs, the Spring Framework might help with that and other things you might want to do:  http://www.springframework.org/\n", "I've done this for software I've written in the past, it's very handy. I did it by first creating an Interface that all my 'plugin' classes needed to implement. I then used the Java ClassLoader to load those classes and create instances of them.\nOne way you can go about it is this:\n\nFile dir = new File(\"put path to classes you want to load here\");\nURL loadPath = dir.toURI().toURL();\nURL[] classUrl = new URL[]{loadPath};\n\nClassLoader cl = new URLClassLoader(classUrl);\n\nClass loadedClass = cl.loadClass(\"classname\"); // must be in package.class name format\n\nThat has loaded the class, now you need to create an instance of it, assuming the interface name is MyModule:\n\nMyModule modInstance = (MyModule)loadedClass.newInstance();\n\n", "I recommend that you take a close look at the Java Service Provider (SPI) API.  It provides a simple system for finding all of the classes in all Jars on the classpath that expose themselves as implementing a particular service.  I've used it in the past with plugin systems with great success.\n", "Look into OSGi.  \nOn one hand, OSGi provides all sorts of infrastructure for managing, starting, and doing lots of other things with modular software components.  On the other hand, it could me too heavy-weight for your needs.\nIncidentally, Eclipse uses OSGi to manage its plugins.\n", "At the home-grown classloader approach: \nWhile its definitely a good way to learn about classloaders there is something called \"classloader hell\", mostly known by people who wrestled with it when it comes to use in bigger projects. Conflicting classes are easy to introduce and hard to solve.\nAnd there is a good reason why eclipse made the move to OSGi years ago.\nSo, if its more then a pet project, take a serious look into OSGi. Its worth looking at.\nYou'll learn about classloaders PLUS an emerging technolgy standard.\n", "Are there any special attributes that you need to apply (like OS guided resource management) that you need to support? Otherwise, for Unix you should be able to daemonize your application by writing an appropriate init.d script and setting your app to start automatically.\n", "I've had great success with Java Service Wrapper myself.  I haven't looked at the others, but the major strengths of ServiceWrapper are:\n\nGreat x-platform support - I've used it on Windows and Linux, and found it easy on both\nSolid Documentation - The docs are clear and to the point, with great examples\nDeep per-platform support - There are some unique features in the window service management system that are supported perfectly by service wrapper (w/o restarting).  And on Windows, you will even see your app name in the process list instead of just \"java.exe\".\nStandards Compliant - Unlike many ad-hoc Java init scripts, the scripts for service wrapper tend to be compliant with LSB standards.  This can end up being very important if you ever want high availability management from something like Linux Heartbeat/HA.\n\nAnyway, just my 2 cents... :)\n", "First, the equivalent of ASP.Net in Java is going to be a web framework, such as the ones you mention (Tiles, Tapestry and Velocity).\nMaster pages give the ability to define pages in terms of content slotted into a master template.\nMaster pages are a feature of ASP.Net (the .Net web framework), so you are looking for a feature similar to master pages in a Java web framework.  \nhttp://tiles.apache.org/framework/tutorial/basic/pages.html gives some basic examples using Tiles and JSP to implement something similar with Struts, a Java web framework.  In this case, the Master Pages functionality is a plugin on top of Struts.\nVelocity is a generic templating engine, not specialized for web pages and definitely more complicated than you need.  (I've seen it used for code generation.)\nTapestry is more of a full featured web stack than Tile, and is probably good for your purposes.  Its templating functionality involves creating a component and putting all common markup in that.  An example is at http://www.infoq.com/articles/tapestry5-intro.\nThe specifics of this differ based on which Java web framework you choose.\n", "You should also check out Facelets; there is a good introductory article on DeveloperWorks.\nThe Facelets <ui:insert/> tag is comparable to the ASP.NET <asp:ContentPlaceHolder/> tag used in master pages; it lets you provide default content for that area of the page, but this can be overridden.\nTo fill the Facelets template in another page, you start with a <ui:composition/> element that points to the template file.  This is roughly equivalent to declaring the MasterPageFile attribute in an ASP.NET page.\nInside the <ui:composition/> element, you use <ui:define/> elements to override the template defaults, similar to the way an <asp:Content/> tag is used.  These elements can contain any kind of content - from simple strings to JSF elements.\nSo, to bring it all together...\nIn master.xhtml:\n<!-- HTML header content here -->\n<ui:insert name=\"AreaOne\">Default content for AreaOne</ui:insert>\n<ui:insert name=\"AreaTwo\">Default content for AreaTwo</ui:insert>\n<!-- HTML footer content here -->\n\nIn page.xhtml:\n<ui:composition template=\"/WEB-INF/templates/master.xhtml\">\n  <ui:define name=\"AreaOne\">Here is some new content</ui:define>\n  <ui:define name=\"AreaTwo\">\n    <p>Some new content here too</p>\n  </ui:define>\n</ui:composition>\n\nAnd this will render as:\n<!-- HTML header content here -->\nHere is some new content\n<p>Some new content here too</p>\n<!-- HTML footer content here -->\n\nYou also get some other benefits with Facelets, such as the ability to reuse page components with different data.\n(Edited to provide more information.)\n", "I think the best method out there is to implement the SIGAR API by Hyperic.  It works for most of the major operating systems ( darn near anything modern ) and is very easy to work with.  The developer(s) are very responsive on their forum and mailing lists.  I also like that it is GPL2 Apache licensed.  They provide a ton of examples in Java too!\nSIGAR == System Information, Gathering And Reporting tool.\n", "You can get some limited memory information from the Runtime class. It really isn't exactly what you are looking for, but I thought I would provide it for the sake of completeness. Here is a small example. Edit: You can also get disk usage information from the java.io.File class. The disk space usage stuff requires Java 1.6 or higher.\npublic class Main {\n  public static void main(String[] args) {\n    /* Total number of processors or cores available to the JVM */\n    System.out.println(\"Available processors (cores): \" + \n        Runtime.getRuntime().availableProcessors());\n\n    /* Total amount of free memory available to the JVM */\n    System.out.println(\"Free memory (bytes): \" + \n        Runtime.getRuntime().freeMemory());\n\n    /* This will return Long.MAX_VALUE if there is no preset limit */\n    long maxMemory = Runtime.getRuntime().maxMemory();\n    /* Maximum amount of memory the JVM will attempt to use */\n    System.out.println(\"Maximum memory (bytes): \" + \n        (maxMemory == Long.MAX_VALUE ? \"no limit\" : maxMemory));\n\n    /* Total memory currently available to the JVM */\n    System.out.println(\"Total memory available to JVM (bytes): \" + \n        Runtime.getRuntime().totalMemory());\n\n    /* Get a list of all filesystem roots on this system */\n    File[] roots = File.listRoots();\n\n    /* For each filesystem root, print some info */\n    for (File root : roots) {\n      System.out.println(\"File system root: \" + root.getAbsolutePath());\n      System.out.println(\"Total space (bytes): \" + root.getTotalSpace());\n      System.out.println(\"Free space (bytes): \" + root.getFreeSpace());\n      System.out.println(\"Usable space (bytes): \" + root.getUsableSpace());\n    }\n  }\n}\n\n", "Have a look at the APIs available in the java.lang.management package. For example: \n\nOperatingSystemMXBean.getSystemLoadAverage()\nThreadMXBean.getCurrentThreadCpuTime()\nThreadMXBean.getCurrentThreadUserTime()\n\nThere are loads of other useful things in there as well.\n", "The java.lang.management package does give you a whole lot more info than Runtime - for example it will give you heap memory (ManagementFactory.getMemoryMXBean().getHeapMemoryUsage()) separate from non-heap memory (ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage()).\nYou can also get process CPU usage (without writing your own JNI code), but you need to cast the java.lang.management.OperatingSystemMXBean to a com.sun.management.OperatingSystemMXBean. This works on Windows and Linux, I haven't tested it elsewhere.\nFor example ... call the get getCpuUsage() method more frequently to get more accurate readings.\npublic class PerformanceMonitor { \n    private int  availableProcessors = getOperatingSystemMXBean().getAvailableProcessors();\n    private long lastSystemTime      = 0;\n    private long lastProcessCpuTime  = 0;\n\n    public synchronized double getCpuUsage()\n    {\n        if ( lastSystemTime == 0 )\n        {\n            baselineCounters();\n            return;\n        }\n\n        long systemTime     = System.nanoTime();\n        long processCpuTime = 0;\n\n        if ( getOperatingSystemMXBean() instanceof OperatingSystemMXBean )\n        {\n            processCpuTime = ( (OperatingSystemMXBean) getOperatingSystemMXBean() ).getProcessCpuTime();\n        }\n\n        double cpuUsage = (double) ( processCpuTime - lastProcessCpuTime ) / ( systemTime - lastSystemTime );\n\n        lastSystemTime     = systemTime;\n        lastProcessCpuTime = processCpuTime;\n\n        return cpuUsage / availableProcessors;\n    }\n\n    private void baselineCounters()\n    {\n        lastSystemTime = System.nanoTime();\n\n        if ( getOperatingSystemMXBean() instanceof OperatingSystemMXBean )\n        {\n            lastProcessCpuTime = ( (OperatingSystemMXBean) getOperatingSystemMXBean() ).getProcessCpuTime();\n        }\n    }\n}\n\n", "I like XOM, because I like the way Elliotte Rusty Harold thinks. Of the ones you mention I belive it's the one that strays away from the DOM standard API:s the most, but I consider that a benefit.\nI once implemented a DOM library for Cocoa, and XOM was my inspiration.\nI've worked with JDOM as well, and there's absolutely nothing wrong with it, although I do prefer XOM.\n", "It all depends on the feature set. If you want to benefit from an XSL Transformation Engine (Like Xalan) or an XPath Engine (Like Jaxen or Saxon) I would recommend sticking to the more popular framework available like Apache Xerces, JDOM.\nAfter that, it's all a matter of taste. I personnally use a W3C compliant ( org.w3c.* ) like Apache Xerces because they are common enough, reasonably fast and well supported by the Java Community.\nOf course, if you need blinding speed and do not care about XPath, XQuery or XSL, you can surely find yourself something that is much faster and/or resource-hungry. (i.e. A StAX Implementation)\n", "Create your own function to execute an OS command through the command line?\nFor the sake of an example. But know where and why you'd want to use this as others note.\npublic static void main(String arg[]) throws IOException{\n    Runtime runtime = Runtime.getRuntime();\n    Process proc = runtime.exec(\"shutdown -s -t 0\");\n    System.exit(0);\n}\n\n", "The quick answer is no. The only way to do it is by invoking the OS-specific commands that will cause the computer to shutdown, assuming your application has the necessary privileges to do it. This is inherently non-portable, so you'd need either to know where your application will run or have different methods for different OSs and detect which one to use.\n", "You can use JNI to do it in whatever way you'd do it with C/C++.\n", "Here's another example that could work cross-platform:\npublic static void shutdown() throws RuntimeException, IOException {\n    String shutdownCommand;\n    String operatingSystem = System.getProperty(\"os.name\");\n\n    if (\"Linux\".equals(operatingSystem) || \"Mac OS X\".equals(operatingSystem)) {\n        shutdownCommand = \"shutdown -h now\";\n    }\n    else if (\"Windows\".equals(operatingSystem)) {\n        shutdownCommand = \"shutdown.exe -s -t 0\";\n    }\n    else {\n        throw new RuntimeException(\"Unsupported operating system.\");\n    }\n\n    Runtime.getRuntime().exec(shutdownCommand);\n    System.exit(0);\n}\n\nThe specific shutdown commands may require different paths or administrative privileges.\n", "If your hardcoded values are just simple key-value pairs, you should look at java.util.Properties.  It's a lot simpler than xml, easier to use, and mind-numbingly trivial to implement.\nIf you are working with Java and the data you are storing or retrieving from disk is modeled as a key value pair (which it sounds like it is in your case), then I really can't imagine a better solution.\nI have used properties files for simple configuration of small packages in a bigger project, and as a more global configuration for a whole project, and I have never had problems with it.\nOf course this has the huge benefit of not requiring any 3rd party libraries to utilize.\n", "I tend to use java.util.Properties (or similar classes in other languages and frameworks) wrapped in an application-specific configuration class most of the time, but I am very interested in alternatives or variations on this. Especially since things can become a bit tricky if graphical configuration dialogs or multiple views on the configuration data is involved.\nUnfortunately I don't have any experience with specific libraries for Java (except with the ones I have written myself), but any pointers would be appreciated.\nUpdate\nOK. That wasn't entirely true, three is the Spring Java Configuration Project.\n", "I wrote about this a couple of weeks ago and came to the conclusion that XML is one of the most widely used notations. \nIs it the best? I don't think so, I really like JSON, but the tooling is still not up to XML so I guess we have to wait and see.\n", "Commons Configuration\nWe're using this. Properties files alone are much easier to handle, but if you need to represent more complex data commons configuration can do this and read your properties files as well.\nIf you aren't doing anything complicated I'd stick to properites files.\n", "Apache Commons Configuration works great.  It supports having the configuration stored in a wide range of formats on the backend including properties, XML, JNDI, and more.  It is easy to use and to extend.  To get the most flexibility out of it use a factory to get the configuration and just use the Configuration interface after that.\nTwo feature of Commons Configuration that differentiate it over a straight Properties file is that it support automatic conversion to common types (int, float, String arrays) and it supports property substitution:\nserver.host=myHost\nserver.url=http://${server.host}/somePath\n\n", "If you want to do something advanced (and typesafe), you might want to take a look at this: http://www.ibm.com/developerworks/java/library/j-configint/index.html\n", "A bad example:\nimport  sun.audio.*;    //import the sun.audio package\nimport  java.io.*;\n\n//** add this into your application code as appropriate\n// Open an input stream  to the audio file.\nInputStream in = new FileInputStream(Filename);\n\n// Create an AudioStream object from the input stream.\nAudioStream as = new AudioStream(in);         \n\n// Use the static class member \"player\" from class AudioPlayer to play\n// clip.\nAudioPlayer.player.start(as);            \n\n// Similarly, to stop the audio.\nAudioPlayer.player.stop(as); \n\n", "I wrote the following code that works fine. But I think it only works with .wav format.\npublic static synchronized void playSound(final String url) {\n  new Thread(new Runnable() {\n  // The wrapper thread is unnecessary, unless it blocks on the\n  // Clip finishing; see comments.\n    public void run() {\n      try {\n        Clip clip = AudioSystem.getClip();\n        AudioInputStream inputStream = AudioSystem.getAudioInputStream(\n          Main.class.getResourceAsStream(\"/path/to/sounds/\" + url));\n        clip.open(inputStream);\n        clip.start(); \n      } catch (Exception e) {\n        System.err.println(e.getMessage());\n      }\n    }\n  }).start();\n}\n\n", "Some blogs provide a Generator meta tag - e.g. Wordpress - you could find out if there's any exceptions to this.\nYou'll have to be careful how you detect it though, Google surprised me with this line:\n<meta content='blogger' name='generator'/>\n\nSingle quotes are blasphemy.\n", "Many (most?) blogs will have a meta tag for \"generator\" which will list the blog engine. For example a blogger blog will contain the following meta tag:  \n<meta name=\"generator\" content=\"Blogger\" />  \n\nMy Subtext blog shows the following generator meta tag:  \n<meta name=\"Generator\" content=\"Subtext Version 1.9.5.177\" />  \n\nThis meta tag would be the first place to look. For blogs that don't set this meta tag in the source, you'd have to resort to looking for patterns to determine the blog type. \n", "To determine other patterns to look for in determining the blogging engine (for those that don't have a generator meta tag), you'd basically just look through the source to determine something specific to that blog type. You'd also need to compare this across multiple blogs of that type as you want to make sure that it's not something specific to the skin or theme in use on the blog only.  \nAnother thought would be to read the docs of the various common blogging engine to know how to discover the location of it's paths to things like MetaWebLog API, etc. IIRC, Live Writer has built-in support for the most common types, the rest are categorized \"MetaWebLog API Blog\" or something.\n", "I haven't tried this in a while, but a quick google search shows some possibilities:\n\nJava Sketchbook: The HTML Renderer Shootout, Part 1\nCobra: Java HTML Renderer & Parser\n\nAre you trying to do this in an applet, or an application?  If it's an application (or signed applet) you could potentially instantiate IE or Firefox within your application.  Webrenderer acts as a Swing wrapper for this.\n", "Swing has a built-in compontent called BasicHTML. I've never used it, but I think it should be sufficient for the basic stuff. \n", "Many of the Swing controls (like JLabel) can render basic HTML content. JEditorPane can be used to display HTML pages. However, these controls are limited to HTML 3.2 support.\nFor a richer experience, I would use the JDesktop Integration Components.\n\nJDIC provides Java applications with\n  access to functionalities and\n  facilities provided by the native\n  desktop. It consists of a collection\n  of Java packages and tools. JDIC\n  supports a variety of features such as\n  embedding the native browser,\n  launching the desktop applications,\n  creating tray icons on the desktop,\n  registering file type associations,\n  creating JNLP installer packages, etc.\n\n", "This has historically been a major weak point for Java, IMO.  There are numerous ways to display limited markup, but very few that offer full featured HTML capabilities.  The previously mentioned JDIC component is one option, however it is considered a \"heavyweight\" component and therefore does not always integrate well with Swing applications.\nI am hopeful, however, that the new Webkit based JWebPane project will provide more advanced capabilities without all of the issues that we've had to deal with in the past.  And, of course, there are several commercial options as well (IceBrowser is pretty good as an example).\n", "I have tried HTML Parser which is dead simple.\n", "Do you need to do a full parse of the HTML?  If you're just looking for specific values within the contents (a specific tag/param), then a simple regular expression might be enough, and could very well be faster.\n", "NekoHTML, TagSoup, and JTidy will allow you to parse HTML and then process with XML tools, like XPath.\n", "Basically, each job deserves an own exception. When you catch exceptions, you don't distinguish different instances, like you would normally do with objects, therefore you need different subtypes. Using too many custom exceptions is a case which I see hardly occurring.\nOne advice would be to create exceptions as needed, and if it becomes apparent that one exception type is a duplicate of another, refactor the code by merging the two. Of course it helps if some thought goes into structuring exceptions from the beginning. But generally, use custom exceptions for all cases that have no 1:1 correspondence to existing, situation-specific exceptions.\nOn the other hand, NullPointerExceptions and IndexOutofBoundsExceptions might actually often be appropriate. Don't catch these, though (except for logging) as they're a programming error which means that after throwing them, the program is in an undefined state.\n", "My rule of thumb is when the client (the caller) might reasonably want to do something different, depending on the type of exception thrown, the additional exception types are warranted. More often than not, however, the extra exception types are not needed. For instance, if the caller is writing code like\ntry {\n     doIt();\n} catch (ExceptionType1 ex1) {\n     // do something useful\n} catch (ExceptionType2 ex2) {\n     // do the exact same useful thing that was done in the block above\n}\n\nthen clearly the additional exception types are not needed. All too often I see (or am forced to write) code like this because the code being called was overzealous in its creation of new exception types.\n", "The Java Specialists wrote a post about Exceptions in Java, and in it they list a few \"best practices\" for creating Exceptions, summarized below:\n\nDon't Write Own Exceptions (there are lots of useful Exceptions that are already part of the Java API)\nWrite Useful Exceptions (if you have to write your own Exceptions, make sure they provide useful information about the problem that occurred)\n\n", "If I can't find an exception that has a name describing what type of error was caused then I make my own.\nThat's my rule-o-thumb.\n", "My own rule of thumb:\nI never throw Exception, except in unit tests when what you throw is irrelevant and theres no reason to spend any extra time on it.\nI create my own custom exception type for errors occuring in my custom business logic.  This exception type is used as much as possible for recasting other exceptions, except in cases where it makes sense for the client to have visibility into what actually occurred.\n", "Don't do what the developers at my company did. Somebody created an [sic] InvalidArguementException that parallels java.lang.IllegalArgumentException, and we now use it in (literally) hundreds of classes. Both indicate that a method has been passed an illegal or inappropriate argument. Talk about a waste...\nJoshua Bloch covers this in Effective Java Programming Language Guide [my bible of first resort on Best Practices] Chapter 8. Exceptions Item 42: Favor the use of standard exceptions. Here's a bit of what he says,\n\nReusing preexisting exceptions has several benefits. Chief among these, it makes your API easier to learn and use because it matches established conventions with which programmers are already familiar [my emphasis, not Bloch's]. A close second is that programs using your API are easier to read because they aren't cluttered with unfamiliar exceptions. Finally, fewer exception classes mean a smaller memory footprint and less time spent loading classes.\nThe most commonly reused exception is IllegalArgumentException. This is generally the exception to throw when the caller passes in an argument whose value is inappropriate. For example, this would be the exception to throw if the caller passed a negative number in a parameter representing the number of times some action were to be repeated.\n\nThat said, you should never throw Exception itself. Java has a well-chosen, diverse and well-targeted bunch of built-in exceptions that cover most situations AND describe the exception that occurred well enough so that you can remedy the cause.\nBe friendly to the programmers who have to maintain your code in the future.\n", "Have you looking into using JFreeChart. I have used it on a few Java projects and its very configurable. Its free but I think you can purchase the developers guide for $50. Its good for quick simple charts too. However performance for real-time data is not quite up to par (Check out the FAQ).\nThey also have a port to .NET however I have never used it.\nHope that helps.\n", "ChartDirector is fantastic and supports more than just Java and .NET.\n", "Flash Charts.\nhttp://www.fusioncharts.com/free/Gallery.asp\n", "Dundas Charts was about the easiest thing ever to get up and producing amazing looking charts.\n", "You could also try Open Flash Charts\n", "ChartFX (http://www.softwarefx.com) has been a leader in charting for years.  I personally have used several different versions for over 8 years and it is rock solid.\nI have re-evaluated charting options periodically, and ChartFX has won in my environment based almost purely on feature set.  It is not free or cheap, but it is well worth the price they charge.\n-Geoffrey\n", "Enumeration hasn't been modified to support Iterable because it's an interface not a concrete class (like Vector, which was modifed to support the Collections interface).\nIf Enumeration was changed to support Iterable it would break a bunch of people's code.\n", "AFAIK Enumeration is kinda \"deprecated\":\n\nIterator takes the place of\n  Enumeration in the Java collections\n  framework\n\nI hope they'll change the Servlet API with JSR 315 to use Iterator instead of Enumeration. \n", "It doesn't make sense for Enumeration to implement Iterable. Iterable is a factory method for Iterator. Enumeration is analogous to Iterator, and only maintains state for a single enumeration.\nSo, be careful trying to wrap an Enumeration as an Iterable. If someone passes me an Iterable, I will assume that I can call iterator() on it repeatedly, creating as many Iterator instances as I want, and iterating independently on each. A wrapped Enumeration will not fulfill this contract; don't let your wrapped Enumeration escape from your own code. (As an aside, I noticed that Java 7's DirectoryStream violates expectations in just this way, and shouldn't be allowed to \"escape\" either.)\nEnumeration is like an Iterator, not an Iterable. A Collection is Iterable. An Iterator is not.\nYou can't do this:\nVector<X> list = \u2026\nIterator<X> i = list.iterator();\nfor (X x : i) {\n    x.doStuff();\n}\n\nSo it wouldn't make sense to do this:\nVector<X> list = \u2026\nEnumeration<X> i = list.enumeration();\nfor (X x : i) {\n    x.doStuff();\n}\n\nThere is no Enumerable equivalent to Iterable. It could be added without breaking anything to work in for loops, but what would be the point? If you are able to implement this new Enumerable interface, why not just implement Iterable instead?\n", "As an easy and clean way of using an Enumeration with the enhanced for loop, convert to an ArrayList with java.util.Collections.list.\nfor (TableColumn col : Collections.list(columnModel.getColumns()) {\n\n(javax.swing.table.TableColumnModel.getColumns returns Enumeration.)\nNote, this may be very slightly less efficient.\n", "you want an interpolation between the first and the second colour. Interpolating colours is easy by calculating the same interpolation for each of its components (R, G, B). There are many ways to interpolate. The easiest is to use linear interpolation: just take percentage p of the first colour and percentage 1 - p of the second:\nR = firstCol.R * p + secondCol.R * (1 - p)\n\nThere's another question related to this.\nThere are other methods of interpolation that sometimes work better. For example, using a bell-shaped (sigmoidal) interpolation function makes the transition smoother.\n/EDIT: Oops, you mean using a predefined function. OK, even easier. The blog post you linked now has an example code in Python.\nIn Java, you could use the GradientPaint.\n", "Using the basic AWT classes, you could do something like this:\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Rectangle2D;\nimport javax.swing.JPanel;\n\npublic class LinearGradient extends JPanel {\n\n    public void paint(Graphics g) {\n        Graphics2D g2 = (Graphics2D) g;\n        Color color1 = Color.RED;\n        Color color2 = Color.BLUE;\n        int steps = 30;\n        int rectWidth = 10;\n        int rectHeight = 10;\n\n        for (int i = 0; i < steps; i++) {\n            float ratio = (float) i / (float) steps;\n            int red = (int) (color2.getRed() * ratio + color1.getRed() * (1 - ratio));\n            int green = (int) (color2.getGreen() * ratio + color1.getGreen() * (1 - ratio));\n            int blue = (int) (color2.getBlue() * ratio + color1.getBlue() * (1 - ratio));\n            Color stepColor = new Color(red, green, blue);\n            Rectangle2D rect2D = new Rectangle2D.Float(rectWidth * i, 0, rectWidth, rectHeight);\n            g2.setPaint(stepColor);\n            g2.fill(rect2D);\n        }\n    }\n}\n\n", "You can use the built in GradientPaint class. \nvoid Paint(Graphics2D g, Regtangle r, Color c1, Color c2)\n{\n  GradientPaint gp = new GradientPaint(0,0,c1,r.getWidth(),r.getHeight(),c2); \n  g.setPaint(gp);\n  g.fill(rect);\n}\n\n", "I've been using RMagick for that. If you need to go further the simple gradient, ImageMagick and one of its wrappers (like RMagick or JMagick for Java) could be useful.\n", "From http://wrapper.tanukisoftware.org/doc/english/introduction.html :\n\nBinary distributions are provided for\n  the following list of platforms and\n  are available on the download page.\n  Only OS versions which are known to\n  work have been listed. \n(snip...)\n\nlinux - Linux kernels; 2.2.x 2.4.x, 2.6.x. Known to work with Debian and Red Hat, but should work with any\n  distribution. Currently supported on\n  both 32 and 64-bit x86, and 64-bit ppc\n  systems.\n\n\n", "From A Java Learner:\n\nWhen an exception occurs, you have to\n  either catch and handle the exception,\n  or tell compiler that you can't handle\n  it by declaring that your method\n  throws that exception, then the code\n  that uses your method will have to\n  handle that exception (even it also\n  may choose to declare that it throws\n  the exception if it can't handle it). \nCompiler will check that we have done\n  one of the two things (catch, or\n  declare).  So these are called Checked\n  exceptions.   But Errors, and Runtime\n  Exceptions are not checked for by\n  compiler (even though you can choose\n  to catch, or declare, it is not\n  required).  So, these two are called\n  Unchecked exceptions.\nErrors are used to represent those\n  conditions which occur outside the\n  application, such as crash of the\n  system.  Runtime exceptions are\n  usually occur by fault in the\n  application logic.  You can't do\n  anything in these situations.  When\n  runtime exception occur, you have to\n  re-write your program code.  So, these\n  are not  checked by compiler.  These\n  runtime exceptions will uncover in\n  development, and testing period.  Then\n  we have to refactor our code to remove\n  these errors.\n\n", "The rule I use is: never use unchecked exceptions! (or when you don't see any way around it)\nFrom the point of view of the developer using your library or the end-user using your library/application it really sucks to be confronted with an application that crashes due to an uncought exception. And counting on a catch-all is no good either.\nThis way the end user can still be presented with an error message, instead of the application completely disappearing.\n", "Checked exceptions are useful for recoverable cases where you want to provide information to the caller (i.e. insufficient permissions, file not found, etc).\nUnchecked exceptions are used rarely, if at all, for informing the user or programmer of serious errors or unexpected conditions during run-time. Don't throw them if you're writing code or libraries that will be used by others, as they may not be expecting your software to throw unchecked exceptions since the compiler doesn't force them to be caught or declared.\n", "\nThe rule I use is: never use unchecked exceptions! (or when you don't see any way around it)\n\nThere's a very strong case for the opposite: Never use checked exceptions. I'm reluctant to take sides in the debate but there seems to be a broad consensus that introducing checked exceptions was a wrong decision in hindsight. Please don't shoot the messenger and refer to those arguments.\n", "Here is my 'final rule of thumb'.\nI use:\n\nunchecked exception within the code of my method for a failure due to the caller (that involves an explicit and complete documentation)\nchecked exception for a failure due to the callee that I need to make explicit to anyone wanting to use my code\n\nCompare to the previous answer, this is a clear rationale (upon which one can agree or disagree) for the use of one or the other (or both) kind of exceptions.\n\nFor both of those exceptions, I will create my own unchecked and checked Exception for my application (a good practice, as mentionned here), except for very common unchecked exception (like NullPointerException)\nSo for instance, the goal of this particular function below is to make (or get if already exist) an object,\nmeaning:\n\nthe container of the object to make/get MUST exist (responsibility of the CALLER\n=> unchecked exception, AND clear javadoc comment for this called function)\nthe other parameters can not be null\n(choice of the coder to put that on the CALLER: the coder will not check for null parameter but the coder DOES DOCUMENT IT)\nthe result CAN NOT BE NULL\n(responsibility and choice of the code of the callee, choice which will be of great interest for the caller\n=> checked exception because every callers MUST take a decision if the object can not be created/found, and that decision must be enforced at the compilation time: they can not use this function without having to deal with this possibility, meaning with this checked exception).  \n\nExample:\n\n/**\n * Build a folder. <br />\n * Folder located under a Parent Folder (either RootFolder or an existing Folder)\n * @param aFolderName name of folder\n * @param aPVob project vob containing folder (MUST NOT BE NULL)\n * @param aParent parent folder containing folder \n *        (MUST NOT BE NULL, MUST BE IN THE SAME PVOB than aPvob)\n * @param aComment comment for folder (MUST NOT BE NULL)\n * @return a new folder or an existing one\n * @throws CCException if any problems occurs during folder creation\n * @throws AssertionFailedException if aParent is not in the same PVob\n * @throws NullPointerException if aPVob or aParent or aComment is null\n */\nstatic public Folder makeOrGetFolder(final String aFoldername, final Folder aParent,\n    final IPVob aPVob, final Comment aComment) throws CCException {\n    Folder aFolderRes = null;\n    if (aPVob.equals(aParent.getPVob() == false) { \n       // UNCHECKED EXCEPTION because the caller failed to live up\n       // to the documented entry criteria for this function\n       Assert.isLegal(false, \"parent Folder must be in the same PVob than \" + aPVob); }\n\n    final String ctcmd = \"mkfolder \" + aComment.getCommentOption() + \n        \" -in \" + getPNameFromRepoObject(aParent) + \" \" + aPVob.getFullName(aFolderName);\n\n    final Status st = getCleartool().executeCmd(ctcmd);\n\n    if (st.status || StringUtils.strictContains(st.message,\"already exists.\")) {\n        aFolderRes = Folder.getFolder(aFolderName, aPVob);\n    }\n    else {\n        // CHECKED EXCEPTION because the callee failed to respect his contract\n        throw new CCException.Error(\"Unable to make/get folder '\" + aFolderName + \"'\");\n    }\n    return aFolderRes;\n}\n\n", "On any large enough system, with many layers, checked exception are useless as, anyway, you need an architectural level strategy to handle how the exception will be handled (use a fault barrier)\nWith checked exceptions your error handling stategy is micro-managed and its unbearable on any large system.\nMost of the time you don't know if an error is \"recoverable\" because you don't know in what layer the caller of your API is located.\nLet's say that I create a StringToInt API that converts the string representation of an integer to an Int. Must I throw a checked exception if the API is called with the \"foo\" string ? Is it recoverable ? I don't know because in his layer the caller of my StringToInt API may already have validated the input, and if this exception is thrown it's either a bug or a data corruption and it isn't recoverable for this layer.\nIn this case the caller of the API does not want to catch the exception. He only wants to let the exception \"bubble up\". If I chose a checked exception, this caller will have plenty of useless catch block only to artificially rethrow the exception.\nWhat is recoverable depends most of the time on the caller of the API, not on the writter of the API. An API should not use checked exceptions as only unchecked exceptions allows to choose to either catch or ignore an exception.\n", "The theory (for the language lawyers and the mathematically inclined):\nequals() (javadoc) must define an equivalence relation (it must be reflexive, symmetric, and transitive). In addition, it must be consistent (if the objects are not modified, then it must keep returning the same value). Furthermore, o.equals(null) must always return false.\nhashCode() (javadoc) must also be consistent (if the object is not modified in terms of equals(), it must keep returning the same value).\nThe relation between the two methods is:\n\nWhenever a.equals(b), then a.hashCode() must be same as b.hashCode().\n\nIn practice:\nIf you override one, then you should override the other.\nUse the same set of fields that you use to compute equals() to compute hashCode().\nUse the excellent helper classes EqualsBuilder and HashCodeBuilder from the Apache Commons Lang library. An example:\npublic class Person {\n    private String name;\n    private int age;\n    // ...\n\n    @Override\n    public int hashCode() {\n        return new HashCodeBuilder(17, 31). // two randomly chosen prime numbers\n            // if deriving: appendSuper(super.hashCode()).\n            append(name).\n            append(age).\n            toHashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n       if (!(obj instanceof Person))\n            return false;\n        if (obj == this)\n            return true;\n\n        Person rhs = (Person) obj;\n        return new EqualsBuilder().\n            // if deriving: appendSuper(super.equals(obj)).\n            append(name, rhs.name).\n            append(age, rhs.age).\n            isEquals();\n    }\n}\n\nAlso remember:\nWhen using a hash-based Collection or Map such as HashSet, LinkedHashSet, HashMap, Hashtable, or WeakHashMap, make sure that the hashCode() of the key objects that you put into the collection never changes while the object is in the collection. The bulletproof way to ensure this is to make your keys immutable, which has also other benefits.\n", "A clarification about the obj.getClass() != getClass().\nThis statement is the result of equals() being inheritance unfriendly. The JLS (Java language specification) specifies that if A.equals(B) == true then B.equals(A) must also return true. If you omit that statement inheriting classes that override equals() (and change its behavior) will break this specification.\nConsider the following example of what happens when the statement is omitted:\n    class A {\n      int field1;\n\n      A(int field1) {\n        this.field1 = field1;\n      }\n\n      public boolean equals(Object other) {\n        return (other != null && other instanceof A && ((A) other).field1 == field1);\n      }\n    }\n\n    class B extends A {\n        int field2;\n\n        B(int field1, int field2) {\n            super(field1);\n            this.field2 = field2;\n        }\n\n        public boolean equals(Object other) {\n            return (other != null && other instanceof B && ((B)other).field2 == field2 && super.equals(other));\n        }\n    }    \n\nDoing new A(1).equals(new A(1)) Also, new B(1,1).equals(new B(1,1)) result give out true, as it should.\nThis looks all very good, but look what happens if we try to use both classes:\nA a = new A(1);\nB b = new B(1,1);\na.equals(b) == true;\nb.equals(a) == false;\n\nObviously, this is wrong.\nIf you want to ensure the symmetric condition. a=b if b=a and the Liskov substitution principle call super.equals(other) not only in the case of B instance, but check after for A instance:\nif (other instanceof B )\n   return (other != null && ((B)other).field2 == field2 && super.equals(other)); \nif (other instanceof A) return super.equals(other); \n   else return false;\n\nWhich will output:\na.equals(b) == true;\nb.equals(a) == true;\n\nWhere, if a is not a reference of B, then it might be a be a reference of class A (because you extend it), in this case you call super.equals() too.\n", "There are a couple of ways to do your check for class equality before checking member equality, and I think both are useful in the right circumstances.\n\nUse the instanceof operator.\nUse this.getClass().equals(that.getClass()).\n\nI use #1 in a final equals implementation, or when implementing an interface that prescribes an algorithm for equals (like the java.util collection interfaces\u2014the right way to check with with (obj instanceof Set) or whatever interface you're implementing). It's generally a bad choice when equals can be overridden because that breaks the symmetry property.\nOption #2 allows the class to be safely extended without overriding equals or breaking symmetry.\nIf your class is also Comparable, the equals and compareTo methods should be consistent too. Here's a template for the equals method in a Comparable class:\nfinal class MyClass implements Comparable<MyClass>\n{\n\n  \u2026\n\n  @Override\n  public boolean equals(Object obj)\n  {\n    /* If compareTo and equals aren't final, we should check with getClass instead. */\n    if (!(obj instanceof MyClass)) \n      return false;\n    return compareTo((MyClass) obj) == 0;\n  }\n\n}\n\n", "One gotcha I have found is where two objects contain references to each other (one example being a parent/child relationship with a convenience method on the parent to get all children).\nThese sorts of things are fairly common when doing Hibernate mappings for example.\nIf you include both ends of the relationship in your hashCode or equals tests it's possible to get into a recursive loop which ends in a StackOverflowException.\nThe simplest solution is to not include the getChildren collection in the methods.\n", "For an inheritance-friendly implementation, check out Tal Cohen's solution, How Do I Correctly Implement the equals() Method?\nSummary:\nIn his book Effective Java Programming Language Guide (Addison-Wesley, 2001), Joshua Bloch claims that \"There is simply no way to extend an instantiable class and add an aspect while preserving the equals contract.\"  Tal disagrees.\nHis solution is to implement equals() by calling another nonsymmetric blindlyEquals() both ways.  blindlyEquals() is overridden by subclasses, equals() is inherited, and never overridden.\nExample:\nclass Point {\n    private int x;\n    private int y;\n    protected boolean blindlyEquals(Object o) {\n        if (!(o instanceof Point))\n            return false;\n        Point p = (Point)o;\n        return (p.x == this.x && p.y == this.y);\n    }\n    public boolean equals(Object o) {\n        return (this.blindlyEquals(o) && o.blindlyEquals(this));\n    }\n}\n\nclass ColorPoint extends Point {\n    private Color c;\n    protected boolean blindlyEquals(Object o) {\n        if (!(o instanceof ColorPoint))\n            return false;\n        ColorPoint cp = (ColorPoint)o;\n        return (super.blindlyEquals(cp) && \n        cp.color == this.color);\n    }\n}\n\nNote that equals() must work across inheritance hierarchies if the Liskov Substitution Principle is to be satisfied.\n", "There are some issues worth noticing if you're dealing with classes that are persisted using an Object-Relationship Mapper (ORM) like Hibernate, if you didn't think this was unreasonably complicated already!\nLazy loaded objects are subclasses\nIf your objects are persisted using an ORM, in many cases you will be dealing with dynamic proxies to avoid loading object too early from the data store. These proxies are implemented as subclasses of your own class. This means thatthis.getClass() == o.getClass() will return false. For example:\nPerson saved = new Person(\"John Doe\");\nLong key = dao.save(saved);\ndao.flush();\nPerson retrieved = dao.retrieve(key);\nsaved.getClass().equals(retrieved.getClass()); // Will return false if Person is loaded lazy\n\nIf you're dealing with an ORM, using o instanceof Person is the only thing that will behave correctly.\nLazy loaded objects have null-fields\nORMs usually use the getters to force loading of lazy loaded objects. This means that person.name will be null if person is lazy loaded, even if person.getName() forces loading and returns \"John Doe\". In my experience, this crops up more often in hashCode() and equals().\nIf you're dealing with an ORM, make sure to always use getters, and never field references in hashCode() and equals().\nSaving an object will change its state\nPersistent objects often use a id field to hold the key of the object. This field will be automatically updated when an object is first saved. Don't use an id field in hashCode(). But you can use it in equals().\nA pattern I often use is\nif (this.getId() == null) {\n    return this == other;\n}\nelse {\n    return this.getId().equals(other.getId());\n}\n\nBut: you cannot include getId() in hashCode(). If you do, when an object is persisted, its hashCode changes. If the object is in a HashSet, you'll \"never\" find it again.\nIn my Person example, I probably would use getName() for hashCode and getId() plus getName() (just for paranoia) for equals(). It's okay if there are some risk of \"collisions\" for hashCode(), but never okay for equals().\nhashCode() should use the non-changing subset of properties from equals()\n", "I have successfully connected to ActiveMQ and ServiceMix using the JConsole. Does WAS 6.1 use Java Management Extension (JMX) technology? JMX is required for JConsole.\nIf your path is set correctly it should work fine. On windows you go to System Properties -> Advanced Tab -> Environment Variables. Have your JAVA_HOME System variable set to the path of your JDK or JRE and your Path variable with %JAVA_HOME%/bin added somewhere in there. Then all you need to do is go to Start->Run->JConsole. Select the correct Process Name and your done.\nWhere are you having problems at? I hope this helps.\nEdit:\nHere is the Java Doc's on JConsole.\n", "Hmm... I know that WebSphere is kind of hard to configure. Thats part of the reason we used ServiceMix for our ESB. Maybe its not enabled by default in WebSphere and you would have to turn it on in the config somewhere.\n", "WebSphere's support for JMX is crap.  Particularly, if you need to connect to any secured JMX beans.  Here's an interesting tidbit, their own implementation of jConsole will not connect to their own JVM.  I have had a PMR open with IBM for over a year to fix this issue, and have gotten nothing but the runaround.  They clearly don't want to fix this issue.\nThe only way I have been able to invoke remote secured JMX beans hosted on WebSphere has been to implement a client using the \"WebSphere application client\".  This is basically a stripped down app server used for stuff like this.\nOpen a PMR with IBM.  Perhaps if more people report this issue, they will actually fix it. \n\nUpdate: You can run your application as a WebSphere Application Client in RAD.  Open the run menu, then choose \"Run...\".  In the dialog that opens, towards the bottom on the left hand side, you will see \"WebSphere v6.1 Application Client\".  I'm not sure how to start and Application Client outside of RAD.\n\n", "Websphere 6.1 does not support the JConsole for some reason even though it fully implements the JMS specs. Seems to be a week area at the moment. Your best bet is to look at the Admin client to implement you own console.\n", "I used to do exactly the same thing.... then I switched to maven.  Maven relies on a simple xml file to configure your build and a simple repository to manage your build's dependencies (rather than checking these dependencies into your source control system with your code).  \nOne feature I really like is how easy it is to version your jars - easily keeping previous versions available for legacy users of your library.  This also works to your benefit when you want to upgrade a library you use - like junit.  These dependencies are stored as separate files (with their version info) in your maven repository so old versions of your code always have their specific dependencies available.  \nIt's a better Ant.\n", "An alternative to making a template is to evolve one by gradually generalising your current project's Ant script so that there are fewer changes to make the next time you copy it for use on a new project. There are several things you can do.\nUse ${ant.project.name} in file names, so you only have to mention your application name in the project element. For example, if you generate myapp.jar:\n<project name=\"myapp\">\n   ...\n   <target name=\"jar\">\n      ...\n      <jar jarfile=\"${ant.project.name}.jar\" ...\n\nStructure your source directory structure so that you can package your build by copying whole directories, rather than naming individual files. For example, if you are copying JAR files to a web application archive, do something like:\n<copy todir=\"${war}/WEB-INF/lib\" flatten=\"true\">\n   <fileset dir=\"lib\" includes=\"**/*.jar\">\n</copy>\n\nUse properties files for machine-specific and project-specific build file properties.\n<!-- Machine-specific property over-rides -->\n<property file=\"/etc/ant/build.properties\" />\n\n<!-- Project-specific property over-rides -->\n<property file=\"build.properties\" />\n\n<!-- Default property values, used if not specified in properties files -->\n<property name=\"jboss.home\" value=\"/usr/share/jboss\" />\n...\n\nNote that Ant properties cannot be changed once set, so you override a value by defining a new value before the default value.\n", "\nI used to do exactly the same thing.... then I switched to maven.\n\nOh, it's Maven 2. I was afraid that someone was still seriously using Maven nowadays. Leaving the jokes aside: if you decide to switch to Maven 2, you have to take care while looking for information, because Maven 2 is a complete reimplementation of Maven, with some fundamental design decisions changed. Unfortunately, they didn't change the name, which has been a great source of confusion in the past (and still sometimes is, given the \"memory\" nature of the web).\nAnother thing you can do if you want to stay in the Ant spirit, is to use Ivy to manage your dependencies.\n", "If you are working on several projects with similar directory structures and want to stick with Ant instead of going to Maven use the Import task.  It allows you to have the project build files just import the template and define any variables (classpath, dependencies, ...) and have all the real build script off in the imported template.  It even allows overriding of the tasks in the template which allows you to put in project specific pre or post target hooks.  \n", "One thing to look at -- if you're using Eclipse, check out the ant4eclipse tasks. I use a single build script that asks for the details set up in eclipse (source dirs, build path including dependency projects, build order, etc).\nThis allows you to manage dependencies in one place (eclipse) and still be able to use a command-line build to automation.\n", "I had the same problem and generalized my templates and grow them into in own project: Antiplate. Maybe it's also useful for you.\n", "Does this discussion help?  (I don't know if it's taboo to link to another programming forum, but I'd rather not just quote the whole discussion =) )\nSun Discussion on this subject\nThe verdict seems to be that it doesn't make enough of a difference to matter in most cases, though technically the static methods are more efficient.\n", "From a strict runtime performance point of view, the difference is really negligible. The main difference between the two lies down in the fact that the \"static\" lifecycle is linked to the classloader, whereas for the singleton it's a regular instance lifecycle. Usually it's better to stay away from the ClassLoader business, you avoid some tricky problems, especially when you try to reload the web application.\n", "If my original post was the correct understanding and the discussion from Sun that was linked to is accurate (which I think it might be), then I think you have to make a trade off between clarity and performance.\nAsk yourself these questions:\n\nDoes the Singleton object make what I'm doing more clear?\nDo I need an object to do this task or is it more suited to static methods?\nDo I need the performance that I can gain by not using a Singleton?\n\n", "I would use a singleton if it needed to store any state, and static classes otherwise. There's no point in instantiating something, even a single instance, unless it needs to store something.\n", "From my experience, the only thing that matters is which one is easier to mock in unit tests. I always felt Singleton is easier and natural to mock out. If your organization lets you use JMockit, it doesn't matter since you can overcome these concerns.\n", "Static is bad for extensibility since static methods and fields cannot be extended or overridden by subclasses. \nIt's also bad for unit tests. Within a unit test you cannot keep the side effects of different tests from spilling over since you cannot control the classloader. Static fields initialized in one unit test will be visible in another, or worse, running tests concurrently will yield unpredictable results.\nSingleton is generally an ok pattern when used sparingly. I prefer to use a DI framework and let that manage my instances for me (possibly within different scopes, as in Guice).\n", "Write some code to measure the performance.  The answer is going to be dependent on the JVM(Sun's JDK might perform differently than JRockit) and the VM flags your application uses.\n", "You answered in your comment: \n\nequals returned false but identity hash code was same, assume o1 == o2\n\nUnfortunately you cannot assume that. Most of the time that is going to work, but in some exceptionnal cases, it won't. And you cannot know when. When such a case appear, it would lead to lose instances in TreeSets for example.\n", "I don't think it does since this clause is not met:\n\nFinally, the implementer must ensure that x.compareTo(y)==0 implies that sgn(x.compareTo(z)) == sgn(y.compareTo(z)), for all z.\n\nSince equal(o1, o2) depends on o1's implementation of equals, two objects that are logically equal (as determined by equals) still have two differrent identityHashCodes.\nSo when comparing them to a third object (z), they might end up yielding different values for compareTo.\nMake sense?\n", "I'm not really sure about the System.identityHashCode(Object). That's pretty much what the == is used for. You might rather want to use the Object.hashCode() - it's more in parallel with Object.equals(Object).\n", "You should probably raise an exception if it gets to that last return 0 line --when a hash collision happens. I do have a question though: you are doing a total ordering on the hash's, which I guess is fine, but shouldn't some function be passed to it to define a Lexicographical order?\n    int h1 = System.identityHashCode(o1);\n    int h2 = System.identityHashCode(o2);\n    if (h1 != h2) {\n        return h1 < h2 ? -1 : 1;\n    }\n\nI can imagine that you have the objects as a tuple of two integers that form a real number. But you wont get the proper ordering since you're only taking a hash of the object. This is all up to you if hashing is what you meant, but to me, it doesn't make much sense. \n", "\nI agree this is not ideal, hence the comment. Any suggestions?\n\nI think there is now way you can solve that, because you cannot access the one and only one thing that can distinguish two instances: their address in memory. So I have only one suggestion: reconsider your need of having a general total ordering process in Java :-)\n", "Hey, look at what I found!\nhttp://gafter.blogspot.com/2007/03/compact-object-comparator.html\nThis is exactly what I was looking for.\n", "\nHey, look at what I found!\nhttp://gafter.blogspot.com/2007/03/compact-object-comparator.html\n\nOh yes, I forgot about the IdentityHashMap (Java 6 and above only). Just have to pay attention at releasing your comparator. \n", "System.getProperty(\"user.dir\") \n\ngets the directory the Java VM was started from.\n", "System.getProperty(\"user.dir\");\n\nThe above method gets the user's working directory when the application was launched. This is fine if the application is launched by a script or shortcut that ensures that this is the case.\nHowever, if the app is launched from somewhere else (entirely possible if the command line is used), then the return value will be wherever the user was when they launched the app.\nA more reliable method is to work out the application install directory using ClassLoaders.\n", "I think you can get that information using JDepend\n", "You could use the Outbound dependencies feature of DependencyFinder. You can do that entirely in the GUI, or in command line exporting XML.\n", "There's a tool called JarAnalyzer that will give you the dependencies between the jars in a directory. It'll also give you a list of dependencies that don't exist in the directory.\n", "If it's a public jar (as in, not yours) then it might be in the Maven Repository.\n", "I would say don't create a huge ByteBuffer that contains ALL of the data at once.  Create a much smaller ByteBuffer, fill it with data, then write this data to the FileChannel.  Then reset the ByteBuffer and continue until all the data is written.\n", "If you access files in a random fashion (read here, skip, write there, move back) then you have a problem ;-)\nBut if you only write big files, you should seriously consider using streams. java.io.FileOutputStream can be used directly to write file byte after byte or wrapped in any other stream (i.e. DataOutputStream, ObjectOutputStream) for convenience of writing floats, ints, Strings or even serializeable objects. Similar classes exist for reading files.\nStreams offer you convenience of manipulating arbitrarily large files in (almost) arbitrarily small memory. They are preferred way of accessing file system in vast majority of cases.\n", "Check out Java's Mapped Byte Buffers, also known as 'direct buffers'.  Basically, this mechanism uses the OS's virtual memory paging system to 'map' your buffer directly to disk.  The OS will manage moving the bytes to/from disk and memory auto-magically, very quickly, and you won't have to worry about changing your virtual machine options.  This will also allow you to take advantage of NIO's improved performance over traditional java stream-based i/o, without any weird hacks.  \nThe only two catches that I can think of are: \n\nOn 32-bit system, you are limited to  just under 4GB total for all mapped byte buffers.  (That is actually a limit for my application, and I now run on 64-bit architectures.)\nImplementation is JVM specific and not a requirement.  I use Sun's JVM and there are no problems, but YMMV.\n\nKirk Pepperdine (a somewhat famous Java performance guru) is involved with a website, www.JavaPerformanceTuning.com, that has some more MBB details: NIO Performance Tips\n", "The previous two responses seem pretty reasonable. As for whether the commandline switch will work, it depends how quickly your memory usage hits the limit. If you don't have enough ram and virtual memory available to at least triple the memory available, then you will need to use one of the alternate suggestions given.\n", "Using the transferFrom method should help with this, assuming you write to the channel incrementally and not all at once as previous answers also point out.\n", "This can depend on the particular JDK vendor and version.\nThere is a bug in GC in some Sun JVMs.  Shortages of direct memory will not trigger a GC in the main heap, but the direct memory is pinned down by garbage direct ByteBuffers in the main heap.  If the main heap is mostly empty they many not be collected for a long time.\nThis can burn you even if you aren't using direct buffers on your own, because the JVM may be creating direct buffers on your behalf.  For instance, writing a non-direct ByteBuffer to a SocketChannel creates a direct buffer under the covers to use for the actual I/O operation.\nThe workaround is to use a small number of direct buffers yourself, and keep them around for reuse.\n", "The finalize method is never invoked more than once by a JVM for any given object. You shouldn't be relying on finalize anyway because there's no guarantee that it will be invoked. If you're calling finalize because you need to execute clean up code then better to put it into a separate method and make it explicit, e.g:\npublic void cleanUp() {\n  .\n  .\n  .\n}\n\nmyInstance.cleanUp();\n\n", "According to this simple test program, the JVM will still make its call to finalize() even if you explicitly called it:\nprivate static class Blah\n{\n  public void finalize() { System.out.println(\"finalizing!\"); }\n}\n\nprivate static void f() throws Throwable\n{\n   Blah blah = new Blah();\n   blah.finalize();\n}\n\npublic static void main(String[] args) throws Throwable\n{\n    System.out.println(\"start\");\n    f();\n    System.gc();\n    System.out.println(\"done\");\n}\n\nThe output is:\n\nstart\n  finalizing!\n  finalizing!\n  done\n\nEvery resource out there says to never call finalize() explicitly, and pretty much never even implement the method because there are no guarantees as to if and when it will be called.  You're better off just closing all of your resources manually.\n", "The GC does a lot of optimization on when to properly finalize things.\nSo unless you're familiar with how the GC actually works and how it tags generations, manually calling finalize or start GC'ing will probably hurt performance than help.\n", "Assuming finalizers are similar to their .NET namesake then you only really need to call these when you have resources such as file handles that can leak. Most of the time your objects don't have these references so they don't need to be called.\nIt's bad to try to collect the garbage because it's not really your garbage. You have told the VM to allocate some memory when you created objects, and the garbage collector is hiding information about those objects. Internally the GC is performing optimisations on the memory allocations it makes. When you manually try to collect the garbage you have no knowledge about what the GC wants to hold onto and get rid of, you are just forcing it's hand. As a result you mess up internal calculations.\nIf you knew more about what the GC was holding internally then you might be able to make more informed decisions, but then you've missed the benefits of GC.\n", "The short answer: Java garbage collection is a very finely tuned tool. System.gc() is a sledge-hammer.\nJava's heap is divided into different generations, each of which is collected using a different strategy. If you attach a profiler to a healthy app, you'll see that it very rarely has to run the most expensive kinds of collections because most objects are caught by the faster copying collector in the young generation.\nCalling System.gc() directly, while technically not guaranteed to do anything, in practice will trigger an expensive, stop-the-world full heap collection. This is almost always the wrong thing to do. You think you're saving resources, but you're actually wasting them for no good reason, forcing Java to recheck all your live objects \u201cjust in case\u201d.\nIf you are having problems with GC pauses during critical moments, you're better off configuring the JVM to use the concurrent mark/sweep collector, which was designed specifically to minimise time spent paused, than trying to take a sledgehammer to the problem and just breaking it further.\nThe Sun document you were thinking of is here: Java SE 6 HotSpot\u2122 Virtual Machine Garbage Collection Tuning\n(Another thing you might not know: implementing a finalize() method on your object makes garbage collection slower. Firstly, it will take two GC runs to collect the object: one to run finalize() and the next to ensure that the object wasn't resurrected during finalization. Secondly, objects with finalize() methods have to be treated as special cases by the GC because they have to be collected individually, they can't just be thrown away in bulk.)\n", "Don't bother with finalizers.  \nSwitch to incremental garbage collection.\nIf you want to help the garbage collector, null off references to objects you no longer need. Less path to follow= more explicitly garbage.\nDon't forget that (non-static) inner class instances keep references to their parent class instance. So an inner class thread keeps a lot more baggage than you might expect.\nIn a very related vein, if you're using serialization, and you've serialized temporary objects, you're going to need to clear the serialization caches, by calling ObjectOutputStream.reset()  or your process will leak memory and eventually die.\nDownside is that non-transient objects are going to get re-serialized.\nSerializing temporary result objects can be a bit more messy than you might think!\nConsider using soft references. If you don't know what soft references are, have a read of the javadoc for java.lang.ref.SoftReference\nSteer clear of Phantom references and Weak references unless you really get excitable.\nFinally, if you really can't tolerate the GC use Realtime Java. \nNo, I'm not joking.\nThe reference implementation is free to download and Peter Dibbles book from SUN is really good reading.\n", "Avoid finalizers.  There is no guarantee that they will be called in a timely fashion.  It could take quite a long time before the Memory Management system (i.e., the garbage collector) decides to collect an object with a finalizer.  \nMany people use finalizers to do things like close socket connections or delete temporary files.  By doing so you make your application behaviour unpredictable and tied to when the JVM is going to GC your object.  This can lead to \"out of memory\" scenarios, not due to the Java Heap being exhausted, but rather due to the system running out of handles for a particular resource.\nOne other thing to keep in mind is that introducing the calls to System.gc() or such hammers may show good results in your environment, but they won't necessarily translate to other systems.  Not everyone runs the same JVM, there are many, SUN, IBM J9, BEA JRockit, Harmony, OpenJDK, etc... This JVM all conform to the JCK (those that have been officially tested that is), but have a lot of freedom when it comes to making things fast.  GC is one of those areas that everyone invests in heavily.  Using a hammer will often times destroy that effort.\n", "As far as finalizers go:\n\nThey are virtually useless.  They aren't guaranteed to be called in a timely fashion, or indeed, at all (if the GC never runs, neither will any finalizers).  This means you generally shouldn't rely on them.\nFinalizers are not guaranteed to be idempotent.  The garbage collector takes great care to guarantee that it will never call finalize() more than once on the same object.  With well-written objects, it won't matter, but with poorly written objects, calling finalize multiple times can cause problems (e.g. double release of a native resource ... crash).\nEvery object that has a finalize() method should also provide a close() (or similar) method.  This is the function you should be calling.  e.g., FileInputStream.close().  There's no reason to be calling finalize() when you have a more appropriate method that is intended to be called by you.\n\n", "import java.util.HashMap;\n\nMap map = new HashMap();\n\n", "Map map = new HashMap();\nHashtable ht = new Hashtable();\n\nBoth classes can be found from the java.util package. The difference between the 2 is explained in the following jGuru FAQ entry.\n", "What Edmund said.\nAs for not calling .add all the time, no, not idiomatically. There would be various hacks (storing it in an array and then looping) that you could do if you really wanted to, but I wouldn't recommend it.\n", "Also don't forget that both Map and Hashtable are generic in Java 5 and up (as in any other class in the Collections framework).\nMap<String, Integer> numbers = new HashMap<String, Integer>();\nnumbers.put(\"one\", 1);\nnumbers.put(\"two\", 2);\nnumbers.put(\"three\", 3);\n\nInteger one = numbers.get(\"one\");\nAssert.assertEquals(1, one);\n\n", "\nAnd is there a way to populate the table with a list of key->value pairs without individually calling an add method on the object for each pair?\n\nOne problem with your question is that you don't mention what what form your data is in to begin with. If your list of pairs happened to be a list of Map.Entry objects it would be pretty easy.\nJust to throw this out, there is a (much maligned) class named java.util.Properties that is an extension of Hashtable. It expects only String keys and values and lets you load and store the data using files or streams. The format of the file it reads and writes is as follows:\nkey1=value1\nkey2=value2\n\nI don't know if this is what you're looking for, but there are situations where this can be useful. \n", "You can use double-braces to set up the data. You still call add, or put, but it's less ugly:\nprivate static final Hashtable<String,Integer> MYHASH = new Hashtable<String,Integer>() {{\n    put(\"foo\",      1);\n    put(\"bar\",      256);\n    put(\"data\",     3);\n    put(\"moredata\", 27);\n    put(\"hello\",    32);\n    put(\"world\",    65536);\n }};\n\n", "'Jigloo' is a very cool GUI designer.  It is not free for commercial use however.\nIt auto-generates code and allows for custom editing of the code it creates.\nhttp://www.cloudgarden.com/jigloo/\n", "Another good GUI designer for Eclipse is Window Builder Pro. Like Jigloo, it's not free for commercial use.\nIt allows you to design user interfaces for Swing, SWT and even the Google Web Toolkit (GWT).\n", "Visual Editor is a good choice.\nIt generates very clean code, with no \"layout\" files beside of your sourcen using a simple but convenient pattern. It's very easy to patch the generated code and directly see the result.\nThere are some stability problems (some times, the preview window does not refresh anymore...), but nothing that a \"clean Project\" can't fix...\n", "I use GWTDesigner http://www.instantiations.com/gwtdesigner/ which is not free but works well. Best of all, their customer support is top notch - very responsive.\n", "GWT Designer is very good and allows for rapid development of GWT websites. (http://www.instantiations.com/gwtdesigner/)\n", "well check out the eclipse distro easyeclipse at EasyEclipse. it has Visual editor project already added as a plugin, so no hassles of eclipse version compatibility.Plus the eclipse help section has a tutorial on VE.\n", "I don't know anything about groovy so in a sense I've qualified to answer this...\nI would want you to:\n\nTell me why I would want to use Scripting (in general) as opposed to Java-- what does it let me do quicker (as in development time), what does it make more readable. Give tantalising examples of ways I can use chunks of scripting in my mostly Java app. You want to make this relevant to Java devs moreso than tech-junkies.\nWith that out of the way, why Groovy? Why not Ruby, Python or whatever (which are all runnable on the JVM).\nDon't show me syntax that Java can already do (if statements, loops etc) or if you do make it quick. It's as boring as hell to watch someone walk through language syntax 101 for 20min.\n\n\nFor syntax that has a comparible feature in Java maybe show them side by side quickly.\nFor syntax that is not in Java (closures etc) you can talk to them in a bit more detail.\n\nRemember those examples from the first point. Show me one, fully working (or at least looking like it is).\nAt the end have question time. That is crazy important, and with that comes a burden on you to be a psuedo-guru :P.\n\nI'm not sure about how the Java6 scripting support works but I'm fairly sure it can be made secure. I remember something about defining the API the script can use before it's run.\nIf this is the case then an example you could show would be some thick-client application (e.g. a music player) where users can write their own scripts with an API you provide them in Groovy which allows them to script their app in interesting and secure ways (e.g. creating custom columns in the playlist)\n", "I'd go for:\n\nClosures\nDuck typing\nBuilders (XML builder and slurper)\nGStrings\nGrails \n\n", "Include an example of how making Java code more groovy takes away soooo much code. Wait for them to pick their jaws up off of the floor before continuing. Scott Davis has a simple example at the beginning of Groovy Recipes that takes 35 lines of Java or 3 lines of Groovy.\n", "You should definitely show them how to create a quick Grails application.  Two domain classes that are related.  Build a basic CRUD app.  Explain that tables are being created behind the scenes using GORM(Hibernate).  Then explain that you can create a war file and deploy it as you would any other Java war file. You can also add Grails/Groovy to an existing Java/JSP project so it doesn't require a huge commitment or paradigm change.  \nGroovy/Grails is simply Ruby/Rails for Java people. I'd cover the plugins for Netbeans/Eclipse too.  Groovy/Grails are just now getting full support in the major IDE's.\nFinally, if you can find a good diagram that shows how Grails is built on top of Spring, Hibernate, Quartz, Sitemesh and Groovy, I think people will understand that there is a treasure chest waiting to be unlocked.\n", "I'd mention the following things in addition to what has already been stated:\n\nGDK - extensions/additions to existing JDK classes\nInteraction between Groovy and Java code (basically a non-issue)\nCompiling Groovy code to Java .class files\nXML parsing and mechanisms for accessing document content\n\nOne thing I like doing with Groovy is implementing an interface defined in Java as a map from method names to closures. It's a cool thing you can do with Groovy, but probably well beyond an introductory presentation though.\n", "Generally, no.\nThe stream format for Java serialization is defined in this document, but you need access to the original class definitions (and a Java runtime to load them into) to turn the stream data back into something approaching the original objects. For example, classes may define writeObject() and readObject() methods to customise their own serialized form.\n(edit: lubos hasko suggests having a little java program to deserialize the objects in front of Python, but the problem is that for this to work, your \"little java program\" needs to load the same versions of all the same classes that it might deserialize. Which is tricky if you're receiving log messages from one app, and really tricky if you're multiplexing more than one log stream. Either way, it's not going to be a little program any more. edit2: I could be wrong here, I don't know what gets serialized. If it's just log4j classes you should be fine. On the other hand, it's possible to log arbitrary exceptions, and if they get put in the stream as well my point stands.)\nIt would be much easier to customise the log4j network adapter and replace the raw serialization with some more easily-deserialized form (for example you could use XStream to turn the object into an XML representation)\n", "In theory it's possible. Now how difficult in practice it might be depends on whether Java serialization format is documented or not. I guess, it's not. edit: oops, I was wrong, thanks Charles.\nAnyway, this is what I suggest you to do\n\ncapture from log4j & deserialize Java object in your own little Java program.\nnow when you have the object again, serialize it using your own custom formatter. \nTip: Maybe you don't even have to write your own custom formatter. for example, JSON (scroll down for libs) has libraries for Python and Java, so you could in theory use Java library to serialize your objects and Python equivalent library to deserialize it\nsend output stream to your python application and deserialize it\n\n\nCharles wrote:\nthe problem is that for this\n  to work, your \"little java program\"\n  needs to load the same versions of all\n  the same classes that it might\n  deserialize. Which is tricky if you're\n  receiving log messages from one app,\n  and really tricky if you're\n  multiplexing more than one log stream.\n  Either way, it's not going to be a\n  little program any more.\n\nCan't you just simply reference Java log4j libraries in your own java process? I'm just giving general advice here that is applicable to any pair of languages (name of the question is pretty language agnostic so I just provided one of the generic solutions). Anyway, I'm not familiar with log4j and don't know whether you can \"inject\" your own serializer into it. If you can, then of course your suggestion is much better and cleaner.\n", "I would recommend moving to a third-party format (by creating your own log4j adapters etc) that both languages understand and can easily marshal / unmarshal, e.g. XML.\n", "Theoretically, it's possible. The Java Serialization, like pretty much everything in Javaland, is standardized. So, you could implement a deserializer according to that standard in Python. However, the Java Serialization format is not designed for cross-language use, the serialization format is closely tied to the way objects are represented inside the JVM. While implementing a JVM in Python is surely a fun exercise, it's probably not what you're looking for (-:\nThere are other (data) serialization formats that are specifically designed to be language agnostic. They usually work by stripping the data formats down to the bare minimum (number, string, sequence, dictionary and that's it) and thus requiring a bit of work on both ends to represent a rich object as a graph of dumb data structures (and vice versa).\nTwo examples are JSON (JavaScript Object Notation) and YAML (YAML Ain't Markup Language).\nASN.1 (Abstract Syntax Notation One) is another data serialization format. Instead of dumbing the format down to a point where it can be easily understood, ASN.1 is self-describing, meaning all the information needed to decode a stream is encoded within the stream itself.\nAnd, of course, XML (eXtensible Markup Language), will work too, provided that it is not just used to provide textual representation of a \"memory dump\" of a Java object, but an actual abstract, language-agnostic encoding.\nSo, to make a long story short: your best bet is to either try to coerce log4j into logging in one of the above-mentioned formats, replace log4j with something that does that or try to somehow intercept the objects before they are sent over the wire and convert them before leaving Javaland.\nLibraries that implement JSON, YAML, ASN.1 and XML are available for both Java and Python (and pretty much every programming language known to man).\n", "Well I am not Python expert so I can't comment on how to solve your problem but if you have program in .NET you may use IKVM.NET to deserialize Java objects easily. I have experimented this by creating .NET Client for Log4J log messages written to Socket appender and it worked really well.\nI am sorry, if this answer does not make sense here.\n", "If you right-click in the source of a file in Eclipse, it has a Javadoc generation option under the source menu.\n", "The JAutodoc plugin for eclipse does exactly what you need, but with a package granularity : \nright click on a package, select \"Add javadoc for members...\" and the skeleton will be added.\nThere are numerous interesting options : templates for javadoc, adding a TODO in the header of every file saying : \"template javadoc, must be filled...\", etc.\n", "You can configure eclipse to show warnings for things that lack javadoc, or have javadoc that does not have all the information, or has wrong information. It can also insert templates for you to fill out.\nNot quite the tool you asked for, but probably better because you won't end up with empty skeletons on methods that you missed.\nYou can achieve this by investigating and editing the preference page beyond the path Window > Preferences > Java > Compiler > Javadoc for your workspace. The screenshot of that preference page is below:\n\nFor further information about the items in this screen please follow the link below:\nJava Compiler Javadoc Preferences Help\n", "I think auto-generating empty Javadoc is an anti-pattern and should be discouraged; it gives code the appearance of being documented, but just adds noise to the codebase.  \nI would recommend instead that you configure your code editor to assist on a per-method and per-class basis to use when you actually write the javadoc (one commenter pointed to Eclipse's feature that does this).  \n", "The SLSBs are single threaded because of the TX Context, Principal is associated with a bean instance when it is called. These beans are pooled and unless the max pool size is reached are processed in separate threads ( Vendor dependent).\nIf SLSBs were designed thread safe every call would have looked like a servlet doGet/Post with request info containing Tx Context , Security Context info and etc. So at least the code looks clean (developer dependent). \n", "The primary reason stateless session beans are single threaded is to make them highly scalable for the container. The container can make a lot of simplifying assumptions about the runtime environment. A second reason is to make life easier for the developer because  the developer doesn't have to worry about any synchronization or re-entrancy in his business logic because the bean will never be called in another thread context.\nI remember the reasoning being discussed in the reviews of the original EJB 1.0 specification. I would look at the goals section of the specification. See http://java.sun.com/products/ejb/docs.html for the list of specifications.\n", "One option is to use serialization. Here's a blog post explaining it:\nhttp://weblogs.java.net/blog/emcmanus/archive/2007/04/cloning_java_ob.html\n", "Turn that into a spec:\n-that objects need to implement an interface in order to be allowed into the collection\nSomething like ArrayList<ICloneable>()\nThen you can be assured that you always do a deep copy - the interface should have a method that is guaranteed to return a deep copy.  \nI think that's the best you can do.  \n", "I suppose it is an ovbious answer:\nMake a requisite for the classes stored in the collection to be cloneable. You could check that at insertion time or at retrieval time, whatever makes more sense, and throw an exception.\nOr if the item is not cloneable, just fail back to the return by reference option.\n", "DrJava is your best bet. It also has an Eclipse plugin to use the interactions pane like GroovyConsole.\n", "try beanshell. its a scripting wrapper over java. http://www.beanshell.org/\n", "Why not use the GroovyConsole ? Groovy accepts the vast majority of Java syntax\n", "Here's what I ended up with.  I have never found another solution out there for this, so if you have something better, by all means, contribute.\nFirst, the long array definition in the wsdl:types area:\n  <xsd:complexType name=\"ArrayOf_xsd_long\">\n    <xsd:complexContent mixed=\"false\">\n      <xsd:restriction base=\"soapenc:Array\">\n        <xsd:attribute wsdl:arrayType=\"soapenc:long[]\" ref=\"soapenc:arrayType\" />\n      </xsd:restriction>\n    </xsd:complexContent>\n  </xsd:complexType>\n\nNext, we create a SoapExtensionAttribute that will perform the fix.  It seems that the problem was that .NET wasn't following the multiref id to the element containing the double value.  So, we process the array item, go find the value, and then insert it the value into the element:\n[AttributeUsage(AttributeTargets.Method)]\npublic class LongArrayHelperAttribute : SoapExtensionAttribute\n{\n    private int priority = 0;\n\n    public override Type ExtensionType\n    {\n        get { return typeof (LongArrayHelper); }\n    }\n\n    public override int Priority\n    {\n        get { return priority; }\n        set { priority = value; }\n    }\n}\n\npublic class LongArrayHelper : SoapExtension\n{\n    private static ILog log = LogManager.GetLogger(typeof (LongArrayHelper));\n\n    public override object GetInitializer(LogicalMethodInfo methodInfo, SoapExtensionAttribute attribute)\n    {\n        return null;\n    }\n\n    public override object GetInitializer(Type serviceType)\n    {\n        return null;\n    }\n\n    public override void Initialize(object initializer)\n    {\n    }\n\n    private Stream originalStream;\n\n    private Stream newStream;\n\n    public override void ProcessMessage(SoapMessage m)\n    {\n        switch (m.Stage)\n        {\n            case SoapMessageStage.AfterSerialize:\n                newStream.Position = 0; //need to reset stream \n                CopyStream(newStream, originalStream);\n                break;\n\n            case SoapMessageStage.BeforeDeserialize:\n                XmlWriterSettings settings = new XmlWriterSettings();\n                settings.Indent = false;\n                settings.NewLineOnAttributes = false;\n                settings.NewLineHandling = NewLineHandling.None;\n                settings.NewLineChars = \"\";\n                XmlWriter writer = XmlWriter.Create(newStream, settings);\n\n                XmlDocument xmlDocument = new XmlDocument();\n                xmlDocument.Load(originalStream);\n\n                List<XmlElement> longArrayItems = new List<XmlElement>();\n                Dictionary<string, XmlElement> multiRefs = new Dictionary<string, XmlElement>();\n                FindImportantNodes(xmlDocument.DocumentElement, longArrayItems, multiRefs);\n                FixLongArrays(longArrayItems, multiRefs);\n\n                xmlDocument.Save(writer);\n                newStream.Position = 0;\n                break;\n        }\n    }\n\n    private static void FindImportantNodes(XmlElement element, List<XmlElement> longArrayItems,\n                                           Dictionary<string, XmlElement> multiRefs)\n    {\n        string val = element.GetAttribute(\"soapenc:arrayType\");\n        if (val != null && val.Contains(\":long[\"))\n        {\n            longArrayItems.Add(element);\n        }\n        if (element.Name == \"multiRef\")\n        {\n            multiRefs[element.GetAttribute(\"id\")] = element;\n        }\n        foreach (XmlNode node in element.ChildNodes)\n        {\n            XmlElement child = node as XmlElement;\n            if (child != null)\n            {\n                FindImportantNodes(child, longArrayItems, multiRefs);\n            }\n        }\n    }\n\n    private static void FixLongArrays(List<XmlElement> longArrayItems, Dictionary<string, XmlElement> multiRefs)\n    {\n        foreach (XmlElement element in longArrayItems)\n        {\n            foreach (XmlNode node in element.ChildNodes)\n            {\n                XmlElement child = node as XmlElement;\n                if (child != null)\n                {\n                    string href = child.GetAttribute(\"href\");\n                    if (href == null || href.Length == 0)\n                    {\n                        continue;\n                    }\n                    if (href.StartsWith(\"#\"))\n                    {\n                        href = href.Remove(0, 1);\n                    }\n                    XmlElement multiRef = multiRefs[href];\n                    if (multiRef == null)\n                    {\n                        continue;\n                    }\n                    child.RemoveAttribute(\"href\");\n                    child.InnerXml = multiRef.InnerXml;\n                    if (log.IsDebugEnabled)\n                    {\n                        log.Debug(\"Replaced multiRef id '\" + href + \"' with value: \" + multiRef.InnerXml);\n                    }\n                }\n            }\n        }\n    }\n\n    public override Stream ChainStream(Stream s)\n    {\n        originalStream = s;\n        newStream = new MemoryStream();\n        return newStream;\n    }\n\n    private static void CopyStream(Stream from, Stream to)\n    {\n        TextReader reader = new StreamReader(from);\n        TextWriter writer = new StreamWriter(to);\n        writer.WriteLine(reader.ReadToEnd());\n        writer.Flush();\n    }\n}\n\nFinally, we tag all methods in the Reference.cs file that will be deserializing a long array with our attribute:\n    [SoapRpcMethod(\"\", RequestNamespace=\"http://some.service.provider\",\n        ResponseNamespace=\"http://some.service.provider\")]\n    [return : SoapElement(\"getFooReturn\")]\n    [LongArrayHelper]\n    public Foo getFoo()\n    {\n        object[] results = Invoke(\"getFoo\", new object[0]);\n        return ((Foo) (results[0]));\n    }\n\nThis fix is long-specific, but it could probably be generalized to handle any primitive type having this problem.\n", "Hope this helps a little, but at my college our web applications course just got revamped.  So now we are going the jsp, servlet, hibernate route with the second part of the course on mostly JBoss Seam.  So who knows, it probably just needs time to grow in the community.\n", "In our JBoss Seam in Action presentation at the Javapolis conference last year, my colleague and I said that 'Seam is the next Struts'. This needed some explanation, which I later wrote-up as Seam is the new Struts. Needless to say, we like Seam.\nOne indication of Seam's popularity is the level of traffic on the Seam Users Forum.\n", "Seam is fixed JSF based on annotations. No more crappy XML. I used it at work.\n", "Are you possibly depending on development versions that obviously change a lot during development? \nInstead of incrementing the version of development releases, you could just use a snapshot version that you overwrite when necessary, which means you wouldn't have to change the version tag on every minor change. Something like 1.0-SNAPSHOT...\nBut maybe you are trying to achieve something else ;)\n", "Please take a look at this page (section \"Dependency Version Ranges\"). What you might want to do is something like \n<version>[1.2.3,)</version>\n\nThese version ranges are implemented in Maven2.\n", "JAXB. The Java Architecture for XML Binding.  Basically you create an xsd defining your XML layout (I believe you could also use a DTD).  Then you pass the XSD to the JAXB compiler and the compiler creates Java classes to marshal and unmarshal your XML document into Java objects.  It's really simple.\nBTW, there are command line options to jaxb to specify the package name you want to place the resulting classes in, etc.\n", "You've done a good job of explaining what you want to do but not why. There are several XML frameworks that simplify marshalling and unmarshalling Java objects to/from XML. \nThe simplest is Commons Digester which I typically use to parse configuration files. But if you are want to deal with Java objects then you should look at Castor, JiBX, JAXB, XMLBeans, XStream, or something similar. Castor or JiBX are my two favourites.\n", "I have tried the SAXParser once, but once I found XStream I never went back to it. With XStream you can create Java Objects and convert them to XML. Send them over and use XStream to recreate the object. Very easy to use, fast, and creates clean XML.\nEither way you have to know what data your going to receiver from the XML file. You can send them over in different ways to know which parser to use. Or have a data object that can hold everything but only one structure is populated (product/store/managers). Maybe something like:\npublic class DataStructure {\n\n    List<ProductStructure> products;\n\n    List<StoreStructure> stors;\n\n    List<ManagerStructure> managers;\n\n    ...\n\n    public int getProductCount() {\n        return products.lenght();\n    }\n\n    ...\n}\n\nAnd with XStream convert to XML send over and then recreate the object. Then do what you want with it.\n", "As I understand it, the problem is that you don't know what format the document is prior to parsing. You could use a delegate pattern. I'm assuming you're not validating against a DTD/XSD/etcetera and that it is OK for the DefaultHandler to have state.\npublic class DelegatingHandler extends DefaultHandler {\n\n    private Map<String, DefaultHandler> saxHandlers;\n    private DefaultHandler delegate = null;\n\n    public DelegatingHandler(Map<String, DefaultHandler> delegates) {\n        saxHandlers = delegates;\n    }\n\n    @Override\n    public void startElement(String uri, String localName, String name,\n            Attributes attributes) throws SAXException {\n       if(delegate == null) {\n           delegate = saxHandlers.get(name);\n       }\n       delegate.startElement(uri, localName, name, attributes);\n    }\n\n    @Override\n    public void endElement(String uri, String localName, String name)\n            throws SAXException {\n        delegate.endElement(uri, localName, name);\n    }\n\n//etcetera...\n\n", "See the documentation for XMLReader.setContentHandler(), it says:\n\nApplications may register a new or different handler in the middle of a parse, and the SAX parser must begin using the new handler immediately.\n\nThus, you should be able to create a SelectorContentHandler that consumes events until the first startElement event, based on that changes the ContentHandler on the XML reader, and passes the first start element event to the new content handler. You just have to pass the XMLReader to the SelectorContentHandler in the constructor. If you need all the events to be passes to the vocabulary specific content handler, SelectorContentHandler has to cache the events and then pass them, but in most cases this is not needed.\nOn a side note, I've lately used XOM in almost all my projects to handle XML ja thus far performance hasn't been the issue.\n", "You can try something like:\nInputStream stream = this.getClass().getClassLoader().getResourceAsStream(\"/images/image.jpg\");\n\nIn your JAR file, you might have a directory structure of:\n\nMyJAR.jar\n  - com (class files in here)\n  - images\n  ----image.jpg\n\n", "To create an ImageIcon from an image file within the same jars your code is loaded:\nnew javax.swing.ImageIcon(getClass().getResource(\"myimage.jpeg\"))\n\nClass.getResource returns a URL of a resource (or null!). ImageIcon has a constructors that load from a URL.\nTo construct a URL for a resource in a jar not on your \"classpath\", see the documentation for java.net.JarURLConnection.\n", "Use EnclosingClass.this\n", "I just found this recently. Use OuterClassName.this.\nclass Outer {\n    void foo() {\n        new Thread() {\n            public void run() {\n                Outer.this.bar();\n            }\n        }.start();\n    }\n    void bar() {\n        System.out.println(\"BAR!\");\n    }\n}\n\nUpdated If you just want the object itself (instead of invoking members), then Outer.this is the way to go.\n", "You can still use Outer.class to get the class of the outer class object (which will return the same Class object as Outer.this.getClass() but is more efficient)\nIf you want to access statics in the enclosing class, you can use Outer.name where name is  the static field or method.\n", "You are correct, if you use BufferedReader for reading HTTP content and headers you will want InputStreamReader so you can read byte for byte. \nBufferedReader in this scenario sometimes does weird things...escpecially when it comes to reading HTTP POST headers, sometimes you will be unable to read the POST data, if you use the InputStreamReader you can read the content length and read that many bytes...\n", "My gut tells me that since you're already performing buffering by using the byte array, it's redundant to use the BufferedReader.\n", "In this case, I would do as you are doing (use a byte array for buffering and not one of the stream buffers).\nThere are exceptions, though. One place you see buffers (output this time) is in the servlet API. Data isn't written to the underlying stream until flush() is called, allowing you to buffer output but then dump the buffer if an error occurs and write an error page instead. You might buffer input if you needed to reset the stream for rereading using mark(int) and reset(). For example, maybe you'd inspect the file header before deciding on which content handler to pass the stream to.\nUnrelated, but I think you should rewrite your stream handling. This pattern works best to avoid resource leaks:\n    InputStream stream = new FileInputStream(\"in\");\n    try { //no operations between open stream and try block\n        //work\n    } finally { //do nothing but close this one stream in the finally\n        stream.close();\n    }\n\nIf you are opening multiple streams, nest try/finally blocks.\nAnother thing your code is doing is making the assumption that the returned content is encoded in your VM's default character set (though that might be adequate, depending on the use case).\n", "You're actually really close. This is what you're looking for:\nSystem.getProperty(\"user.name\")\n\n", "The commonly available system properties are documented in the System.getProperties() method.  \nAs Chris said \"user.name\" is the property to get the user running your app.\n", "Depends on how sophisticated of an Http request you need to build (authentication, etc). Here's one simple way I've seen used in the past. \nStringBuilder html = new StringBuilder();\njava.net.URL url = new URL(\"http://www.google.com/\");\nBufferedReader input = null;\ntry {\n    input new BufferedReader(\n        new InputStreamReader(url.openStream()));\n\n    String htmlLine;\n    while ((htmlLine=input.readLine())!=null) {\n        html.appendLine(htmlLine);\n    }\n}\nfinally {\n    input.close();\n}\n\nPattern exp = Pattern.compile(\n    \"<meta name=\\\"generator\\\" value=\\\"([^\\\"]*)\\\" />\");\nMatcher matcher = exp.matcher(html.toString());\nif(matcher.find())\n{\n    System.out.println(\"Generator: \"+matcher.group(1));\n}\n\nProbably plenty of typos here to be found when compiled.\n(hope this wasn't homework)\n", "You may want to check the documentation for Apache's org.apache.commons.HttpClient package and the related packages here.  Sending an HTTP request from a Java application is pretty easy to do.  Poking through the documentation should get you off in the right direction.\n", "I haven't tried this, but wouldn't the basic framework be\n\nOpen a java.net.HttpURLConnection\nGet an input stream using getInputStream\nUse the regular expression in Mike's answer to parse out the bit you want\n\n", "Strictly speaking you can't really be sure you got the right value, since the meta tag may be commented out, or the meta tag may be in uppercase etc. It depends on how certain you are that the HTML can be considered as \"nice\".\n", "You should be using XPath query.\nIt'ls as simple as getting value of \"/html/head/meta[@name=generator]/@value\".\na good tutorial: Parsing an XML Document with XPath\n", "As far as I know, the only direct ways to do it are:\n\nCommit the txn - Probably not a reasonable option\nClear the Persistence Context - EntityManager.clear() - This is brutal, but would clear it out\nCopy the object - Most of the time your JPA objects are serializable, so this should be easy (if not particularly efficient).\n\n", "If there aren't too many properties in the bean, you might just create a new instance and set all of its properties manually from the persisted bean.\nThis could be implemented as a copy constructor, for example:\npublic Thing(Thing oldBean) {\n  this.setPropertyOne(oldBean.getPropertyOne());\n  // and so on\n}\n\nThen:\nThing newBean = new Thing(oldBean);\n\n", "Unfortunately, there's no way to disconnect one object from the entity manager in the current JPA implementation, AFAIR.\nEntityManager.clear() will disconnect all the JPA objects, so that might not be an appropriate solution in all the cases, if you have other objects you do plan to keep connected.\nSo your best bet would be to clone the objects and pass the clones to the code that changes the objects. Since primitive and immutable object fields are taken care of by the default cloning mechanism in a proper way, you won't have to write a lot of plumbing code (apart from deep cloning any aggregated structures you might have).\n", "I'm currently using this:\nString content = null;\nURLConnection connection = null;\ntry {\n  connection =  new URL(\"http://www.google.com\").openConnection();\n  Scanner scanner = new Scanner(connection.getInputStream());\n  scanner.useDelimiter(\"\\\\Z\");\n  content = scanner.next();\n}catch ( Exception ex ) {\n    ex.printStackTrace();\n}\nSystem.out.println(content);\n\nBut not sure if there's a better way.\n", "I just left this post in your other thread, though what you have above might work as well.  I don't think either would be any easier than the other.  The Apache packages can be accessed by just using import org.apache.commons.HttpClient at the top of your code.\nEdit: Forgot the link ;)\n", "This has worked well for me:\nURL url = new URL(theURL);\nInputStream is = url.openStream();\nint ptr = 0;\nStringBuffer buffer = new StringBuffer();\nwhile ((ptr = is.read()) != -1) {\n    buffer.append((char)ptr);\n}\n\nNot sure at to whether the other solution(s) provided are any more efficient or not.\n", "I wouldn't do it myself, because to me it muddies what a particular method does, and the method-chaining is of limited use to me over doing it longhand. It isn't going to send me into a quivering ball of rage and psychosis, though, which is always a good thing. :')\nI wouldn't be concerned about performance; just ask Knuth.\n", "This is called a Fluent Interface, for reference.\nPersonally, I think it's a pretty neat idea, but a matter of taste really. I think jQuery works this way.\n", "I agree with @Bernard that method chaining like this muddles the purpose of the setters. Instead I would suggest that if you are always creating chains of setters like this that you create a custom Constructor for your class so instead of\n    MyClass\n    .setInt(1)\n    .setString(\"test\")\n    .setBoolean(true)\n  ;\n\nYou do\nnew MyClass(1,\"test\",true);\n\nThis makes it more readable and you can use this to make your class immutable if you chose to.\n", "This idea is seen a lot in c++, it allows operations to be cascaded...\nfor example\n\n\nstd::cout << \"this\" << \"is\" << \"cascading\" \n\nis where the stream method << returns an instance of itself (*this).\nsee this: http://www.java2s.com/Tutorial/Cpp/0180__Class/Cascadingmemberfunctioncallswiththethispointer.htm\n", "I find this to be in poor style when used in setters. Immutable classes are usually a better fit for chaining, such as:\naWithB = myObject.withA(someA).withB(someB);\n\nwhere myObject is of this class:\nclass MyClass {\n    withA(TypeA a) {\n         this.a.equals(a) ? this : new MyClass(this, a);\n    }\n\n    private MyClass(MyClass copy, TypeA a) {\n        this(copy);\n        this.a = a;\n    }\n}\n\nThe builder pattern is also useful, since it allows the final object to be immutable while preventing the intermediate instances you would normally have to create when using this technique.\n", "I use to be a fan of the Java (and worse C#) practice of making getters and setters (get set properties) throughout an object.  This use to be what I considered object oriented, but really this leads us just to exposing the guts and implementation of the object and not really taking advantage of encapsulation.  There are times you can't get away from this (OR/M comes to mind), but in general the object should be set up and then perform its function.  My dream objects tend to have one or two constructors, and maybe a half dozen functions that do work.\nThe reason for this is that once I started developing API's there is a real need to keep things simple.  You really only want to add as much complexity as is required to get the job done, and getters and setters, while simple in themselves, add complexity in heaps when added in mass.  What happens when I load setters i na different order?  Anythign different? Are you sure?\n", "@Dan again, for more complex situations (immutability comes in mind) the Builder Pattern is a great solution.\nAlso, I agree with you mostly in getters. I believe what you are saying is to mostly follow the \"Tell don't ask\" paradigm and I greatly agree. But that is oriented mostly at getters.\nLastly, all of the above are for classes that have a great deal of attributes. I don't see a reason for any if you only have less than, say, 7.\n", "@pek\nChained invocation is one of proposals for Java 7. It says that if a method return type is void, it should implicitly return this. If you're interested in this topic, there is a bunch of links and a simple example on Alex Miller's Java 7 page.\n", "I ended up doing this a lot when working with the Apache POI excel library; I ended up writing helper methods that chained so I could apply formatting, data types, internal cell data, formulas, and cell positioning.\nFor stuff with lots of little tiny flyweight elements that need to have finicky little tweaks applied it works pretty well.\n", "It makes sense for builders, where all you are going to do is set a load of stuff, create the real object and throw the builder away. For builders, you might as well get rid of the \"set\" part of the method name. Similarly, immutable types don't really need the \"get\".\nSomething thing = new SomethingBuilder()\n    .aProperty(wotsit)\n    .anotherProperty(somethingElse)\n    .create();\n\nA useful trick (if you don't mind a ~2K runtime overhead per class) is to use the double brace idiom:\nJFrame frame = new JFrame(\"My frame\") {{\n    setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n    setLocation(frameTopLeft);\n    add(createContents());\n    pack();\n    setVisible(true);\n}};\n\n", "Wikipedia has great write-ups comparing both Java/C# generics and Java generics/C++ templates. The main article on Generics seems a bit cluttered but it does have some good info in it.\n", "Anders Hejlsberg himself described the differences here \"Generics in C#, Java, and C++\".\n", "The biggest complaint is type erasure.  In that, generics are not enforced at runtime.  Here's a link to some Sun docs on the subject.\n\nGenerics are implemented by type\n  erasure: generic type information is\n  present only at compile time, after\n  which it is erased by the compiler.\n\n", "C++ templates are actually much more powerful than their C# and Java counterparts as they are evaluated at compile time and support specialization. This allows for Template Meta-Programming and makes the C++ compiler equivalent to a Turing machine (i.e. during the compilation process you can compute anything that is computable with a Turing machine).\n", "C++ rarely uses the \u201cgenerics\u201d terminology. Instead, the word \u201ctemplates\u201d is used and is more accurate. Templates describes one technique to achieve a generic design.\nC++ templates is very different from what both C# and Java implement for two main reasons. The first reason is that C++ templates don't only allow compile-time type arguments but also compile-time const-value arguments: templates can be given as integers or even function signatures. This means that you can do some quite funky stuff at compile time, e.g. calculations:\ntemplate <unsigned int N>\nstruct product {\n    static unsigned int const VALUE = N * product<N - 1>::VALUE;\n};\n\ntemplate <>\nstruct product<1> {\n    static unsigned int const VALUE = 1;\n};\n\n// Usage:\nunsigned int const p5 = product<5>::VALUE;\n\nThis code also uses the other distinguished feature of C++ templates, namely template specialization. The code defines one class template, product that has one value argument. It also defines a specialization for that template that is used whenever the argument evaluates to 1. This allows me to define a recursion over template definitions. I believe that this was first discovered by Andrei Alexandrescu.\nTemplate specialization is important for C++ because it allows for structural differences in data structures. Templates as a whole is a means of unifying an interface across types. However, although this is desirable, all types cannot be treated equally inside the implementation. C++ templates takes this into account. This is very much the same difference that OOP makes between interface and implementation with the overriding of virtual methods.\nC++ templates are essential for its algorithmic programming paradigm. For example, almost all algorithms for containers are defined as functions that accept the container type as a template type and treat them uniformly. Actually, that's not quite right: C++ doesn't work on containers but rather on ranges that are defined by two iterators, pointing to the beginning and behind the end of the container. Thus, the whole content is circumscribed by the iterators: begin <= elements < end.\nUsing iterators instead of containers is useful because it allows to operate on parts of a container instead of on the whole.\nAnother distinguishing feature of C++ is the possibility of partial specialization for class templates. This is somewhat related to pattern matching on arguments in Haskell and other functional languages. For example, let's consider a class that stores elements:\ntemplate <typename T>\nclass Store { \u2026 }; // (1)\n\nThis works for any element type. But let's say that we can store pointers more effciently than other types by applying some special trick. We can do this by partially specializing for all pointer types:\ntemplate <typename T>\nclass Store<T*> { \u2026 }; // (2)\n\nNow, whenever we instance a container template for one type, the appropriate definition is used:\nStore<int> x; // Uses (1)\nStore<int*> y; // Uses (2)\nStore<string**> z; // Uses (2), with T = string*.\n\n", "In Java, generics are compiler level only, so you get:\na = new ArrayList<String>()\na.getClass() => ArrayList\n\nNote that the type of 'a' is an array list, not a list of strings. So the type of a list of bananas would equal() a list of monkeys.\nSo to speak.\n", "Follow-up to my previous posting.\nTemplates are one of the main reasons why C++ fails so abysmally at intellisense, regardless of the IDE used. Because of template specialization, the IDE can never be really sure if a given member exists or not. Consider:\ntemplate <typename T>\nstruct X {\n    void foo() { }\n};\n\ntemplate <>\nstruct X<int> { };\n\ntypedef int my_int_type;\n\nX<my_int_type> a;\na.|\n\nNow, the cursor is at the indicated position and it's damn hard for the IDE to say at that point if, and what, members a has. For other languages the parsing would be straightforward but for C++, quite a bit of evaluation is needed beforehand.\nIt gets worse. What if my_int_type were defined inside a class template as well? Now its type would depend on another type argument. And here, even compilers fail.\ntemplate <typename T>\nstruct Y {\n    typedef T my_type;\n};\n\nX<Y<int>::my_type> b;\n\nAfter a bit of thinking, a programmer would conclude that this code is the same as the above: Y<int>::my_type resolves to int, therefore b should be the same type as a, right?\nWrong. At the point where the compiler tries to resolve this statement, it doesn't actually know Y<int>::my_type yet! Therefore, it doesn't know that this is a type. It could be something else, e.g. a member function or a field. This might give rise to ambiguities (though not in the present case), therefore the compiler fails. We have to tell it explicitly that we refer to a type name:\nX<typename Y<int>::my_type> b;\n\nNow, the code compiles. To see how ambiguities arise from this situation, consider the following code:\nY<int>::my_type(123);\n\nThis code statement is perfectly valid and tells C++ to execute the function call to Y<int>::my_type. However, if my_type is not a function but rather a type, this statement would still be valid and perform a special cast (the function-style cast) which is often a constructor invocation. The compiler can't tell which we mean so we have to disambiguate here.\n", "Both Java and C# introduced generics after their first language release.  However, there are differences in how the core libraries changed when generics was introduced.  C#'s generics are not just compiler magic and so it was not possible to generify existing library classes without breaking backwards compatibility.\nFor example, in Java the existing Collections Framework was completely genericised.  Java does not have both a generic and legacy non-generic version of the collections classes.  In some ways this is much cleaner - if you need to use a collection in C# there is really very little reason to go with the non-generic version, but those legacy classes remain in place, cluttering up the landscape. \nAnother notable difference is the Enum classes in Java and C#.  Java's Enum has this somewhat tortuous looking definition:\n//  java.lang.Enum Definition in Java\npublic abstract class Enum<E extends Enum<E>> implements Comparable<E>, Serializable {\n\n(see Angelika Langer's very clear explanation of exactly why this is so.  Essentially, this means Java can give type safe access from a string to its Enum value:\n//  Parsing String to Enum in Java\nColour colour = Colour.valueOf(\"RED\");\n\nCompare this to C#'s version:\n//  Parsing String to Enum in C#\nColour colour = (Colour)Enum.Parse(typeof(Colour), \"RED\");\n\nAs Enum already existed in C# before generics was introduced to the language, the definition could not change without breaking existing code.  So, like collections, it remains in the core libraries in this legacy state.\n", "I'll add my voice to the noise and take a stab at making things clear:\nC# Generics allow you to declare something like this.\nList<Person> foo = new List<Person>();\n\nand then the compiler will prevent you from putting things that aren't Person into the list.\nBehind the scenes the C# compiler is just putting List<Person> into the .NET dll file, but at runtime the JIT compiler  goes and builds a new set of code, as if you had written a special list class just for containing people - something like ListOfPerson.\nThe benefit of this is that it makes it really fast. There's no casting or any other stuff, and because the dll contains the information that this is a List of Person, other code that looks at it later on using reflection can tell that it contains Person objects (so you get intellisense and so on).\nThe downside of this is that old C# 1.0 and 1.1 code (before they added generics) doesn't understand these new List<something>, so you have to manually convert things back to plain old List to interoperate with them. This is not that big of a problem, because C# 2.0 binary code is not backwards compatible. The only time this will ever happen is if you're upgrading some old C# 1.0/1.1 code to C# 2.0\nJava Generics allow you to declare something like this.\nArrayList<Person> foo = new ArrayList<Person>();\n\nOn the surface it looks the same, and it sort-of is. The compiler will also prevent you from putting things that aren't Person into the list.\nThe difference is what happens behind the scenes. Unlike C#, Java does not go and build a special ListOfPerson - it just uses the plain old ArrayList which has always been in Java. When you get things out of the array, the usual Person p = (Person)foo.get(1); casting-dance still has to be done. The compiler is saving you the key-presses, but the speed hit/casting is still incurred just like it always was.\nWhen people mention \"Type Erasure\" this is what they're talking about. The compiler inserts the casts for you, and then 'erases' the fact that it's meant to be a list of Person not just Object\nThe benefit of this approach is that old code which doesn't understand generics doesn't have to care. It's still dealing with the same old ArrayList as it always has. This is more important in the java world because they wanted to support compiling code using Java 5 with generics, and having it run on old 1.4 or previous JVM's, which microsoft deliberately decided not to bother with.\nThe downside is the speed hit I mentioned previously, and also because there is no ListOfPerson pseudo-class or anything like that going into the .class files, code that looks at it later on (with reflection, or if you pull it out of another collection where it's been converted into Object or so on) can't tell in any way that it's meant to be a list containing only Person and not just any other array list.\nC++ Templates allow you to declare something like this\nstd::list<Person>* foo = new std::list<Person>();\n\nIt looks like C# and Java generics, and it will do what you think it should do, but behind the scenes different things are happening.\nIt has the most in common with C# generics in that it builds special pseudo-classes rather than just throwing the type information away like java does, but it's a whole different kettle of fish.\nBoth C# and Java produce output which is designed for virtual machines. If you write some code which has a Person class in it, in both cases some information about a Person class will go into the .dll or .class file, and the JVM/CLR will do stuff with this.\nC++ produces raw x86 binary code. Everything is not an object, and there's no underlying virtual machine which needs to know about a Person class. There's no boxing or unboxing, and functions don't have to belong to classes, or indeed anything. \nBecause of this, the C++ compiler places no restrictions on what you can do with templates - basically any code you could write manually, you can get templates to write for you.\nThe most obvious example is adding things:\nIn C# and Java, the generics system needs to know what methods are available for a class, and it needs to pass this down to the virtual machine. The only way to tell it this is by either hard-coding the actual class in, or using interfaces. For example:\nstring addNames<T>( T first, T second ) { return first.Name() + second.Name(); }\n\nThat code won't compile in C# or Java, because it doesn't know that the type T actually provides a method called Name(). You have to tell it - in C# like this:\ninterface IHasName{ string Name(); };\nstring addNames<T>( T first, T second ) where T : IHasName { .... }\n\nAnd then you have to make sure the things you pass to addNames implement the IHasName interface and so on. The java syntax is different (<T extends IHasName>), but it suffers from the same problems.\nThe 'classic' case for this problem is trying to write a function which does this\nstring addNames<T>( T first, T second ) { return first + second; }\n\nYou can't actually write this code because there are no ways to declare an interface with the + method in it. You fail.\nC++ suffers from none of these problems. The compiler doesn't care about passing types down to any VM's - if both your objects have a .Name() function, it will compile. If they don't, it won't. Simple.\nSo, there you have it :-)\n", "There are already a lot of good answers on what the differences are, so let me give a slightly different perspective and add the why.\nAs was already explained, the main difference is type erasure, i.e. the fact that the Java compiler erases the generic types and they don't end up in the generated bytecode. However, the question is: why would anyone do that? It doesn't make sense! Or does it?\nWell, what's the alternative? If you don't implement generics in the language, where do you implement them? And the answer is: in the Virtual Machine. Which breaks backwards compatibility.\nType erasure, on the other hand, allows you to mix generic clients with non-generic libraries. In other words: code that was compiled on Java 5 can still be deployed to Java 1.4.\nMicrosoft, however, decided to break backwards compatibility for generics. That's why .NET Generics are \"better\" than Java Generics.\nOf course, Sun aren't idiots or cowards. The reason why they \"chickened out\", was that Java was significantly older and more widespread than .NET when they introduced generics. (They were introduced roughly at the same time in both worlds.) Breaking backwards compatibility would have been a huge pain.\nPut yet another way: in Java, Generics are a part of the Language (which means they apply only to Java, not to other languages), in .NET they are part of the Virtual Machine (which means they apply to all languages, not just C# and Visual Basic.NET).\nCompare this with .NET features like LINQ, lambda expressions, local variable type inference, anonymous types and expression trees: these are all language features. That's why there are subtle differences between VB.NET and C#: if those features were part of the VM, they would be the same in all languages. But the CLR hasn't changed: it's still the same in .NET 3.5 SP1 as it was in .NET 2.0. You can compile a C# program that uses LINQ with the .NET 3.5 compiler and still run it on .NET 2.0, provided that you don't use any .NET 3.5 libraries. That would not work with generics and .NET 1.1, but it would work with Java and Java 1.4.\n", "Looks like, among other very interesting proposals, there is one about refining generics and breaking backwards compatibility:\n\nCurrently, generics are implemented\n  using erasure, which means that the\n  generic type information is not\n  available at runtime, which makes some\n  kind of code hard to write. Generics\n  were implemented this way to support\n  backwards compatibility with older\n  non-generic code. Reified generics\n  would make the generic type\n  information available at runtime,\n  which would break legacy non-generic\n  code. However, Neal Gafter has\n  proposed making types reifiable only\n  if specified, so as to not break\n  backward compatibility.\n\nat Alex Miller's article about Java 7 Proposals\n", "Some tips:\nUnderstand the JSF request lifecycle and where your various pieces of code fit in it. Especially find out why your model values will not be updated if there are validation errors.\nChoose a tag library and then stick with it. Take your time to determine your needs and prototype different libraries. Mixing different taglibs may cause severe harm to your mental health.\n", "Consider using facelets- it greatly simplifies the worst parts of JSF development. I'm doing a CMS-based JSF project now without facelets (after doing a project with it) and it feels like my left arm is missing....\n", "I would strongly recommend getting someone experienced in JSF to lead your first project in JSF even if this means paying a contractor for 3 months.\nThe JSF approach is very different to JSP. The way you approach and solve problems is very different.\n Libraries \nConsider the following libraries:\n\nTomahawk\nRichFaces\nShale\nTrinidad\nSpring\n\nArchitecture\nEmbrace MVC you need not only to know what this means but use it extensively.\nThere are two main patterns for associating controllers with the views\nDot Net Style, One Request controller per view\nEvery top level page has a request scoped controller (bean) all validation and actions of the page use this class. Also used for filtering and ordering the Model.\nThe Model will be stored on a few session level controllers which will handle talking to the back-end (EJBs, or persistence layer) these session controllers should be implementing the business logic and have no knowledge of JSF,HTML or any presentation technology.\nControllers are session level\nDesign controllers based on your data model, nest them with in each other. (This post is getting too long so I wont go into the nuts and bolts of these).\nKnowledge Required\nEveryone:\n\nLife Cycle\nMDC\nComponent based development\nTags in h: and f: \n\nAt Least One Person:\n\nCreating Custom Components\nLimitations to JSF (back button,\nrandom navigation, etc) \nDebug 3rd\nparty libraries (At least one person\nhas to be comfortable breaking out\nthe debugger and stepping into the\nimplementation of JSF (easiest with\nopen source implementations like\nMyFaces))\n\n", "I have been using the IBM implementation of JSf and have some comments. It is not a bad way to go but you have to commit to the IBM 'way-of-life'. They have written their own tag lib which extends the JSF standard. If you can manage to stay inside of Rational Application Developer (RAD) (which does not get updated THAT often), the integration is sometimes buggy but overall decent. Also the integration with WebSphere is pretty good. Unless your employer plays golf with IBM, I think it is better to stay as vanilla as possible.\n", "Do you need to schedule a recurring task? In that case I recommend you consider using Quartz.\n", "I don't think it's possible to do it with Timer/TimerTask, but depending on what exactly you want to achieve you might be happy with using java.util.concurrent.ScheduledThreadPoolExecutor.\n", "According to the Timer documentation, in Java 1.5 onwards, you should prefer the ScheduledThreadPoolExecutor instead. (You may like to create this executor using Executors.newSingleThreadScheduledExecutor() for ease of use; it creates something much like a Timer.)\nThe cool thing is, when you schedule a task (by calling schedule()), it returns a ScheduledFuture object. You can use this to cancel the scheduled task. You're then free to submit a new task with a different triggering time.\nETA: The Timer documentation linked to doesn't say anything about ScheduledThreadPoolExecutor, however the OpenJDK version had this to say:\n\nJava 5.0 introduced the java.util.concurrent package and\n  one of the concurrency utilities therein is the \n  ScheduledThreadPoolExecutor which is a thread pool for repeatedly\n  executing tasks at a given rate or delay.  It is effectively a more\n  versatile replacement for the Timer/TimerTask\n  combination, as it allows multiple service threads, accepts various\n  time units, and doesn't require subclassing TimerTask (just\n  implement Runnable).  Configuring\n  ScheduledThreadPoolExecutor with one thread makes it equivalent to\n  Timer.\n\n", "If your Timer is only ever going to have one task to execute then I would suggest subclassing it:\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class ReschedulableTimer extends Timer\n{\n    private Runnable  task;\n    private TimerTask timerTask;\n\n    public void schedule(Runnable runnable, long delay)\n    {\n        task = runnable;\n        timerTask = new TimerTask()\n        {\n            @Override\n            public void run()\n            {\n                task.run();\n            }\n        };\n        this.schedule(timerTask, delay);\n    }\n\n    public void reschedule(long delay)\n    {\n        timerTask.cancel();\n        timerTask = new TimerTask()\n        {\n            @Override\n            public void run()\n            {\n                task.run();\n            }\n        };\n        this.schedule(timerTask, delay);\n    }\n}\n\nYou will need to work on the code to add checks for mis-use, but it  should achieve what you want. The ScheduledThreadPoolExecutor does not seem to have built in support for rescheduling existing tasks either, but a similar approach should work there as well.\n", "Use Java Preprocessor?  (google foo low but this is a link to the old Joel forums discussing it)\n", "public abstract class Config\n{\n    public static final boolean ENABLELOGGING = true;\n}\n\n\nimport static Config.*;\n\npublic class MyClass\n{\n    public myMethod()\n    {\n        System.out.println(\"Hello, non-logging world\");\n\n        if (ENABLELOGGING)\n        {\n            log(\"Hello, logging world.\");\n        }\n    }\n}\n\nThe compiler will remove the code block with \"Hello, logging world.\" in it if ENABLE_LOGGING is set to true because it's a static final value. If you use an obfuscator such as proguard, then the Config class will vanish too.\nAn obfuscator would also allow things like this instead:\npublic class MyClass\n{\n    public myMethod()\n    {\n        System.out.println(\"Hello, non-logging world\");\n\n        Log.log(\"Hello, logging world.\");\n    }\n}\n\n\nimport static Config.*;\n\npublic abstract class Log\n{\n    public static void log(String s)\n    {\n        if (ENABLELOGGING)\n        {\n            log(s);\n        }\n    }\n}\n\nThe method Log#log would reduce to nothing in the compiler, and be removed by the obfuscator, along with any calls to that method and eventually even the Log class would itself be removed.\n", "Java contains some sort of preprocessor of its own. It's called APT. It processes and generates code. At the moment I'm not sure how this should work (I haven't tried it). But it seems to be used for these kind of things.\n", "To directly answer your question: I don't know.\nBut here is another solution to your problem:\nIn my mind, there are two statements that collide with each other here: \"debug statements\" and \"production code\". \nWhat is the purpose of debug statements? Help to get rid of bugs while (unit) testing. If a piece of software is properly tested and works according to the requirements, debug statements are nothing else but OBSOLETE.\nI strongly disagree with leaving any debug statements in production code. I bet nobody bothers testing side-effects of debug code in production code. The code probably does what it's supposed to do, but does it do more than that? Do all your #defines work correctly and really take ALL of the debug code out? Who analyzes 100000 lines of pre-processed code to see if all the debug stuff is gone?\nUnless we have a different definition of production code, you should consider taking out the debug statements after the code is tested and be done with it.\n", "Two recommendations.\nFirst:\nfor real logging, use a modern logging package like log4j or java's own built in logging. Don't worry about performance so much, the logging level check is on the order of nanoseconds. (it's an integer comparison).\nAnd if you have more than a single log statement, guard the whole block:\n(log4j, for example:)\nif (logger.isDebugEnabled()) {\n\n  // perform expensive operations\n  // build string to log\n\n  logger.debug(\"....\");\n}\n\nThis gives you the added ability control logging at runtime. Having to restart and run a debug build can be very inconvenient.\nSecond:\nYou may find assertions are more what you need. An assertion is a statement which evaluates to a boolean result, with an optional message:\n assert (sky.state != FALLING) : \"The sky is falling!\";\n\nWhenever the assertion results in a false, the assertion fails and an AssertionError is thrown containing your message (this is an unchecked exception, intended to exit the application). \nThe neat thing is, these are treated special by the JVM and can toggled at runtime down to the class level, using a VM parameter (no recompile needed). If not enabled, there is zero overhead.\n", "I would also highly recommend using a logging framework.\nThe logger.IsDebugEnabled() is not mandatory, it is just that it can be faster to check whether the system is in the debug level before logging.\nUsing a logging framework means you can configure logging levels on the fly without restarting the application.\nYou could have logging like:\nlogger.error(\"Something bad happened\")\nlogger.debug(\"Something bad happend with loads more detail\")\n\n", "Another possibility is to put the if statement within your logging function, you get less code this way, but at the expense of some extra function calls.\nI'm also not a big fan of completely removing the debug code. Once you're in production, you'll probably need access to debug messages if something goes wrong. If you remove all of your code level debugging, than this isn't a possibility.\n", "I generally prefer not doing either, since it's just slowing things down. NullPointerExceptions are thrown later on anyway, which will quickly lead the user to discovering they're passing null to the method. I used to check, but 40% of my code ended up being checking code, at which point I decided it was just not worth the nice assertion messages.\n", "\nIt doesn't really go into how you would enforce this restriction?\n\nYou enforce it by throwing an ArgumentExcexception if they pass in null.\nif (p1 == null || p2 == null) {\n    throw new IllegalArgumentException(\"Invalid argument for xProjection\");\n}\n\n", "I agree or disagree with wvdschel's post, it depends on what he's specifically saying.\nIn this case, sure, this method will crash on null so the explicit check here is probably not needed.\nHowever, if the method simply stores the passed data, and there is some other method that you call later that will deal with it, discovering bad input as early as possible is the key to fixing bugs faster. At that later point, there could be a myriad of ways that bad data happened to be given to your class. It's sort of trying to figure out how the rats came into your house after the fact, trying to find the hole somewhere.\n", "I prefer the use of assertions. \nI have a rule that I only use assertions in public and protected methods. This is because I believe the calling method should ensure that it is passing valid arguments to private methods.\n", "General rule is if your method doesn't expect null arguments then you should throw System.ArgumentNullException. Throwing proper exception not only protects you from resource corruption and other bad things but serves as a guide for users of your code saving time spent debugging your code.\nAlso read an article on Defensive programming\n", "@Chris Karcher I would say absolutely correct. The only thing I would say is check the params separately and have the exeption report the param that was null also as it makes tracking where the null is coming from much easier.\n@wvdschel wow! If writing the code is too much effort for you, you should look into something like PostSharp (or a Java equivalent if one is available) which can post-process your assemblies and insert param checks for you. \n", "@lassevk:\n\nHowever, if the method simply stores the passed data, and there is some other method that you call later that will deal with it, discovering bad input as early as possible is the key to fixing bugs faster. At that later point, there could be a myriad of ways that bad data happened to be given to your class. It's sort of trying to figure out how the rats came into your house after the fact, trying to find the hole somewhere.\n\nYou're right about that, these checks should only be enforced when data is only stored to be processed or used later, I didn't think of that scenario.\n@Shaun Austin:\n\nwow! If writing the code is too much effort for you, ...\n\nWriting code is not the problem, writing monkey code that bothers me. Writing code that a machine could have written better. That library looks like it does just that, thanks for pointing it out!\n", "Although it is not strictly related you might want to take a look to Spec#.\nI think it is still in development (by Microsoft) but some CTP are available and it looks promising. Basically it allows you to do this:\n  public static int Divide(int x, int y)\n    requires y != 0 otherwise ArgumentException; \n  {\n  }\n\nor\n  public static int Subtract(int x, int y)\n    requires x > y;\n    ensures result > y;\n  {\n    return x - y;\n  } \n\nIt also provides another features like Notnull types. It's build on top of the .NET Framework 2.0 and it's fully compatible. The syntaxt, as you may see, is C#.\n", "Spec# looks very interesting!\nWhen something like that isn't available, I generally test non-private methods with a run-time null-check, and assertions for internal methods.  Rather than code the null check explicitly in each method, I delegate that to a utilities class with a check null method:\n/**\n * Checks to see if an object is null, and if so \n * generates an IllegalArgumentException with a fitting message.\n * \n * @param o The object to check against null.\n * @param name The name of the object, used to format the exception message\n *\n * @throws IllegalArgumentException if o is null.\n */\npublic static void checkNull(Object o, String name) \n    throws IllegalArgumentException {\n   if (null == o)\n      throw new IllegalArgumentException(name + \" must not be null\");\n}\n\npublic static void checkNull(Object o) throws IllegalArgumentException {\n   checkNull(o, \"object\");\n} \n\n// untested:\npublic static void checkNull(Object... os) throws IllegalArgumentException {\n   for(Object o in os) checkNull(o);  \n}\n\nThen checking turns into:\npublic void someFun(String val1, String val2) throws IllegalArgumentException {\n   ExceptionUtilities.checkNull(val1, \"val1\");\n   ExceptionUtilities.checkNull(val2, \"val2\");\n\n   /** alternatively:\n   ExceptionUtilities.checkNull(val1, val2);\n   **/\n\n   /** ... **/\n} \n\nThat can be added with editor macros, or a code-processing script.\nEdit: The verbose check could be added this way as well, but I think it's significantly easier to automate the addition of a single line.\n", "Also not of immediate use, but related to the mention of Spec#... There's a proposal to add \"null-safe types\" to a future version of Java: \"Enhanced null handling - Null-safe types\".\nUnder the proposal, your method would become\npublic class MetricsCalculator {\n    public double xProjection(#Point p1, #Point p2) {\n        return (p2.x - p1.x) * 1.5;\n    }\n}\n\nwhere #Point is the type of non-null references to objects of type Point.\n", "Thwrowing C# ArgumentException, or Java IllegalArgumentException right at the beginning of the method looks to me as the clearest of solutions. \nOne should always be careful with Runtime Exceptions - exceptions that are not declared on the method signature. Since the compiler doesn't enforce you to catch these it's really easy to forget about them. Make sure you have some kind of a \"catch all\" exception handling to prevent the software to halt abruptly. That's the most important part of your user experience.\n", "The best way to handle this really would be the use of exceptions. Ultimately, the asserts are going to end up giving a similar experience to the end user but provide no way for the developer calling your code to handle the situation before showing an exception to the end user. Ultimatley, you want to ensure that you test for invalid inputs as early as possible (especially in public facing code) and provide the appropriate exceptions that the calling code can catch.\n", "\nIn most programming languages there is no good way to deal with a null that is passed by a caller accidentally. Because this is the case, the rational approach is to forbid passing null by default.\n\nI found JetBrains' @Nullable and @NotNull annotations approach for dealing with this the most ingenious, so far. It's IDE specific, unfortunately, but really clean and powerful, IMO.\nhttp://www.jetbrains.com/idea/documentation/howto.html \nHaving this (or something similar) as a java standard would be really nice.\n", "Both the use of assertions and the throwing of exceptions are valid approaches here.  Either mechanism can be used to indicate a programming error, not a runtime error, as is the case here.\n\nAssertions have the advantage of performance as they are typically disabled on production systems.  \nExceptions have the advantage of safety, as the check is always performed.  \n\nThe choice really depends on the development practices of the project.  The project as a whole needs to decide on an assertion policy: if the choice is to enable assertions during all development, then I'd say to use assertions to check this kind of invalid parameter - in a production system, a NullPointerException thrown due to a programming error is unlikely to be able to be caught and handled in a meaningful way anyway and so will act just like an assertion.\nPractically though, I know a lot of developers that don't trust that assertions will be enabled when appropriate and so opt for the safety of throwing a NullPointerException.\nOf course if you can't enforce a policy for your code (if you're creating a library, for example, and so are dependent on how other developers run your code), you should opt for the safe approach of throwing NullPointerException for those methods that are part of the library's API.\n", "Slightly off-topic, but one feature of findbugs that I think is very useful is to be able to annotate the parameters of methods to describe which parameters should not be passed a null value.  \nUsing static analysis of your code, findbugs can then point out locations where the method is called with a potentially null value.  \nThis has two advantages:\n\nThe annotation describes your intention for how the method should be called, aiding documentation\nFindBugs can point to potential problem callers of the method, allowing you to track down potential bugs.\n\nOnly useful when you have access to the code that calls your methods ... but that is usually the case.\n", "@aku\n\nthen you should throw System.ArgumentNullException\n\nI don't see how throwing a .net framework exception is going to help him :)\nOtherwise, in a Java way, assuming the null comes from a programming error (ie. should never go outside the testing phase), then leave the system throw it, or if there are side-effects reaching that point, check for null at the beginning and throw either IllegalArgumentException or NullPointerException.\nIf the null could come from an actual exceptional case but you don't want to use a checked exception for that, then you definitely want to go the IllegalArgumentException route at the beginning of the method.\n", "Since off-topic seems to have become the topic, Scala takes an interesting approach to this. All types are assumed to be not null, unless you explicity wrap it in an Option to indicate that it might be null. So:\n//  allocate null\nvar name : Option[String]\nname = None\n\n//  allocate a value\nname = Any[\"Hello\"]\n\n//  print the value if we can\nname match {\n  Any[x] => print x\n  _ => print \"Nothing at all\"\n}\n\n", "Have you tried explicitly enabling double-buffering on the JList and/or the components that it is drawing over? (with:setDoubleBuffered(boolean aFlag))\nAnother thought is that you might need to exit the function immediately after delegating to the EDT.  The way your code is written, it looks like the update will happen in both threads if ContentChanged is invoked from a non-EDT thread.  Logging in the first if (or set a breakpoint in the if -- but not in the runnable -- should help determine if that is your problem.\neg:\npublic void contentsChanged(final ListDataEvent evt)\n{\n    if (!EventQueue.isDispatchThread())\n    {\n        log.debug(\"Delegating contentsChanged(...) to EDT\");\n\n        EventQueue.invokeLater(new Runnable() \n        {\n            public void run() \n            {\n                contentsChanged(evt);\n            }\n        });\n        // don't run ensureIndexIsVisible twice:\n        return;\n     }\n\n     if (playbackInProgress)\n     {\n         int index = evt.getIndex0();\n         currentContentList.ensureIndexIsVisible(index);\n     }\n}\n\n", "You can probably do this by setting your own FileSystemView.\n", "Incase anyone else needs this in the future:\nclass DirectoryRestrictedFileSystemView extends FileSystemView\n{\n    private final File[] rootDirectories;\n\n    DirectoryRestrictedFileSystemView(File rootDirectory)\n    {\n        this.rootDirectories = new File[] {rootDirectory};\n    }\n\n    DirectoryRestrictedFileSystemView(File[] rootDirectories)\n    {\n        this.rootDirectories = rootDirectories;\n    }\n\n    @Override\n    public File createNewFolder(File containingDir) throws IOException\n    {       \n        throw new UnsupportedOperationException(\"Unable to create directory\");\n    }\n\n    @Override\n    public File[] getRoots()\n    {\n        return rootDirectories;\n    }\n\n    @Override\n    public boolean isRoot(File file)\n    {\n        for (File root : rootDirectories) {\n            if (root.equals(file)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\nYou'll obviously need to make a better \"createNewFolder\" method, but this does restrict the user to one of more directories.\nAnd use it like this:\nFileSystemView fsv = new DirectoryRestrictedFileSystemView(new File(\"X:\\\\\"));\nJFileChooser fileChooser = new JFileChooser(fsv);\n\nor like this:\nFileSystemView fsv = new DirectoryRestrictedFileSystemView( new File[] {\n    new File(\"X:\\\\\"),\n    new File(\"Y:\\\\\")\n});\nJFileChooser fileChooser = new JFileChooser(fsv);\n\n", "It's frowned upon for normal exits.  If \"not everything is going according to plan\", then System.exit is fine.\nUpdate:  I should add that I assume your '1' has meaning that is documented somewhere.\n", "It can be dangerous / problematic in web servlet environments also. \nThrowing an Exception is generally considered the other alternative.\n", "Our company's policy is that it's OK (even preferred) to call System.exit(-1), but only in init() methods.  I would definitely think twice before calling it during a program's normal flow.\n", "Throwing exceptions is the best way to send information about a certain error up and out of the app.\nA number doesn't tell you as much as:\nException at thread 'main': FileNotFoundException \"The file 'foo' doesn't exist\"\n\n(or something close to that)\n", "I agree with the \"throw an Exception\" crowd. One reason is that calling System.exit makes your code difficult to use if you want other code to be able to use it. For example, if you find out that your class would be useful from a web app, or some kind of message consuming app, it would be nice to allow those containers the opportunity to deal with the failure somehow. A container may want to retry the operation, decide to log and ignore the problem, send an email to an administrator, etc.\nAn exception to this would be your main() method; this could trap the Exception, and call System.exit() with some value that can be recognized by the calling process or shell script.\n", "The use of System.exit is frowned upon when the 'application' is really a sub-application (e.g. servlet, applet) of a larger Java application (server): in this case the System.exit could stop the JVM and hence also all other sub-applications. In this situation, throwing an appropriate exception, which could be caught and handled by the application framework/server is the best option.\nIf the java application is really meant to be run as a standalone application, there is nothing wrong with using System.exit. in this case, setting an exit value is probably the easiest (and also most used) way of communicating failure or success to the parent process.\n", "I think throwing an exception is what you should do when something goes wrong. This way, if your application is not running as a stand-alone app the caller can react to it and has some information about what went wrong. It is also easier for debugging purposes because you as well get a better idea about what went wrong when you see a stack trace.\nOne important thing to note is that when the exception reaches the top level and therefore causes the VM to quit the VM returns a return code of 1, therefore outside applications that use the return code see that something went wrong.\nThe only case where I think System.exit() makes sense is when your app is meant to be called by applications which are not Java and therefore have to use return codes to see if your app worked or not and you want those applications to have a chance to react differently on different things going wrong, i.e. you need different return codes.\n", "Eclipse is correct. There is no interpretation context inside a comment (no escaping, etc). See JLS \u00a73.7.\n", "Yes, I am commenting the code out just to do a quick test. I've already tested what I needed to by commenting the code out another way; I was just curious about what appears to be an odd misfeature of Java and/or Eclipse.\n", "A simple test shows Eclipse is correct:\npublic class Test {\n  public static final void main(String[] args) throws Exception {\n    String s = \"This is the original string.\";\n    /* This is commented out.\n    s = \"This is the end of a comment: */ \";\n    */\n    System.out.println(s);\n  }\n}\n\nThis fails to compile with:\nTest.java:5: unclosed string literal\n    s = \"This is the end of a comment: */ \";\n\n", "I may be helpful to just do a \"batch\" multiline comment so that it comments each line with \"//\". It is Ctrl+\"/\" in Idea for commenting and uncommenting the selected lines, Eclipse should have a similar feature.\n", "In Eclipse you can highlight the part of the source code you want to comment out and use the Ctrl+/ to single-line comment every line in the highlighted section - puts a \"//\" at the beginning of the lines.\nOr if you really want to block-comment the selection use the Ctrl+Shift+/ combination. It will detect the block comments in your selection. However undoing this is harder than single-line comments.\n", "I often use only // for inline commments, and use /* */ only for commenting out large blocks the way you have.\nA lot of developers will still use /*  */ for inline comments, because that's what they're familiar with, but they all run into problems like this one, in C it didn't matter as much because you could #if 0 the stuff away.\n", "This works for me in Java 1.5 - I stripped out specific exceptions for readability.\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.DocumentBuilder;\nimport org.w3c.dom.Document;\nimport java.io.ByteArrayInputStream;\n\npublic Document loadXMLFromString(String xml) throws Exception\n{\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n\n    factory.setNamespaceAware(true);\n    DocumentBuilder builder = factory.newDocumentBuilder();\n\n    return builder.parse(new ByteArrayInputStream(xml.getBytes()));\n}\n\n", "Whoa there! \nThere's a potentially serious problem with this code, because it ignores the character encoding specified in the String (which is UTF-8 by default). When you call String.getBytes() the platform default encoding is used to encode Unicode characters to bytes. So, the parser may think it's getting UTF-8 data when in fact it's getting EBCDIC or something\u2026 not pretty!\nInstead, use the parse method that takes an InputSource, which can be constructed with a Reader, like this:\nimport java.io.StringReader;\nimport org.xml.sax.InputSource;\n\u2026\n        return builder.parse(new InputSource(new StringReader(xml)));\n\nIt may not seem like a big deal, but ignorance of character encoding issues leads to insidious code rot akin to y2k.\n", "Just had a similar problem, except i needed a NodeList and not a Document, here's what I came up with.  It's mostly the same solution as before, augmented to get the root element down as a NodeList and using erickson's suggestion of using an InputSource instead for character encoding issues.\nprivate String DOC_ROOT=\"root\";\nString xml=getXmlString();\nDocument xmlDoc=loadXMLFrom(xml);\nElement template=xmlDoc.getDocumentElement();\nNodeList nodes=xmlDoc.getElementsByTagName(DOC_ROOT);\n\npublic static Document loadXMLFrom(String xml) throws Exception {\n        InputSource is= new InputSource(new StringReader(xml));\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        factory.setNamespaceAware(true);\n        DocumentBuilder builder = null;\n        builder = factory.newDocumentBuilder();\n        Document doc = builder.parse(is);\n        return doc;\n    }\n\n", "For session cookies it doesn't seem to be supported in Tomcat yet. See the bug report Need to add support for HTTPOnly session cookie parameter. A somewhat involved work-around for now can be found here, which basically boils down to manually patching Tomcat. Can't really find an easy way to do it at this moment at this point I'm affraid. \nTo summarize the work-around, it involves downloading the 5.5 source, and then change the source in the following places:\norg.apache.catalina.connector.Request.java\n//this is what needs to be changed\n//response.addCookieInternal(cookie);\n\n//this is whats new\nresponse.addCookieInternal(cookie, true);\n}\n\norg.apache.catalina.connectorResponse.addCookieInternal\npublic void addCookieInternal(final Cookie cookie) {\naddCookieInternal(cookie, false);\n}\n\npublic void addCookieInternal(final Cookie cookie, boolean HTTPOnly) {\n\nif (isCommitted())\nreturn;\n\nfinal StringBuffer sb = new StringBuffer();\n//web application code can receive a IllegalArgumentException\n//from the appendCookieValue invokation\nif (SecurityUtil.isPackageProtectionEnabled()) {\nAccessController.doPrivileged(new PrivilegedAction() {\npublic Object run(){\nServerCookie.appendCookieValue\n(sb, cookie.getVersion(), cookie.getName(),\ncookie.getValue(), cookie.getPath(),\ncookie.getDomain(), cookie.getComment(),\ncookie.getMaxAge(), cookie.getSecure());\nreturn null;\n}\n});\n} else {\nServerCookie.appendCookieValue\n(sb, cookie.getVersion(), cookie.getName(), cookie.getValue(),\ncookie.getPath(), cookie.getDomain(), cookie.getComment(),\ncookie.getMaxAge(), cookie.getSecure());\n}\n//of course, we really need to modify ServerCookie\n//but this is the general idea\nif (HTTPOnly) {\nsb.append(\"; HttpOnly\");\n}\n\n//if we reached here, no exception, cookie is valid\n// the header name is Set-Cookie for both \"old\" and v.1 ( RFC2109 )\n// RFC2965 is not supported by browsers and the Servlet spec\n// asks for 2109.\naddHeader(\"Set-Cookie\", sb.toString());\n\ncookies.add(cookie);\n}\n\n", "\nUpdate: The JSESSIONID stuff here is\n  only for older containers. Please use\n  jt's currently accepted answer unless\n  you are using < Tomcat 6.0.19 or < Tomcat\n  5.5.28 or another container that does not support HttpOnly JSESSIONID cookies as a config option.\n\nWhen setting cookies in your app, use\nresponse.setHeader( \"Set-Cookie\", \"name=value; HttpOnly\");\n\nHowever, in many webapps, the most important cookie is the session identifier, which is automatically set by the container as the JSESSIONID cookie.\nIf you only use this cookie, you can write a ServletFilter to re-set the cookies on the way out, forcing JSESSIONID to HttpOnly. The page at http://keepitlocked.net/archive/2007/11/05/java-and-httponly.aspx http://alexsmolen.com/blog/?p=16 suggests adding the following in a filter.\nif (response.containsHeader( \"SET-COOKIE\" )) {\n  String sessionid = request.getSession().getId();\n  response.setHeader( \"SET-COOKIE\", \"JSESSIONID=\" + sessionid \n                      + \";Path=/<whatever>; Secure; HttpOnly\" );\n} \n\nbut note that this will overwrite all cookies and only set what you state here in this filter. \nIf you use additional cookies to the JSESSIONID cookie, then you'll need to extend this code to set all the cookies in the filter. This is not a great solution in the case of multiple-cookies, but is a perhaps an acceptable quick-fix for the JSESSIONID-only setup. \nPlease note that as your code evolves over time, there's a nasty hidden bug waiting for you when you forget about this filter and try and set another cookie somewhere else in your code. Of course, it won't get set.\nThis really is a hack though. If you do use Tomcat and can compile it, then take a look at Shabaz's excellent suggestion to patch HttpOnly support into Tomcat.\n", "Hibernate is written against the JDBC API. So, you need a JDBC driver that works with the file format you are interested in. Obviously, even for read-only access, this isn't going to perform well, but it might still be useful if that's not a high priority. On a Windows system, you can set up ODBC datasources for delimited text files, Excel files, etc. Then you can set up the JdbcOdbcDriver in your Java application to use this data source.\nFor most of the applications I work on, I would not consider this approach; I would use an import/export mechanism to convert from a real database (even if it's an in-process database like Berkeley DB or Derby) to the text files. Yes, it's an extra step, but it could be automated, and the performance isn't likely to be much worse than trying to use the text files directly (it will likely be much better, overall), and it will be more robust and easy to develop.\n", "Like erickson said, your only hope is in finding a JDBC driver for that task. There is maybe xlsql (CSV, XML and Excel driver) which could fit the task. After that, you just have to either find or write the most simple Hibernate Dialect which fits your driver.\n", "A quick google came up with\n\nJDBC driver for csv files\nJDBC driver for XML files\n\nHope this might provide some inspiration?\n", "Action listeners, such as for a CommandButton, are called during the Invoke Application phase, which is the last phase before the final Render Response phase. This is shown in The JSF Lifecycle - figure 1.\n", "There is a pretty good diagram in the JSF specification that shows the request lifecycle - essential for understanding this stuff.\nThe steps are:\n\nRestore View. The UIComponent tree is rebuilt.\nApply Request Values. Editable components should implement EditableValueHolder. This phase walks the component tree and calls the processDecodes methods. If the component isn't something complex like a UIData, it won't do much except call its own decode method. The decode method doesn't do much except find its renderer and invokes its decode method, passing itself as an argument. It is the renderer's job to get any submitted value and set it via setSubmittedValue.\nProcess Validations. This phase calls processValidators which will call validate. The validate method takes the submitted value, converts it with any converters, validates it with any validators and (assuming the data passes those tests) calls setValue. This will store the value as a local variable. While this local variable is not null, it will be returned and not the value from the value binding for any calls to getValue.\nUpdate Model Values. This phase calls processUpdates. In an input component, this will call updateModel which will get the ValueExpression and invoke it to set the value on the model.\nInvoke Application. Button event listeners and so on will be invoked here (as will navigation if memory serves).\nRender Response. The tree is rendered via the renderers and the state saved.\nIf any of these phases fail (e.g. a value is invalid), the lifecycle skips to Render Response.\nVarious events can be fired after most of these phases, invoking listeners as appropriate (like value change listeners after Process Validations).\n\nThis is a somewhat simplified version of events. Refer to the specification for more details.\nI would question why you are writing your own UIComponent. This is a non-trivial task and a deep understanding of the JSF architecture is required to get it right. If you need a custom control, it is better to create a concrete control that extends an exisiting UIComponent (like HtmlInputText does) with an equivalent renderer.\nIf contamination isn't an issue, there is an open-source JSF implementation in the form of Apache MyFaces.\n", "@McDowell - Thanks for the information... I was able to figure out most of this in the morning by reading through MyFaces code, but you've added and clarified a number of details that are helpful.\n\nI would question why you are writing your own UIComponent. This is a non-trivial task and a deep understanding of the JSF architecture is required to get it right.\n\nHonestly, I've struggled with whether to use JSF at all for exactly this reason.  It is the only framework that I've ever used where component creation is a deep intricate process like this.  None of the other web frameworks (whether in the .net world or not) make this so painful, which is completely inexplicable to me.\nI've stuck with JSF largely for the promise that 2.0 will make it much less painful.  The component is a composition of several inputtext (and other) base components, btw.\n", "\nIt is the only framework that I've\n  ever used where component creation is\n  a deep intricate process like this.\n  None of the other web frameworks\n  (whether in the .net world or not)\n  make this so painful, which is\n  completely inexplicable to me.\n\nSome of the design decisions behind JSF start to make a little more sense when you consider the goals. JSF was designed to be tooled - it exposes lots of metadata for IDEs. JSF is not a web framework - it is a MVP framework that can be used as a web framework. JSF is highly extensible and configurable - you can replace 90% of the implementation on a per-application basis.\nMost of this stuff just makes your job more complicated if all you want to do is slip in an extra HTML control.\n\nThe component is a composition of\n  several inputtext (and other) base\n  components, btw.\n\nI'm assuming JSP-includes/tooling-based page fragments don't meet your requirements.\nI would consider using your UIComponentELTag.createComponent to create a composite control with a UIPanel base and creating all its children from existing implementations. (I'm assuming you're using JSPs/taglibs and making a few other guesses.) You'd probably want a custom renderer if none of the existing UIPanel renderers did the job, but renderers are easy.\n", "@McDowell:\n\nSome of the design decisions behind JSF start to make a little more sense when you consider the goals. JSF was designed to be tooled - it exposes lots of metadata for IDEs. JSF is not a web framework - it is a MVP framework that can be used as a web framework. JSF is highly extensible and configurable - you can replace 90% of the implementation on a per-application basis.\n\nOf that, I think the only part that I agree with is the \"a little more sense\".  The metadata could have been exposed in other ways in JSF 1.2, and frankly, I have yet to see an IDE make decent use of it.  Why can't an IDE give me a simple way to build a component?\nI've used ASP.Net as well, and by comparison, JSF feels like it was written by a bunch of architecture astronauts led by a guy like the original Struts designer.  Oh wait... :)\n", "The best article I've found is Jsf Component Writing, \nas for 2 where do I read the value for a value binding in your component you have a getter that looks like this\n\npublic String getBar() {  \n     if (null != this.bar) {  \n         return this.bar ;  \n     }  \n     ValueBinding _vb = getValueBinding(\"bar\");  \n     return (_vb != null) ? (bar) _vb.getValue(getFacesContext()) : null;  \n}\n  \n\nhow did this get into the getValueBinding?\nIn your tag class setProperties method\n  if (bar!= null) {  \n         if (isValueReference(bar)) {  \n             ValueBinding vb = Util.getValueBinding(bar);  \n             foo.setValueBinding(\"bar\", vb);  \n         } else {  \n             throw new IllegalStateException(\"The value for 'bar' must be a ValueBinding.\");  \n         }  \n     }  \n\n", "I like to repackage exceptions between the \"tiers\" of my application, so for example a DB-specific exception is repackaged inside of another exception which is meaningful in the context of my application (of course, I leave the original exception as a member so I don't clobber the stack trace).\nThat said, I think that a non-unique user name is not an \"exceptional\" enough situation to warrant a throw.  I'd use a boolean return argument instead.  Without knowing much about your architecture, it's hard for me to say anything more specific or applicable.\n", "Since you're currently using hibernate the easiest thing to do is just check for that exception and wrap it in either a custom exception or in a custom result object you may have setup in your framework.  If you want to ditch hibernate later just make sure you wrap this exception in only 1 place, the first place you catch the exception from hibernate, that's the code you'll probably have to change when you make a switch anyway, so if the catch is in one place then the additional overhead is almost zilch.\nhelp?\n", "I agree with Nick. Exception you described is not really \"unexpected exception\" so you should design you code accordingly taking possible exceptions into account.\nAlso I would recommend to take a look at documentation of Microsoft Enterprise Library Exception Handling Block it has a nice outline of error handling patterns.\n", "IMO, wrapping exceptions (checked or otherwise) has several benefits that are worth the cost:\n1) It encourages you to think about the failure modes for the code you write. Basically, you have to consider the exceptions that the code you call may throw, and in turn you'll consider the exceptions you'll throw for the code that calls yours.\n2) It gives you the opportunity to add additional debugging information into the exception chain. For instance, if you have a method that throws an exception on a duplicate username, you might wrap that exception with one that includes additional information about the circumstances of the failure (for example, the IP of the request that provided the dupe username) that wasn't available to the lower-level code. The cookie trail of exceptions may help you debug a complex problem (it certainly has for me).\n3) It lets you become implementation-independent from the lower level code. If you're wrapping exceptions and need to swap out Hibernate for some other ORM, you only have to change your Hibernate-handling code. All the other layers of code will still be successfully using the wrapped exceptions and will interpret them in the same way, even though the underlying circumstances have changed. Note that this applies even if Hibernate changes in some way (ex: they switch exceptions in a new version); it's not just for wholesale technology replacement.\n4) It encourages you use different classes of exceptions to represent different situations. For example, you may have a DuplicateUsernameException when the user tries to reuse a username, and a DatabaseFailureException when you can't check for dupe usernames due to a broken DB connection. This, in turn, lets you answer your question (\"how do I recover?\") in flexible and powerful ways. If you get a DuplicateUsernameException, you may decide to suggest a different username to the user. If you get a DatabaseFailureException, you may let it bubble up to the point where it displays a \"down for maintenance\" page to the user and send off a notification email to you. Once you have custom exceptions, you have customizeable responses -- and that's a good thing.\n", "You can catch unchecked exceptions without needing to wrap them. For example, the following is valid Java.\ntry {\n    throw new IllegalArgumentException();\n} catch (Exception e) {\n    System.out.println(\"boom\");\n}\n\nSo in your action/controller you can have a try-catch block around the logic where the Hibernate call is made. Depending on the exception you can render specific error messages. \nBut I guess in your today it could be Hibernate, and tomorrow SleepLongerDuringWinter framework. In this case you need to pretend to have your own little ORM framework that wraps around the third party framework. This will allow you to wrap any framework specific exceptions into more meaningful and/or checked exceptions that you know how to make better sense of.  \n", "\nThe question is not really related to checked vs. unchecked debate, the same applies to both exception types.\nBetween the point where the ConstraintViolationException is thrown and the point, where we want to handle the violation by displaying a nice error message is a large number of method calls on the stack that should abort immediately and shouldn't care about the problem. That makes the exception mechanism the right choice as opposed to redesigning the code from exceptions to return values.\nIn fact, using an unchecked exception instead of a checked exception is a natural fit, since we really want all intermediate methods on the call stack to ignore the exception and not handle it .\nIf we want to handle the \"unique name violation\" only by displaying a nice error message (error page) to the user, there's not really a need for a specific DuplicateUsernameException. This will keep the number of exception classes low. Instead, we can create a MessageException that can be reused in many similar scenarios.\nAs soon as possible we catch the ConstraintViolationException and convert it to a MessageException with a nice message. It's important to convert it soon, when we can be sure, it's really the \"unique user name constraint\" that was violated and not some other constraint.\nSomewhere close to the top level handler, just handle the MessageException in a different way. Instead of \"we logged your problem but for now you're hosed\" simply display the message contained in the MessageException, no stack trace.\nThe MessageException can take some additional constructor parameters, such as a detailed explanation of the problem, available next action (cancel, go to a different page), icon (error, warning)...\n\nThe code may look like this\n// insert the user\ntry {\n   hibernateSession.save(user);\n} catch (ConstraintViolationException e) {\n   throw new MessageException(\"Username \" + user.getName() + \" already exists. Please choose a different name.\");\n}\n\nIn a totally different place there's a top exception handler\ntry {\n   ... render the page\n} catch (MessageException e) {\n   ... render a nice page with the message\n} catch (Exception e) {\n   ... render \"we logged your problem but for now you're hosed\" message\n}\n\n", "@Jan Checked versus unchecked is a central issue here. I question your supposition (#3) that the exception should be ignored in intervening frames. If I do that, I will end up with an implementation-specific dependency in my high-level code. If I replace Hibernate, catch blocks throughout my application will have to be modified. Yet, at the same time, if I catch the exception at a lower level, I'm not receiving much benefit from using an unchecked exception.\nAlso, the scenario here is that I want to catch a specific logical error and change the flow of the application by re-prompting the user for a different ID. Simply changing the displayed message is not good enough, and the ability to map to different messages based on exception type is built into Servlets already.\n", "@erikson\nJust to add food to your thoughts:\nChecked versus unchecked is also debated here\nThe usage of unchecked exceptions is compliant with the fact they are used IMO for exception caused by the caller of the function (and the caller can be several layers above that function, hence the necessity for other frames to ignore the exception)\nRegarding your specific issue, you should catch the unchecked exception at high level, and encapsulate it, as said by @Kanook in your own exception, without displaying the callstack (as mentionned by @Jan Soltis )\nThat being said, if the underlying technology changes, that will indeed have an impact on those catch() already present in your code, and that does not answer your latest scenario.\n", "See Patterns for Generation, Handling and\nManagement of Errors\nFrom the Split Domain and Technical Errors pattern\n\nA technical error should never cause a\n  domain error to be generated (never\n  the twain should meet). When a\n  technical error must cause business\n  processing to fail, it should be\n  wrapped as a SystemError. \nDomain errors should always start from a\n  domain problem and be handled by\n  domain code. \nDomain errors should\n  pass \"seamlessly\" through technical\n  boundaries. It may be that such errors\n  must be serialized and re-constituted\n  for this to happen. Proxies and\n  facades should take responsibility for\n  doing this. \nTechnical errors should\n  be handled in particular points in the\n  application, such as boundaries (see\n  Log at Distribution Boundary). \nThe\n  amount of context information passed\n  back with the error will depend on how\n  useful this will be for subsequent\n  diagnosis and handling (figuring out\n  an alternative strategy). You need to\n  question whether the stack trace from\n  a remote machine is wholly useful to\n  the processing of a domain error\n  (although the code location of the\n  error and variable values at that time\n  may be useful)\n\nSo, wrap the hibernate exception at the boundary to hibernate with an unchecked domain exception such as a \"UniqueUsernameException\", and let that bubble up all the way to the handler of it.  Make sure to javadoc the thrown exception even though it isn't a checked exception!\n", "The implements mouselistener, mousemotionlistener just allows the displayArea class to listen to some, to be defined, Swing component's mouse events. You have to explicitly define what it should be listening at. So I suppose you could add something like this to the constructor:\nthis.addMouseListener(this);\nthis.addMouseMotionListener(this);\n\n", "I don't see anywhere in the code where you call addMouseListener(this) or addMouseMotionListener(this) for the DisplayArea in order for it to subscribe to those events. \n", "I don't see any code here to register to the mouse listeners.  You have to call addMouseListener(this) and addMouseMotionListener(this) on the DisplayArea.\n", "You should be able to just add this line:\nAddType application/x-java-jnlp-file     .jnlp\n\n", "AddType application/x-java-jnlp-file .jnlp\n\nNote that you might not actually be allowed to do that.\nSee also the documentation of the AddType directive and the .htaccess howto.\n", "You want to ask to the SecurityManager if you have Exec right with the checkExec method.\n", "I have also found that adding the following to the JNLP file:\n<security>\n    <all-permissions/>\n</security>\n\nAnd signing the JAR file allows the app to run with all the permissions needed for Runtime.exec.\n", "For the specific example of Runtime.exec there is a method on the SecurityManager class checkExec(String cmd) that will throw an exception that can be caught to determine if the necessary command can be executed.  For more information see the javadoc for Runtime.exec and SecurityManager.checkExec.\nThe more general case requires creating a Permission object representing the task being checked and running SecurityManager's checkPermission method.  \n", "I had limited success with iCal4j (intro) on a project last year.\nIt seems to be a fairly popular choice for ical work in the java community. \nIf I remember correctly the API can be slightly confusing at first glance.\nHowever It's pretty solid in the long run.\nGood luck, \nBrian \n", "You can get the address that connects to your ServerSocket using http://java.sun.com/javase/6/docs/api/java/net/NetworkInterface.html#getInetAddresses()\nHowever if your client is connecting via a NAT, then you will get the address of the router and NOT the Ethernet address. If it is on your local network (via a hub/switch, no router with NAT) the it wil work as intended.\n", " java.net.NetworkInterface.getHardwareAddress (method added in Java 6)\nIt has to be called on the machine you are interested in - the MAC is not transferred across network boundaries (i.e. LAN and WAN). If you want to make use of it on a website server to interrogate the clients, you'd have to run an applet that would report the result back to you.\nFor Java 5 and older I found code parsing output of command line tools on various systems.\n", "Using the Maven Dependency Plugin:\nmvn dependency:tree\n\n", "If you run maven with \"-x\" switch, it will print out plenty of diagnostics, I guess the relevant dependency path can be picked up from there.\n", "To add to @David Crow, here's a dependency:tree example from the Maven site:\nmvn dependency:tree -Dincludes=velocity:velocity\n\nmight output\n[INFO] [dependency:tree]\n[INFO] org.apache.maven.plugins:maven-dependency-plugin:maven-plugin:2.0-alpha-5-SNAPSHOT\n[INFO] \\- org.apache.maven.doxia:doxia-site-renderer:jar:1.0-alpha-8:compile\n[INFO]    \\- org.codehaus.plexus:plexus-velocity:jar:1.1.3:compile\n[INFO]       \\- velocity:velocity:jar:1.4:compile\n\n", "The dependency information is also included in the Project Information/Dependencies report if you have maven generate a site for the project, using mvn site.\n", "If you use eclipse and the m2eclipse plugin (http://m2eclipse.sonatype.org) then there is a graphical version of dependency tree where you can filter by scope etc.\n", "This is caused when there is a class file that your code depends on and it is present at compile time but not found at runtime. Look for differences in your build time and runtime  classpaths. \n", "I have found that sometimes I get a NoClassDefFound error when code is compiled with an incompatible version of the class found at runtime.  The specific instance I recall is with the apache axis library.  There were actually 2 versions on my runtime classpath and it was picking up the out of date and incompatible version and not the correct one, causing a NoClassDefFound error.  This was in a command line app where I was using a command similar to this.  \nset classpath=%classpath%;axis.jar\n\nI was able to get it to pick up the proper version by using:\nset classpath=axis.jar;%classpath%;\n\n", "The best way to test a private method is via another public method. If this cannot be done, then one of the following conditions is true:\n\nThe private method is dead code\nThere is a design smell near the class that you are testing\nThe method that you are trying to test should not be private\n\n", "Generally a unit test is intended to exercise the public interface of a class or unit. Therefore, private methods are implementation detail that you would not expect to test explicitly.\n", "The private methods are called by a public method, so the inputs to your public methods should also test private methods that are called by those public methods. When a public method fails, then that could be a failure in the private method.\n", "From this article: Testing Private Methods with JUnit and SuiteRunner (Bill Venners), you basically have 4 options:\n\n\nDon't test private methods.\nGive the methods package access.\nUse a nested test class.\nUse reflection. \n\n\n", "I tend not to test private methods.  There lies madness.  Personally, I believe you should only test your publicly exposed interfaces (and that includes protected and internal methods).  \n", "I'd use reflection, since I don't like the idea of changing the access to a package on the declared method just for the sake of testing. However, I usually just test the public methods which should also ensure the private methods are working correctly.\n\nyou can't use reflection to get private methods from outside the owner class, the private modifier affects reflection also\n\nThis is not true. You most certainly can, as mentioned in Cem Catikkas's answer.\n", "If you have somewhat of a legacy application, and you're not allowed to change the visibility of your methods, the best way to test private methods is to use reflection. \nInternally we're using helpers to get/set private and private static variables as well as invoke private and private static methods. The following patterns will let you do pretty much anything related to the private methods and fields. Of course you can't change private static final variables through reflection.\nMethod method = targetClass.getDeclaredMethod(methodName, argClasses);\nmethod.setAccessible(true);\nreturn method.invoke(targetObject, argObjects);\n\nAnd for fields:\nField field = targetClass.getDeclaredField(fieldName);\nfield.setAccessible(true);\nfield.set(object, value);\n\n\n\nNotes:\n  1. targetClass.getDeclaredMethod(methodName, argClasses) lets you look into private methods. The same thing applies for\n  getDeclaredField.\n  2. The setAccessible(true) is required to play around with privates.\n\n", "Having tried Cem Catikkas' solution using reflection, I'd have to say his was a more elegant solution than I have described here. However, if you're looking for an alternative to using reflection, and have access to the source you're testing, this will still be an option.\nThere is possible merit in testing private methods of a class, particularly with test-driven development, where you would like to design small tests before you write any code.\nCreating a test with access to private members and methods can test areas of code which are difficult to target specifically with access only to public methods. If a public method has several steps involved, it can consist of several private methods, which can then be tested individually.\nAdvantages:\n\nCan test to a finer granularity\n\nDisadvantages:\n\nTest code must reside in the same\nfile as source code, which can be\nmore difficult to maintain\nSimilarly with .class output files, they must remain within the same package as declared in source code\n\nHowever, if continuous testing requires this method, it may be a signal that the private methods should be extracted, which could be tested in the traditional, public way.\nHere is a convoluted example of how this would work:\n// Import statements and package declarations\n\npublic class ClassToTest\n{\n    private int decrement(int toDecrement) {\n        toDecrement--;\n        return toDecrement;\n    }\n\n    // Constructor and the rest of the class\n\n    public static class StaticInnerTest extends TestCase\n    {\n        public StaticInnerTest(){\n            super();\n        }\n\n        public void testDecrement(){\n            int number = 10;\n            ClassToTest toTest= new ClassToTest();\n            int decremented = toTest.decrement(number);\n            assertEquals(9, decremented);\n        }\n\n        public static void main(String[] args) {\n            junit.textui.TestRunner.run(StaticInnerTest.class);\n        }\n    }\n}\n\nThe inner class would be compiled to ClassToTest$StaticInnerTest.\nSee also: Java Tip 106: Static inner classes for fun and profit\n", "If you're trying to test existing code that you're reluctant or unable to change, reflection is a good choice.\nIf the class's design is still flexible, and you've got a complicated private method that you'd like to test separately, I suggest you pull it out into a separate class and test that class separately. This doesn't have to change the public interface of the original class; it can internally create an instance of the helper class and call the helper method.\nIf you want to test difficult error conditions coming from the helper method, you can go a step further. Extract an interface from the helper class, add a public getter and setter to the original class to inject the helper class (used through its interface), and then inject a mock version of the helper class into the original class to test how the original class responds to exceptions from the helper. This approach is also helpful if you want to test the original class without also testing the helper class.\n", "If you want to test private methods of a legacy application where you can't change the code, one option is jMockit, which will allow you to create mocks to an object even when they're private to the class.\n", "When I have private methods in a class that are sufficiently complicated that I feel the need to test the private methods directly, that is a code smell: my class is too complicated.  \nMy usual approach to addressing such issues is to tease out a new class that contains the interesting bits.  Often, this method and the fields it interacts with, and maybe another method or two can be extracted in to a new class.  \nThe new class exposes these methods as 'public', so they're accessible for unit testing.  The new and old classes are now both simpler than the original class, which is great for me (I need to keep things simple, or I get lost!).\nNote that I'm not suggesting that people create classes without using their brain! The point here is to use the forces of unit testing to help you find good new classes.  \n", "As many above have suggested, a good way is to test them via your public interfaces.\nIf you do this, it's a good idea to use a code coverage tool (like Emma) to see if your private methods are in fact being executed from your tests.\n", "Since you're using JUnit, have a look at junit-addons. It has the ability to ignore the Java security model and access private methods and attributes.\n", "First, I'll throw this question out: Why do your private members need isolated testing? Are they that complex, providing such complicated behaviors as to require testing apart from the public surface? It's unit testing, not 'line-of-code' testing. Don't sweat the small stuff.\nIf they are that big, big enough that these private members are each a 'unit' large in complexity -- consider refactoring such private members out of this class.\nIf refactoring is inappropriate or infeasible, can you use the strategy pattern to replace access to these private member functions / member classes when under unit test? Under unit test, the strategy would provide added validation, but in release builds it would be simple passthrough.\n", "Testing private methods breaks the encapsulation of your class because every time you change the internal implementation you break client code (in this case, the tests).\nSo don't test private methods.\n", "Hibernate has a filter mechanism that may work for you.  The filters will rewrite the queries hibernate generates to include an additional clause to limit the rows returned.  I'm not aware of anything in hibernate to mask/hide columns.\nYour database may also have support for this functionality.  Oracle, for example, has the Virtual Private Database (VPD) which will rewrite your queries at the database level.  This solution has the added benefit that any external program (e.g. reporting tools) that goes against your db will have your security restrictions enforced.  VPD also has support to mask restricted columns with NULLs.\nUnfortunately, the above solutions have not been adequate to support the security requirements for the types projects I typically work on.  There is usually some sort of context that cannot be easily expressed in the above solutions.  For example, users can view data that they have created, or that have been been marked as public, or belong to a project which they manage.\nWe typically create query/finder/DAO objects where we pass in the values required to enforce the security and then create the query accordingly.\nI hope this helps\n", "When using Hibernate filters you need to be aware that the additional restrictions will not be applied to SQL statements generted by the load() or get() methods.\n", "It's kind of a hack, but sometimes I use an AtomicInteger, which is mutable, to do things like this.  I've also seen cases where an int[] of size 1 is passed in.\n", "The current solution I am using is:\nint[] counter = {0};\n\nand then pass it to the recursive algorithm:\npublic List<Thing> doIt (String aString, int[] counter) { ... }\n\nand when I want to increment it:\ncounter[0]++;\n\nNot super elegant, but it works...\n", "Integers are immutable, which means that when you pass it as an argument it creates a copy rather than a reference to the same item. (explanation).\nTo get the behavior you're looking for, you can write your own class which is like Integer only mutable. Then, just pass it to the recursive function, it is incremented within the recursion, and when you access it again after the recursion is over it will still maintain its new values.\nEdit: Note that using an int[] array is a variation on this method... In Java, arrays are also passed by reference rather than copied like primitives or immutable classes.\n", "Since you've already discovered the pseudo-mutable integer \"hack,\" how about this option:\nDoes it make sense for you to make a separate Parser class?  If you do this, you can store the current state in a member variable.  You probably need to think about how you're going to handle any thread safety issues, and it might be overkill for this particular application, but it might work for you.\n", "To be honest I would recode the function to make it a linear algorithm that uses a loop. This way you have no chance of running out of heap space if you are stepping through an extremely large string. Also, you would not need to have a the extra parameter just to keep track of the count.\nThis also would probably have the result of making the algorithm faster because it does not need to make a function call for every character.\nUnless of course there is a specific reason it needs to be recursive.\n", "One possibility I can think of is to store the count in a member variable of the class.  This of course assumes that the public doIt method is only called by a single thread.\nAnother option is to refactor the public method to call a private helper method.  The private method takes the list as a parameter and returns the count.  For example:\npublic List<Thing> doIt(String aString) {\n    List<Thing> list = new ArrayList<Thing>();\n    int count = doItHelper(aString, list, 0);\n    // ...\n    return list;\n}\n\nprivate int doItHelper(String aString, List<Thing> list, int count) {\n    // ...\n    // do something that updates count\n    count = doItHelper(aString, list, count);\n    // ...\n    return count;\n}\n\nThis assumes that you can do the error handling in the public doIt method, since the count variable isn't actually passed back to the caller.  If you need to do that, you could of course throw an exception:\npublic List<Thing> doIt(String aString) throws SomeCustomException {\n    List<Thing> list = new ArrayList<Thing>();\n    int count = doItHelper(aString, list, 0);\n    // ...\n    if (someErrorOccurred) {\n        throw new SomeCustomException(\"Error occurred at chracter index \" + count, count);\n    }\n    return list;\n}\n\nIt's difficult to know whether that will help without knowing more about how your algorithm actually works.\n", "You could just use a static int class variable that gets incremented each time your doIt method is called.\n", "I don't think so. There is a way to create a read-only List and read only Collection, but I don't think there's a built in read only Dictionary. System.ServiceModel has a ReadOnlyDictinoary implementation, but its internal. Probably wouldn't be too hard to copy it though, using Reflector, or to simply create your own from scratch. It basically wraps an Dictionary and throws when a mutator is called.\n", "As far as I know, there is not. But may be you can copy some code (and learn alot) from these articles:\nImmutability in C# Part One: Kinds of Immutability\nImmutability in C# Part Two: A Simple Immutable Stack\nImmutability in C# Part Three: A Covariant Immutable Stack\nImmutability in C# Part Four: An Immutable Queue\nImmutability in C# Part Six: A Simple Binary Tree\nImmutability in C# Part Seven: More on Binary Trees\nImmutability in C# Part Eight: Even More On Binary Trees\nImmutability in C# Part Nine: Academic? Plus my AVL tree implementation\nImmutability in C# Part 10: A double-ended queue\nImmutability in C# Part Eleven: A working double-ended queue \n", "\"Out of the box\" there is not a way to do this. You can create one by deriving your own Dictionary class and implementing the restrictions you need.\n", "One workaround might be, throw a new list of KeyValuePair from the Dictionary to keep the original unmodified.\nvar dict = new Dictionary<string, string>();\n\ndict.Add(\"Hello\", \"World\");\ndict.Add(\"The\", \"Quick\");\ndict.Add(\"Brown\", \"Fox\");\n\nvar dictCopy = dict.Select(\n    item => new KeyValuePair<string, string>(item.Key, item.Value));\n\n// returns dictCopy;\n\nThis way the original dictionary won't get modified.\n", "No, but a wrapper is rather trivial:\npublic class ReadOnlyDictionary<TKey, TValue> : IDictionary<TKey, TValue>\n{\n    IDictionary<TKey, TValue> _dict;\n\n    public ReadOnlyDictionary(IDictionary<TKey, TValue> backingDict)\n    {\n        _dict = backingDict;\n    }\n\n    public void Add(TKey key, TValue value)\n    {\n        throw new InvalidOperationException();\n    }\n\n    public bool ContainsKey(TKey key)\n    {\n        return _dict.ContainsKey(key);\n    }\n\n    public ICollection<TKey> Keys\n    {\n        get { return _dict.Keys; }\n    }\n\n    public bool Remove(TKey key)\n    {\n        throw new InvalidOperationException();\n    }\n\n    public bool TryGetValue(TKey key, out TValue value)\n    {\n        return _dict.TryGetValue(key, out value);\n    }\n\n    public ICollection<TValue> Values\n    {\n        get { return _dict.Values; }\n    }\n\n    public TValue this[TKey key]\n    {\n        get { return _dict[key]; }\n        set { throw new InvalidOperationException(); }\n    }\n\n    public void Add(KeyValuePair<TKey, TValue> item)\n    {\n        throw new InvalidOperationException();\n    }\n\n    public void Clear()\n    {\n        throw new InvalidOperationException();\n    }\n\n    public bool Contains(KeyValuePair<TKey, TValue> item)\n    {\n        return _dict.Contains(item);\n    }\n\n    public void CopyTo(KeyValuePair<TKey, TValue>[] array, int arrayIndex)\n    {\n        _dict.CopyTo(array, arrayIndex);\n    }\n\n    public int Count\n    {\n        get { return _dict.Count; }\n    }\n\n    public bool IsReadOnly\n    {\n        get { return true; }\n    }\n\n    public bool Remove(KeyValuePair<TKey, TValue> item)\n    {\n        throw new InvalidOperationException();\n    }\n\n    public IEnumerator<KeyValuePair<TKey, TValue>> GetEnumerator()\n    {\n        return _dict.GetEnumerator();\n    }\n\n    System.Collections.IEnumerator \n           System.Collections.IEnumerable.GetEnumerator()\n    {\n        return ((System.Collections.IEnumerable)_dict).GetEnumerator();\n    }\n}\n\nObviously, you can change the this[] setter above if you want to allow modifying values. \n", "Don't you need to recompute the size of the scrollBox after the layout?\n", "If I am not mistaken you need to swap the \nmParent.layout();\n\nand\nmParent.setSize(mParent.computeSize(SWT.DEFAULT, SWT.DEFAULT, true));\n\nso that you have:\npublic void createPartControl(Composite parent) {\n  parent.setLayout(new FillLayout());\n  ScrolledComposite scrollBox = new ScrolledComposite(parent, SWT.V_SCROLL);\n  scrollBox.setExpandHorizontal(true);\n  mParent = new Composite(scrollBox, SWT.NONE);\n  scrollBox.setContent(mParent);\n  FormLayout layout = new FormLayout();\n  mParent.setLayout(layout);\n  // Adds a bunch of controls here\n  mParent.setSize(mParent.computeSize(SWT.DEFAULT, SWT.DEFAULT, true));\n  mParent.layout();\n}\n\n", "Try setting .setMinWidth and .setMinHeight on the ScrolledComposite once the layout has been done, passing it the size of the main composite.\n", "This is a common hurdle when using ScrolledComposite.  When the SC is gets so small that the scroll bar must be shown, the client control has to shrink horizontally to make room for the scroll bar.  This has the side effect of making some labels wrap lines, which moved the following controls farther down, which increased the minimum height needed by the content composite.\nYou need to listen for width changes on the content composite (mParent), compute the minimum height again given the new content width, and call setMinHeight() on the scrolled composite with new height.\npublic void createPartControl(Composite parent) {\n  parent.setLayout(new FillLayout());\n  ScrolledComposite scrollBox = new ScrolledComposite(parent, SWT.V_SCROLL);\n  scrollBox.setExpandHorizontal(true);\n  scrollBox.setExpandVertical(true);\n\n  // Using 0 here ensures the horizontal scroll bar will never appear.  If\n  // you want the horizontal bar to appear at some threshold (say 100\n  // pixels) then send that value instead.\n  scrollBox.setMinWidth(0);\n\n  mParent = new Composite(scrollBox, SWT.NONE);\n\n  FormLayout layout = new FormLayout();\n  mParent.setLayout(layout);\n\n  // Adds a bunch of controls here\n\n  mParent.addListener(SWT.Resize, new Listener() {\n    int width = -1;\n    public void handleEvent(Event e) {\n      int newWidth = mParent.getSize().x;\n      if (newWidth != width) {\n        scrollBox.setMinHeight(mParent.computeSize(newWidth, SWT.DEFAULT).y);\n        width = newWidth;\n      }\n    }\n  }\n\n  // Wait until here to set content pane.  This way the resize listener will\n  // fire when the scrolled composite first resizes mParent, which in turn\n  // computes the minimum height and calls setMinHeight()\n  scrollBox.setContent(mParent);\n}\n\nIn listening for size changes, note that we ignore any resize events where the width stays the same.  This is because changes in the height of the content do not affect the minimum height of the content, as long as the width is the same.\n", "This is usually caused when using a build system like Apache Ant that only compiles java files when the java file is newer than the class file.  If a method signature changes and classes were using the old version things may not be compiled correctly.  The usual fix is to do a full rebuild (usually \"ant clean\" then \"ant\").  \nSometimes this can also be caused when compiling against one version of a library but running against a different version.\n", "Without any more information it is difficult to pinpoint the problem, but the root cause is that you most likely have compiled a class against a different version of the class that is missing a method, than the one you are using when running it.\nLook at the stack trace ... If the exception appears when calling a method on an object in a library, you are most likely using separate versions of the library when compiling and running. Make sure you have the right version both places.\nIf the exception appears when calling a method on objects instantiated by classes you made, then your build process seems to be faulty. Make sure the class files that you are actually running are updated when you compile.\n", "This can also be the result of using reflection.  If you have code that reflects on a class and extracts a method by name (eg: with Class.getDeclaredMethod(\"someMethodName\", .....)) then any time that method name changes, such as during a refactor, you will need to remember to update the parameters to the reflection method to match the new method signature, or the getDeclaredMethod call will throw a NoSuchMethodException.\nIf this is the reason, then the stack trace should show the point that the reflection method is invoked, and you'll just need to update the parameters to match the actual method signature.  \nIn my experience, this comes up occasionally when unit testing private methods/fields, and using a TestUtilities class to extract fields for test verification.  (Generally with legacy code that wasn't designed with unit testing in mind.)\n", "Note that in the case of reflection, you get an NoSuchMethodException, while with non-reflective code, you get NoSuchMethodError. I tend to go looking in very different places when confronted with one versus the other.\n", "If you are writing a webapp, ensure that you don't have conflicting versions of a jar in your container's global library directory and also in your app. You may not necessarily know which jar is being used by the classloader.\ne.g.  \n\ntomcat/common/lib\nmywebapp/WEB-INF/lib\n\n", "If you have access to change the JVM parameters, adding verbose output should allow you to see what classes are being loaded from what JARs.\njava -verbose:class <other args>\n\nWhen your program is run, the JVM should dump to standard out information such as:\n\n...\n[Loaded junit.framework.Assert from file:/C:/Program%20Files/junit3.8.2/junit.jar]\n...\n\n", "For persistence.xml, specifically, you can put a persistence unit in a separate JAR, which you can deploy separately from your web application WAR, or both together in an EAR archive, depending on what your application server supports. For example, the JBoss manual describes this as Deploy EAR with EJB3 JAR. \nFor struts-config.xml I expect that you are going to have to override the Struts code that loads it, if you want to use a non-standard location.\nI don't know about the Velocity templates.\nIn general, web applications only load resources from within the WAR, for security reasons. There are other techniques you can use, but you may find it easier to try weblets, which seems to be a framework designed to let you load resources from a separate JAR.\n", "You need to look into velocity.properties file in your WEB_INF folder.IMHO it is here where you need to change your template root changing the property file.resource.loader.path.\nHope it helps,\nPetr\n", "If I understood your question about Struts config files right, they are specified in web.xml. Find the Struts servlet config param. The param-value can be a list of comma separated list of XML files to load. Eg:\n<servlet>\n    <servlet-name>action</servlet-name>\n    <servlet-class>org.apache.struts.action.ActionServlet</servlet-class>\n    <init-param>\n        <param-name>config</param-name>\n        <param-value>\n            WEB-INF/config/struts-config.xml,\n            WEB-INF/config/struts-config-stuff.xml,\n            WEB-INF/config/struts-config-good.xml,\n            WEB-INF/config/struts-config-bad.xml,\n            WEB-INF/config/struts-config-ugly.xml\n        </param-value>\n    </init-param>\n    ...\n</servlet>\n\nSee this Struts guide under 5.3.2. And yes, this applies to 2.x also.\n", "If you're talking about automatic XML serialization of objects, check out Castor:\n\nCastor is an Open Source data binding framework for Java[tm]. It's the shortest path between Java objects, XML documents and relational tables. Castor provides Java-to-XML binding, Java-to-SQL persistence, and more.\n\n", "XStream is pretty good at serializing object to XML without much configuration and money! (it's under BSD license).\nWe used it in one of our project to replace the plain old java-serialization and it worked almost out of the box.\n", "The \"Official\" Java API for this is now JAXB - Java API for XML Binding. See Tutorial by Oracle. The reference implementation lives at http://jaxb.java.net/\n", "XMLBeans works great if you have a schema for your XML.  It creates Java objects for the schema and creates easy to use parse methods.  \n", "Usually I use jaxb or XMLBeans if I need to create objects serializable to XML. Now, I can see that XStream might be very useful as it's nonintrusive and has really simple api. I'll play with it soon and probably use it. The only drawback I noticed is that I can't create object's id on my own for cross referencing. \n@Barak Schiller\nThanks for posting link to XStream!\n", "There exists no platform-independent way that can be guaranteed to work in all jvm implementations.\nManagementFactory.getRuntimeMXBean().getName() looks like the best (closest) solution. It's short, and probably works in every implementation in wide use.\nOn linux+windows it returns a value like 12345@hostname (12345 being the process id). Beware though that according to the docs, there are no guarantees about this value:\n\nReturns the name representing the running Java virtual machine. The\n  returned name string can be any arbitrary string and a Java virtual\n  machine implementation can choose to embed platform-specific useful\n  information in the returned name string. Each running virtual machine\n  could have a different name.\n\nIn Java 9 the new process API can be used:\nlong pid = ProcessHandle.current().getPid();\n\n", "It depends on where you are looking for the information from.\nIf you are looking for the information from the console you can use the jps command. The command gives output similar to the Unix ps command and comes with the JDK since I believe 1.5\nIf you are looking from the process the RuntimeMXBean (as said by Wouter Coekaerts) is probably your best choice. The output from getName() on Windows using Sun JDK 1.6 u7 is in the form [PROCESS_ID]@[MACHINE_NAME]. You could however try to execute jps and parse the result from that:\nString jps = [JDK HOME] + \"\\\\bin\\\\jps.exe\";\nProcess p = Runtime.getRuntime().exec(jps);\n\nIf run with no options the output should be the process id followed by the name.\n", "C++ has templates. Java has generics, which look kinda sorta like C++ templates, but they're very, very different.\nTemplates work, as the name implies, by providing the compiler with a (wait for it...) template that it can use to generate type-safe code by filling in the template parameters. \nGenerics, as i understand them, work the other way around: the type parameters are used by the compiler to verify that the code using them is type-safe, but the resulting code is generated without types at all. \nThink of C++ templates as a really good macro system, and Java generics as a tool for automatically generating typecasts.\n\u00a0\n", "There is a big difference between them. In C++ you don't have to specify a class or an interface for the generic type. That's why you can create truly generic functions and classes, with the caveat of a looser typing.\ntemplate <typename T> T sum(T a, T b) { return a + b; }\n\nThe method above adds two objects of the same type, and can be used for any type T that has the \"+\" operator available.\nIn Java you have to specify a type if you want to call methods on the objects passed, something like:\n<T extends Something> T sum(T a, T b) { return a.add ( b ); }\n\nIn C++ generic functions/classes can only be defined in headers, since the compiler generates different functions for different types (that it's invoked with). So the compilation is slower. In Java the compilation doesn't have a major penalty, but Java uses a technique called \"erasure\" where the generic type is erased at runtime, so at runtime Java is actually calling ...\nSomething sum(Something a, Something b) { return a.add ( b ); }\n\nSo generic programming in Java is not really useful, it's only a little syntactic sugar to help with the new foreach construct.\nEDIT: the opinion above on usefulness was written by a younger self. Java's generics help with type-safety of course. \n", "Java (and C#) generics seem to be a simple run-time type substitution mechanism.\n\nC++ templates are a compile-time construct which give you a way to modify the language to suit your needs. They are  actually a purely-functional language that the compiler executes during a compile.\n", "Another advantage of C++ templates is specilization.  \n<typename T> T sum(T a, T b) { return a + b; }\n<typename T> T sum(T* a, T* b) { return (*a) + (*b); }\nSpecial sum(const Special& a, const Special& b) { return a.plus(b); }\n\nNow, if you call sum with pointers, the second method will be called, if you call sum with non-pointer objects the first method will be called, and if you call sum() with Special objects, the third will be called.  I don't think that this is possible with Java.\n", "@Keith:\nThat code is actually wrong and apart from the smaller glitches (template omitted, specialization syntax looks differently), partial specialization doesn't work on function templates, only on class templates. The code would however work without partial template specialization, instead using plain old overloading:\ntemplate <typename T> T sum(T a, T b) { return a + b; }\ntemplate <typename T> T sum(T* a, T* b) { return (*a) + (*b); }\n\n", "I don't see the harm if you know that it's always going to be a simple struct and that you're never going to want to attach behaviour to it.\n", "If the Java way is the OO way, then yes, creating a class with public fields breaks the principles around information hiding which say that an object should manage its own internal state. (So as I'm not just spouting jargon at you, a benefit of information hiding is that the internal workings of a class are hidden behind an interface - say you wanted to change the mechanism by which your struct class saved one of its fields, you'll probably need to go back and change any classes that use the class...)\nYou also can't take advantage of the support for JavaBean naming compliant classes, which will hurt if you decide to, say, use the class in a JavaServer Page which is written using Expression Language.\nThe JavaWorld article Why Getter and Setter  Methods are Evil article also might be of interest to you in thinking about when not to implement accessor and mutator methods.\nIf you're writing a small solution and want to minimise the amount of code involved, the Java way may not be the right way - I guess it always depends on you and the problem you're trying to solve.\n", "This is a commonly discussed topic. The drawback of creating public fields in objects is that you have no control over the values that are set to it. In group projects where there are many programmers using the same code, it's important to avoid side effects. Besides, sometimes it's better to return a copy of field's object or transform it somehow etc. You can mock such methods in your tests. If you create a new class you might not see all possible actions. It's like defensive programming - someday getters and setters may be helpful, and it doesn't cost a lot to create/use them. So they are sometimes useful.\nIn practice, most fields have simple getters and setters. A possible solution would look like this: \npublic property String foo;   \na->Foo = b->Foo;\n\nUpdate: It's highly unlikely that property support will be added in Java 7 or perhaps ever.  Other JVM languages like Groovy, Scala, etc do support this feature now. - Alex Miller\n", "This is a question on Object Oriented Design, not Java the language. It's generally good practice to hide data types within the class and expose only the methods that are part of the class API. If you expose internal data types, you can never change them in the future. If you hide them, your only obligation to the user is the method's return and argument types.\n", "By the way, the structure you're giving as an example already exist in the Java base class library as java.awt.Point. It has x and y as public fields, check it out for yourself.\nIf you know what you're doing, and others in your team know about it, then it is okay to have public fields. But you shouldn't rely on it because they can cause headaches as in bugs related to developers using objects as if they were stack allocated structs (java objects are always sent to methods as references and not as copies).\n", "Use common sense really. If you have something like:\npublic class ScreenCoord2D{\n    public int x;\n    public int y;\n}\n\nThen there's little point in wrapping them up in getters and setters. You're never going to store an x, y coordinate in whole pixels any other way. Getters and setters will only slow you down.\nOn the other hand, with:\npublic class BankAccount{\n    public int balance;\n}\n\nYou might want to change the way a balance is calculated at some point in the future. This should really use getters and setters.\nIt's always preferable to know why you're applying good practice, so that you know when it's ok to bend the rules.\n", "Re: aku, izb, John Topley...\nWatch out for mutability issues...\nIt may seem sensible to omit getters/setters. It actually may be ok in some cases. The real problem with the proposed pattern shown here is mutability.\nThe problem is once you pass an object reference out containing non-final, public fields. Anything else with that reference is free to modify those fields. You no longer have any control over the state of that object. (Think what would happen if Strings were mutable.)\nIt gets bad when that object is an important part of the internal state of another, you've just exposed internal implementation. To prevent this, a copy of the object must be returned instead. This works, but can cause massive GC pressure from tons of single-use copies created.\nIf you have public fields, consider making the class read-only. Add the fields as parameters to the constructor, and mark the fields final. Otherwise make sure you're not exposing internal state, and if you need to construct new instances for a return value, make sure it won't be called excessively.\nSee: \"Effective Java\" by Joshua Bloch -- Item #13: Favor Immutability.\nPS: Also keep in mind, all JVMs these days will optimize away the getMethod if possible, resulting in just a single field-read instruction. \n", "To address mutability concerns you can declare x and y as final. For example:\nclass Data {\n  public final int x;\n  public final int y;\n  public Data( int x, int y){\n    this.x = x;\n    this.y = y;\n  }\n}\n\nCalling code that attempts to write to these fields will get a compile time error of \"field x is declared final; cannot be assigned\".\nThe client code can then have the 'short-hand' convenience you described in your post\npublic class DataTest {\n    public DataTest() {\n        Data data1 = new Data(1, 5);\n        Data data2 = new Data(2, 4);\n        System.out.println(f(data1));\n        System.out.println(f(data2));\n    }\n\n    public int f(Data d) {\n        return (3 * d.x) / d.y;\n    }\n\n    public static void main(String[] args) {\n        DataTest dataTest = new DataTest();\n    }\n}\n\n", "The problem with using public field access is the same problem as using new instead of a factory method - if you change your mind later, all existing callers are broken.  So, from an API evolution point of view, it's usually a good idea to bite the bullet and use getters/setters.\nOne place where I go the other way is when you strongly control access to the class, for example in an inner static class used as an internal data structure.  In this case, it might be much clearer to use field access.\nBy the way, on e-bartek's assertion, it is highly unlikely IMO that property support will be added in Java 7.  \n", "I frequently use this pattern when building private inner classes to simplify my code, but I would not recommend exposing such objects in a public API. In general, the more frequently you can make objects in your public API immutable the better, and it is not possible to construct your 'struct-like' object in an immutable fashion.\nAs an aside, even if I were writing this object as a private inner class I would still provide a constructor to simplify the code to initialize the object. Having to have 3 lines of code to get a usable object when one will do is just messy.\n", "You can make a simple class with public fields and no methods in Java, but it is still a class and is still handled syntactically and in terms of memory allocation just like a class.  There is no way to genuinely reproduce structs in Java.\n", "Both ways can lead to unexpected results.  Your best bet is to not call a virtual function in your constructor at all. \nThe C++ way I think makes more sense, but leads to expectation problems when someone reviews your code.  If you are aware of this situation, you should purposely not put your code in this situation for later debugging's sake.\n", "I think C++ offers the best semantics in terms of having the 'most correct' behavior ... however it is more work for the compiler and the code is definitiely non-intuitive to someone reading it later.\nWith the .NET approach the function must be very limited not to rely on any derived object state.\n", "\nVirtual functions in constructors, why do languages differ?\n\nBecause there's no one good behaviour.  I find the C++ behaviour makes more sense (since base class c-tors are called first, it stands to reason that they should call base class virtual functions--after all, the derived class c-tor hasn't run yet, so it may not have set up the right preconditions for the derived class virtual function).\nBut sometimes, where I want to use the virtual functions to initialize state (so it doesn't matter that they're being called with the state uninitialized) the C#/Java behaviour is nicer.\n", "Delphi makes good use of virtual constructors in the VCL GUI framework: \ntype\n  TComponent = class\n  public\n    constructor Create(AOwner: TComponent); virtual; // virtual constructor\n  end;\n\n  TMyEdit = class(TComponent)\n  public\n    constructor Create(AOwner: TComponent); override; // override virtual constructor\n  end;\n\n  TMyButton = class(TComponent)\n  public\n    constructor Create(AOwner: TComponent); override; // override virtual constructor\n  end;\n\n  TComponentClass = class of TComponent;\n\nfunction CreateAComponent(ComponentClass: TComponentClass; AOwner: TComponent): TComponent;\nbegin\n  Result := ComponentClass.Create(AOwner);\nend;\n\nvar\n  MyEdit: TMyEdit;\n  MyButton: TMyButton;\nbegin\n  MyEdit := CreateAComponent(TMyEdit, Form) as TMyEdit;\n  MyButton := CreateAComponent(TMyButton, Form) as TMyButton;\nend;\n\n", "There's a fundamental difference in how the languages define an object's life time. In Java and .Net the object members are zero/null initialized before any constructor is run and is at this point that the object life time begins. So when you enter the constructor you've already got an initialized object.\nIn C++ the object life time only begins when the constructor finishes (although member variables and base classes are fully constructed before it starts). This explains the behaviour when virtual functions are called and also why the destructor isn't run if there's an exception in the constructor's body.\nThe problem with the Java/.Net definition of object lifetime is that it's harder to make sure the object always meets its invariant without having to put in special cases for when the object is initialized but the constructor hasn't run. The problem with the C++ definition is that you have this odd period where the object is in limbo and not fully constructed.\n", "I have found the C++ behavior very annoying. You cannot write virtual functions to, for instance, return the desired size of the object, and have the default constructor initialize each item. For instance it would be nice to do:\nBaseClass() {\n   for (int i=0; i<virtualSize(); i++)\n     initialize_stuff_for_index(i);\n}\nThen again the advantage of C++ behavior is that it discourages constuctors like the above from being written.\nI don't think the problem of calling methods that assume the constructor has been finished is a good excuse for C++. If this really was a problem then the constructor would not be allowed to call any methods, since the same problem can apply to methods for the base class.\nAnother point against C++ is that the behavior is much less efficient. Although the constructor knows directly what it calls, the vtab pointer has to be changed for every single class from base to final, because the constructor might call other methods that will call virtual functions. From my experience this wastes far more time than is saved by making virtual functions calls in the constructor more efficient.\nFar more annoying is that this is also true of destructors. If you write a virtual cleanup() function, and the base class destructor does cleanup(), it certainly does not do what you expect.\nThis and the fact that C++ calls destructors on static objects on exit have really pissed me off for a long time.\n", "The short answer is, you're not missing anything.  The Android SDK doesn't provide a direct method to change the indicator of a TabHost after it's been created.  The TabSpec is only used to build the tab, so changing the TabSpec after the fact will have no effect.\nI think there's a workaround, though.  Call mTabs.getTabWidget() to get a TabWidget object.  This is just a subclass of ViewGroup, so you can call getChildCount() and getChildAt() to access individual tabs within the TabWidget.  Each of these tabs is also a View, and in the case of a tab with a graphical indicator and a text label, it's almost certainly some other ViewGroup (maybe a LinearLayout, but it doesn't matter) that contains an ImageView and a TextView.  So with a little fiddling with the debugger or Log.i, you should be able to figure out a recipe to get the ImageView and change it directly.\nThe downside is that if you're not careful, the exact layout of the controls within a tab could change and your app could break.  Your initial solution is perhaps more robust, but then again it might lead to other unwanted side effects like flicker or focus problems.\n", "notify() will wake up one thread while notifyAll() will wake up all. As far as I know there is no middle ground. But if you are not sure what notify() will do to your threads, use notifyAll(). Works like a charm everytime.\n", "I think it depends on how resources are produced and consumed. If 5 work objects are available at once and you have 5 consumer objects, it would make sense to wake up all threads using notifyAll() so each one can process 1 work object.\nIf you have just one work object available, what is the point in waking up all consumer objects to race for that one object? The first one checking for available work will get it and all other threads will check and find they have nothing to do.\nI found a great explanation here. In short: \n\nThe notify() method is generally used\n  for resource pools, where there\n  are an arbitrary number of \"consumers\"\n  or \"workers\" that take resources, but\n  when a resource is added to the pool,\n  only one of the waiting consumers or\n  workers can deal with it. The\n  notifyAll() method is actually used in\n  most other cases. Strictly, it is\n  required to notify waiters of a\n  condition that could allow multiple\n  waiters to proceed. But this is often\n  difficult to know. So as a general\n  rule, if you have no particular\n  logic for using notify(), then you\n  should probably use notifyAll(),\n  because it is often difficult to know\n  exactly what threads will be waiting\n  on a particular object and why.\n\n", "Simply put, it depends on why your threads are waiting to be notified. Do you want to tell one of the waiting threads that something happened, or do you want to tell all of them at the same time?\nIn some cases, all waiting threads can take useful action once the wait finishes. An example would be a set of threads waiting for a certain task to finish; once the task has finished, all waiting threads can continue with their business. In such a case you would use notifyAll() to wake up all waiting threads at the same time.\nAnother case, for example mutually exclusive locking, only one of the waiting threads can do something useful after being notified (in this case acquire the lock). In such a case, you would rather use notify(). Properly implemented, you could use notifyAll() in this situation as well, but you would unnecessarily wake threads that can't do anything anyway.\n", "Useful differences:\n\nUse notify() if all your waiting threads are interchangeable (the order they wake up doesn't matter), or if you only ever have one waiting thread. A common example is a thread pool used to execute jobs from a queue--when a job is added, one of threads is notified to wake up, execute the next job and go back to sleep.\nUse notifyAll() for other cases where the waiting threads may have different purposes and should be able to run concurrently. An example is a maintenance operation on a shared resource, where multiple threads are waiting for the operation to complete before accessing the resource.\n\n", "All the above answers are correct, as far as I can tell, so I'm going to tell you something else. For production code you really should use the classes in java.util.concurrent. There is very little they cannot do for you, in the area of concurrency in java.\n", "From Joshua Bloch, the Java Guru himself in Effective Java 2nd edition:\n\"Item 69: Prefer concurrency utilities to wait and notify\".\n", "For the asynchronous bit, I would suggest checking into java.util.concurrent, and especially the Future<T> interface. The future interface is used to represent objects which are not ready yet, but are being created in a separate thread. You say that objects can be modified at any time by a third party, but I would still suggest you use immutable return objects here, and instead have a separate thread/event log you can subscribe to to get noticed when objects expire. I have little programming with UIs, but I believe using Futures for asynchronous calls would let you have a responsive GUI, rather than one that was waiting for a server reply.\nFor the queries I would suggest using method chaining to build the query object, and each object returned by method chaining should be Iterable. Similar to how Djangos model is. Say you have QuerySet which implements Iterable<Song>. You can then call allSongs() which would return a result iterating over all Songs. Or allSongs().artist(\"Beatles\"), and you would have an iterable over all Betles songs. Or even allSongs().artist(\"Beatles\").years(1965,1967) and so on. \nHope this helps as a starting place.\n", "@Staale: Thanks a bunch!\nUsing Future for the async operations is interesting. The only drawback being that it is doesn't provide callbacks. But then again, I tried that approach, and look where that got me :)\nI'm currently solving a similar problem using a worker thread and a blocking queue for dispatching the incoming command replies, but that approach doesn't translate very well.\nThe remote objects can be modified, but since I do use threads, I try to keep the objects immutable. My current hypothesis is that I will send notification events on track updates on the form\nsomehandlername(int changes, Track old_track, Track new_track)\n\nor similar, but then I might end up with several versions of the same track.\nI'll definitely look into Djangos method chaining. I've been looking at some similar constructs but haven't been able to come up with a good variant. Returning something iterable is interesting, but the query could take some time to complete, and I wouldn't want to actually execute the query before it's completely constructed.\nPerhaps something like\nTracks.allSongs().artist(\"Beatles\").years(1965,1967).execute()\n\nreturning a Future might work...\n", "Iterable only has the method Iterator get() or somesuch. So no need to build any query or execute any code until you actually start iterating. It does make the execute in your example redundant. However, the thread will be locked until the first result is available, so you might consider using an Executor to run the code for the query in a separate thread.\n", "@Staale\nIt is certainly possibly, but as you note, that would make it blocking (at home for something like 10 seconds due to sleeping disks), meaning I can't use it to update the UI directly.\nI could use the iterator to create a copy of the result in a separate thread and then send that to the UI, but while the iterator solution by itself is rather elegant, it won't fit in very well. In the end, something implementing IStructuredContentProvider needs to return an array of all the objects in order to display it in a TableViewer, so if I can get away with getting something like that out of a callback... :)\nI'll give it some more thought. I might just be able to work out something. It does give the code a nice look.\n", "My conclusions so far;\nI am torn on whether to use getters for the Track objects or just expose the members since the object is immutable.\nclass Track {\n    public final String album;\n    public final String artist;\n    public final String title;\n    public final String genre;\n    public final String comment;\n\n    public final String cover_id;\n\n    public final long duration;\n    public final long bitrate;\n    public final long samplerate;\n    public final long id;\n    public final Date date;\n\n    /* Some more stuff here */\n}\n\nAnybody who wants to know when something happened to a track in the library would implement this...\ninterface TrackUpdateListener {\n    void trackUpdate(Track oldTrack, Track newTrack);\n}\n\nThis is how querys are built. Chain calls to your hearts content. the jury is still out on the get() though. There are some details missing, such as how I should handle wildcards and more advanced queries with disjunctions. I might just need some completion callback functionality, perhaps similar to the Asynchronous Completion Token, but we'll see about that. Perhaps that will happen in an additional layer.\ninterface TrackQuery extends Iterable<Track> {\n    TrackQuery years(int from, int to);\n    TrackQuery artist(String name);\n    TrackQuery album(String name);\n    TrackQuery id(long id);\n    TrackQuery ids(long id[]);\n\n    Future<Track[]> get();\n}\n\nSome examples:\ntracks.allTracks();\ntracks.allTracks().artist(\"Front 242\").album(\"Tyranny (For You)\");\n\nThe tracks interface is mostly just the glue between the connection and the individual tracks. It will be the one implementing or managing meta-data caching, if any (as today, but I think I'll just remove it during the refactoring and see if I actually need it). Also, this provides medialib track updates as it would just be too much work to implement it by track.\ninterface Tracks {\n    TrackQuery allTracks();\n\n    void addUpdateListener(TrackUpdateListener listener);\n    void removeUpdateListener(TrackUpdateListener listener);\n}\n\n", "If you're using multiple threads, the operating system will automatically take care of using multiple cores.\n", "The operating system takes care of multi-threading when the virtual machine is using native threads (as opposed to green-threads), and you can't specify low level details, like choosing a processor for a certain thread. It is better that way because you usually have many more threads than you have processors available, so the operating system needs to do time-slicing to give all threads a chance to run.\nThat being said, you can set threads priorities if you have a critical task, and a threading API usually provides this possibility. See the Java API for example: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Thread.html#setPriority(int)\nPS: there's something broken in the parsing engine ... I had to add the above link as plain text\n", "\nis there a way to choose which processor or core it is launched on?\n\nYou can use the task manager to tell windows what CPU(s) your program should be allowed to run on. Normally this is only useful for troubleshooting legacy programs which have broken implementations of multi-threading. To do this, \n\nRun task manager\nFind your process in the Processes window.\nRight click and choose Set Affinity...\nTick the checkboxes next to the CPU's you want to allow your application to run on. Windows will then only schedule threads from that process onto those particular CPU's\n\nIf I recall correctly, windows will 'remember' these settings for subsequent times your process is run, but please don't quote me on that - run some tests yourself :-)\nYou can also do this programatically in .NET after your program has launched using using the System.Diagnostics.Process.ProcessorAffinity property, but I don't think it will 'remember' the settings, so there will always be a short period in which your app is run on whichever CPU windows sees fit. I don't know how to do this in java sorry.\nNote:\nThis applies at the entire process level. If you set affinity for CPU0 only, and then launch 50 threads, all 50 of those threads will run on CPU0, and CPU1, 2, 3, etc will sit around doing nothing.\nJust to reiterate the point, this is primarily useful for troubleshooting broken legacy software. If your software is not broken, you really shouldn't mess with any of these settings, and let windows decide the best CPU(s) to run your program on, so it can take the rest of the system's performance into account.\n\nAs for the 'shared memory' model, it works the same, but there are more things that can go subtly wrong when your app is running on multiple CPU's as opposed to just timeslices on a single one.\nFor an eye-opening example, read this ridiculousfish article about CPU's and Memory Barriers.\nIt's aimed at OSX development on PowerPC, but general enough that it should apply everywhere. IMHO it's one of the top ten 'all developers should read this' articles I've read.\n", "I have used this in a couple of programs because my core 0 was kind of messed up.\n// Programmatically set process affinity\nvar process = System.Diagnostics.Process.GetCurrentProcess();\n\n// Set Core 0\nprocess.ProcessorAffinity = new IntPtr(0x0001);\n\nor\n// Set Core 1\nprocess.ProcessorAffinity = new IntPtr(0x0002);\n\nMore on this in \"Process.ProcessorAffinity Property\".\n", "I would have a look at the Parallel extensions to the .NET framework. It is still in CTP, however it supposed to make the best use of multi core processors. The easiest place to get started for .NET is on the parallel teams blog.\nAs for Java I have no idea.\n", "Have a look at Hibernate as a simpler way to interface to a database.\n", "XStream from codehaus.org\nXML serialization/deserialization largely without coding.\nYou can use annotations to tweak it.\nWorking well in two projects where I work.\nSee my users group presentation at http://cjugaustralia.org/?p=61\n", "I would go for the your final option JavaDB (Sun's distribution of Derby) and use an object relational layer like Hibernate or iBatis. Using the first three aproaches means you are going to spend more time building a database engine than developing application features.\n", "db4objects might be the best choice\n", "In my experience, you're probably better off using an embedded database.  SQL, while less than perfect, is usually much easier than designing a file format that performs well and is reliable.\nI haven't used JavaDB, but I've had good luck with H2 and SQLite.  SQLite is a C library which means a little more work in terms of deployment.  However, it has the benefit of storing the entire database in a single, cross-platform library.  Basically, it is a pre-packaged, generic file format.  SQLite has been so useful that I've even started using it instead of text files in scripts.\nBe careful using Hibernate if you're working with a small persistence problem.  It adds a lot of complexity and library overhead.  Hibernate is really nice if you're working with a large number of tables, but it will probably be cumbersome if you only need a few tables.\n", "I think it depends on what you need. Let's see the options:\n1) Descarded imediatelly! I'll not even justify. :)\n2) If you need a simple, quick, one-method persistence, stick with it. It will persist the complete data graph as it is! Beware of how long you'll be maintaning the persisted objects. As yourself pointed out, versioning can be a problem.\n3) Slower than (2), need extra code and can be edited by the user. I would only use it the data is supposed to be used by a client in another language.\n4) If you need to query your data in anyway, stick with the DB solution.\nWell, I think you had already answered your question :)\n", "Since I don't know how your factory method looks like, all I can advise right now is to \n\nCheck to see the object is the correct concrete implementation you were looking for:\nIMyInterface fromFactory = factory.create(...);  \nAssert.assertTrue(fromFactory instanceof MyInterfaceImpl1);\n\nYou can check if the factory setup the concrete instances with valid instance variables.\n\n", "if (myNewObject instanceof CorrectClass)\n{\n    /* pass test */\n}\n\nupdate:\nDon't know why this got marked down, so I'll expand it a bit...\npublic void doTest()\n{\n    MyInterface inst = MyFactory.createAppropriateObject();\n    if (! inst instanceof ExpectedConcreteClass)\n    {\n        /* FAIL */\n    }\n}\n\n", "@cem-catikkas I think it would be more correct to compare the getClass().getName() values. In the case that MyInterfaceImpl1 class is subclassed your test could be broken, as the subclass is instanceof MyInterfaceImpl1. I would rewrite as follow:\nIMyInterface fromFactory = factory.create(...);  \nAssert.assertEquals(fromFactory.getClass().getName(), MyInterfaceImpl1.class.getName());\n\nIf you think this could fail in some way (I can't imagine), make the two verifications.\n", "Ultimately you always have a finite max of heap to use no matter what platform you are running on. In Windows 32 bit this is around 2gb (not specifically heap but total amount of memory per process). It just happens that Java chooses to make the default smaller (presumably so that the programmer can't create programs that have runaway memory allocation without running into this problem and having to examine exactly what they are doing).\nSo this given there are several approaches you could take to either determine what amount of memory you need or to reduce the amount of memory you are using. One common mistake with garbage collected languages such as Java or C# is to keep around references to objects that you no longer are using, or allocating many objects when you could reuse them instead. As long as objects have a reference to them they will continue to use heap space as the garbage collector will not delete them.\nIn this case you can use a Java memory profiler to determine what methods in your program are allocating large number of objects and then determine if there is a way to make sure they are no longer referenced, or to not allocate them in the first place. One option which I have used in the past is \"JMP\" http://www.khelekore.org/jmp/.\nIf you determine that you are allocating these objects for a reason and you need to keep around references (depending on what you are doing this might be the case), you will just need to increase the max heap size when you start the program. However, once you do the memory profiling and understand how your objects are getting allocated you should have a better idea about how much memory you need. \nIn general if you can't guarantee that your program will run in some finite amount of memory (perhaps depending on input size) you will always run into this problem. Only after exhausting all of this will you need to look into caching objects out to disk etc. At this point you should have a very good reason to say \"I need Xgb of memory\" for something and you can't work around it by improving your algorithms or memory allocation patterns. Generally this will only usually be the case for algorithms operating on large datasets (like a database or some scientific analysis program) and then techniques like caching and memory mapped IO become useful.\n", "Run Java with the command-line option -Xmx, which sets the maximum size of the heap.\nSee here for details..\n", "Yes, with -Xmx you can configure more memory for you JVM. \nTo be sure that you don't leak or waste memory. Take a heap dump and use the Eclipse Memory Analyzer to analyze your memory consumption. \n", "If you need to monitor your memory usage at runtime, the java.lang.management package offers MBeans that can be used to monitor the memory pools in your VM (eg, eden space, tenured generation etc), and also garbage collection behaviour.\nThe free heap space reported by these MBeans will vary greatly depending on GC behaviour, particularly if your application generates a lot of objects which are later GC-ed. One possible approach is to monitor the free heap space after each full-GC, which you may be able to use to make a decision on freeing up memory by persisting objects.\nUltimately, your best bet is to limit your memory retention as far as possible whilst performance remains acceptable. As a previous comment noted, memory is always limited, but your app should have a strategy for dealing with memory exhaustion. \n", "libxml is a heavily used and documented XML library for C, which provides a SAX API. Expat is another, but in my experience is not as well documented.\n", "I have used Expat pretty extensively - I like it for its simplicity and small footprint.\n", "The name reflection is used to describe code which is able to inspect other code in the same system (or itself).\nFor example, say you have an object of an unknown type in Java, and you would like to call a 'doSomething' method on it if one exists. Java's static typing system isn't really designed to support this unless the object conforms to a known interface, but using reflection, your code can look at the object and find out if it has a method called 'doSomething' and then call it if you want to.\nSo, to give you a code example of this in Java (imagine the object in question is foo) :\nMethod method = foo.getClass().getMethod(\"doSomething\", null);\nmethod.invoke(foo, null);\n\nOne very common use case in Java is the usage with annotations. JUnit 4, for example, will use reflection to look through your classes for methods tagged with the @Test annotation, and will then call them when running the unit test.\nThere are some good reflection examples to get you started at http://docs.oracle.com/javase/tutorial/reflect/index.html\nAnd finally, yes, the concepts are pretty much similar in other statically types languages which support reflection (like C#). In dynamically typed languages, the use case described above is less necessary (since the compiler will allow any method to be called on any object, failing at runtime if it does not exist), but the second case of looking for methods which are marked or work in a certain way is still common.\n", "Reflection is a set of functions which allows you to access the runtime information of your program and modify it behavior (with some limitations).\nIt's useful because it allows you to change the runtime behaivour depending on the meta information of your program, that is, you can check the return type of a function and change the way you handle the situation.\nIn C# for example you can load an assembly (a .dll) in runtime an examine it, navigating through the classes and taking actions according to what you found. It also let you create an instance of a class on runtime, invoke its method, etc.\nWhere can it be useful? Is not useful everytime but for concrete situations. For example you can use it to get the name of the class for loggin purposes, to dinamically create handlers for events according to what's specified on a configuration file and so on...\n", "Not every language supports reflection but the principles are usually the same in languages that support it.\nReflection is the ability to \"reflect\" on the structure of your program. Or more concrete. To look at the objects and classes you have and programmatically get back information on the methods, fields, and interfaces they implement. You can also look at things like annotations.\nIt's usefull in a lot of situations. Everywhere you want to be able to dynamically plug in classes into your code. Lot's of object relational mappers use reflection to be able to instantiate objects from databases without knowing in advance what objects they're going to use. Plug-in architectures is another place where reflection is usefull. Being able to dynamically load code and determine if there are types there that implement the right interface to use as a plugin is important in those situations.\n", "\nReflection is a language's ability to inspect and dynamically call classes, methods, attributes, etc. at runtime.\n\nFor example, all objects in Java have the method getClass(), which lets you determine the object's class even if you don't know it at compile time (e.g. if you declared it as an Object) - this might seem trivial, but such reflection is not possible in less dynamic languages such as C++. More advanced uses lets you list and call methods, constructors, etc.\nReflection is important since it lets you write programs that do not have to \"know\" everything at compile time, making them more dynamic, since they can be tied together at runtime. The code can be written against known interfaces, but the actual classes to be used can be instantiated using reflection from configuration files.\nLots of modern frameworks use reflection extensively for this very reason. Most other modern languages use reflection as well, and in scripting languages (such as Python) they are even more tightly integrated, since it feels more natural within the general programming model of those languages.\n", "Reflection is a key mechanism to allow an application or framework to work with code that might not have even been written yet!\nTake for example your typical web.xml file. This will contain a list of servlet elements, which contain nested servlet-class elements. The servlet container will process the web.xml file, and create new a new instance of each servlet class through reflection.\nAnother example would be the Java API for XML Parsing (JAXP). Where an XML parser provider is 'plugged-in' via well-known system properties, which are used to construct new instances through reflection.\nAnd finally, the most comprehensive example is Spring which uses reflection to create its beans, and for its heavy use of proxies\n", "One of my favorite uses of reflection is the below Java dump method. It takes any object as a parameter and uses the Java reflection API print out every field name and value.\nimport java.lang.reflect.Array;\nimport java.lang.reflect.Field;\n\npublic static String dump(Object o, int callCount) {\n    callCount++;\n    StringBuffer tabs = new StringBuffer();\n    for (int k = 0; k < callCount; k++) {\n        tabs.append(\"\\t\");\n    }\n    StringBuffer buffer = new StringBuffer();\n    Class oClass = o.getClass();\n    if (oClass.isArray()) {\n        buffer.append(\"\\n\");\n        buffer.append(tabs.toString());\n        buffer.append(\"[\");\n        for (int i = 0; i < Array.getLength(o); i++) {\n            if (i < 0)\n                buffer.append(\",\");\n            Object value = Array.get(o, i);\n            if (value.getClass().isPrimitive() ||\n                    value.getClass() == java.lang.Long.class ||\n                    value.getClass() == java.lang.String.class ||\n                    value.getClass() == java.lang.Integer.class ||\n                    value.getClass() == java.lang.Boolean.class\n                    ) {\n                buffer.append(value);\n            } else {\n                buffer.append(dump(value, callCount));\n            }\n        }\n        buffer.append(tabs.toString());\n        buffer.append(\"]\\n\");\n    } else {\n        buffer.append(\"\\n\");\n        buffer.append(tabs.toString());\n        buffer.append(\"{\\n\");\n        while (oClass != null) {\n            Field[] fields = oClass.getDeclaredFields();\n            for (int i = 0; i < fields.length; i++) {\n                buffer.append(tabs.toString());\n                fields[i].setAccessible(true);\n                buffer.append(fields[i].getName());\n                buffer.append(\"=\");\n                try {\n                    Object value = fields[i].get(o);\n                    if (value != null) {\n                        if (value.getClass().isPrimitive() ||\n                                value.getClass() == java.lang.Long.class ||\n                                value.getClass() == java.lang.String.class ||\n                                value.getClass() == java.lang.Integer.class ||\n                                value.getClass() == java.lang.Boolean.class\n                                ) {\n                            buffer.append(value);\n                        } else {\n                            buffer.append(dump(value, callCount));\n                        }\n                    }\n                } catch (IllegalAccessException e) {\n                    buffer.append(e.getMessage());\n                }\n                buffer.append(\"\\n\");\n            }\n            oClass = oClass.getSuperclass();\n        }\n        buffer.append(tabs.toString());\n        buffer.append(\"}\\n\");\n    }\n    return buffer.toString();\n}\n\n", "You should take a look at ICProject, especially the getOutputEntries and getAllSourceRoots operations. This tutorial has some brief examples too. I work with JDT so thats pretty much what I can do. Hope it helps :)\n", "Try using a profiler on your running code. It should help you identify the bottlenecks. Try jprofiler or Netbeans profiler\n", "If you are running on Java 6 you can use the supplied monitoring tools\n", "For testing/development purposes, you can download Oracle JRockit Mission Control for free from this site. (Requires Login, but accounts can be set up with any email adress)\nDocs Here. It will allow you to find hotspots, memory leaks and much more.\n", "I'm often happy enough using Java -Xprof. This gives you a sorted list of the functions your code spends most of its time in.\n", "Sure there is. This is all you need to do:\n\nGo to\n\nFile -> Settings -> Global Code Style -> General\n\nDisable the checkbox next to 'Use same settings for all file types'  \nThe 'XML' tab should become enabled. Click it and set the 'tab' (and probably 'indent') size to 2.\n\n", "I think you need to annotate your Problem super-class with @MappedSuperclass instead of @Entity.\n", "Unfortunately, according to the Hibernate documentation \"Properties from superclasses not mapped as @MappedSuperclass are ignored.\" I ran up against this too. My solution was to represent the desired inheritance through interfaces rather than the entity beans themselves.\nIn your case, you could define the following:\npublic interface Problem {\n    public Person getPerson();\n}\n\npublic interface UglyProblem extends Problem {\n}\n\nThen implement these interfaces using an abstract superclass and two entity subclasses:\n@MappedSuperclass\npublic abstract class AbstractProblemImpl implements Problem {\n    @ManyToOne\n    private Person person;\n\n    public Person getPerson() {\n        return person;\n    }\n}\n\n@Entity\npublic class ProblemImpl extends AbstractProblemImpl implements Problem {\n}\n\n@Entity\npublic class UglyProblemImpl extends AbstractProblemImpl implements UglyProblem {\n}\n\nAs an added benefit, if you code using the interfaces rather than the actual entity beans that implement those interfaces, it makes it easier to change the underlying mappings later on (less risk of breaking compatibility).\n", "I think it's a wise decision made by the Hibernate team. They could be less arrogante and make it clear why it was implemented this way, but that's just how Emmanuel, Chris and Gavin works. :)\nLet's try to understand the problem. I think your concepts are \"lying\". Firts you say that many Problems are associated to People. But, then you say that one Person have many UglyProblems (and does not relate to other Problems). Something is wrong with that design.\nImagine how it's going to be mapped to the database. You have a single table inheritance, so:\n          _____________\n          |__PROBLEMS__|          |__PEOPLE__|\n          |id <PK>     |          |          |\n          |person <FK> | -------->|          |\n          |problemType |          |_________ |\n          -------------- \n\nHow is hibernate going to enforce the database to make Problem only relate to People if its problemType is equal UP? That's a very difficult problem to solve. So, if you want this kind of relation, every subclass must be in it's own table. That's what @MappedSuperclass does.\nPS.: Sorry for the ugly drawing :D\n", "No. Though, groovy, a JVM language, is dynamically typed and would let you write:\ndef map = new HashMap<complicated generic expression>();\n\n", "There's the pseudo-typedef antipattern... \nclass StringList extends ArrayList<String> { }\n\nGood stuff, drink up! ;-)\nAs the article notes, this technique has some serious issues, primarily that this \"typedef\" is actually a separate class and thus cannot be used interchangeably with either the type it extends or other similarly defined types.\n", "In a generic method, you can use a limited form of type inferrence to avoid some repetitions.\nExample: if you have the function\n    <K, V> Map<K, V> getSomething() {\n        //...\n    }\n\nyou can use:\nfinal Map<String, Object> something = getsomething();\n\ninstead of:\nfinal Map<String, Object> something = this.<String, Object>getsomething();\n\n", "Use Factory Pattern for creation of Generics:\nMethod Sample:\npublic Map<String, Integer> createGenMap(){\n        return new HashMap<String,Integer>();\n\n    }\n\n", "The pseudo-typedef antipattern mentioned by Shog9 would work - though it's not recommended to use an ANTIPATTERN - but it does not address your intentions. The goal of pseudo-typedef is to reduce clutter in declaration and improve readability. \nWhat you want is to be able to replace a group of generics declarations by one single trade. I think you have to stop and think: \"in witch ways is it valuable?\". I mean, I can't think of a scenario where you would need this. Imagine class A:\nclass A {\n     private Map<String, Integer> values = new HashMap<String, Integer>();\n}\n\nImagine now that I want to change the 'values' field to a Map. Why would exist many other fields scattered through the code that needs the same change? As for the operations that uses 'values' a simple refactoring would be enough.\n", "jar is just a zip file, so I guess you can. If you could get to the source, it's cleaner. Maybe try disassembling the class?\n", "Adding to this question, can that improve performance? Since the classes not used would not be JIT compiled improving startup time or does the java automatically detect that while compiling to bytecode and do not even deal with the code that is not used?\n", "At a previous job, I used a Java obfuscator that as well as obfuscating the code, also removed classes and methods that weren't being used.  If you were doing \"Class.byName\" or any other type of reflection stuff, you needed to tell the obfuscator because it couldn't tell by inspecting the code what classes or methods called by reflection.\nThe problem, of course, is that you don't know if other parts of the third party library are doing any reflection, and so removing an \"unused\" class might cause things to break in an obscure case that you haven't tested.\n", "This would be an interesting project (has anyone done it already?) \nI presume you'd give the tool your jar(s) as a starting point, and the library jar to clean up. It could use reflection to determine which classes your jar(s) reference directly, and which are used indirectly down the call tree (this is not trivial at all, but doable). If it encounters any reflection code in any of the two places, it should give a very loud warning.\n", "There is a way.\nThe JarJar project does this AFAIR. The first goal of the JarJar project is to allow one to embed third party libraries in your own jar, changing the package structure if necessary. Doing so it can strip out the classes that are not needed.\nCheck it out at http://code.google.com/p/jarjar/.\nHere is a link about shrinking jars: http://sixlegs.com/blog/java/jarjar-keep.html\n", "There is a tool in Ant called a classfileset. You specify the list of root classes that you know you need, and then the classfileset recursively analyzes their code to find all dependencies.\nAlternatively, you could develop a good test suite that exercises all of the functions that you need, then run your tests under a test coverage tool. The tool will tell you which classes (and statement in them) were actually utilized. This could give you an even smaller set of code than what you'd find with static analysis.\n", "Have a look at this: http://www.icu-project.org/\n", "How are you doing the cross-platform calls? Is it all called from Java? \nhttp://java.sun.com/docs/books/tutorial/i18n/text/string.html might be useful.\nI'm a bit confused about exactly what you are trying to do. Is the database essentially interface between all the code? Then it should be easy - just make the DB UTF-8 and each of the clients will need to do their own conversions.\nSounds like an interesting problem, could you share some more details?\n", "Perl has Encode as a standard library. It can be used to read/write any encoding you want, so that's not going to be a problem.\n", "    GraphicsDevice[] devices = GraphicsEnvironment.getLocalGraphicsEnvironment()\n        .getScreenDevices();\n    for (int i = 0; i < devices.length; i++) {\n        GraphicsDevice dev = devices[i];\n        System.out.println(\"device \" + i);\n        DisplayMode[] modes = dev.getDisplayModes();\n        for (int j = 0; j < modes.length; j++) {\n            DisplayMode m = modes[j];\n            System.out.println(\" \" + j + \": \" + m.getWidth() + \" x \" + m.getHeight());\n        }\n    }\n\nWith this code you can determine the current resolution. On my system (SuSE linux) it does NOT output the possible resolutions. \nSeems to work an Mac and Windows.\n", "A Java application bundle on OS X is nothing more than a directory containing your .jars and a number of configuration files.  The SetFile tool sets a custom HFS filesystem property on the directory to tell finder that it is an app, but giving it a \".app\" extension serves the same purpose.  I don't think there's anything stopping you from building one on, say, Windows, though of course you have no way of testing that it works, but if you are able to test it at least once on a real Mac, you could then conceivably update the .jars within it on Windows to reflect code changes without too much difficulty.\nHave a look at the Bundle Programming Guide for more info.\n", "One way is to generate a zip file with the App using for example Ant. In ant you can specify that the file in Contents/MacOS should have execute-permissions using something like filemode=\"755\".\n", "Having worked on the Mac port of NITE, I can say that jar packages for other platforms should work equally well on Mac. I would still recommend finding a mac for testing (or even announcing mac support was in beta ;-) ) as we discovered a few mac-only quirks during the port (to go with the windows- and linux- only quirks we'd already discovered)\n", "Technically, you don't need a Mac.  Applications in OS X just require a specific folder structure and an XML file.  However, the Mac has a really nice tool called Jar Bundler.  In addition to setting up the bundle directories and XML file, it creates a C executable that launches your java application via JNI.  This is nice because the process name matches the application name.\nI believe that you could have someone generate an application bundle for you once, and then check in the files to your project.  At build time, all you would need to do is copy your jar files to the appropriate locations and maybe update the XML file.\n", "No it does not. But if the protocol of the URL is HTTP, you'll get a HttpURLConnection as a return object. This class has a setRequestMethod method to specify which HTTP method you want to use. \nIf you want to do more sophisticated stuff you're probably better off using a library like Jakarta HttpClient.\n", "If you retrieve the URLConnection object using openConnection() it doesn't actually start communicating with the server.  That doesn't happen until you get the stream from the URLConnection().  When you first get the connection you can add/change headers and other connection properties before actually opening it.\nURLConnection's life cycle is a bit odd.  It doesn't send the headers to the server until you've gotten one of the streams.  If you just get the input stream then I believe it does a GET, sends the headers, then lets you read the output.  If you get the output stream then I believe it sends it as a POST, as it assumes you'll be writing data to it (You may need to call setDoOutput(true) for the output stream to work).  As soon as you get the input stream the output stream is closed and it waits for the response from the server.\nFor example, this should do a POST:\nURL myURL = new URL(\"http://example.com/my/path\");\nURLConnection conn = myURL.openConnection();\nconn.setDoOutput(true);\nconn.setDoInput(true);\n\nOutputStream os = conn.getOutputStream();\nos.write(\"Hi there!\");\nos.close();\n\nInputStream is = conn.getInputStream();\n// read stuff here\n\nWhile this would do a GET:\nURL myURL = new URL(\"http://example.com/my/path\");\nURLConnection conn = myURL.openConnection();\nconn.setDoOutput(false);\nconn.setDoInput(true);\n\nInputStream is = conn.getInputStream();\n// read stuff here\n\nURLConnection will also do other weird things.  If the server specifies a content length then URLConnection will keep the underlying input stream open until it receives that much data, even if you explicitly close it.  This caused a lot of problems for us as it made shutting our client down cleanly a bit hard, as the URLConnection would keep the network connection open.  This probably probably exists even if you just use getStream() though.\n", "AspectJ doesn't work well with classes in the Spring Web MVC framework. Read the bottom of the \"Open for extension...\" box on the right side of the page \nInstead, take a look at the HandlerInterceptor interface. \nThe new Spring MVC Annotations may work as well since then the Controller classes are all POJOs, but I haven't tried it myself. \n", "Is this as simple as spelling? or are there just typos in the question?\nSometimes you write rebuildThumbnail and sometimes you write rebildThumbnail\nThe methods you are trying to override with advice are not final methods in the MVC framework, so whilst bpapas answer is useful, my understanding is that this is not the problem in this case. However, do make sure that the rebuildThumbnail controller action is not final\n@bpapas: please correct me if i'm wrong. The programmer's own controller action is what he is trying to override. Looking at the MultiActionController source (and its parents') the only finalised method potentially in the stack is MultiActionController.invokeNamedMethod, although i'm not 100% sure if this would be in the stack at that time or not. Would having a finalised method higher up the stack cause a problem addding AOP advice to a method further down?\n", "The basic setup looks ok.\nThe syntax can be simplified slightly by not defining an in-place pointcut and just specifying the method to which the after-advice should be applied. (The named pointcuts for methods are automatically created for you.)\ne.g.\n@After( \"com.example.bg.web.controllers.assets.AssetAddController.handleRequest()\" )\npublic void afterHandleRequest() {\n    log.info( \"test111\" );\n}\n\n@After( \"com.example.bg.web.controllers.assets.AssetThumbnailRebuildController.rebuildThumbnail()\" )   \npublic void afterRebuildThumbnail() {\n    log.info( \"test222\" );\n}\n\nAs long as the rebuildThumbnail method is not final, and the method name and class are correct. I don't see why this won't work.\nsee http://static.springframework.org/spring/docs/2.0.x/reference/aop.html\n", "Your breakpoints aren't being hit because you are using Spring's AOP Proxies. See understanding-aop-proxies for a description of how AOP Proxies are special. \nBasically, the MVC framework is going to call the handleRequest method on your controller's proxy (which for example the MultiActionController you're using as a base class implements), this method will then make an \"internal\" call to its rebuildThumbnail method, but this won't go through the proxy and thus won't pick up any aspects. (This has nothing to do with the methods being final.)\nTo achieve what you want, investigate using \"real\" AOP via load time weaving (which Spring supports very nicely).\n", "If I get this right, you want a vector that is normal to the screen plane, but in world coordinates?\nIn that case you want to INVERT the transformation from World -> Screen and do Screen -> World of (0,0,-1) or (0,0,1) depending on which axis the screen points down.\nSince the ModelView matrix is just a rotation matrix (ignoring the homogeneous transformation part), you can simply pull this out by taking the transpose of the rotational part, or simple reading in  the bottom row - as this transposes onto the Z coordinate column under transposition.\n", "Yes, you got my question right. Sorry that I was a little bit confused yesterday. Now I have corrected the code by following your suggestion and mixing two pieces of code in the question together:\nVector3f toScreenVector = new Vector3f(0, 0, 1);\n\nTransform3D t3d = new Transform3D();\ncanvas.getImagePlateToVworld(t3d);\nt3d.transform(toScreenVector);\n\ntg.getTransform(t3d); //tg is Transform Group of all objects in a scene\nt3d.transform(toScreenVector);\n\nThank you.\n", "TINI is a java ethernet controller, which may have libraries and classes for directly accessing data from ethernet frames to TCP streams.  You may be able to find something in there that implements your needed classes.  If not, there should be pointers or user groups that will give you a head start.\n-Adam\n", "If you start with the idea that you need something like a packet sniffer, you'll want to look at http://netresearch.ics.uci.edu/kfujii/jpcap/doc/.\n", "Raw Socket for Java is a request for JDK for a looong long time. See the request here. There's a long discussion there where you can look for workarounds and solutions. I once needed this for a simple PING operation, but I can't remember how I resolved this. Sorry :)\n", "My best bet so far seems to be the BPF api and to write a thin JNI wrapper\n", "You can't access raw sockets from pure Java, so you will need some sort of layer between your Java code and the network interfaces.\nAlso note that access to raw sockets is normally only available to \"root\" processes, since otherwise any user could both a) sniff all traffic, and b) generate spoofed packets.\nRather than write your whole program so that it needs to run as \"root\", you might consider having the packet capture and generation done in a standalone program with some sort of IPC (RMI, named pipe, TCP socket, etc) to exchange the data with your Java app.\n", "Well, there's always the low tech solution of adding logging of the size of your maps when you modify them, then search the logs for which maps are growing beyond a reasonable size.\n", "You really need to use a memory profiler that tracks allocations. Take a look at JProfiler - their \"heap walker\" feature is great, and they have integration with all of the major Java IDEs. It's not free, but it isn't that expensive either ($499 for a single license) - you will burn $500 worth of time pretty quickly struggling to find a leak with less sophisticated tools.\n", "There are tools that should help you find your leak, like JProbe, YourKit, AD4J or JRockit Mission Control. The last is the one that I personally know best. Any good tool should let you drill down to a level where you can easily identify what leaks, and where the leaking objects are allocated. \nUsing HashTables, Hashmaps or similar is one of the few ways that you can acually leak memory in Java at all. If I had to find the leak by hand I would peridically print the size of my HashMaps, and from there find the one where I add items and forget to delete them.\n", "NetBeans has a built-in profiler. \n", "A tool is a big help.\nHowever, there are times when you can't use a tool: the heap dump is so huge it crashes the tool, you are trying to troubleshoot a machine in some production environment to which you only have shell access, etc.\nIn that case, it helps to know your way around the hprof dump file.\nLook for SITES BEGIN. This shows you what objects are using the most memory. But the objects aren't lumped together solely by type: each entry also includes a \"trace\" ID. You can then search for that \"TRACE nnnn\" to see the top few frames of the stack where the object was allocated. Often, once I see where the object is allocated, I find a bug and I'm done. Also, note that you can control how many frames are recorded in the stack with the options to -Xrunhprof.\nIf you check out the allocation site, and don't see anything wrong, you have to start backward chaining from some of those live objects to root objects, to find the unexpected reference chain. This is where a tool really helps, but you can do the same thing by hand (well, with grep). There is not just one root object (i.e., object not subject to garbage collection). Threads, classes, and stack frames act as root objects, and anything they reference strongly is not collectible.\nTo do the chaining, look in the HEAP DUMP section for entries with the bad trace id. This will take you to an OBJ or ARR entry, which shows a unique object identifier in hexadecimal. Search for all occurrences of that id to find who's got a strong reference to the object. Follow each of those paths backward as they branch until you figure out where the leak is. See why a tool is so handy?\nStatic members are a repeat offender for memory leaks. In fact, even without a tool, it'd be worth spending a few minutes looking through your code for static Map members. Can a map grow large? Does anything ever clean up its entries?\n", "you may want to check out jconsole.  It's also part of the JDK and I have found it helpful to find memory/reference leaks in conjunction with jhat.  Also take a look at this blog entry.\n", "I use following approach to finding memory leaks in Java. I've used jProfiler with great success, but I believe that any specialized tool with graphing capabilities (diffs are easier to analyze in graphical form) will work.\n\nStart the application and wait until it get to \"stable\" state, when all the initialization is complete and the application is idle.\nRun the operation suspected of producing a memory leak several times to allow any cache, DB-related initialization to take place.\nRun GC and take memory snapshot.\nRun the operation again. Depending on the complexity of operation and sizes of data that is processed operation may need to be run several to many times.\nRun GC and take memory snapshot.\nRun a diff for 2 snapshots and analyze it.\n\nBasically analysis should start from greatest positive diff by, say, object types and find what causes those extra objects to stick in memory.\nFor web applications that process requests in several threads analysis gets more complicated, but nevertheless general approach still applies.\nI did quite a number of projects specifically aimed at reducing memory footprint of the applications and this general approach with some application specific tweaks and trick always worked well.\n", "Questioner here, I have got to say getting a tool that does not take 5 minutes to answer any click makes it a lot easier to find potential memory leaks.\nSince people are suggesting several tools ( I only tried visual wm since I got that in the JDK and JProbe trial ) I though I should suggest a free / open source tool built on the Eclipse platform, the Memory Analyzer (sometimes referenced as the SAP memory analyzer) available on http://www.eclipse.org/mat/ . \nWhat is really cool about this tool is that it indexed the heap dump when I first opened it which allowed it to show data like retained heap without waiting 5 minutes for each object (pretty much all operations were tons faster than the other tools I tried).\nWhen you open the dump, the first screen shows you a pie chart with the biggest objects (counting retained heap) and one can quickly navigate down to the objects that are to big for comfort. It also has a Find likely leak suspects which I reccon can come in handy, but since the navigation was enough for me I did not really get into it.\n", "Your best bet is probably to refactor it slowly as you go along.  Few us of have the resources that would be required to completely start from scratch with something that has so many business rules buried in it.  Management really hates it when you spend months on developing an app that has more bugs than the one you replaced.\nIf you have the opportunity to build any separate apps from scratch, use all of the best practices there and use it to demonstrate how effective they are.  When you can, incorporate those ideas gradually into the old application.\n", "In my experience, the \"elegance\" of an app typically has more to do with the database design than anything.  If you have a great database design, including a well-defined stored procedure interface, good application code tends to follow no matter what platform you use.  If you have poor database design, no matter what platform you use you'll have a very difficult time building elegant application code, as you'll be constantly compensating for the database.\nOf course, there's plenty of room between great and poor, but my point is that if you want good application code, start by making sure your database is up to snuff.\n", "This is harder to do in applications that are only in maintenance mode because it is hard to convince management that rewriting something that is already 'working' is worth doing. I would start by applying the principles of MVC to any new code that you are able to work on (ie. move business logic to something akin to a model, put all your layout/view code in one place)\nAs you gain experience with new code in MVC you can start seeing opportunities to change the existing code subtly so that it also falls in line. It can be a very slow process, but if you can show the benefits of this way of doing it then you will be able to convince others and get the entire team on board.\n", "I would agree with the slow refactoring approach; for example, take that copy-and-pasted code and extract it into whatever the appropriate Java paradigm is (a class, perhaps? or better yet, use an existing library?). When your code is really clean and terse, yet still lacking in overall architectural strategy, then you'll be able to make things fit into an overall architecture much more easily.\n", "The best way is to print out the code, crumple it up, and throw it out. Don't even recycle the paper.\nYou've got an application that is written in 1,000+ line long JSPs. It probably has a god-awful Domain Model (if it even has one at all) and doesn't just MIX presentation with business logic, it BLENDS it and sits there and keeps stirring for hours. There is no way to take out the code that is crappy and move into an MVC Controller class and still be doing the right thing, you'll just end up with a MVC app with an anemic domain model or one that has stuff like Database calls in Controller code, you're still failing. \nYou could try a new app that does the right thing and then have the two apps talk to each other, but that's new complexity in itself. Also you're likely going to be doing the same amount of work that you were going to do if you just started from scratch, but you might have an easier time trying to convince your bosses that this is  a better approach. \n", "First pick up a copy of Michael Feather's Working Effectively with Legacy Code.  Then  identify how best to test the existing code.  The worst case is that you are stuck with just some high level regression tests (or nothing at all) and If you are lucky there will be unit tests.  Then it is a case of slow steady refactoring hopefully while adding new business functionality at the same time.\n", "Iteratively refactor.  Also look for new features that can be done completely in the new framework as a way to show the value of the new framework.\n", "My suggestion would be to find the rare pages that do not require an import of other JSPs, or have very few imports.  Treat each JSP imported as a black box, and refactor these pages around them (iteratively, testing each change and making sure it works before continuing).  Once these are cleaned up, you can continue finding pages with more and more imports, until finally you have refactored the imports.\nWhen refactoring, note the parts that try to access resources not given to the page and try to take this out to a controller.  For instance, anything that accesses the database should be inside a controller, let the JSP handle the display of the information the controller gives to it via a forward.  In this way you will develop several servlets, or things like servlets, for each page.  I would suggest using a front-controller based framework for this refactoring (from personal experience I recommend Spring and its Controller interface), so that each controller isn't a separate Servlet but is rather delegated to from a single servlet that is mapped appropriately.\nFor the controller, it is better to do database hits all at once rather than attempt them piecemeal.  Users can and generally do tolerate a page load, but the page output will be much faster if all the database data is given to the rendering code rather than the rendering code hanging and not giving data to the client while it is trying to read yet another piece of data from the database.\nI feel your pain and wish you luck in this endeavor.  Now, when you have to maintain an application that abuses Spring Webflow, that's another story :)\n", "Perhaps Runtime#addShutdownHook ?\n", "The JVM responds to signals on its own. Some will cause the JVM to shutdown gracefully, which includes running shutdown hooks. Other signals will cause the JVM to abort without running shutdown hooks.\nShutdown hooks are added using Runtime.addShutdownHook(Thread).\nI don't think the JDK provides an official way to handle signals within your Java application. However, I did find this IBM article, which describes using some undocumented sun.misc.Signal class to do exactly that. The article dates from 2002 and uses JDK 1.3.1, but I've confirmed that the sun.misc.Signal class still exists in JDK 1.6.0.\n", "Based on the info here, I'd recommend going with HashMap.  I think the biggest advantage is that Java will prevent you from modifying it while you are iterating over it, unless you do it through the iterator.\n", "Hashtable is synchronized, whereas HashMap isn't. That makes Hashtable slower than Hashmap.\nFor non-threaded apps, use HashMap since they are otherwise the same in terms of functionality.\n", "Hashtable is similar to the HashMap and has a similar interface. It is recommended that you use HashMap, unless you require support for legacy applications or you need synchronisation, as the Hashtables methods are synchronised. So in your case as you are not multi-threading, HashMaps are your best bet.\n", "In addition to what izb said, HashMap allows null values, whereas the Hashtable does not.\nAlso note that Hashtable extends the Dictionary class, which as the Javadocs state, is obsolete and has been replaced by the Map interface.\n", "For threaded apps, you can often get away with ConcurrentHashMap- depends on your performance requirements.\n", "There are several differences between HashMap and Hashtable in Java:\n\nHashtable is synchronized, whereas HashMap is not.  This makes HashMap better for non-threaded applications, as unsynchronized Objects typically perform better than synchronized ones.\nHashtable does not allow null keys or values.  HashMap allows one null key and any number of null values.\nOne of HashMap's subclasses is LinkedHashMap, so in the event that you'd want predictable iteration order (which is insertion order by default), you could easily swap out the HashMap for a LinkedHashMap.  This wouldn't be as easy if you were using Hashtable.\n\nSince synchronization is not an issue for you, I'd recommend HashMap. If synchronization becomes an issue, you may also look at ConcurrentHashMap.\n", "HashMap: An implementation of the Map interface that uses hash codes to index an array.\nHashtable: Hi, 1998 called. They want their collections API back.\nSeriously though, you're better off staying away from Hashtable altogether. For single-threaded apps, you don't need the extra overhead of syncrhonisation. For highly concurrent apps, the paranoid synchronisation might lead to starvation, deadlocks, or unnecessary garbage collection pauses. Like Tim Howland pointed out, you might use ConcurrentHashMap instead.\n", "Note, that a lot of the answers state that Hashtable is synchronised.  In practice this buys you very little.  The synchronization is on the accessor / mutator methods will stop two threads adding or removing from the map concurrently, but in the real world you will often need additional synchronisation.\nA very common idiom is to \"check then put\" - i.e. look for an entry in the Map, and add it if it does not already exist.  This is not in any way an atomic operation whether you use Hashtable or HashMap.  \nAn equivalently synchronised HashMap can be obtained by:\nCollections.synchronizedMap(myMap);\n\nBut to correctly implement this logic you need additional synchronisation of the form:\nsynchronized(myMap) {\n    if (!myMap.containsKey(\"tomato\"))\n        myMap.put(\"tomato\", \"red\");\n}\n\nEven iterating over a Hashtable's entries (or a HashMap obtained by Collections.synchronizedMap) is not thread safe unless you also guard the Map from being modified through additional synchronization.\nImplementations of the ConcurrentMap interface (for example ConcurrentHashMap) solve some of this by including thread safe check-then-act semantics such as:\nConcurrentMap.putIfAbsent(key, value);\n\n", "Instead of using a DOMParser, use a SAXParser.  This reads from an input stream or reader so you can keep the XML on disk instead of loading it all into memory.\nSAXParserFactory factory = SAXParserFactory.newInstance();\nfactory.setValidating(true);\nfactory.setNamespaceAware(true);\n\nSAXParser parser = factory.newSAXParser();\n\nXMLReader reader = parser.getXMLReader();\nreader.setErrorHandler(new SimpleErrorHandler());\nreader.parse(new InputSource(new FileReader (\"document.xml\")));\n\n", "Use libxml, which performs validation and has a streaming mode.\n", "Personally I like to use XMLStarlet which has a command line interface, and works on streams. It is a set of tools built on Libxml2.\n", "I've used JDEE on several projects.  It handles Code Completion.  I've never used it for debugging or browsing docs, but it's a big step up from a basic text editor.\n", "Algorithm\nTo generate a random string, concatenate characters drawn randomly from the set of acceptable symbols until the string reaches the desired length.\nImplementation\nHere's some fairly simple and very flexible code for generating random identifiers. Read the information that follows for important application notes.\nimport java.security.SecureRandom;\nimport java.util.Locale;\nimport java.util.Objects;\nimport java.util.Random;\n\npublic class RandomString {\n\n    /**\n     * Generate a random string.\n     */\n    public String nextString() {\n        for (int idx = 0; idx < buf.length; ++idx)\n            buf[idx] = symbols[random.nextInt(symbols.length)];\n        return new String(buf);\n    }\n\n    public static final String upper = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\n    public static final String lower = upper.toLowerCase(Locale.ROOT);\n\n    public static final String digits = \"0123456789\";\n\n    public static final String alphanum = upper + lower + digits;\n\n    private final Random random;\n\n    private final char[] symbols;\n\n    private final char[] buf;\n\n    public RandomString(int length, Random random, String symbols) {\n        if (length < 1) throw new IllegalArgumentException();\n        if (symbols.length() < 2) throw new IllegalArgumentException();\n        this.random = Objects.requireNonNull(random);\n        this.symbols = symbols.toCharArray();\n        this.buf = new char[length];\n    }\n\n    /**\n     * Create an alphanumeric string generator.\n     */\n    public RandomString(int length, Random random) {\n        this(length, random, alphanum);\n    }\n\n    /**\n     * Create an alphanumeric strings from a secure generator.\n     */\n    public RandomString(int length) {\n        this(length, new SecureRandom());\n    }\n\n    /**\n     * Create session identifiers.\n     */\n    public RandomString() {\n        this(21);\n    }\n\n}\n\nUsage examples\nCreate an insecure generator for 8-character identifiers:\nRandomString gen = new RandomString(8, ThreadLocalRandom.current());\n\nCreate a secure generator for session identifiers:\nRandomString session = new RandomString();\n\nCreate a generator with easy-to-read codes for printing. The strings are longer than full alphanumeric strings to compensate for using fewer symbols:\nString easy = RandomString.digits + \"ACEFGHJKLMNPQRUVWXYabcdefhijkprstuvwx\";\nRandomString tickets = new RandomString(23, new SecureRandom(), easy);\n\nUse as session identifiers\nGenerating session identifiers that are likely to be unique is not good enough, or you could just use a simple counter. Attackers hijack sessions when predictable identifiers are used.\nThere is tension between length and security. Shorter identifiers are easier to guess, because there are fewer possibilities. But longer identifiers consume more storage and bandwidth. A larger set of symbols helps, but might cause encoding problems if identifiers are included in URLs or re-entered by hand.\nThe underlying source of randomness, or entropy, for session identifiers should come from a random number generator designed for cryptography. However, initializing these generators can sometimes be computationally expensive or slow, so effort should be made to re-use them when possible.\nUse as object identifiers\nNot every application requires security. Random assignment can be an efficient way for multiple entities to generate identifiers in a shared space without any coordination or partitioning. Coordination can be slow, especially in a clustered or distributed environment, and splitting up a space causes problems when entities end up with shares that are too small or too big.\nIdentifiers generated without taking measures to make them unpredictable should be protected by other means if an attacker might be able to view and manipulate them, as happens in most web applications. There should be a separate authorization system that protects objects whose identifier can be guessed by an attacker without access permission.\nCare must be also be taken to use identifiers that are long enough to make collisions unlikely given the anticipated total number of identifiers. This is referred to as \"the birthday paradox.\" The probability of a collision, p, is approximately n2/(2qx), where n is the number of identifiers actually generated, q is the number of distinct symbols in the alphabet, and x is the length of the identifiers. This should be a very small number, like 2\u201150 or less.\nWorking this out shows that the chance of collision among 500k 15-character identifiers is about 2\u201152, which is probably less likely than undetected errors from cosmic rays, etc.\nComparison with UUIDs\nAccording to their specification, UUIDs are not designed to be unpredictable, and should not be used as session identifiers.\nUUIDs in their standard format take a lot of space: 36 characters for only 122 bits of entropy. (Not all bits of a \"random\" UUID are selected randomly.) A randomly chosen alphanumeric string packs more entropy in just 21 characters.\nUUIDs are not flexible; they have a standardized structure and layout. This is their chief virtue as well as their main weakness. When collaborating with an outside party, the standardization offered by UUIDs may be helpful. For purely internal use, they can be inefficient.\n", "Here it is in Java:\nimport static java.lang.Math.round;\nimport static java.lang.Math.random;\nimport static java.lang.Math.pow;\nimport static java.lang.Math.abs;\nimport static java.lang.Math.min;\nimport static org.apache.commons.lang.StringUtils.leftPad\n\npublic class RandomAlphaNum {\n  public static String gen(int length) {\n    StringBuffer sb = new StringBuffer();\n    for (int i = length; i > 0; i -= 12) {\n      int n = min(12, abs(i));\n      sb.append(leftPad(Long.toString(round(random() * pow(36, n)), 36), n, '0'));\n    }\n    return sb.toString();\n  }\n}\n\nHere's a sample run:\nscala> RandomAlphaNum.gen(42)\nres3: java.lang.String = uja6snx21bswf9t89s00bxssu8g6qlu16ffzqaxxoy\n\n", "Java supplies a way of doing this directly. If you don't want the dashes, they are easy to strip out. Just use uuid.replaceAll(\"-\", \"\")\nimport java.util.UUID;\n\npublic class randomStringGenerator {\n    public static void main(String[] args) {\n        System.out.println(generateString());\n    }\n\n    public static String generateString() {\n        String uuid = UUID.randomUUID().toString();\n        return \"uuid = \" + uuid;\n    }\n}\n\nOutput:\nuuid = 2d7428a6-b58c-4008-8575-f05549f16316\n\n", "I found this solution that generates a random hex encoded string.  The provided unit test seems to hold up to my primary use case.  Although, it is slightly more complex than some of the other answers provided.\n/**\n * Generate a random hex encoded string token of the specified length\n *  \n * @param length\n * @return random hex string\n */\npublic static synchronized String generateUniqueToken(Integer length){ \n    byte random[] = new byte[length];\n    Random randomGenerator = new Random();\n    StringBuffer buffer = new StringBuffer();\n\n    randomGenerator.nextBytes(random);\n\n    for (int j = 0; j < random.length; j++) {\n        byte b1 = (byte) ((random[j] & 0xf0) >> 4);\n        byte b2 = (byte) (random[j] & 0x0f);\n        if (b1 < 10)\n            buffer.append((char) ('0' + b1));\n        else\n            buffer.append((char) ('A' + (b1 - 10)));\n        if (b2 < 10)\n            buffer.append((char) ('0' + b2));\n        else\n            buffer.append((char) ('A' + (b2 - 10)));\n    }\n    return (buffer.toString());\n}\n\n@Test\npublic void testGenerateUniqueToken(){\n    Set set = new HashSet();\n    String token = null;\n    int size = 16;\n\n    /* Seems like we should be able to generate 500K tokens \n     * without a duplicate \n     */\n    for (int i=0; i<500000; i++){\n        token = Utility.generateUniqueToken(size);\n\n        if (token.length() != size * 2){\n            fail(\"Incorrect length\");\n        } else if (set.contains(token)) {\n            fail(\"Duplicate token generated\");\n        } else{\n            set.add(token);\n        }\n    }\n}\n\n", "If you're happy to use Apache classes, you could use org.apache.commons.lang.RandomStringUtils (commons-lang).\n", "static final String AB = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\nstatic SecureRandom rnd = new SecureRandom();\n\nString randomString( int len ){\n   StringBuilder sb = new StringBuilder( len );\n   for( int i = 0; i < len; i++ ) \n      sb.append( AB.charAt( rnd.nextInt(AB.length()) ) );\n   return sb.toString();\n}\n\n", "The wiki lists some more wrappers:\n\nJava wrapper (around a SWIG interface): http://tk-software.home.comcast.net/\nA good tutorial to use JDBC driver for SQLite. (it works at least !) http://www.ci.uchicago.edu/wiki/bin/view/VDS/VDSDevelopment/UsingSQLite\nCross-platform JDBC driver which uses embedded native SQLite libraries on Windows, Linux, OS X, and falls back to pure Java implementation on other OSes: https://github.com/xerial/sqlite-jdbc (formerly zentus)\nAnother Java - SWIG wrapper. It only works on Win32. http://rodolfo_3.tripod.com/index.html\nsqlite-java-shell: 100% pure Java port of the sqlite3 commandline shell built with NestedVM. (This is not a JDBC driver).\nSQLite JDBC Driver for Mysaifu JVM: SQLite JDBC Driver for Mysaifu JVM and SQLite JNI Library for Windows (x86) and Linux (i386/PowerPC). \n\n", "If I read the spec correctly the automatic serialVersionUID shouldn't change if you change the value of a static of transient field. Take a look at Chapter 5.6 of the Spec.\nHowever, if you think about this a bit - you start by serializing an object that has static int MYINT = 3, when you then deserialize the class you expect to get the same object back, that is, with MYINT = 3. So, if you change the static initialization you would expect the serialVersionUID to change because you can't get the same object back again.\nAnyways, keep this in all your serializable classes and you can control the serialVersionUID:\nprivate static final long serialVersionUID = 7526472295622776147L;\n\n", "I updated the question to be more clear. I understand why initialization with a literal changes the serialVersionUID but not why dynamic initialization changes it. If you initialize with a method, the value, of course, may always be different.  \nSetting the serialVersionUID explicitly is fine in a subsequent version of the class only if you are sure that it is a safe change. \n", "You can find some information about that in the bug 4365406 and in the algorithm for computing serialVersionUID. Basically, when changing the initialization of your static member with System.getProperty(), the compiler introduces a new static property in your class referencing the System class (I assume that the System class was previously unreferenced in your class), and since this property introduced by the compiler is not private, it takes part in the serialVersionUID computation.\nMorality: always use explicit serialVersionUID, you'll save some CPU cycles and some headaches :)\n", "Automatic serialVersionUID is calculated based on members of a class. These can be shown for a class file using the javap tool in the Sun JDK.\nIn the case mentioned in the question, the member that is added/removed is the static initialiser. This appears as ()V in class files. The contents of the method can be disassembled using javap -c. You should be able to make out the System.getProperty(\"foo\") call and assignment to MYSTRING. However an assignment with a string literal (or any compile-time constant as defined by the Java Language Specification) is supported directly by the class file, so removing the need for a static initialiser.\nA common case for code targeting J2SE 1.4 (use -source 1.4 -target 1.4) or earlier is static fields to old Class instances which appear as class literals in source code (MyClass.class). The Class instance is looked up on demand with Class.forName, and the stored in a static field. It is this static field that disrupts the serialVersionUID. From J2SE 5.0, a variant of the ldc opcode gives direct support for class literals, removing the need for the synthetic field. Again, all this can be shown with javap -c.\n", "Have you considered using the Spring framework for this? That way, your beans don't get any extra cruft, and spring handles the configuration setup for you.\n", "I think that you will have to add an associated bootstrap class which takes a reference to a ServletConfig (or ServletContext) and transcribes those values to the Factory class. At least this way you can package it separately.\n@toolkit : Excellent, most humbled - This is something that I have been trying to do for a while\n", "One way you could do this is:\npublic class FactoryInitialisingServletContextListener implements ServletContextListener {\n\n    public void contextDestroyed(ServletContextEvent event) {\n    }\n\n    public void contextInitialized(ServletContextEvent event) {\n        Properties properties = new Properties();\n        ServletContext servletContext = event.getServletContext();\n        Enumeration<?> keys = servletContext.getInitParameterNames();\n        while (keys.hasMoreElements()) {\n            String key = (String) keys.nextElement();\n            String value = servletContext.getInitParameter(key);\n            properties.setProperty(key, value);\n        }\n        Factory.setServletContextProperties(properties);\n    }\n}\n\npublic class Factory {\n\n    static Properties _servletContextProperties = new Properties();\n\n    public static void setServletContextProperties(Properties servletContextProperties) {\n        _servletContextProperties = servletContextProperties;\n    }\n}\n\nAnd then have the following in your web.xml\n<listener>\n    <listener-class>com.acme.FactoryInitialisingServletContextListener<listener-class>\n</listener>\n\nIf your application is running in a web container, then the listener will be invoked by the container once the context has been created. In which case, the _servletContextProperties will be replaced with any context-params specified in the web.xml.\nIf your application is running outside a web container, then _servletContextProperties will be empty.\n", "Are you sure that the image isn't coming through garbled or that you aren't dropping some packets on the way in.  \n", "I don't know what difference it makes, but there seems to be a mismatch of method signatures.  The getBytes() method called in your doPost() method has only one argument:\nbyte[] bytes = StreamUtils.getBytes(stream);\n\nwhile the method source you included has two arguments:\npublic static byte[] getBytes(InputStream src, int buffsize)\n\nHope that helps.\n", "Can you perform a checksum on your original file, and the uploaded file and see if there is any immediate differences?\nIf there are then you can look at performing a diff, to determine the exact part(s) of the file that are missing changed.\nThings that pop to mind is beginning or end of stream, or endianness.\n", "One thing I don't like is here in this block from StreamUtils.getBytes():\n 1 while (true) {\n 2   int nBytesRead = src.read(buff);\n 3   if (nBytesRead < 0) {\n 4     break;\n 5   }\n 6   byteStream.write(buff);\n 7 }\n\nAt line 6, it writes the entire buffer, no matter how many bytes are read in.  I am not convinced this will always be the case.  It would be more correct  like this:\n 1 while (true) {\n 2   int nBytesRead = src.read(buff);\n 3   if (nBytesRead < 0) {\n 4     break;\n 5   } else {\n 6     byteStream.write(buff, 0, nBytesRead);\n 7   }\n 8 }\n\nNote the 'else' on line 5, along with the two additional parameters (array index start position and length to copy) on line 6.\nI could imagine that for larger files, like images, the buffer returns before it is filled (maybe it is waiting for more).  That means you'd be unintentionally writing old data that was remaining in the tail end of the buffer.  This is almost certainly happening most of the time at EoF, assuming a buffer > 1 byte, but extra data at EoF is probably not the cause of your corruption...it is just not desirable.  \n", "I'd just use commons io Then you could just do an IOUtils.copy(InputStream, OutputStream);\nIt's got lots of other useful utility methods. \n", "Try this:\n    StackTraceElement[] stack = Thread.currentThread ().getStackTrace ();\n    StackTraceElement main = stack[stack.length - 1];\n    String mainClass = main.getClassName ();\n\nOf course, this only works if you're running from the main thread.  Unfortunately I don't think there's a system property you can query to find this out.\nEdit: Pulling in @John Meagher's comment, which is a great idea:\n\nTo expand on @jodonnell you can also\n  get all stack traces in the system\n  using Thread.getAllStackTraces(). From\n  this you can search all the stack\n  traces for the \"main\" Thread to\n  determine what the main class is. This\n  will work even if your class is not\n  running in the main thread.\n\n", "Also from the command line you could run the jps tool. Sounds like a \njps -l \n\nwill get you what you want.\n", "To expand on @jodonnell you can also get all stack traces in the system using Thread.getAllStackTraces(). From this you can search all the stack traces for the main Thread to determine what the main class is. This will work even if your class is not running in the main thread.  \n", "Use the <applet> tag.  For more info: http://java.sun.com/docs/books/tutorial/deployment/applet/html.html\n", "Here is an example from sun's website:\n<applet code=\"TumbleItem.class\" \n        codebase=\"examples/\"\n        archive=\"tumbleClasses.jar, tumbleImages.jar\"\n        width=\"600\" height=\"95\">\n    <param name=\"maxwidth\" value=\"120\">\n    <param name=\"nimgs\" value=\"17\">\n    <param name=\"offset\" value=\"-57\">\n    <param name=\"img\" value=\"images/tumble\">\n\nYour browser is completely ignoring the &lt;APPLET&gt; tag!\n</applet>\n\n", "Although you didn't say so, just in case you were using JSPs, you also have the option of the jsp:plugin tag?\n", "I hate to give a non-answer, but I think the only definitive way to answer a performance question like this might be for you to code both approaches, benchmark the two, and compare the results.\n", "These days, object creation is pretty dang fast, and the concept of object pooling is kind of obsolete (at least in general; connection pooling is of course still valid).\nAvoid premature optimization.  Create your nodes when you need them when doing your copies, and then see if that becomes prohibitively slow.  If so, then look into some techniques to speed it up.  But unless you already know that what you've got isn't fast enough, I wouldn't go introducing all the complexity you're going to need to get pooling going.\n", "I'm a little confused about what you're trying to do in the first place.  You want all of the nodes to be immutable AND you want to pool them?  Aren't these 2 ideas mutually exclusive?  When you pull an object out of the pool, won't you have to invoke a setter to link up the children?\nI think that using immutable nodes is probably not going to give you the kind of thread-safety you need in the first place.  What happens if 1 thread is iterating over the nodes (a search or something), while another thread is adding/removing nodes?  Won't the results of the search be invalid?  I'm not sure if you can avoid explicitly synchronizing certain methods in order to make sure everything is thread-safe.\n", "@Outlaw Programmer\n\nWhen you pull an object out of the\n  pool, won't you have to invoke a\n  setter to link up the children?\n\nEach node needn't be immutable internally to the package, only to the outward-facing interface. node.addChild() would be an immutable function with public visibility and return a Document, wheras node.addChildInternal() would be be a normal, mutable function with package visibility. But since it is internal to the package, it can only be called as a descendent of addChild() and the structure as a whole is guarenteed to be thread safe (provided I synchronize access to the object pool). Do you see a flaw in this...? If so, please tell me!\n\nI think that using immutable nodes is probably not going to give you the kind of thread-safety you need in the first place. What happens if 1 thread is iterating over the nodes (a search or something), while another thread is adding/removing nodes?\n\nThe tree as a whole will be immutable. Say I have Thread1 and Thread2, and tree dom1. Thread1 starts a read operation on dom1, while, concurrently, Thread2 starts a write operation on dom1. However, all the changes Thread2 makes will actually be made to a new object, dom2, and dom1 will be immutable. It is true that the values read by Thread1 will be (a few microseconds) out of date, but it won't crash on an IndexOutOfBounds or NullPointer exception or something like it would if it was reading a mutable object that was being written to. Then, Thread2 can fire an event containing dom2 to Thread1 so that it can do its read again and update its results, if necessary.\nEdit: clarified\n", "I think @Outlaw has a point. The structure of the DOM tree resides in the nodes itself, having a node pointing to its children. To modify the structure of a tree you have to modify the node, so you can't have it pooled, you have to create a new one.\nTry to think in a higher level. You have an IMMUTABLE tree (that is basically a set of nodes pointing to its children). You want to insert a node in it. Then, there's no way out: you have to create a new WHOLE tree. \nYes, the immutable tree is thread-safe, but it will impact performance. Object creation may be fast, but not faster then NO object creation. :)\n", "\nI'm not sure if you can avoid explicitly synchronizing certain methods in order to make sure everything is thread-safe.\n\nOne specific case you need to synchronize one side or the other of making a newly created node available to other threads as otherwise you risk the VM/CPU re-ordering the writes of the fields past the write of the reference to the shared node, exposing a party constructed object.\n\nTry to think in a higher level. You have an IMMUTABLE tree (that is basically a set of nodes pointing to its children). You want to insert a node in it. Then, there's no way out: you have to create a new WHOLE tree.\n\nIf you choose to implement the tree as a set of nodes pointing to the children, then you would have to create new nodes along the path of the changed node to the root. The others have the same value as before, and normally are shared. So you need to create a partial new tree, which usually would mean (depth of edited node) parent nodes.  \nIf you can cope with a less direct implementation, you should be able to get away with only creating parts of nodes, using techniques similar to those described in Purely Functional Data Structures to either reduce the average cost of the creation, or you can by-pass it using semi-functional approaches (such as creating an iterator which wraps an existing iterator, but returns the new node instead of the old, together with a mechanism to repair such patches in the structure as time goes on). An XPath style api might be better than a DOM api in that case - it might you decouple the nodes from the tree a bit more, and treat the mutated tree more intelligently. \n", "It's a bit more low-level than classic monkey patching, and from what I read, the classes already loaded into the VM are not updated. It only supports saving it to class files again, not modifying run time classes.\n", "From BCEL's FAQ:\n\nQ: Can I create or modify classes\n  dynamically with BCEL?\nA: BCEL contains useful classes in the\n  util package, namely ClassLoader and\n  JavaWrapper.Take a look at the\n  ProxyCreator example.\n\nBut monkeypatching is... uhm... controversial, and you probably shouldn't use it if your language doesn't support it.\nIf you have a good use case for it, may I suggest embbededing Jython?\n", "You might look at it as monkey patching. I prefer not to use it (maybe I never faced a good use case for it?), but be familiar with it (to have an idea how Spring and Hibenrate use it and why).\n", "For debugging Lucene, the best tool to use is Luke, which lets you poke around in the index itself to see what got indexed, carry out searches, etc. I recommend downloading it, pointing it at your index, and seeing what's in there.\n", "The section on \"Why am I getting no hits?\" in the Lucene FAQ has some suggestions you might find useful.  You're using Field.Index.UN_TOKENIZED, so no Analyzer will be used for indexing (I think).  If you're using an Analyzer when you're searching then that might be the root of your problem - the indexing and searching Analyzers should be the same to make sure you get the right hits.\n", "Another simple thing to do would be to use a debugger or logging statement to check the value of \n\nStringUtils.objectToString(currClip.get(\"market_local\"))\n\nto make sure it is what you think it is.\n", "Luke is bundled with Lucene, but you can tell Luke to use another version of Lucene. Say \"lucene-core-2.1.0.jar\" contains Lucene 2.1.0 that you want to use and \"luke.jar\" contains Luke with Lucene 2.3.0. Then you can start Luke with the following command.\n\njava -classpath lucene-core-2.1.0.jar;luke.jar org.getopt.luke.Luke\n\n(The trick is to put your version of Lucene before Luke on the classpath. Also, This is on Windows. On Unix, replace \";\" with \":\".)\nAs you can check in Luke,\n\n+( market_local:Local )\n\ngets rewritten to\n\nmarket_local:Local\n\nif the rewrite(IndexReader) method of the Query object is called. The two queries should be equivalent so there might be a bug in 2.1. If you have to use 2.1, you can try to manually call that method before passing the Query object to the IndexSearcher.\n", "have you looked into using facelets? It lets you get rid of the whole JSF / JSP differences (it's an alternate and superior view controller).\nIt also supports great design-time semantics with the jsfc tag...\n<input type=\"text\" jsfc=\"#{SomeBean.property}\" class=\"foo\" />\n\ngets translated internally to the correct JSF stuff, so you can work with your existing tools.\n", "To solve this one I'd probably create a JSF fragment that only includes your form, then use a  tag to include it in my JSF page.  \nThat solution is probably a little fragile depending on your environment though.\nEDIT: See Chris Hall's answer, FacesContext is not available outside the FacesServlet.\n", "Create a custom JSP tag handler.  You can then retrieve the bean from session scope, and then initialize it on the fly.  See this tutorial for more details.\n", "Actually, I've resolved this by removing bean from session, so it has to be generated again when jsf page is called. Then I pick up get parameters from a request in constructor.\n", "You can retrieve a managed bean inside of a tag library using something like this:\nFacesContext context = FacesContext.getCurrentInstance();\nObject myBean = context.getELContext().getELResolver().getValue(context.getELContext(), null, \"myBeanName\");\n\nHowever, you'd need to use the tag library from one of your JSF pages.  FacesContext.getCurrentInstance() returns null when it's called outside of the FacesServlet.\n", "I'm not familiar with Java regex but documentation for the Pattern Class would suggest you could use (?!X) for a non-capturing zero-width negative lookahead (it looks for something that is not X at that postision, without capturing it as a backreference). So you could do:\nfoo.*(?!bar) // not correct\n\nUpdate: Apocalisp's right, you want negative lookbehind. (you're checking that what the .* matches doesn't end with bar)\n", "As other commenters said, you need a negative lookahead. In Java you can use this pattern:\n\"^first_string(?!.?second_string)\\\\z\"\n\n\n^ - ensures that string starts with\nfirst_string\n\\z - ensures that string ends with second_string\n(?!.?second_string) - means that first_string can't be followed by second_string\n\n", "I think in this case you want negative lookbehind, like so:\nfoo.*(?<!bar)\n\n", "Verified @Apocalisp's answer using:\nimport java.util.regex.Pattern;\npublic class Test {\n  public static void main(String[] args) {\n    Pattern p = Pattern.compile(\"^foo.*(?<!bar)$\");\n    System.out.println(p.matcher(\"foobar\").matches());\n    System.out.println(p.matcher(\"fooBLAHbar\").matches());\n    System.out.println(p.matcher(\"1foo\").matches());\n    System.out.println(p.matcher(\"fooBLAH-ar\").matches());\n    System.out.println(p.matcher(\"foo\").matches());\n    System.out.println(p.matcher(\"foobaz\").matches());\n  }\n}\n\nThis output the the right answers:\nfalse\nfalse\nfalse\ntrue\ntrue\ntrue\n\n", "I think this will work, but make sure to test it... minor \"improvement\", but it might be a bit of a cost at readability.\nbyte[] buffer = new byte[1024];\nint len;\nwhile ((len = in.read(buffer)) != -1) {\n    out.write(buffer, 0, len);\n}\n\n", "PipedInputStream and PipedOutputStream may be of some use, as you can connect one to the other.\n", "There's no way to do this a lot easier with JDK methods, but as Apocalisp has already noted, you're not the only one with this idea: You could use IOUtils from Jakarta Commons IO, it also has a lot of other useful things, that IMO should actually be part of the JDK...\n", "As WMR mentioned, org.apache.commons.io.IOUtils from Apache has a method called copy(InputStream,OutputStream) which does exactly what you're looking for.\nSo, you have:\nInputStream in;\nOutputStream out;\nIOUtils.copy(in,out);\nin.close();\nout.close();\n\n...in your code.\nIs there a reason you're avoiding IOUtils? \n", "Everything seems to be correct.\nAre you really sure getPassword() returns garbage? Isn't it someone else (your editor, OS, database,...) that doesn't know that it's a unicode string when it displays it to you while the password may be perfectly okay? What exactly makes you think it's a garbage?\nI would also make sure there's no strange encoding set in the .application config file\n<meta key=\"org.apache.tapestry.output-encoding\" value=\"some strange encoding\"/>\n\n", "I found the problem. Tomcat was mangling the parameters before Tapestry or my page class even had a crack at it. Creating a servlet filter that enforced the desired character encoding fixed it.\nCharacterEncodingFilter.java\npackage mycode;\n\nimport java.io.IOException;\n\nimport javax.servlet.*;\n\n/**\n * Allows you to enforce a particular character encoding on incoming requests.\n * @author Robert J. Walker\n */\npublic class CharacterEncodingFilter implements Filter {\n    private static final String ENCODINGPARAM = \"encoding\";\n\n    private String encoding;\n\n    public void init(FilterConfig config) throws ServletException {\n        encoding = config.getInitParameter(ENCODINGPARAM);\n\n        if (encoding != null) {\n            encoding = encoding.trim();\n        }\n    }\n\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        request.setCharacterEncoding(encoding);\n        chain.doFilter(request, response);\n    }\n\n    public void destroy() {\n        // do nothing\n    }\n}\n\nweb.xml\n<web-app>\n    ...\n    <filter>\n        <filter-name>characterEncoding</filter-name>\n        <filter-class>mycode.CharacterEncodingFilter</filter-class>\n        <init-param>\n            <param-name>encoding</param-name>\n            <param-value>UTF-8</param-value>\n        </init-param>\n    </filter>\n    <filter-mapping>\n        <filter-name>characterEncoding</filter-name>\n        <url-pattern>/app/*</url-pattern>\n    </filter-mapping>\n    ...\n</web-app>\n\n", "Try this:\nDateFormat.parse(String)\n\n", "In brief:\nDateFormat formatter = new SimpleDateFormat(\"MM/dd/yy\");\ntry {\n  Date date = formatter.parse(\"01/29/02\");\n} catch (ParseException e) {\n  e.printStackTrace();\n}\n\nSee SimpleDateFormat javadoc for more.\nAnd to turn it into a Calendar, do:\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(date);\n\n", "The DateFormat class has a parse method.\nSee http://java.sun.com/j2se/1.4.2/docs/api/java/text/DateFormat.html for more information.\n", "The highly regarded Joda Time library is also worth a look.  This is basis for the new date and time api that is pencilled in for Java 7.  The design is neat, intuitive, well documented and avoids a lot of the clumsiness of the original java.util.Date / java.util.Calendar classes.  \nJoda's DateFormatter can parse a String to a Joda DateTime.\n", "Why not just have the sequence as increment by 100 all the time? each \"nextval\" gives you 100 sequence numbers to work with\nSQL> create sequence so_test start with 100 increment by 100 nocache;\n\nSequence created.\n\nSQL> select so_test.nextval - 99 as first_seq, so_test.currval as last_seq from dual;\n\n FIRST_SEQ   LAST_SEQ\n---------- ----------\n         1        100\n\nSQL> /\n\n FIRST_SEQ   LAST_SEQ\n---------- ----------\n       101        200\n\nSQL> /\n\n FIRST_SEQ   LAST_SEQ\n---------- ----------\n       201        300\n\nSQL> \n\nA note on your example.. Watch out for DDL.. It will produce an implicit commit\nExample of commit produced by DDL\nSQL> select * from xx;\n\nno rows selected\n\nSQL> insert into xx values ('x');\n\n1 row created.\n\nSQL> alter sequence so_test increment by 100;\n\nSequence altered.\n\nSQL> rollback;\n\nRollback complete.\n\nSQL> select * from xx;\n\nY\n-----\nx\n\nSQL> \n\n", "Matthew has the correct approach here.  In my opinion, it is very unusual for an application to reset a sequence's current value after every use.  Much more conventional to set the increment size to whatever you need upfront.\nAlso, this way is much more performant.  Selecting nextval from a sequence is a highly optimised operation in Oracle, whereas running ddl to alter the sequence is much more expensive.\nI guess that doesn't really answer the last point in your edited question...\n", "Why do you need to fetch the sequence IDs in the first place?  In most cases you would insert into a table and return the ID.\ninsert into t (my_pk, my_data) values (mysequence.nextval, :the_data)\nreturning my_pk into :the_pk;\n\nIt sounds like you are trying to pre-optimize the processing.\nIf you REALLY need to pre-fetch the IDs then just call the sequence 100 times.  The entire point of a sequence is that it manages the numbering.  You're not supposed to assume that you can get 100 consecutive numbers.\n", "For when you don't want a fixed size increment, sequences aren't really what you are after, all they really guarantee is that you will be getting a unique number always bigger than the last one you got. There is always the possibility that you'll end up with gaps, and you can't really adjust the increment amount on the fly safely or effectively. \nI can't really think of any case where I've had to do this kind of thing, but likely the easiest way is just to store the \"current\" number somewhere and update it as you need it.\nSomething like this.\ndrop table t_so_test;\n\ncreate table t_so_test (curr_num number(10));\n\ninsert into t_so_test values (1);\ncreate or replace procedure p_get_next_seq (inc IN NUMBER, v_next_seq OUT NUMBER) As\nBEGIN\n  update t_so_test set curr_num = curr_num + inc RETURNING curr_num into v_next_seq;\nEND;\n/\n\n\nSQL> var p number;\nSQL> execute p_get_next_seq(100,:p);\n\nPL/SQL procedure successfully completed.\n\nSQL> print p;\n\n         P\n----------\n       101\n\nSQL> execute p_get_next_seq(10,:p);     \n\nPL/SQL procedure successfully completed.\n\nSQL> print p;\n\n         P\n----------\n       111\n\nSQL> execute p_get_next_seq(1000,:p);\n\nPL/SQL procedure successfully completed.\n\nSQL> print p;\n\n         P\n----------\n      1111\n\nSQL> \n\n", "I'm not sure there's any easy way to parse a date and work out its pattern, but I would have thought that the pattern for the one you posted would be:\nEEE MMM dd HH:mm:ss zzz yyyy\n", "Are you just asking for the pattern for that given date?  If so, I think this should do it:\n\"EEE MMM d HH:mm:ss z yyyy\"\n\nOr are you trying to take any formatted date, and infer the format, and parse it?\n", "The format to pass to SimpleDateFormat could be looked up at http://java.sun.com/javase/6/docs/api/java/text/SimpleDateFormat.html\nnew SimpleDateFormat(\"EEE MMM dd HH:mm:ss zzz yyyy\")\n\nAs for your second question, I don't know of any Java library to figure out a date format and parse it without knowing in advance what the format is.\n", "As others have said, the pattern looks like it should be\nnew SimpleDateFormat(\"EEE MMM dd HH:mm:ss zzz yyyy\"\n\nAs for parsing an arbitrary format date, I'm not aware of any library which does this in Java. If you were keen to develop such a thing, I would start by looking at the perl str2time function.\n", "How about:\nEEE MMM dd HH:mm:ss zzz yyyy\nJust pass the string into the constructor of SimpleDateFormat. To use the object, just call the parse method passing in the string you want converted to a Date.\nYou could take a look at:\nhttp://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html\n", "If you want to do anything other than parse or format a date there is not much out there for handling the patterns themselves. Sometime ago I was writing a Swing component for entering dates into a formatted text field. You supplied a pattern and it moved the text entry cursor through the elements of that pattern, only allowing valid values.\nAs part of that I wrote a DateFormatParser available here as part of the OpenHarmonise open source project.\nParsing a date into a pattern would be an extremely interesting problem to tackle. You would have to make certain assumptions (e.g. use of : in time not date) but you would face the eternal problems of 2 digit years and day/month or month/day arrangements.\n", "This isn't really the same, but you might want to look at something like JChronic, which can do natural language processing on dates.  So, the input date could be something like \"tomorrow\", or \"two weeks from next tuesday\".  \nThis may not help at all for your application, but then again, it might.\n", "I must say i find the other question very interesting. There is one serious problem though - parse this: 08/07/06! If you limit yourself on a subset of expected formats, you could probably solve problem by playing around with regexps, you could build up bunch of expected patterns, and then break Strings on spaces or whatever, and match part by part.\n", "It's worth knowing that the date format you have given is not an arbitrary one. It is the output of the built-in Date.toString() method (at least in the UK and US locales). Not coincidentally, it is also the format of the unix 'date' command (at least on linux, and I believe in other implementations too) - though to be pedantic, Date.toString() pads one-digit day numbers with a zero while unix date does not.\nWhat this means is that you are likely to receive this input format when you output an unformatted date into a user-modifiable field (e.g. an HTML INPUT field) and receive it back unmodified. So just because input is coming in this format, doesn't mean the users will type in a thousand other arbitrary formats.\nOf course, they still might. The way I handle date inputs in general is with a bunch of try/catch blocks, where I try it against one format, then another, then another. Our standard framework is now up to about 20 different formats by default. Of course it is still not perfect; I found someone the other day entering \"03 Sept\" as the date (a non-standard month abbreviation, and with no year) and we hadn't handled that scenario.\n", "See Apache Commons' DateUtils. There's a parseDate method that takes your String and multiple patterns to try and spits out a Date instance.\n", "You should be able to do everything related to Oracle using JDBC, so make sure you bone up on that API.  Other than that, it depends on the type of application.  Standalone apps may use Swing (the Java UI toolkit) or in the future JavaFX, which is supposed to make Swing obsolete and may do so in a few years.  Web/enterprisey apps will make use of Java Enterprise Edition, so take a look at the servlet API, and if the app uses Enterprise JavaBeans, look at the Java Persistence API, which you would probably be using instead of JDBC.\nI haven't used JDeveloper, but I haven't found anything wrong with the free IDEs like Eclipse or Netbeans, and my personal favorite is JetBrains's IntelliJ IDEA.\n", "There's really nothing specific you need to learn to be an oracle devloper per se.  Obviously you need to learn oracle sql syntax, and all the standard rdbms theory that goes along with database programming in general.  The Java libs for database support are pretty easy to pick up and run with.  I'm sure you can find a tutorial on the web by a quick google search.\nAs for IDE I'd recommend Eclipse.  It's a bit cumbersome at times, but the number of plug-ins available is staggering, and it has great refactoring and code completion support.\n", "You're question is a little bit too vague in order to give a proper answer... \nIf you plan to query the Oracle Database from an External Java Program (Either within a Swing Application or an Application Server) then you need to learn 2 core APIs:\n\nJDBC (Java Database Connectivity)\nJPA (Java Persistence API)\n\nJDBC is the core API that allows a Java Program to interact with any RDBMS so you should at least know how it works so whenever you have to dig into low-level code, you will actually know what's happening.\nJPA is the latest Java API for Persistence which basically allows one to map Plain Old Java Object (AKA PoJo) to RDBMS Table Structures. There are multiple known implementation available but I would recommend Hibernate or TopLink as good starting points.\nAfter that, you can start to dig into other known frameworks like the Spring Framework for  some other RDBMS related APIs.\n", "You can use JDeveloper and try to find some tutorials for it (I actually had some from my university). It integrates well with rest of Oracle stack (db and application server). Down site is that although you can download some developers editions to run for personal usage, running Oracle db + Oracle application server + JDeveloper on a machine that has less then 4GB of ram and one core is not really peasant experience.\n", "Expert Oracle JDBC Programming is a book aimed directly at developers who want to use Java with Oracle.  Before you make even that small monetary investment though, you might want to check out the JDBC tutorial published by Sun.\n", "To become an Oracle Developer there is a bit more to learn than jdbc. You should take a look at the Oracle web site. It is kind of slow and not very intuitive but has a lot of good information. There are OUGs that have good info as well.\nIf you just want to access Oracle via JAVA then you should use a framework such as Spring. Takes away the pain of jdbc. Lets you write sql and map it to objects.\nIf you don't know PL/SQL it might be good to learn what it is. \nMy two cents from working with Oracle for the past 7 yrs.\n", "Would having the sources for the dependency help? You can tell the eclipse plugin to download those (and refer to them in the .classpath) with -DdownloadSources=true\n", "From the Maven Eclipse Plugin FAQ\n\nThe following example shows how to do\n  this in the command-line:\nmvn eclipse:eclipse -DdownloadSources=true  -DdownloadJavadocs=true \n\nor in your pom.xml:\n<project>\n  [...]\n  <build>\n    [...]\n    <plugins>\n      [...]\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-eclipse-plugin</artifactId>\n        <configuration>\n          <downloadSources>true</downloadSources>\n          <downloadJavadocs>true</downloadJavadocs>\n        </configuration>\n      </plugin>\n      [...]\n    </plugins>\n    [...]\n  </build>\n  [...]\n</project>\n\n\n", "You might consider just avoiding this problem completely by installing the javadoc jar into your local repository manually using the install-file goal and passing in the -Dclassifier=javadoc option.  Once you do that the .classpath that mvn generates should be correct.\nIf you use a remote repo as a proxy to central you could also deploy the javadocs to that repo and then everyone else who uses that proxy will now get the javadocs automatically as well.\n", "Zeroconf and other discovery protocols are similarly referred to as the greatest thing since sliced bread; it's just that the flavor keeps changing.\n", "Things have definitely quited down for the idea.  Which is strange since you'd think its goals are even more relevant now.\nhttp://www.jini.org/wiki/Category:News\n", "Check out GigaSpaces. It's a quite successful Jini/Javaspaces implementation.\nI think Jini has a great model, but it is stuck with Java. Web-services is more appealing because it works with standarized protocols, even though Jini service discovery is more natural.\n", "It looks like this has been reported as a Java bug.  It appears to be caused by using annotations from a 3rd party library (like JUnit) and not including the jar with that annotation in the javadoc invocation.  \nIf that is the case, just use the -classpath option on javadoc and include the extra jar files.  \n", "Short story: \u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00adno.         \n\nIntroduction\nThe newest version of the Microsoft Visual J++ development environment\n  supports a language construct called delegates or bound method\n  references. This construct, and the new keywords delegate and\n  multicast introduced to support it, are not a part of the JavaTM\n  programming language, which is specified by the Java Language\n  Specification and amended by the Inner Classes Specification included\n  in the documentation for the JDKTM 1.1 software. \nIt is unlikely that the Java programming language will ever include\n  this construct. Sun already carefully considered adopting it in 1996,\n  to the extent of building and discarding working prototypes. Our\n  conclusion was that bound method references are unnecessary and\n  detrimental to the language. This decision was made in consultation\n  with Borland International, who had previous experience with bound\n  method references in Delphi Object Pascal. \nWe believe bound method references are unnecessary because another\n  design alternative, inner classes, provides equal or superior\n  functionality. In particular, inner classes fully support the\n  requirements of user-interface event handling, and have been used to\n  implement a user-interface API at least as comprehensive as the\n  Windows Foundation Classes. \nWe believe bound method references are harmful because they detract\n  from the simplicity of the Java programming language and the\n  pervasively object-oriented character of the APIs. Bound method\n  references also introduce irregularity into the language syntax and\n  scoping rules. Finally, they dilute the investment in VM technologies\n  because VMs are required to handle additional and disparate types of\n  references and method linkage efficiently.\n\n", "Not really, no.\nYou may be able to achieve the same effect by using reflection to get Method objects you can then invoke, and the other way is to create an interface with a single 'invoke' or 'execute' method, and then instantiate them to call the method your interested in (i.e. using an anonymous inner class).\nYou might also find this article interesting / useful : A Java Programmer Looks at C# Delegates\n", "While it is nowhere nearly as clean, but you could implement something like C# delegates using a Java Proxy.  \n", "Well, there are a few minor improvements we could make. ;)\nI would use a Timer to make sure callers don't have to wait for the method to return. And preventing more than one flashing operation at a time on a given window would be nice too.\nimport java.util.Map;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport java.util.concurrent.ConcurrentHashMap;\nimport javax.swing.JFrame;\n\npublic class WindowFlasher {\n\n    private final Timer timer = new Timer();\n    private final Map<JFrame, TimerTask> flashing\n                              = new ConcurrentHashMap<JFrame, TimerTask>();\n\n    public void flashWindow(final JFrame window,\n                            final long period,\n                            final int blinks) {\n        TimerTask newTask = new TimerTask() {\n            private int remaining = blinks * 2;\n\n            @Override\n            public void run() {\n                if (remaining-- > 0)\n                    window.setVisible(!window.isVisible());\n                else {\n                    window.setVisible(true);\n                    cancel();\n                }\n            }\n\n            @Override\n            public boolean cancel() {\n                flashing.remove(this);\n                return super.cancel();\n            }\n        };\n        TimerTask oldTask = flashing.put(window, newTask);\n\n        // if the window is already flashing, cancel the old task\n        if (oldTask != null)\n            oldTask.cancel();\n        timer.schedule(newTask, 0, period);\n    }\n}\n\n", "There are two common ways to do this: use JNI to set urgency hints on the taskbar's window, and create a notification icon/message. I prefer the second way, since it's cross-platform and less annoying.\nSee documentation on the TrayIcon class, particularly the displayMessage() method.\nThe following links may be of interest:\n\nNew System Tray Functionality in Java SE 6\nJava Programming - Iconified window blinking\nTrayIcon for earlier versions of Java\n\n", "What version of Tomcat are you using? To me this sounds like a bug in Tomcat, I can't think of any reason why your doFilter method should be called with a response that's already been committed (if that filter is the only one in the chain, are you sure about this?). \n", "I have tried using Tomcat 6.16 and 6.18. This is definitely is the only filter in the chain.\nIt seems that something is keeping a reference to the servlet outputStream. I wrapped the ServletOutputStream in my own OutputStream and then made sure the reference is destroyed. This fixed the issue so that I no longer see a committed response passed in.\nThis is an odd side effect of holding a reference. But I don't think it qualifies as a Tomcat bug. More likely a bug in ImageIO.createImageOutputStream() that I suspect is holding the reference.\n", "I can only assume it's a bug in Eclipse. It only happens with @see tags, it happens also for all 3 builtin code formatter settings.\nThere are some interesting bugs reported already in the neighbourhood, but I couldn't find this specific one. See for example a search for @see in the Eclipse Bugzilla.\n", "Strict XML specifications require that the self closing tags should have a space before the closing slash like so:\n<gcServer enabled=\"true\" /> <!-- note the space just after \"true\" -->\n\nI can only assume, like Bart said, that there is a bug in Eclipse's reformatter that thinks the closing tag is actually a self-closing tag. Another idea: Can you verify that your a tags are balanced (i.e. no unclosed tags higher up in the document)?\n", "This could be a bug in Eclipse 3.4.  I'm using 3.3 (M20080221-1800), and do not observe this behavior. \n", "return INPUT;\n\nwill do the trick. INPUT constant is defined in Action interface itself. It indicates that action needs more input.\nBy calling page if you meant the page that took you to the action input page, then your input page will have to store HTTP header \"Referer\" in the request scope for the Action.\n", "You can use  a dynamic result in struts.xml. For instance:\n<action\n   name=\"Visual\"\n   class=\"it.___.web.actions.VisualizationAction\">\n   <result name=\"next\">${next}</result>\n</action>\n\nThen in your action, you create a field called next. So to invoke the action you will pass the name of the page that you want to forward to next. The action then returns \"next\" and struts will know which page to go to.\nThere is a nicer explanation on this post: Stack Overflow\n", "I prefer the way when you navigating users by particular actions. \nhttp://domain.com/myAction.action\nYou could use some parameter as indicator, that you want to change current design:\ni.e.\nhttp://domain.com/myAction.action?changeDesign=silver_theme\nSo then, you write some struts 2 interceptor, which logic is to check the presence of such parameter 'changeDesign', and this interceptor will do nessesary work of changing design and will control workflow. With interceptor you decouple your actions from crosscutting logic.\n", "can you  use response.setStatus(403) ? \n", "Quickie\nIf you are using plain JSP views (as is most common), then simply add\n<% response.setStatus( 403 ); %>\n\nsomewhere in your view file. At the top is a nice place.\nDetail\nIn MVC, i would always set this in the view, and in most cases with Spring-MVC, use the SimpleMappingExceptionResolver to present the correct view in response to a thrown runtime Exception. \nFor example: create and throw a PermissionDeniedException in your controller or service layer and have the exception resolver point to a view file permissionDenied.jsp. This view file sets the 403 status and shows the user an appropriate message.\nIn your Spring bean XML file:\n<bean id=\"exceptionResolver\"\n      class=\"org.springframework.web.servlet.handler.SimpleMappingExceptionResolver\">\n  <property name=\"exceptionMappings\">\n    <props>\n      <prop key=\"PermissionDeniedException\">          \n        rescues/permissionDenied\n      </prop>\n      ... set other exception/view mappings as <prop>s here ...\n    </props>\n  </property>\n  <property name=\"defaultErrorView\" value=\"rescues/general\" />\n</bean>\n\n<bean id=\"viewResolver\"\n      class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\n  <property name=\"viewClass\" value=\"org.springframework.web.servlet.view.JstlView\" />\n  <property name=\"prefix\" value=\"/WEB-INF/views/\" />\n  <property name=\"suffix\" value=\".jsp\" />\n</bean>\n\nIf you need to implement a user login mechanism, take a look at Spring Security (formerly Acegi Security).\n", "Using an ExceptionResolver is a great way to go, but if you just want this to be view-independent, you could certainly make a call to response.sendError(HttpServletResponse.SC_FORBIDDEN, \"AdditionalInformationIfAvailable\"); in your Controller.\n", "This might be what you are looking for?\nFrom Groovy in Action\ndef binding = new Binding(x: 6, y: 4)\ndef shell = new GroovyShell(binding)\ndef expression = '''f = x * y'''\nshell.evaluate(expression)\nassert binding.getVariable(\"f\") == 24\n\nAn appropriate use of Binding will allow you to maintain state?\n", "I am not sure about what you mean about declared classes not existing between evals, the following two scripts work as expected when evaled one after another:\nclass C {{println 'hi'}}\nnew C()\n\n... \nnew C()\n\nHowever methods become bound to the class that declared them, and GroovyShell creates a new class for each instance.  If you do not need the return value of any of the scripts and they are truly scripts (not classes with main methods) you can attach the following to the end of every evaluated scrips.\nClass klass = this.getClass()\nthis.getMetaClass().getMethods().each {\n  if (it.declaringClass.cachedClass == klass) {\n    binding[it.name] = this.&\"$it.name\"\n  }\n}\n\nIf you depend on the return value you can hand-manage the evaluation and run the script as part of your parsing (warning, untested code follows, for illustrative uses only)...\nString scriptText = ...\nScript script = shell.parse(scriptText)\ndef returnValue = script.run()\nClass klass = script.getClass()\nscript.getMetaClass().getMethods().each {\n  if (it.declaringClass.cachedClass == klass) {\n    shell.context[it.name] = this.&\"$it.name\"\n  }\n}\n// do whatever with returnValue...\n\nThere is one last caveat I am sure you are aware of.  Statically typed variables are not kept between evals as they are not stored in the binding.  So in the previous script the variable 'klass' will not be kept between script invocations and will disappear.  To rectify that simply remove the type declarations on the first use of all variables, that means they will be read and written to the binding.\n", "If you can afford the threading, try this (keep in mind I've left out some details like exception handling and playing nice with threads). You may want to look into SocketChannels and/or NIO async sockets / selectors. This should get you started.\nboolean finished = false;\nint port = 10000;\nServerSocket server = new ServerSocket(port);\n\nwhile(!finished)\n{\n    // This will block until a connection is made\n    Socket s = server.accept();\n    // Spawn off some thread (or use a thread pool) to handle this socket\n    // Server will continue to listen\n}\n\n", "I'd need to go back to the basics for this one too. I'd recommend O'Reilly's excellent Java in a Nutshell that includes code examples for just such a case (available online as well). See Chapter 7 for a pretty good overview of the decisions you'd want to make early on.\n", "As for connecting to a Blackberry, this is problematic since in most cases the Blackberry won't have a public IP address and will instead be behind a WAP gateway or wireless provider access point server. RIM provides the Mobile Data Server (MDS) to get around this and provide \"Push\" data which uses ServerSocket semantics on the Blackberry. The MDS is available with the Blackberry Enterprise Server (BES) and the Unite Server.\nOnce set up data can be sent to a particular unit via the MDS using the HTTP protocol. There is an excellent description of the Push protocol here with LAMP source code. The parameter PORT=7874 in pushout.pl connects to the Blackberry Browser Push server socket. By changing that parameter the payload can be sent to an arbitrary port where your own ServerSocket is accepting connections. \n", "If your socket code has to run on a BlackBerry, you cannot using standard Java sockets. You have to use the J2ME Connector.open API for creating both types of sockets (those that initiate connections from the BlackBerry, and those that listen for connections/pushes on the BlackBerry). Have a look at the examples that come with RIM's JDE.\n", "You can return null from the getPreviousPage() method in your wizard page implementation.\n", "From a UI perspective this seems rather bad.  Your users are going to get frustrated if they make a mistake and want to go back and correct it and you don't let them.  I think it would be much better to change the application to allow going back rather than looking for ways to prevent it.\n", "There is no way to do this using standard JFace wizard APIs.  My team accomplished this by writing a custom WizardDialog.  We did this on an Eclipse RCP application and not on an eclipse plugin.  Disabling the back button is breaking convention, but our business analysts really wanted the functionality.\n", "The string approach is amusing, but almost certainly a bad way to do it.\nGetting the int value of an Integer, and creating a new one will be very fast, where as parseInt would be fairly expensive to call.\nOverall, I'd agree with your original approach (which, as others have pointed out, can be done without so much clutter if you have autoboxing as introduced in Java 5).\n", "With Java 5's autoboxing, you can simply do:\nInteger a = new Integer(2); // or even just Integer a = 2;\na *= 10;\nSystem.out.println(a);\n\n", "Keep away from the second approach, best bet would be the autoboxing if you're using java 1.5, anything earlier your first example would be best.\n", "The solution using the String method is not so good for a variety of reasons. Some are aesthetic reasons others are practical. \nOn a practical front more objects get created by the String version than the more normal form (as you have expressed in your first example).\nOn an aesthetic note, I think that the second version obscures the intent of the code and that is nearly as important as getting it to produce the result you want.\n", "The problem with the second way is the way Strings are handled in Java:\n\n\"0\" is converted into a constant String object at compile time.\nEach time this code is called, s is constructed as a new String object, and javac converts that code to String s = new StringBuilder().append(integerObj.toString()).append(\"0\").toString() (StringBuffer for older versions).  Even if you use the same integerObj, i.e.,\nString s1 = integerObj + \"0\";\n String s2 = integerObj + \"0\";\n(s1 == s2) would be false, while s1.equals(s2) would be true.\nInteger.parseInt internally calls new Integer() anyway, because Integer is immutable.\n\nBTW, autoboxing/unboxing is internally the same as the first method.\n", "Findbugs dumps its results into an XML file in your workspace's .metadata folder. Look for the subfolder that's named something like findbugs.\nYou can also download a standalone version of Findbugs that will save the results wherever you like.\nOnce you have the results file, you might be able to import from XML to Excel and filter there. Alternatively, you can use XSLT to transform to several CSV files and open them in Excel.\n", "I'm curious to hear what your alternative to labels is.  I think this is pretty much going to boil down to the argument of \"return as early as possible\" vs. \"use a variable to hold the return value, and only return at the end.\"\nLabels are pretty standard when you have nested loops.  The only way they really decrease readability is when another developer has never seen them before and doesn't understand what they mean.\n", "I never use labels in my code. I prefer to create a guard and initialize it to null or other unusual value. This guard is often a result object. I haven't seen any of my coworkers using labels, nor found any in our repository. It really depends on your style of coding. In my opinion using labels would decrease the readability as it's not a common construct and usually it's not used in Java. \n", "Many algorithms are expressed more easily if you can jump across two loops (or a loop containing a switch statement). Don't feel bad about it. On the other hand, it may indicate an overly complex solution. So stand back and look at the problem.\nSome people prefer a \"single entry, single exit\" approach to all loops. That is to say avoiding break (and continue) and early return for loops altogether. This may result in some duplicate code.\nWhat I would strongly avoid doing is introducing auxilary variables. Hiding control-flow within state adds to confusion.\nSplitting labeled loops into two methods may well be difficult. Exceptions are probably too heavyweight. Try a single entry, single exit approach.\n", "Labels are like goto's: Use them sparingly, and only when they make your code faster and more importantly, more understandable, \n\ne.g., If you are in big loops six levels deep and you encounter a condition that makes the rest of the loop pointless to complete, there's no sense in having 6 extra trap doors in your condition statements to exit out the loop early.\n\nLabels (and goto's) aren't evil, it's just that sometimes people use them in bad ways. Most of the time we are actually trying to write our code so it is understandable for you and the next programmer who comes along. Making it uber-fast is a secondary concern (be wary of premature optimization).\nWhen Labels (and goto's) are misused they make the code less readable, which causes grief for you and the next developer. The compiler doesn't care.\n", "I've never seen labels used \"in the wild\" in Java code. If you really want to break across nested loops, see if you can refactor your method so that an early return statement does what you want.\nTechnically, I guess there's not much difference between an early return and a label. Practically, though, almost every Java developer has seen an early return and knows what it does. I'd guess many developers would at least be surprised by a label, and probably be confused.\nI was taught the single entry / single exit orthodoxy in school, but I've since come to appreciate early return statements and breaking out of loops as a way to simplify code and make it clearer.\n", "I think with the new for-each loop, the label can be really clear.\nFor example:\nsentence: for(Sentence sentence: paragraph) {\n  for(String word: sentence) {\n    // do something\n    if(isDone()) {\n      continue sentence;\n    }\n  }\n}\n\nI think that looks really clear by having your label the same as your variable in the new for-each.  In fact, maybe Java should be evil and add implicit labels for-each variables heh\n", "Most application servers provide a JMX interface, so you could invoke that.\n", "I would suggest that your unlikely to find an appserver agnostic way.  And while I don't pretend to know your reqs, I might question a design that requires the application to restart itself, other than an installer that is deploying a new version.  Finally, I would suggest that for any nontrivial purpose \"any\" appserver will not work.  You should have a list of supported app servers and versions, documented in your release notes, so you can test on all of those and dont have to worry about supporting clients on a non-conforming server/version. From experience, there are always subtle differences between, for example, Apache Tomcat and BEA WebLogic, and these differences are often undocument and hard to determine until you run into them. \n", "I'd suggest using servicewrapper to manage the application server, and then use its api methods for requesting a restart of the service.  There would be some configuration involved and its hard to know if this would work in your particuar environment, but thats the only solution that I know of which is even reasonably cross-server compatible.\n", "JProfiler is a really good one.  It integrates with all the major IDEs and application servers.\n", "SmartInspect is a profiler and logger.  Not specific to memory, but you might want to take a look.  It works with a variety of languages too, including Delphi, Java and .NET.  Includes other more advanced features.\n\n", "I've used YourKit Java Profiler 7.5 and was reasonably happy with it. Java has some pretty good tools included with recent releases that are worth looking into. (e.g., jmap -histo <pid>)\n", "I use Netbeans Profiler:\nalt text http://www.netbeans.org/images/v6/1/features/profiler-java-cut.png\nIts free, has task based profiling, a heap walker, allows the insertion of profiling points, tracks memory usage and threading, but best of all it allows you to profile remote JVM's.  You can even attach to ones which are already running.\nOh, and it works really well if you've a maven build for your project too.\n", "I like to use SAP Memory Analyzer, which is based in Eclipse. It works very well, also for large heap dumps!\n", "The Eclipse Memory Analyzer is the best tool for analysing the memory usage of java applications\n", "An easy route would be to have the gmail account configured/enabled for POP3 access. This would allow you to send out via normal SMTP through the gmail servers.   \nThen you'd just send through smtp.gmail.com (on port 587)\n", "Something like this (sounds like you just need to change your SMTP server):\nString host = \"smtp.gmail.com\";\nString from = \"user name\";\nProperties props = System.getProperties();\nprops.put(\"mail.smtp.host\", host);\nprops.put(\"mail.smtp.user\", from);\nprops.put(\"mail.smtp.password\", \"asdfgh\");\nprops.put(\"mail.smtp.port\", \"587\"); // 587 is the port number of yahoo mail\nprops.put(\"mail.smtp.auth\", \"true\");\n\nSession session = Session.getDefaultInstance(props, null);\nMimeMessage message = new MimeMessage(session);\nmessage.setFrom(new InternetAddress(from));\n\nInternetAddress[] to_address = new InternetAddress[to.length];\nint i = 0;\n// To get the array of addresses\nwhile (to[i] != null) {\n    to_address[i] = new InternetAddress(to[i]);\n    i++;\n}\nSystem.out.println(Message.RecipientType.TO);\ni = 0;\nwhile (to_address[i] != null) {\n\n    message.addRecipient(Message.RecipientType.TO, to_address[i]);\n    i++;\n}\nmessage.setSubject(\"sending in a group\");\nmessage.setText(\"Welcome to JavaMail\");\n// alternately, to send HTML mail:\n// message.setContent(\"<p>Welcome to JavaMail</p>\", \"text/html\");\nTransport transport = session.getTransport(\"smtp\");\ntransport.connect(\"smtp.mail.yahoo.co.in\", \"user name\", \"asdfgh\");\ntransport.sendMessage(message, message.getAllRecipients());\ntransport.close();\n\n", "First download the JavaMail API and make sure the relevant jar files are in your classpath.\nHere's a full working example using GMail.\nimport java.util.*;\nimport javax.mail.*;\nimport javax.mail.internet.*;\n\npublic class Main {\n\n    private static String USER_NAME = \"*****\";  // GMail user name (just the part before \"@gmail.com\")\n    private static String PASSWORD = \"********\"; // GMail password\n    private static String RECIPIENT = \"lizard.bill@myschool.edu\";\n\n    public static void main(String[] args) {\n        String from = USER_NAME;\n        String pass = PASSWORD;\n        String[] to = { RECIPIENT }; // list of recipient email addresses\n        String subject = \"Java send mail example\";\n        String body = \"Welcome to JavaMail!\";\n\n        sendFromGMail(from, pass, to, subject, body);\n    }\n\n    private static void sendFromGMail(String from, String pass, String[] to, String subject, String body) {\n        Properties props = System.getProperties();\n        String host = \"smtp.gmail.com\";\n        props.put(\"mail.smtp.starttls.enable\", \"true\");\n        props.put(\"mail.smtp.host\", host);\n        props.put(\"mail.smtp.user\", from);\n        props.put(\"mail.smtp.password\", pass);\n        props.put(\"mail.smtp.port\", \"587\");\n        props.put(\"mail.smtp.auth\", \"true\");\n\n        Session session = Session.getDefaultInstance(props);\n        MimeMessage message = new MimeMessage(session);\n\n        try {\n            message.setFrom(new InternetAddress(from));\n            InternetAddress[] toAddress = new InternetAddress[to.length];\n\n            // To get the array of addresses\n            for( int i = 0; i < to.length; i++ ) {\n                toAddress[i] = new InternetAddress(to[i]);\n            }\n\n            for( int i = 0; i < toAddress.length; i++) {\n                message.addRecipient(Message.RecipientType.TO, toAddress[i]);\n            }\n\n            message.setSubject(subject);\n            message.setText(body);\n            Transport transport = session.getTransport(\"smtp\");\n            transport.connect(host, from, pass);\n            transport.sendMessage(message, message.getAllRecipients());\n            transport.close();\n        }\n        catch (AddressException ae) {\n            ae.printStackTrace();\n        }\n        catch (MessagingException me) {\n            me.printStackTrace();\n        }\n    }\n}\n\nNaturally, you'll want to do more in the catch blocks than print the stack trace as I did in the example code above.  (Remove the catch blocks to see which method calls from the JavaMail API throw exceptions so you can better see how to properly handle them.)\n\nThanks to @jodonnel and everyone else who answered.  I'm giving him a bounty because his answer led me about 95% of the way to a complete answer.\n", "Yes, the order depends on the specific Map implementation.  \n@ScArcher2 has the more elegant Java 1.5 syntax.  In 1.4, I would do something like this:\nIterator entries = myMap.entrySet().iterator();\nwhile (entries.hasNext()) {\n  Entry thisEntry = (Entry) entries.next();\n  Object key = thisEntry.getKey();\n  Object value = thisEntry.getValue();\n  // ...\n}\n\n", "Map<String, String> map = ...\nfor (Map.Entry<String, String> entry : map.entrySet())\n{\n    System.out.println(entry.getKey() + \"/\" + entry.getValue());\n}\n\n", "In theory, the most efficient way will depend on which implementation of Map. The official way to do this is to call map.entrySet(), which returns a set of Map.Entry, each of which contains a key and a value (entry.getKey() and entry.getValue()).\nIn an idiosyncratic implementation, it might make some difference whether you use map.keySet(), map.entrySet() or something else. But I can't think of a reason why anyone would write it like that. Most likely it makes no difference to performance what you do.\nAnd yes, the order will depend on the implementation - as well as (possibly) the order of insertion and other hard-to-control factors.\n[edit] I wrote valueSet() originally but of course entrySet() is actually the answer.\n", "Typical code for iterating over a map is:\nMap<String,Thing> map = ...;\nfor (Map.Entry<String,Thing> entry : map.entrySet()) {\n    String key = entry.getKey();\n    Thing thing = entry.getValue();\n    ...\n}\n\nHashMap is the canonical map implementation and doesn't make guarantees (or though it should not change order if no mutating operation are performed on it). SortedMap will return entries based on the natural ordering of the keys, or a Comparator, if provided. LinkedHashMap will either return entries in insertion-order or access-order depending upon how it has been constructed. EnumMap returns entries in natural order of keys.\nNote, IdentityHashMap entrySet iterator currently has a peculiar implementation which returns the same Map.Entry instance for every item in the entrySet! However, every time a new the iterator advances the Map.Entry is updated.\n", "This is a two part question:\nHow to iterate over the entries of a Map - @ScArcher2 has answered that perfectly.\nWhat is the order of iteration - if you are just using Map, then strictly speaking, there are no ordering guarantees.  So you shouldn't really rely on the ordering given by any implementation.  However, the SortedMap interface extends Map and provides exactly what you are looking for - implementations will aways give a consistent sort order.\nNavigableMap is another useful extension - this is a SortedMap with additional methods for finding entries by their ordered position in the key set.  So potentially this can remove the need for iterating in the first place - you might be able to find the specific entry you are after using the higherEntry, lowerEntry, ceilingEntry, or floorEntry methods.  The descendingMap method even gives you an explicit method of reversing the traversal order.\n", "FYI, you can also use map.keySet() and map.values() if you're only interested in keys/values of the map and not the other.\n", "The correct way to do this is to use the accepted answer as it is the most efficient. I find the following code looks a bit cleaner.\nfor (String key: map.keySet()) {\n   System.out.println(key + \"/\" + map.get(key));\n}\n\n", "Any dynamic languages, of course -- Python, Ruby, Smalltalk, Javascript, etc.\n", "\nbut I think thats what I'm asking for..or is it?\n\nI frankly don't know what you're asking. Java apparently has the same support for return-type covariance as C#, so if whatever you're looking for is lacking in C#, it's lacking in Java also.\n", "\nBasically what I'm asking is what languages support what I'm trying to do here.\n\nDoes C# let you specify different data types for the get() and set() methods? If not, I would split them into actual Leg get_leg() and set_leg(DogLeg) functions. Otherwise one of two things will happen: 1) overspecification of get_leg() 2) underspecification of set_leg().\n", "C++ supports covariant return types.\n", "\nC++\nJava\nREALbasic\nEiffel\nSather\nModula-3\n\n", "Java added support for this in 1.5.  It will not compile in earlier versions.  \n", "As pointed out by Ivan Hamilton and Mat Noguchi, C++ supports the feature. But note that covariant return types are broken for template classes which inherit from some base in MSVC 7.X through 9.X (and probably 6 also). You get error C2555.\n", "// Store the formatted string in 'result'\nString result = String.format(\"%4d\", i * j);\n\n// Write the result to standard output\nSystem.out.println( result );\n\nSee format and its syntax\n", "@erickson.\nStrings are immutable types. You cannot modify them, only return new string instances.\nBecause of that, \"foo\".format() makes little sense, as it would have to be called like\nstring newString = \"foo\".format();\n\nThe original java authors (and .NET authors), decided that a static method made more sense in this situation, as you are not modifying \"foo\", but instead calling a format method and passing in an input string.\nEDIT: Heh, this site can be so amusing sometimes. I got downvoted for mentioning the fact that strings are immutable types.\nHere is an example of why Format() would be dumb as an instance method. In .NET (and probably in Java), Replace() is an instance method.\nYou can do this:\n \"I Like Wine\".Replace(\"Wine\",\"Beer\");\n\nHowever, nothing happens, because Strings are immutable. Replace tries to return a new string, but it is assigned to nothing.\nThis causes lots of common rookie mistakes like:\n// Contrived Example\ninputText.Replace(\" \",\"%20\");\n\nAgain, nothing happens, instead you have to do :\ninputText = inputText.Replace(\" \",\"%20\");\n\nNow, if you understand that strings are immutable, that makes perfect sense. If you don't, then you are just confused. The proper place for Replace, would be where Format is, as a static method of String:\n inputText = String.Replace(inputText,\" \", \"%20\");\n\nNow there is no question as to whats going on.\nThe real question is, why did the authors of these frameworks decide that one should be an instance method, and the other static? In my opinion, both are more elegantly expressed as static methods, but erickson seems to think both belong as instance methods.\nRegardless of your opinion, the truth is that you are less prone to make a mistake using the static version, and the code is easier to understand (No Hidden Gotchas).\nOf course there are some methods that are perfect as instance methods, take String.Length()\nint length = \"123\".Length();\n\nIn this situation, its obvious we are not trying to modify \"123\", we just inspecting it, and returning its length...This is a perfect candidate for an instance method.\nMy simple rules for Instance Methods on Immutable Objects:\n\nIf you need to return a new instance of the same type, use a static method.\nOtherwise, use an instance method.\n\n", "Write custom appenders for log4j\n", "For disk space, if you have Java 6, you can use the getTotalSpace and getFreeSpace methods on File. If you're not on Java 6, I believe you can use Apache Commons IO to get some of the way there.\nI don't know of any cross platform way to get CPU usage or Memory usage I'm afraid.\n", "The following supposedly gets you CPU and RAM. See ManagementFactory for more details.\nimport java.lang.management.ManagementFactory;\nimport java.lang.management.OperatingSystemMXBean;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Modifier;\n\nprivate static void printUsage() {\n  OperatingSystemMXBean operatingSystemMXBean = ManagementFactory.getOperatingSystemMXBean();\n  for (Method method : operatingSystemMXBean.getClass().getDeclaredMethods()) {\n    method.setAccessible(true);\n    if (method.getName().startsWith(\"get\")\n        && Modifier.isPublic(method.getModifiers())) {\n            Object value;\n        try {\n            value = method.invoke(operatingSystemMXBean);\n        } catch (Exception e) {\n            value = e;\n        } // try\n        System.out.println(method.getName() + \" = \" + value);\n    } // if\n  } // for\n}\n\n", "Along the lines of what I mentioned in this post. I recommend you use the SIGAR API.  I use the SIGAR API in one of my own applications and it is great.  You'll find it is stable, well supported, and full of useful examples.  It is open-source with a GPL 2 Apache 2.0 license.  Check it out.  I have a feeling it will meet your needs.\nUsing Java and the Sigar API you can get Memory, CPU, Disk, Load-Average, Network Interface info and metrics, Process Table information, Route info, etc.\n", "A lot of this is already available via JMX.  With Java 5, JMX is built-in and they include a JMX console viewer with the JDK.\nYou can use JMX to monitor manually, or invoke JMX commands from Java if you need this information in your own run-time.\n", "DbUnit will meet your needs. One thing to watch out for is that they have switched to using SLF4J as their logging facade instead of JCL. You can configure SLF4J to forward the logging to JCL but be warned if you are using Maven DbUnit sucks in their Nop log provider by default so you will have to use an exclusion, I blogged about this conflict recently.\n", "Is it your intent to test the view which generates the deltas, or to test that your code correctly adds, deletes and updates in response to the view?\nIf you want to test the view, you could use a tool like DBUnit to populate your feed and data tables with various data whose delta you've manually calculated.  Then, for each test  you would verify that the view returns a matching set.\nIf you want to test how your code responds to diffs detected by the view, I would try to abstract away database access.  I imagine an java method to which you can pass a result set (or list of POJO/DTO's) and returns a list of parameter Object arrays (again, or POJO's) to be added.  Other methods would parse the diff list for items to be removed and updated.  You could then create a mock result set or pojo's, pass them to your code and verify the correct parameters are returned.  All without touching a database.\nI think the key is to break your process into parts and test each of those as independently as possible.\n", "I use DbUnit, but also I work very hard to not to have to test against the DB.\nTests that go against the database should only exist for the purpose of testing the database interface.\nSo I have Mock Db Connections that I can set the data for use in all the rest of my tests.\n", "If you are using Maven, one option is to use the sql-maven-plugin. It allows you to run database initialization/population scripts during the maven build cycle.\n", "Apart from the already suggested DBUnit, you may want to look into Unitils. It uses DBUnit, but provides more than that (quoting from the site):\n\n\nAutomatic maintenance of databases, with support for incremental,\n  repeatable and post processing scripts\nAutomatically disable constraints and set sequences to a minimum value \nSupport for Oracle, Hsqldb, MySql, DB2, Postgresql, MsSql and Derby\nSimplify test database connection setup\nSimple insertion of test data with DBUnit  * Run tests in a transaction \nJPA entity manager creation and injection for hibernate, toplink and *\n  Hibernate SessionFactory creation and\n  session \nAutomatically test the mapping of JPA entities / hibernate mapped\n  objects with the database\n\n\n", "We converted a home-grown web framework to stripes in about a week. We're using it in production at this time and it's a great framework. The community is extremely helpful, and the framework doesn't get in your way. It can be extended in many places to change the behavior as you see fit. The url binding feature is awesome as well. We implemented a robust security framework using annotations and interceptors. We're using spring for dependency injection and stripes has excellent support for that.\nI'd definitely use the new 1.5 release if you're going to use it.\nI'm a huge fan of the framework. I came from a struts background and it's the exact framework I was looking for. The other developers on our team really enjoy using the stripes framework.\nI just bought the stripes beta book from the pragmatic programmer's site. It's a great resource on Stripes 1.5.\n", "We use stripes now on all our production sites, and have been for about a year now. It is an awesome product compared to struts, which we used to use before that. Just the fact that there are literally no XML config files and that you can set it all up with a minimal amount of classes and annotations is awesome.\nIn terms of scaling & speed it actually seems to be better than struts, and my guess would be because there are less layers involved. The code you end up with is a lot cleaner as well, because you don't have to go off to seperate XML files to find out where redirects are going.\nWe use it with an EJB3 backend, and the two seem to work really well together, because you can use your EJB POJO inside your actionBean object, without needing a form object like in struts.\nIn our evaluation we considered an alpha version of struts (that supported annotations) and a lot of other frameworks, but stripes won because of it's superior documentation, stability and clean-ness.\nCouldn't figure out how to leave a comment: so to answer your second question we haven't encountered a single bug in Stripes that I know of. This is quite impressive for an open source framework. I haven't tried the latest version (1.5) yet, but 1.4.x is very stable.\n", "I also came from a Struts and JSF background into Stripes.  I went from a large enterprise environment that used mostly struts and JSF on newer projects, to a smaller environment that did all their J2EE in Stripes.  \nSeems like Stripes gives you what you want in a Web Framework without getting in the way too much.  Not much configuration is necessary, as others have already mentioned.  Very quick development and allows you to focus on presentation etc. instead of hassling with the framework.  \nIf I had to start a fresh new project and I had my say, I would choose either Stripes or JSF.  I might have been scared away from Stripes if I had to make the decision to switch to it, because it kind of looks/feels like a sourceforge basement project instead of a enterprise-grade framework, but it seems to be fairly solid.  We use Stripernate for easy ORM.\nHowever, it reminds me of Fruit Stripe gum, which lost its flavor WAY TOO FAST.\n", "The + operator can work between a string and a string, char, integer, double or float data type value. It just converts the value to its string representation before concatenation.\nThe concat operator can only be done on and with strings. It checks for data type compatibility and throws an error, if they don't match.\nExcept this, the code you provided does the same stuff.\n", "I don't think so. a.concat(b) is implemented in String and I think the implementation didn't change much since early java machines. The + operation implementation depends on java version and compiler. Currently + is implemented using StringBuffer to make the operation as fast as possible. Maybe in future this will change. In earlier versions of java + operation on Strings was much slower as it produced intermediate results. I guess that += is implemented using + and similarly optimized.\n", "Niyaz is correct, but it's also worth noting that the special + operator can be converted into something more efficient by the Java compiler.  Java has a StringBuilder class which represents a non-thread-safe, mutable String.  When performing a bunch of String concatenations, the Java compiler silently converts\nString a = b + c + d;\n\ninto\nString a = new StringBuilder(b).append(c).append(d).toString();\n\nwhich for large strings is significantly more efficient.  As far as I know, this does not happen when you use the concat method.\nHowever, the concat method is more efficient when concatenating an empty String onto an existing String.  In this case, the JVM does not need to create a new String object and can simply return the existing one.  See the concat documentation to confirm this.\nSo if you're super-concerned about efficiency then you should use the concat method when concatenating possibly-empty Strings, and use + otherwise.  However, the performance difference should be negligible and you probably shouldn't ever worry about this.\n", "No, not quite.\nFirstly, there's a slight difference in semantics. If a is null, then a.concat(b) throws a NullPointerException but a+=b will treat the original value of a as if it were null. Furthermore, the concat() method only accepts String values while the + operator will silently convert the argument to a String (using the toString() method for objects). So the concat() method is more strict in what it accepts.\nTo look under the hood, write a simple class with a += b;\npublic class Concat {\n    String cat(String a, String b) {\n        a += b;\n        return a;\n    }\n}\n\nNow disassemble with javap -c (included in the Sun JDK). You should see a listing including:\njava.lang.String cat(java.lang.String, java.lang.String);\n  Code:\n   0:   new     #2; //class java/lang/StringBuilder\n   3:   dup\n   4:   invokespecial   #3; //Method java/lang/StringBuilder.\"<init>\":()V\n   7:   aload_1\n   8:   invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   11:  aload_2\n   12:  invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   15:  invokevirtual   #5; //Method java/lang/StringBuilder.toString:()Ljava/lang/    String;\n   18:  astore_1\n   19:  aload_1\n   20:  areturn\n\nSo, a += b is the equivalent of\na = new StringBuilder()\n    .append(a)\n    .append(b)\n    .toString();\n\nThe concat method should be faster. However, with more strings the StringBuilder method wins, at least in terms of performance.\nThe source code of String and StringBuilder (and its package-private base class) is available in src.zip of the Sun JDK. You can see that you are building up a char array (resizing as necessary) and then throwing it away when you create the final String. In practice memory allocation is surprisingly fast.\n", "How about some simple testing? Used the code below:\nlong start = System.currentTimeMillis();\n\nString a = \"a\";\n\nString b = \"b\";\n\nfor (int i = 0; i < 10000000; i++) { //ten million times\n     String c = a.concat(b);\n}\n\nlong end = System.currentTimeMillis();\n\nSystem.out.println(end - start);\n\n\nThe \"a + b\" version executed in 2500ms.\nThe a.concat(b) executed in 1200ms.\n\nTested several times. The concat() version execution took half of the time on average.\nThis result surprised me because the concat() method always creates a new string (it returns a \"new String(result)\". It's well known that:\nString a = new String(\"a\") // more than 20 times slower than String a = \"a\"\n\nWhy wasn't the compiler capable of optimize the string creation in \"a + b\" code, knowing the it always resulted in the same string? It could avoid a new string creation.\nIf you don't believe the statement above, test for your self. \n", "Tom is correct in describing exactly what the + operator does.  It creates a temporary StringBuilder, appends the parts, and finishes with toString().\nHowever, all of the answers so far are ignoring the effects of HotSpot runtime optimizations.  Specifically, these temporary operations are recognized as a common pattern and are replaced with more efficient machine code at run-time.\n@marcio: You've created a micro-benchmark; with modern JVM's this is not a valid way to profile code.\nThe reason run-time optimization matters is that many of these differences in code -- even including object-creation -- are completely different once HotSpot gets going.  The only way to know for sure is profiling your code in situ.\nFinally, all of these methods are in fact incredibly fast.  This might be a case of premature optimization.  If you have code that concatenates strings a lot, the way to get maximum speed probably has nothing to do with which operators you choose and instead the algorithm you're using!\n", "I ran a similar test as @marcio but with the following loop instead:\nString c = a;\nfor (long i = 0; i < 100000L; i++) {\n    c = c.concat(b); // make sure javac cannot skip the loop\n    // using c += b for the alternative\n}\n\nJust for good measure, I threw in StringBuilder.append() as well.  Each test was run 10 times, with 100k reps for each run.  Here are the results:\n\nStringBuilder wins hands down.  The clock time result was 0 for most the runs, and the longest took 16ms.\na += b takes about 40000ms (40s) for each run.\nconcat only requires 10000ms (10s) per run.\n\nI haven't decompiled the class to see the internals or run it through profiler yet, but I suspect a += b spends much of the time creating new objects of StringBuilder and then converting them back to String.\n", "How about an evironment variable? Set developers machines with the tomcat name and production with the Weblogic name. You can even set your code to use a default one (WebLogic) in case the variable don't exist.\n", "My application also had a similar problem and this is how I solved it:\n1) WEB-INF/classes/application.properties contains the entry:\n\nds.jndi=java:comp/env/jdbc/tcds\n\n2) On the WLS machine, I have an entry in the /etc/sysenv file:\n\nds.jndi=wlsds\n\n3) I configured spring to lookup the JNDI vis the property ${ds.jndi}, using a PropertyPlaceholderConfigurer bean with classpath:application.properties and file:/etc/sysenv as locations. I also set the ignoreResourceNotFound to true so that developers need not have /etc/sysenv on their machines.\n4) I run an integration test using Cargo+Jetty and I could not properly set up a JNDI environment there. So I have a fallback BasicDataSource configured too using the defaultObject property of JndiObjectFactoryBean.\n", "You should implement in your client code javax.jms.ExceptionListener.  You will need a method called onException.  When the client's connection is lost, you should get a JMSException, and this method will be called automatically.  The only thing you have to look out for is if you are intentionally disconnecting from JBossMQ-- that will also throw an exception.\nSome code might look like this:\n    public void onException (JMSException jsme)\n    {\n        if (!closeRequested)\n        {\n            this.disconnect();\n            this.establishConnection(connectionProps, queueName, uname, pword, clientID, messageSelector);\n        }        \n        else\n        {\n            //Client requested close so do not try to reconnect\n        }\n    }\n\nIn your \"establishConnection\" code, you would then implement a while(!initialized) construct that contains a try/catch inside of it.  Until you are sure you have connected and subscribed properly, stay inside the while loop catching all JMS/Naming/etc. exceptions.\nWe've used this method for years with JBossMQ and it works great. We have never had a problem with our JMS clients not reconnecting after bouncing JBossMQ or losing our network connection.\n", "I'd highly recommend you use the Spring abstractions for JMS such as the MessageListenerContainer to deal with reconnection, transactions and pooling for you. You just need to supply a MessageListener and configure the MessageListenerContainer with the ConnectionFactory and the container does the rest.\n", "If you're purely a listener and do no other JMS calls other than connection setup, then the \"onException() handler\" answer is correct.\nIf you do any JMS calls in your code, just using onException() callback isn't sufficient.  Problems are relayed from the JMS provider to the app either via an exception on a JMS method call or through the onException() callback.  Not both.\nSo if you call any JMS methods from your code, you'll also want to invoke that reconnection logic if you get any exceptions on those calls.\n", "Piece of advice from personal experience.  Upgrade to JBoss Messaging.  I've seen it in production for 4 months without problems.  It has fully transparent failover - amongst many other features.\nAlso, if you do go with Spring, be very careful with the JmsTemplate.  \n", "The examples you provided are reason enough to not use flow-control from finally.\nEven if there's a contrived example where it's \"better,\" consider the developer who has to maintain your code later and who might not be aware of the subtleties.  That poor developer might even be you....\n", "Adding control structures and returns to finally{} blocks are just another example of \"just because you can\" abuses which are scattered throughout virtually all development languages.  Jason was right in suggesting it could easily become a maintenance nightmare - the arguments against early returns from functions apply more-so to this case of \"late returns\".\nFinally blocks exist for one purpose, to allow you to completely tidy up after yourself, no matter what happened in all the preceeding code. Principally this is closing / releasing file pointers, database connections etc., though I could see it being stretched to say adding in bespoke auditing.\nAnything that affects the return of the function should lie in the try{} block.  Even if you had a method whereby you checked an external state, did a time consuming operation, then checked that state again in case it became invalid, you would still want the second check inside the try{} - if it sat inside finally{} and the long operation failed, you would then be checking that state a second time needlessly.\n", "javac will warn of return in finally if you use the -Xlint:finally. Originally javac emitted no warnings - if something is wrong with the code, it should fail to compile. Unfortunately backwards compatibility means that unanticipated ingenious foolishness cannot be prohibited.\nExceptions can be thrown from finally blocks, but in that case the exhibited behaviour is almost certainly what you want.\n", "I had a REALLY hard time to track down a bug years ago that was caused by this. The code was something like:\nObject problemMethod() {\n    Object rtn = null;\n    try {\n        rtn = somethingThatThrewAnException();\n    }\n    finally {\n        doSomeCleanup();\n        return rtn;\n    }\n}\n\nWhat happened is that the exception was thrown down in some other code. It was being caught and logged and rethrown within the somethingThatThrewAnException() method. But the exception wasn't being propagated up past problemMethod(). After a LONG time of looking at this we finally tracked it down to the return method. The return method in the finally block was basically stopping the exception that happened in the try block from propagating up even though it wasn't caught.\nLike others have said, while it is legal to return from a finally block according to the Java spec, it is a BAD thing and shouldn't be done.\n", "I think you just answered your own question: platform independence. Platform-independent bytecode is produced and distributed to its target platform. When executed it's quickly compiled to native code either before execution begins, or simultaneously (Just In Time). The Java JVM and presumably the .NET runtimes operate on this principle.\n", "Bytecode creates an extra level of indirection.\nThe advantages of this extra level of indirection are:\n\nPlatform independence\nCan create any number of programming languages (syntax) and have them compile down to the same bytecode.\nCould easily create cross language converters\nx86, x64, and IA64 no longer need to be compiled as seperate binaries. Only the proper virtual machine needs to be installed.\nEach OS simply needs to create a virtual machine and it will have support for the same program.\nJust in time compilation allows you to update a program just by replacing a single patched source file.  (Very beneficial for web pages)\n\nSome of the disadvantages:\n\nPerformance\nEasier to decompile\n\n", "Hank Shiffman from SGI said (a long time ago, but it's till true):\n\nThere are three advantages of Java\n  using byte code instead of going to\n  the native code of the system:\n\nPortability: Each kind of computer has its unique instruction\n  set. While some processors include the\n  instructions for their predecessors,\n  it's generally true that a program\n  that runs on one kind of computer\n  won't run on any other. Add in the\n  services provided by the operating\n  system, which each system describes in\n  its own unique way, and you have a\n  compatibility problem. In general, you\n  can't write and compile a program for\n  one kind of system and run it on any\n  other without a lot of work. Java gets\n  around this limitation by inserting\n  its virtual machine between the\n  application and the real environment\n  (computer + operating system). If an\n  application is compiled to Java byte\n  code and that byte code is interpreted\n  the same way in every environment then\n  you can write a single program which\n  will work on all the different\n  platforms where Java is supported.\n  (That's the theory, anyway. In\n  practice there are always small\n  incompatibilities lying in wait for\n  the programmer.)\nSecurity: One of Java's virtues is its integration into the Web. Load\n  a web page that uses Java into your\n  browser and the Java code is\n  automatically downloaded and executed.\n  But what if the code destroys files,\n  whether through malice or sloppiness\n  on the programmer's part? Java\n  prevents downloaded applets from doing\n  anything destructive by disallowing\n  potentially dangerous operations.\n  Before it allows the code to run it\n  examines it for attempts to bypass\n  security. It verifies that data is\n  used consistently: code that\n  manipulates a data item as an integer\n  at one stage and then tries to use it\n  as a pointer later will be caught and\n  prevented from executing. (The Java\n  language doesn't allow pointer\n  arithmetic, so you can't write Java\n  code to do what we just described.\n  However, there is nothing to prevent\n  someone from writing destructive byte\n  code themselves using a hexadecimal\n  editor or even building a Java byte\n  code assembler.) It generally isn't\n  possible to analyze a program's\n  machine code before execution and\n  determine whether it does anything\n  bad. Tricks like writing\n  self-modifying code mean that the evil\n  operations may not even exist until\n  later. But Java byte code was designed\n  for this kind of validation: it\n  doesn't have the instructions a\n  malicious programmer would use to hide\n  their assault.\nSize: In the microprocessor world RISC is generally preferable\n  over CISC. It's better to have a small\n  instruction set and use many fast\n  instructions to do a job than to have\n  many complex operations implemented as\n  single instructions. RISC designs\n  require fewer gates on the chip to\n  implement their instructions, allowing\n  for more room for pipelines and other\n  techniques to make each instruction\n  faster. In an interpreter, however,\n  none of this matters. If you want to\n  implement a single instruction for the\n  switch statement with a variable\n  length depending on the number of case\n  clauses, there's no reason not to do\n  so. In fact, a complex instruction set\n  is an advantage for a web-based\n  language: it means that the same\n  program will be smaller (fewer\n  instructions of greater complexity),\n  which means less time to transfer\n  across our speed-limited network.\n\n\nSo when considering byte code vs native, consider which trade-offs you want to make between portability, security, size, and execution speed. If speed is the only important factor, go native. If any of the others are more important, go with bytecode.\nI'll also add that maintaining a series of OS and architecture-targeted compilations of the same code base for every release can become very tedious. It's a huge win to use the same Java bytecode on multiple platforms and have it \"just work.\"\n", "Ideally you would have portable bytecode that compiles Just In Time to native code.  I think the reason bytecode interpreters exist without JIT is due primarily to the practical fact that native code compilation adds complexity to a virtual machine.  It takes time to build, debug, and maintain that additional component.  Not everyone has the time or resources to make that commitment.\nA secondary factor is safety.  It's much easier to verify an interpreter won't crash than to guarantee the same for native code.\nThird is performance.  It can often take more time to generate machine code than to interpret bytecode for small pieces of code that only run once.\n", "The performance of essentially any program will improve if it is compiled, executed with profiling, and the results fed back into the compiler for a second pass. The code paths which are actually used will be more aggressively optimized, loops unrolled to exactly the right degree, and the hot instruction paths arranged to maximize I$ hits.\nAll good stuff, yet it is almost never done because it is annoying to go through so many steps to build a binary.\nThis is the advantage of running the bytecode for a while before compiling it to native code: profiling information is automatically available. The result after Just-In-Time compilation is highly optimized native code for the specific data the program is processing.\nBeing able to run the bytecode also enables more aggressive native optimization than a static compiler could safely use. For example if one of the arguments to a function is noted to always be NULL, all handling for that argument can simply be omitted from the native code. There will be a brief validity check of the arguments in the function prologue, if that argument is not NULL the VM aborts back to the bytecode and starts profiling again.\n", "Here: http://slashdot.org/developers/02/01/31/013247.shtml\nGo see what the geeks of Slashdot have to say about it! Little dated, but very good comments!\n", "Are you sure that JMF is right for you?  Unfortunately, it is not in particularly good shape.  Unless you are already committed to JMF, you very well may want to investigate alternatives. Wikipedia has a decent overview at en.wikipedia.org/wiki/Java_Media_Framework\n\nMany JMF developers have complained that it supports few codecs and formats in modern use. Its all-Java version, for example, cannot play MPEG-2, MPEG-4, Windows Media, RealMedia, most QuickTime movies, Flash content newer than Flash 2, and needs a plug-in to play the ubiquitous MP3 format.  While the performance packs offer the ability to use the native platform's media library, they're only offered for Linux, Solaris and Windows. Furthermore, Windows-based JMF developers can unwittingly think JMF provides support for more formats than it does, and be surprised when their application is unable to play those formats on other platforms.\nAnother knock against JMF is Sun's seeming abandonment of it. The API has not been touched since 1999, and the last news item on JMF's home page was posted in November 2004.\nWhile JMF is built for extensibility, there are few such third-party extensions.\nFurthermore, editing functionality in JMF is effectively non-existent, which makes a wide range of potential applications impractical.\n\n", "There seems to be a few examples out there that are far better than what I was going to send you.\nSee http://krishnabhargav.blogspot.com/2008/02/processing-videos-in-java.html.\nI'd agree with Stu, however. If you can find a way to get what you want using some command-line tools (and run them using Commons-Exec), you might have a better overall solution than depending on what is essentially the Sanskrit of Java extensions.\n", "@marcio - My own server-side app shells out to FFmpeg to do encoding.  I'm 98.42% sure FFmpeg does snapshots, too.  (It is an all singing, all dancing beast of a program.  The command line options alone could fill a book.)\nCheck it out: ffmpeg.mplayerhq.hu\n", "The distro which is most developer friendly, in my opinion, is Gentoo. Since you compile everything from scratch, you choose exactly what makes up your system. Java can be installed very easily, so you could potentially just have a window environment and Java installed (aside from the standard tool chain.)\n", "A real Sun geek would chime in here about the virtues of using Solaris as a Java development platform, but I am much more ambivalent. Developing with Java is about the same on any linux distro; you are going to wind up having to install the JDK and tools of your choosing (Eclipse, Sun Studio, Tomcat, etc) so you may as well choose a distro on other criteria... perhaps how comfortable you are with it, how easy package management is, and if the look & feel suit your development habits are all big factors.\nSo, to answer your question more directly, a Java developer would do well with any major linux distro that they are comfortable with using in general. If you want some Java goodness out of the box, Fedora 9 and Ubuntu 8.04 have OpenJDK (and NetBeans) according to a recent announcement.\n", "Solaris :)\nOn a serious note, there is no Linux distro dedicated to Java, so it would be about the same. \nOpenSolaris on the other hand (in my very humble experience) would be a bit faster, and you would have bonus of Dtrace as a tool. (Not that you can't find similar tools in Linux, but Dtrace should be somewhat more advanced).\n", "I am very heavy into Java development and I personally use Ubuntu, so I agree with Sean on this one. \nThe package manager allows you to easily install the various SDKs (the SUN one, or even the upcoming OpenJDK 7).\nRegards,\nArjen\n", "I have used Ubuntu 8.04 and Fedora 9 with success.   \nFor Ubuntu, the community forums were very helpful and if I remember correctly one of the repositories provided apt packages for Sun's Java6 distribution.  \nOn Fedora 9, the Sun rpms work alright.\nIn either case, alternative/galternative is your friend to make sure that you point \"java\" and \"javac\" at the Sun install.  I've been using Netbeans 6.1 and Eclipse 3.4 both on Fedora 9_x64 with no problems.\n", "While not really a distribution, there is a virtual machine available for Tomcat.  It could be adapted pretty easily for other Java based deployments (available for several virtualization technologies).  \nThere are also several Java App Server VMs available from VMWare (VMWare only, of course).  \n", "I had a pleasant experience with Mandriva power pack 2008. Select something like development->\"java tools\" and everything is installed for you.\nEverything being Sun JRE, JDK, and eclispe.\nSolaris did install a 64bit kernel by default though.....\n", "You can try Webrenderer or Ice Browser\n", "I believe JWebPane is going to be the official way to embed a browser into a java app. Its based on the open sourced engine - WebKit, which is used in Apples Safari and Googles Chrome browsers.See this blog for details.\n", "You could use SWT for your GUI.  Its Browser control allows you to embed IE, Mozilla or Safari (depending on the platform you're running in) with little pain. \n", "Jeff's mechanism was to create some sort of cached object which ASP.Net would automatically recreate at some sort of interval - It seemed to be an ASP.Net specific solution, so probably won't help you (or me) much in Java world.\nSee https://stackoverflow.fogbugz.com/default.asp?W13117\n\nAtwood: Well, I originally asked on Twitter, because I just wanted something light weight.  I really didn't want to like write a windows service.  I felt like that was out of band code. Plus the code that actually does the work is a web page in fact, because to me that is a logical unit of work on a website is a web page.  So, it really is like we are calling back into the web site, it's just like another request in the website, so I viewed it as something that should stay inline, and the little approach that we came up that was recommended to me on Twitter was to essentially to add something to the application cache with a fixed expiration, then you have a call back so when that expires it calls a certain function which does the work then you add it back in to the cache with the same expiration.  So, it's a little bit, maybe \"ghetto\" is the right word.\n\nMy approach has always been to have to OS (i.e. Cron or the Windows task scheduler) load a specific URL at some interval, and then setup a page at that URL to check it's queue, and perform whatever tasks were required, but I'd be interested to hear if there's a better way.\nFrom the transcript, it looks like FogBugz uses the windows service loading a URL approach also.\n\nSpolsky: So we have this special page called heartbeat.asp.  And that page, whenever you hit it, and anybody can hit it at anytime: doesn't hurt.  But when that page runs it checks a queue of waiting tasks to see if there's anything that needs to be done.  And if there's anything that needs to be done, it does one thing and then looks in that queue again and if there's anything else to be done it returns a plus, and the entire web page that it returns is just a single character with a plus in it.  And if there's nothing else to be done, the queue is now empty, it returns a minus.  So, anybody can call this and hit it as many times, you can load up heartbeat.asp in your web browser you hit Ctrl-R Ctrl-R Ctrl-R Ctrl-R until you start getting minuses instead of pluses.  And when you've done that FogBugz will have completed all of its maintenance work that it needs to do.  So that's the first part, and the second part is a very, very simple Windows service which runs, and its whole job is to call heartbeat.asp and if it gets a plus, call it again soon, and if it gets a minus call it again, but not for a while.  So basically there's this Windows service that's always running, that has a very, very, very simple task of just hitting a URL, and looking to see if it gets a plus or a minus and, and then scheduling when it runs again based on whether it got a plus or a minus.  And obviously you can do any kind of variation you want on this theme, like for example, uh you could actually, instead of returning just a plus or minus you could say \"Okay call me back in 60 seconds\" or \"Call me back right away I have more work to be done.\"  And that's how it works... so that maintenance service it just runs, you know, it's like, you know, a half page of code that runs that maintenance service, and it never has to change, and it doesn't have any of the logic in there, it just contains the tickling that causes these web pages to get called with a certain guaranteed frequency.  And inside that web page at heartbeat.asp there's code that maintains a queue of tasks that need to be done and looks at how much time has elapsed and does, you know, late-night maintenance and every seven days delete all the older messages that have been marked as spam and all kinds of just maintenance background tasks.  And uh, that's how that does that.\n\n", "Here is how they do it on StackOverflow.com:\nhttp://blog.stackoverflow.com/2008/07/easy-background-tasks-in-aspnet/\n", "I think developing a custom solution for running background tasks doesn't always worth, so I recommend to use the Quartz Scheduler in Java.\nIn your situation (need to run background tasks in a web application) you could use the ServletContextListener included in the distribution to initialize the engine at the startup of your web container.\nAfter that you have a number of possibilities to start (trigger) your background tasks (jobs), e.g. you can use Calendars or cron-like expressions. In your situation most probably you should settle with SimpleTrigger that lets you run jobs in fixed, regular intervals.\nThe jobs themselves can be described easily too in Quartz, however you haven't provided any details about what you need to run, so I can't provide a suggestion in that area.\n", "As mentioned, Quartz is one standard solution. If you don't care about clustering or persistence of background tasks across restarts, you can use the built in  ThreadPool support (in Java 5,6). If you use a ScheduledExecutorService you can put Runnables into the background thread pool that wait a specific amount of time before executing. \nIf you do care about clustering and/or persistence, you can use JMS queues for asynchronous execution, though you will still need some way of delaying background tasks (you can use Quartz or the ScheduledExecutorService to do this).\n", "We use jtcron for our scheduled background tasks.\nIt works well, and if you understand cron it should make sense to you.\n", "About your first question...\nList, Map and Set serve different purposes. I suggest reading about the Java Collections Framework at http://java.sun.com/docs/books/tutorial/collections/interfaces/index.html.\nTo be a bit more concrete:\n\nuse List if you need an array-like data structure and you need to iterate over the elements\nuse Map if you need something like a dictionary\nuse a Set if you only need to decide if something belongs to the set or not.\n\nAbout your second question...\nThe main difference between Vector and ArrayList is that the former is synchronized, the latter is not synchronized. You can read more about synchronization in Java Concurrency in Practice.\nThe difference between Hashtable (note that the T is not a capital letter) and HashMap is similiar, the former is synchronized, the latter is not synchronized.\nI would say that there are no rule of thumb for preferring one implementation or another, it really depends on your needs.\n", "I've always made those decisions on a case by case basis, depending on the use case, such as:\n\nDo I need the ordering to remain?\nWill I have null key/values?  Dups?\nWill it be accessed by multiple threads\nDo I need a key/value pair\nWill I need random access?\n\nAnd then I break out my handy 5th edition Java in a Nutshell and compare the ~20 or so options.  It has nice little tables in Chapter five to help one figure out what is appropriate.  \nOk, maybe if I know off the cuff that a simple ArrayList or HashSet will do the trick I won't look it all up.  ;)  but if there is anything remotely complex about my indended use, you bet I'm in the book.  BTW, I though Vector is supposed to be 'old hat'--I've not used on in years.\n", "Lists allow duplicate items, while Sets allow only one instance.\nI'll use a Map whenever I'll need to perform a lookup.\nFor the specific implementations, there are order-preserving variations of Maps and Sets but largely it comes down to speed. I'll tend to use ArrayList for reasonably small Lists and HashSet for reasonably small sets, but there are many implementations (including any that you write yourself). HashMap is pretty common for Maps. Anything more than 'reasonably small' and you have to start worrying about memory so that'll be way more specific algorithmically.\nThis page has lots of animated images along with sample code testing LinkedList vs. ArrayList if you're interested in hard numbers.\nEDIT: I hope the following links demonstrate how these things are really just items in a toolbox, you just have to think about what your needs are: See Commons-Collections versions of Map, List and Set.\n", "I'll assume you know the difference between a List, Set and Map from the above answers. Why you would choose between their implementing classes is another thing. For example:\nList:\n\nArrayList is quick on retrieving, but slow on inserting. It's good for an implementation that reads a lot but doesn't insert/remove a lot. It keeps its data in one continuous block of memory, so every time it needs to expand, it copies the whole array.\nLinkedList is slow on retrieving, but quick on inserting. It's good for an implementation that inserts/removes a lot but doesn't read a lot. It doesn't keep the entire array in one continuous block of memory.\n\nSet:\n\nHashSet doesn't guarantee the order of iteration, and therefore is fastest of the sets. It has high overhead and is slower than ArrayList, so you shouldn't use it except for a large amount of data when its hashing speed becomes a factor.\nTreeSet keeps the data ordered, therefore is slower than HashSet.\n\nMap: The performance and behavior of HashMap and TreeMap are parallel to the Set implementations.\nVector and Hashtable should not be used. They are synchronized implementations, before the release of the new Collection hierarchy, thus slow. If synchronization is needed, use Collections.synchronizedCollection().\n", "I found Bruce Eckel's Thinking in Java to be very helpful.  He compares the different collections very well.  I used to keep a diagram he published showing the inheritance heirachy on my cube wall as a quick reference.  One thing I suggest you do is keep in mind thread safety.  Performance usually means not thread safe.  \n", "For non-sorted the best choice, more than nine times out of ten, will be: ArrayList, HashMap, HashSet.\nVector and Hashtable are synchronised and therefore might be a bit slower. It's rare that you would want synchronised implementations, and when you do their interfaces are not sufficiently rich for thier synchronisation to be useful. In the case of Map, ConcurrentMap adds extra operations to make the interface useful. ConcurrentHashMap is a good implementation of ConcurrentMap.\nLinkedList is almost never a good idea. Even if you are doing a lot of insertions and removal, if you are using an index to indicate position then that requires iterating through the list to find the correct node. ArrayList is almost always faster.\nFor Map and Set, the hash variants will be faster than tree/sorted. Hash algortihms tend to have O(1) performance, whereas trees will be O(log n).\n", "Theoretically there are useful Big-Oh tradeoffs, but in practice these almost never matter.\nIn real-world benchmarks, ArrayList out-performs LinkedList even with big lists and with operations like \"lots of insertions near the front.\"  Academics ignore the fact that real algorithms have constant factors that can overwhelm the asymptotic curve.  For example, linked-lists require an additional object allocation for every node, meaning slower to create a node and vastly worse memory-access characteristics.\nMy rule is:\n\nAlways start with ArrayList and HashSet and HashMap  (i.e. not LinkedList or TreeMap).\nType declarations should always be an interface (i.e. List, Set, Map) so if a profiler or code review proves otherwise you can change the implementation without breaking anything.\n\n", "Look at the alternate constructor for DatagramSocket:\nDatagramSocket(int port, InetAddress laddr)\nCreates a datagram socket, bound to the specified local address.\n\nI'm guessing you're only specifying the port.\n", "Chris, I'm a little confused about your circumstances. If I understand correctly, you have a both a web app (read/write) a standalone application (read-only?) using Hibernate to access a shared database. The changes you make with the web app aren't visible to the standalone app. Is that right?\nIf so, have you considered using a different second-level cache implementation? I'm wondering if you might be able to use a clustered cache that is shared by both the web application and the standalone application. I believe that SwarmCache, which is integrated with Hibernate, will allow this, but I haven't tried it myself.\nIn general, though, you should know that the contents of a given cache will never be aware of activity by another application (that's why I suggest having both apps share a cache). Good luck!\n", "A Hibernate session loads all data it reads from the DB into what they call the first-level cache. Once a row is loaded from the DB, any subsequent fetches for a row with the same PK will return the data from this cache. Furthermore, Hibernate gaurentees reference equality for objects with the same PK in a single Session. \nFrom what I understand, your read-only server application never closes its Hibernate session. So when the DB gets updated by the read-write application, the Session on read-only server is unaware of the change. Effectively, your read-only application is loading an in-memory copy of the database and using that copy, which gets stale in due course.\nThe simplest and best course of action I can suggest is to close and open Sessions as needed. This sidesteps the whole problem. Hibernate Sessions are intended to be a window for a short-lived interaction with the DB. I agree that there is a performance gain by not reloading the object-graph again and again; but you need to measure it and convince yourself that it is worth the pains.\nAnother option is to close and reopen the Session periodically. This ensures that the read-only application works with data not older than a given time interval. But there definitely is a window where the read-only application works with stale data (although the design guarantees that it gets the up-to-date data eventually). This might be permissible in many applications - you need to evaluate your situation. \nThe third option is to use a second level cache implementation, and use short-lived Sessions. There are various caching packages that work with Hibernate with relative merits and demerits.\n", "Yes, use the GNU readline library.\n", "I think you are looking for something like JLine but I've never used it so cannot attest to its quality.\nShe can apparently deal with autocompletion and command line history, and the last release was recently (feb this year) so it's by no means dead.\n", "ledit is great on linux for that sort of thing. It's probably easily compiled on solaris. \nClarification: ledit wraps the call to your other command line app, and can even be passed a file to persistently store your history. \nHere's the homepage: http://cristal.inria.fr/~ddr/ledit/\n", "There is a SourceForge project, http://java-readline.sourceforge.net/, that provides JNI-based bindings to GNU readline. I've played around with it (not used in an actual project), and it certainly covers all of the functionality.\n", "Short of just including the js in every page automatically, I do not think so. It really would not be something that tags are designed to to.\nWithout knowing what your tag is actually doing (presumably its its outputting something in the body section) then there is no way that it will be able to get at the head to put the declaration there.\nOne solution that might (in my head) work would be to have an include that copies verbatim what you have in the head after the place in the head to import tags right up to where you want to use the tag. This is really not something that you would want to do. You would have to have multiple 'header' files to import depending on the content and where you want to use the tag. Maintenance nightmare. Just a bad idea all round. Any solution I can think of would require more work than manually just adding in the declaration.\nI think you are out of luck and stuck with manually putting it in.\nedit: Just import it in every page. It will be cached and then this problem goes away.\n", "There is no reason you cannot have  a script tag in the body, even though it is preferable for it to be in the head. Just emit the script tag before you emit your tag's markup. The only thing to consider is that you do not want to include the script more than once if you use the jsp tag on the page more than once. The way to solve that is to remember that you have already included the script, by addng an attribute to the request object.\n", "You need to download and install the unlimited strength JCE policy file for your JDK. For JDK 6, it is on http://java.sun.com/javase/downloads/index.jsp at the very bottom.\n", "I'm not a crypto expert by any means (so take this suggestion with a grain of salt), but I have used Blowfish before, and I think you can use it for what you need.  There is also a newer algorithm by the same guy called Twofish.\nHere is a website with a Java implementation, but be careful of the license (it says free for non-commercial use).  You can find that link also from Bruce Schneier's website (the creator of both algorithms).\n", "Use Advanced Encryption Standard (AES). It supports Key lengths of 128, 192, or 256 bits.\nThe algorithm is simple. The Sun Java website has a section explaining how to do AES encryption in Java.\nFrom Wikipedia...\n\n... the Advanced\n  Encryption Standard (AES), also known\n  as Rijndael, is a block cipher adopted\n  as an encryption standard by the U.S.\n  government. It has been analyzed\n  extensively and is now used worldwide,\n  as was the case with its\n  predecessor, the Data Encryption\n  Standard (DES)...\n\nSo as a rule of thumb you are not supposed to use DES or its variants because it is being phased out.\nAs of now, it is better to use AES. There are other options like Twofish, Blowfish etc also. Note that Twofish can be considered as an advanced version of Blowfish.\n", "I have had good success in the past with http://www.bouncycastle.org/ (they have a C# version as well). \n", "Combining 3 different replies gives what I think is the correct answer.\nDownload encryption libraries from Bouncycastle then you need to download the \"Unlimited Strength Jurisdiction Policy\" from Oracle (the files are at the bottom of the download page). Make sure you read the Readme-file on how to install it. \nOnce you have done this, and using the sample code supplied with the Bountycastle package you should be able to encrypt your data. You can go with a tripple DES implementation, which will give you 112 bits key (often referred to as 128 bit, but only 112 of them are actually secure), or as previously stated, you can use AES. My money would be on AES.\n", "Thanks Michael, after trying out many things in JCE, I finally settled for bouncycastle. \nJCE supports AES for encryption and PBE for password based encryption but it does not support combination of both. I wanted the same thing and that I found in bouncycastle.\nThe example is at : http://forums.sun.com/thread.jspa?messageID=4164916\n", "Just using \n<bodycontent>JSP</bodycontent>\n\nis not enough. You should do soimething like \nJspFragment body = getJspBody(); \nStringWriter stringWriter = new StringWriter(); \nStringBuffer buff = stringWriter.getBuffer(); \nbuff.append(\"<h1>\"); \nbody.invoke(stringWriter); \nbuff.append(\"</h1>\"); \nout.println(stringWriter);\n\nto get inner tags rendered (example is for SimpleTag doTag method). \nHowever, in the question's code I see that inner tag is comming from a string which is not rendered as a part of JSP, but just some random string. I do not think you can force JSP translator to parse it.\nYou can use regexp in your case or try to redesign your code in a way to have a jsp like this:\n<jsp:useBean id=\"ImportantNoticeBean\" scope=\"page class=\"com.mysite.beans.ImportantNoticeProcessBean\"/>\n<c:forEach var=\"noticeBean\" items=\"${ImportantNoticeBean.importantNotices}\">\n    <mysite:notice importantNotice=\"${noticeBean}\">\n        <mysite:quote author=\"Some Guy\">Quote this</mysite:quote>\n        <mysite:messagebody author=\"Some Guy\" />\n    </mysite:notice>\n</c:forEach>\n\nI whould go with regexp.\n", "No matter what you do, it can be 'decompiled'. Heck, you can just disassemble it. Or look at a memory dump to find your constants. You see, the computer needs to know them, so your code will need to too.\nWhat to do about this?\nTry not to ship the key as a hardcoded constant in your code: Keep it as a per-user setting. Make the user responsible for looking after that key.\n", "Disclaimer: I am not a security expert.\nThis sounds like a bad idea: You are letting someone encrypt stuff with a 'hidden' key that you give him. I don't think this can be made secure.\nMaybe asymmetrical keys could work:\n\ndeploy an encrypted license with a public key to decrypt\nlet the customer create a new license and send it to you for encryption\nsend a new license back to the client.\n\nI'm not sure, but I believe the client can actually encrypt the license key with the public key you gave him. You can then decrypt it with your private key and re-encrypt as well.\nYou could keep a separate public/private key pair per customer to make sure you actually are getting stuff from the right customer - now you are responsible for the keys...\n", "@jatanp: or better yet, they can decompile, remove the licensing code, and recompile.  With Java, I don't really think there is a proper, hack-proof solution to this problem.  Not even an evil little dongle could prevent this with Java.\nMy own biz managers worry about this, and I think too much.  But then again, we sell our application into large corporates who tend to abide by licensing conditions--generally a safe environment thanks to the bean counters and lawyers.  The act of decompiling itself can be illegal if your license is written correctly. \nSo, I have to ask, do you really need hardened protection like you are seeking for your application?  What does your customer base look like?  (Corporates?  Or the teenage gamer masses, where this would be more of an issue?)\n", "As long as they have access to both the encrypted data and the software that decrypts it, there is basically no way you can make this completely secure. Ways this has been solved before is to use some form of external black box to handle encryption/decryption, like dongles, remote authentication servers, etc. But even then, given that the user has full access to their own system, this only makes things difficult, not impossible -unless you can tie your product directly to the functionality stored in the \"black box\", as, say, online gaming servers.\n", "Some of the more advanced Java bytecode obfuscators do much more than just class name mangling. Zelix KlassMaster, for example, can also scramble your code flow in a way that makes it really hard to follow and works as an excellent code optimizer...\nAlso many of the obfuscators are also able to scramble your string constants and remove unused code.\nAnother possible solution (not necessarily excluding the obfuscation) is to use encrypted JAR files and a custom classloader that does the decryption (preferably using native runtime library).\nThird (and possibly offering the strongest protection) is to use native ahead of time compilers like GCC or Excelsior JET, for example, that compile your Java code directly to a platform specific native binary.\nIn any case You've got to remember that as the saying goes in Estonian \"Locks are for animals\". Meaning that every bit of code is available (loaded into memory) during the runtime and given enough skill, determination and motivation, people can and will decompile, unscramble and hack your code... Your job is simply to make the process as uncomfortable as you can and still keep the thing working...\n", "Take a look at the JavaWorld article Cracking Java byte-code encryption by Vladimir Roubtsov. It explains why encryption of class files is mostly pointless.\n", "If you're looking for a licensing solution, you can check out the TrueLicense API. It's based on the use of asymmetrical keys. However, it doesn't mean your application cannot be cracked. Every application can be cracked with enough effort. What really important is, as Stu answered, figuring out how strong protection you need. \n", "I don't think there exists any effective offline antipiracy method. The videogame industry has tried to find that many times and their programs has always been cracked. The only solution is that the program must be run online connected with your servers, so that you can verify the lincense key, and that there is only one active connecion by the licensee at a time. This is how World of Warcraft or Diablo works. Even tough there are private servers developed for them to bypass the security. \nHaving said that, I don't believe that mid/large corporations use illegal copied software, because the cost of the license for them is minimal (perhaps, I don't know how much you are goig to charge for your program) compared to the cost of a trial version.\n", "It really does not matter if the API/Code is thread safe. CBC encryption in itself is not thread safe. \nSome terminology -\nE(X) = Enctrypt message X\nD(X) = Dectrypt X. (Note that D(E(X)) = X)\nIV = Initialization vector. A random sequence to bootstrap the CBC algorithm\nCBC = Cipher block chaining.\n\nA really simple CBC implementation can look like:\nP1, P2, P3 = Plain text messages\n1. Generate an IV, just random bits.\n2. Calculate E( P1 xor IV) call this C1\n3. Calculate E( P2 xor C1) call this C2\n4. Calculate E( P3 xor C2) call this C3.\n\nAs you can see, the result of encrypting P1, P2 and P3 (in that order) is different from encrypting P2, P1 and P3 (in that order). \nSo, in a CBC implementation, order is important. Any algorithm where order is important can not, by definition, be thread safe. \nYou can make a Singleton factory that delivers encryption objects, but you cant trust them to be thread safe.  \n", "I think this pair of articles by Philip J. Eby does a great job discussing the differences between the two languages (mostly about philosophy/mentality rather than specific language features). \n\nPython is Not Java\nJava is Not Python, either\n\n", "One key difference in Python is significant whitespace.  This puts a lot of people off - me too for a long time - but once you get going it seems natural and makes much more sense  than ;s everywhere.\nFrom a personal perspective, Python has the following benefits over Java:\n\nNo Checked Exceptions\nOptional Arguments\nMuch less boilerplate and less verbose generally\n\nOther than those, this page on the Python Wiki is a good place to look with lots of links to interesting articles.\n", "With Jython you can have both. It's only at Python 2.2, but still very useful if you need an embedded interpreter that has access to the Java runtime.\n", "\nList comprehensions.  I often find myself filtering/mapping lists, and being able to say [line.replace(\"spam\",\"eggs\") for line in open(\"somefile.txt\") if line.startswith(\"nee\")] is really nice.\nFunctions are first class objects.  They can be passed as parameters to other functions, defined inside other function, and have lexical scope.  This makes it really easy to say things like people.sort(key=lambda p: p.age) and thus sort a bunch of people on their age without having to define a custom comparator class or something equally verbose.\nEverything is an object.  Java has basic types which aren't objects, which is why many classes in the standard library define 9 different versions of functions (for boolean, byte, char, double, float, int, long, Object, short).  Array.sort is a good example.  Autoboxing helps, although it makes things awkward when something turns out to be null.\nProperties.  Python lets you create classes with read-only fields, lazily-generated fields, as well as fields which are checked upon assignment to make sure they're never 0 or null or whatever you want to guard against, etc.'\nDefault and keyword arguments.  In Java if you want a constructor that can take up to 5 optional arguments, you must define 6 different versions of that constructor.  And there's no way at all to say Student(name=\"Eli\", age=25)\nFunctions can only return 1 thing.  In Python you have tuple assignment, so you can say spam, eggs = nee() but in Java you'd need to either resort to mutable out parameters or have a custom class with 2 fields and then have two additional lines of code to extract those fields.\nBuilt-in syntax for lists and dictionaries.\nOperator Overloading.\nGenerally better designed libraries.  For example, to parse an XML document in Java, you say\nDocument doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(\"test.xml\");\nand in Python you say\ndoc = parse(\"test.xml\")\n\nAnyway, I could go on and on with further examples, but Python is just overall a much more flexible and expressive language.  It's also dynamically typed, which I really like, but which comes with some disadvantages.\nJava has much better performance than Python and has way better tool support.  Sometimes those things matter a lot and Java is the better language than Python for a task; I continue to use Java for some new projects despite liking Python a lot more.  But as a language I think Python is superior for most things I find myself needing to accomplish.\n", "Apart from what Eli Courtwright said:\n\nI find iterators in Python more concise. You can use for i in something, and it works with pretty much everything. Yeah, Java has gotten better since 1.5, but for example you can iterate through a string in python with this same construct.\nIntrospection: In python you can get at runtime information about an object or a module about its symbols, methods, or even its docstrings. You can also instantiate them dynamically. Java has some of this, but usually in Java it takes half a page of code to get an instance of a class, whereas in Python it is about 3 lines. And as far as I know the docstrings thing is not available in Java\n\n", "It is generally considered a bad idea to version control your binaries and I do not recommend doing so. But if you absolutely have to, you can use antcall combined with param to pass parameters and call a target.\n<antcall target=\"reusable\">\n    <param name=\"some.variable\" value=\"var1\"/>\n</antcall>\n\n<target name=\"reusable\">\n    <!-- Do something with ${some.variable} -->\n</target>\n\nYou can find more information about the antcall task here.\n", "Also check out the subant task, which lets you call the same target on multiple build files:\n<project name=\"subant\" default=\"subant1\">\n    <property name=\"build.dir\" value=\"subant.build\"/>\n    <target name=\"subant1\">\n        <subant target=\"\">\n            <property name=\"build.dir\" value=\"subant1.build\"/>\n            <property name=\"not.overloaded\" value=\"not.overloaded\"/>\n            <fileset dir=\".\" includes=\"*/build.xml\"/>\n        </subant>\n    </target>\n</project>\n\n", "Take a look at Ant macros.  They allow you to define reusable \"routines\" for Ant builds.  You can find an example here (item 15).\n", "I would suggest to work with macros over subant/antcall because the main advantage I found with macros is that you're in complete control over the properties that are passed to the macro (especially if you want to add new properties).\nYou simply refactor your Ant script starting with your target:\n<target name=\"vss.check\">\n    <vssadd localpath=\"D:\\build\\build.00012.zip\" \n        comment=\"Added by automatic build\"/>\n</target>\n\ncreating a macro (notice the copy/paste and replacement with the @{file}):\n<macrodef name=\"private-vssadd\">\n    <attribute name=\"file\"/>\n    <sequential>\n        <vssadd localpath=\"@{file}\" \n            comment=\"Added by automatic build\"/>\n    </sequential>\n</macrodef>\n\nand invoke the macros with your files:\n<target name=\"vss.check\">\n    <private-vssadd file=\"D:\\build\\File1.zip\"/>\n    <private-vssadd file=\"D:\\build\\File2.zip\"/>\n</target>\n\nRefactoring, \"the Ant way\"\n", "You can use Gant to script your build with groovy to do what you want or have a look at the groovy ant task.\n", "To create a color, try this:\nDevice device = Display.getCurrent ();\nColor red = new Color (device, 255, 0, 0);\n\n", "Remember that in SWT you must explicitly dispose any resources that you create when you are done with them.  This includes widgets, fonts, colors, images, displays, printers, and GCs.  If you do not dispose these resources, eventually your application will reach the resource limit of your operating system and the application will cease to run.\nSee also: SWT: Managing Operating System Resources\n", "For standard colors (including common colors and default colors used by the operating system) Use Display.getSystemColor(int), and pass in the SWT.COLOR_* constant for the color you want.\nDisplay display = Display.getCurrent();\nColor blue = display.getSystemColor(SWT.COLOR_BLUE);\nColor listBackground = display.getSystemColor(SWT.COLOR_LIST_BACKGROUND);\n\nNote that you do not need to dispose these colors because SWT created them.\n", "If it's short, I think you're better off re-writing the code in java.  Downloading one 50Mb runtime is bad enough.\n", "I would rewrite it if it's not too much trouble.\nThe web service would work, but it seems like that would be a lot of overhead just to reuse a little code.\n", "You would use the Java Native Interface to call your C# code compiled into a DLL.\nIf its a small amount of C#, it would be much easier to port it to Java. If its a lot, this might be a good way to do it.\nHere is a highlevel overview of it:\nhttp://en.wikipedia.org/wiki/Java_Native_Interface\nYour other option would be to create a COM assembly from the C# code and use J-Interop to invoke it.\nhttp://sourceforge.net/projects/j-interop/\n", "There is an IL to Java Bytecode compiler GrassHopper which may be of use to you.  I've never tried it though.\nI'd look at rewriting your code in Java though\nEDIT: Note that Grasshopper seems to be no longer available.\n", "If you do not want to rewrite hadle it as an Inter-process communication and choose one of following:\n\nNamed pipes\nSockets \nSOAP\n\n", "We used JNBridge for this, and it worked great.  It handles Java->.NET and vice versa, all in-proc.\n", "It means that the grouping is atomic, and it throws away backtracking information for a matched group. So, this expression is possessive; it won't back off even if doing so is the only way for the regex as a whole to succeed. It's \"independent\" in the sense that it doesn't cooperate, via backtracking, with other elements of the regex to ensure a match.\n", "From this thread, there are different ways to do this:\ndouble r = 5.1234;\nSystem.out.println(r); // r is 5.1234\n\nint decimalPlaces = 2;\nBigDecimal bd = new BigDecimal(r);\n\n// setScale is immutable\nbd = bd.setScale(decimalPlaces, BigDecimal.ROUND_HALF_UP);\nr = bd.doubleValue();\n\nSystem.out.println(r); // r is 5.12\n\n\nf = (float) (Math.round(n*100.0f)/100.0f);\n\n\nDecimalFormat df2 = new DecimalFormat( \"#,###,###,##0.00\" );\ndouble dd = 100.2397;\ndouble dd2dec = new Double(df2.format(dd)).doubleValue();\n\n// The value of dd2dec will be 100.24\n\nThe DecimalFormat() seems to be the most dynamic way to do it, and it is also very easy to understand when reading others code.\n", "You and String.format() will be new best friends!\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html#syntax\n String.format(\"%.2f\", (double)value);\n\n", "Use DecimalFormat.\n", "Round numbers, yes. This is the main example source.   \n/*\n * Copyright (c) 1995 - 2008 Sun Microsystems, Inc.  All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n *   - Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n *\n *   - Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n *\n *   - Neither the name of Sun Microsystems nor the names of its\n *     contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */ \n\n\nimport java.util.*;\nimport java.text.*;\n\npublic class DecimalFormatDemo {\n\n    static public void customFormat(String pattern, double value ) {\n        DecimalFormat myFormatter = new DecimalFormat(pattern);\n        String output = myFormatter.format(value);\n        System.out.println(value + \"  \" + pattern + \"  \" + output);\n    }\n\n    static public void localizedFormat(String pattern, double value,                                       Locale loc ) {\n        NumberFormat nf = NumberFormat.getNumberInstance(loc);\n        DecimalFormat df = (DecimalFormat)nf;\n        df.applyPattern(pattern);\n        String output = df.format(value);\n        System.out.println(pattern + \"  \" + output + \"  \" + loc.toString());\n    }\n\n    static public void main(String[] args) {\n\n        customFormat(\"###,###.###\", 123456.789);\n        customFormat(\"###.##\", 123456.789);\n        customFormat(\"000000.000\", 123.78);\n        customFormat(\"$###,###.###\", 12345.67);\n        customFormat(\"\\u00a5###,###.###\", 12345.67);\n\n        Locale currentLocale = new Locale(\"en\", \"US\");\n\n        DecimalFormatSymbols unusualSymbols = new DecimalFormatSymbols(currentLocale);\n        unusualSymbols.setDecimalSeparator('|');\n        unusualSymbols.setGroupingSeparator('^');\n        String strange = \"#,##0.###\";\n        DecimalFormat weirdFormatter = new DecimalFormat(strange, unusualSymbols);\n        weirdFormatter.setGroupingSize(4);\n        String bizarre = weirdFormatter.format(12345.678);\n        System.out.println(bizarre);\n\n        Locale[] locales = {\n            new Locale(\"en\", \"US\"),\n            new Locale(\"de\", \"DE\"),\n            new Locale(\"fr\", \"FR\")\n        };\n\n        for (int i = 0; i < locales.length; i++) {\n            localizedFormat(\"###,###.###\", 123456.789, locales[i]);\n        }\n     }\n }\n\n", "There are two approaches in the standard library. One is to use java.text.DecimalFormat. The other more cryptic methods (String.format, PrintStream.printf, etc) based around java.util.Formatter should keep C programmers happy(ish).\n", "Be aware that classes that descend from NumberFormat (and most other Format descendants) are not synchronized. It is a common (but dangerous) practice to create format objects and store them in static variables in a util class. In practice, it will pretty much always work until it starts experiencing significant load.\n", "You can only tell whether the current thread holds a normal lock (Thread.holdsLock(Object)). You can't get a reference to the thread that has the lock without native code.\nHowever, if you're doing anything complicated with threading, you probably want to familiarize yourself with the java.util.concurrent packages. The ReentrantLock does allow you to get its owner (but its a protected method, so you'd have to extend this). Depending on your application, it may well be that by using the concurrency packages, you'll find that you don't need to get the lock's owner after all.\nThere are non-programmatic methods to find the lock owners, such as signaling the JVM to issue a thread dump to stderr, that are useful to determine the cause of deadlocks.\n", "Run jconsole.  It is included in the Java SDK and is run from the command line.  I'm not sure what OS you are using, but on windows you can just pass it the PID of the java process.  It should help you find the thread that is causing the problem.  Or, you can use a commercial profiler like YourKit or any number of other profilers.\n", "You can, from 1.6, use JMX to do all sorts of interesting things including finding held locks. You can't get the actual object, but you do get the class and identity hash value (which is not unique).\nThere's an example in one of my weblogs.\n", "In 1.5, you can find all the threads and get each one's state, eg like this:\n    Map<Thread,StackTraceElement[]> map = Thread.getAllStackTraces();\n    for (Map.Entry<Thread, StackTraceElement[]> threadEntry : map.entrySet()) {\n        log.info(\"Thread:\"+threadEntry.getKey().getName()+\":\"+threadEntry.getKey().getState());\n        for (StackTraceElement element : threadEntry.getValue()) {\n            log.info(\"--> \"+element);\n        }\n    }\n\nThread.getState gives you info about whether the thread is BLOCKED, WAITING etc, see jdk api ThreadState\n", "I have used Eclipse as a framework base but it was mostly just using SWT-- we didn't really use much of the RCP.\nIt really depends on what you're writing, but from what I have learned from using Eclipse it is really only suited for writing an app that involves you editing data using various views (just like editing code).\nAnything more random that than can cause you to start pushing the framework in a direction it wasn't designed and causing massive fail.\n", "You'll use Swing to develop your application because any other windowing framework is useful only if you have a previous knowledge or the appropriate background. \nYou can rely on http://www.javadocking.com/ to streamline you application. \nIf your application requirements are highly focused on the user interface, maybe you can look in another direction like Adobe Air. \n", "\nEasy to use:  I have experience developing on Eclipse and I have to say it's not easy to understand its development model. Sure for basic stuff it has some wizards that make easier, but for something a little more complex it's just difficult. I don't know about Netbeans, but I heard its easier.\nConsistent API: I think Eclipse wins in this aspect. It runs over OSGI (brings some complexity though) and has plugins extensions for pretty much everything. It seems to be the platform of choice for plugin development, so I can assume it's reliable.\nDocumentation: Eclipse wins by far. The help from eclipse site is excelent and the mailing list has plenny of users questions.\n\n", "I can't say enough about the Eclipse RCP platform. I would recommend it for any Java desktop app development. \nIt's free, has great tutorials, and allows cross-platform development of rich desktop applications that use native OS windowing toolkit, meaning that your application will look native in any platform. It also has a clean API that stays out of your way, and makes deploying to any platform a piece of cake. \nIf your interested check out this book: http://www.amazon.com/Eclipse-Rich-Client-Platform-Applications/dp/0321334612\n", "RCP has a bigger learning curve, but once you learn the basics the Eclipse IDE itself supports building RCP applications very well. I have only built a plugin for NetBeans (not build a full-fledged application), and the learning curve was lesser than for the RCP application. The book Eclipse Rich Client Platform: Designing, Coding, and Packaging Java(TM) Applications provides a detailed introduction to building RCP applications.\n", "Please see some of the open source applications at http://www.eclipse.org/community/rcp.php before opining that RCP is only for building a text editor. Thanks.\n", "Introduction to Eclipse RCP.\n", "I've done a little work with both, but only on relatively simple applications. Both seem to have roughly equal capabilities. I personally prefer the Netbeans platform as it makes more sense to me.\nYou should also consider JSR-296, the Swing Application Framework. It provides a basic framework for building Swing Applications, managing application resources, state, etc, but without as much \"baggage\" as Netbeans and Eclipse. Netbeans IDE has a number of tools for building applications on the SAF. See https://appframework.dev.java.net/ for more info.\nWithout knowing more about your application, it's hard to point you at the appropriate strengths/weaknesses of the two platforms.\n", "You need to scale sideways and out. Maybe something like a message queue could be the backend between the frontend and the crunching.\n", "The first thing I would do is construct a model of the system to map the data flow and try to understand precisely where the bottleneck lies.  If you can model your system as a pipeline, then you should be able to use the theory of constraints (most of the literature is about optimising business processes but it applies equally to software) to continuously improve performance and eliminate the bottleneck.\nNext I would collect some hard empirical data that accurately characterises the performance of your system. It is something of a clich\u00e9 that you cannot manage what you cannot measure, but I have seen many people attempt to optimise a software system based on hunches and fail miserably.\nThen I would use the Pareto Principle (80/20 rule) to choose the small number of things that will produce the biggest gains and focus only on those.\nTo scale a Java application horizontally, I have used Oracle Coherence extensively.  Although some dismiss it as a very expensive distributed hashtable, the functionality is much richer than that and you can, for example, directly access data in the cache from C++ code .\nOther alternatives for horizontally scaling your Java code would be Giga Spaces, IBM Object Grid or Gemstone Gemfire.\nIf your C++ code is stateless and is used purely for number crunching, you could look at distributing the process using ICE Grid which has bindings for all of the languages you are using.\n", "Andrew, (in addition to modeling as a pipeline etc), measuring things is important.  Have you ran a profiler over the code and got metrics of where most of the time is spent?\nFor the database code, how often does it change ?  Are you looking at caching at the moment ?  I assume you have looked at indexes etc over the data to speed up the Db ?\nWhat levels of traffic do you have on the front end ?  Are you caching web pages ?  (It isn't too hard to say use a JMS type api to communicate between components.  You can then put Web Page component on one machine (or more), and then put the integration code (c++) on another, and for many JMS products there are usually native C++ api's ie. ActiveMQ comes to mind), but it really helps to know how much of the time is in Web (JSP ?) , C++, Database ops.  \nIs the database storing business data, or is it being also used to pass data between Java and C++ ?  You say you are using shared mem not JNI ?  What level of multi-threading currently exists in the APP?  Would you describe the code as being synchronous in nature or async? \nIs there a physical relationship between the Solaris code and the devices that must be maintained (ie. do all the devices register with the c++ code, or can that be specified).  ie. if you were to put a web load balancer on the frontend, and just put 2 machines up today is the relationhip of which devices are managed by a box initialized up front or in advance? \nWhat are the HA requirements ? ie. just state info ? Can the HA be done just in the web tier by clustering Session data ?\nIs the DB running on another machine ?\nHow big is the DB ? Have you optimized your queries ie. tried using explicit inner/outer joins sometimes helps versus nested sub queries (sometmes). (again look at the sql stats).\n", "Memory performance or CPU performance? Or are they the same these days?\nMy only evidence is anecdotal and on a different platform: after porting a bunch of CPU-hungry apps to C# (.NET 2.0), I did not notice substantial loss in performance (I do not consider 10% substantial). Well written code seems to perform well on a variety of architectures.\nMost apps spend/waste time with:\n\nIO operations that will not benefit from static (compile-time) analysis.\nBad Algorithms that will not benefit from static analysis.\nBad Memory layouts in critical CPU inner loops. While it is technically possible that compilers help us here, I have yet to see a real compiler do anything interesting.\n\nSo based upon my experience, unless you are writing a video codec, there is no benefit to compiling Java apps vs. just relying upon the hotspot compilers.\n", "There was a similar discussion here recently, for the question What are advantages of bytecode over native code?. You can find interesting answers in that thread.\n", "Some more anecdotal evidence. I've worked on a few performance critical real-time trading financial applications. I agree with Frank, nearly every time your problem is not the lack of being compiled, it is your algorithm or data structure. Modern hot-spot compilers are very good with the right code, for example the CERN Colt library is within 90% of compiled, optimised Fortran for numerical work.\nIf you are worried about speed I'd really recommend a good profiler and get evidence as to where your bottlenecks are - I use YourKit and have been very pleased.\nWe have only resorted to native compiled code for speed in one instance in the last few years, and that was so we could use CUDA and get some serious GPU performance.\n", "Your question is a little large, the answer vary a lot\n\nIf you are using Just In Time compilation (JIT) or not\nWhen you are using,, if your process is executed for a long time or not\n\nAll recent JVM use JIT, but on old JVM the java code is several time slower that native code.\nIf you have a server that run for a long period of time or batch that execute the same code again and again, the difference and up being very low.\nWe wrote the same batch both in C++ and in Java and run it with different dataset, the result differ for about 3 second, with dataset taking from 5 minutes to several hours.\nBut be careful, they are special case that there will be an important difference, for example the batch that need a lot memory.\n", "Of course there is a PATH environment variable in Windows.\n\n\n%PATH%\n    This variable contains a semicolon-delimited list of directories in which the command interpreter will search for executable files. Equivalent to the UNIX $PATH variable.\n\n\n", "Windows does indeed have a PATH environment variable. It has a different syntax from the Unix one because it uses semicolon (;) as a separator instead of colon (:) and you have to watch for quoted strings that might contain spaces. But, it's there.\nIf this other program's installer adds its own directory to the PATH environment variable, then you could rely on that. However, as you mention, Windows installers typically do not need to add the application path to the PATH because they install a start menu shortcut or something else instead.\nFor drive letters in Java, one approach would be to try them all, there are only going to be at most 24 (C through Z) that are of any use. Or, you could shell out and run \"net use\" and parse the results, though that is a bit messier.\n", "http://docs.oracle.com/javase/7/docs/api/java/io/File.html#listRoots()\nFile[] roots = File.listRoots();\nfor(int i = 0; i < roots.length ; i++)\n    System.out.println(\"Root[\"+i+\"]:\" + roots[i]);\n\ngoogle: list drives java, first hit:-)\n", "Looking \"everywhere\" can be very messy.\nLook at a CD-rom drive, and it spins up. That can be very noisy.\nLook at a network drive, and it may be very slow. Maybe the server is down, and you may need to wait for minutes until it times out.\nMaybe (for Windows-machines) you should just look in the start-menu. If nothing there points at OOo, it's probably not installed. If it is, the user is probably an advanced user, that will have no problems pointing out the location manually.\n", "1) There might not be that much data available to read (the other end of the pipe might not have sent that much data yet), and the implementing class might be non-blocking (i.e. it will just return what it can, rather than waiting for enough data to fulfil the request).\nI don't know if any implementations actually behave in this way, however, but the interface is designed to permit it.\nAnother option is simply that the file gets closed part-way through the read.\n2) Either readFully() (which will always wait for enough input or else fail) or call skipBytes() in a loop.  I think the former is probably better, unless the array is truly vast.\n", "Josh Bloch has publicised this recently. It is consistent in that InputStream.read is not guaranteed to read as many bytes as it could. However, it is utterly pointless as an API method. InputStream should probably also have readFully.\n", "It turns out that readFully() adds more performance overhead than I was willing to put up with.\nIn the end I compromised: I call skipBytes() once, and if that returns fewer than the right number of bytes, I call readFully() for the remaining bytes.\n", "I wonder how widespread the JVM actually is? In the case of Flash, IE5 preinstalled it, giving it a large automatic user base. But unless the JVM was included with the OS install, users wouldn't have it. I suppose as a developer you target the largest install base, meaning choosing Flash over Java.\nThere are Java applets here and there; definitely not widespread though.\n", "i believe it's their ugliness that kept them away from the modern web. flash brought the design, javascript brought a convenient way to make some cool things on a client. being a box inside a browser (just like a flash, though, but much uglier) applet technology was put away.\nactually, the only thing that might be missed is the possibility to have a 'client-server' type of communication inside the web, because java applet could have a stateful connection. on the other hand, you would have to put some server on the other side and open a port for it, which just was too much house-work for shared hosting environments.\napplets still live in some different areas, like control centers for roads, tunnels, power plants and stuff like that.\n", "People still use applets. But you are right, there are tons of different solutions out there. For example, take a look at javafx\n", "I think compatibility issues were a big problem.  Most notably with IE and Microsoft's Java VM which wasn't as standards compliant as it might have been.\nEven with the Sun JVM you could have problems.  I've had fun where I've had two 3rd-party Applets requiring different versions of Java which causes all sorts of problems.  Sun have tried to solve this problem by replacing Applets with Java Web Start which gives you a link in the browser that launches the application in it's own window instead of inside the browser.  (In theory with JWS you can have different applications using different VMs but it never seems to work for me as well as it should.)\nAdvancements with JavaScript have also made it possible to developer much richer web pages so a lot of things in the past that you could only do in Applets can now be done simply with AJAX. \n", "I see them a lot in acedemic settings (hosted on department or faculty sites), but you're right in that they are not very popular.\nHowever, remember that Java's big promise has been achieved. We have Flash, Java Applets, Silverlight, and ever-improving JavaScript frameworks.\nNow if I made add a personal opinion - I think that Java applets are inelegant. They tend to look ugly, the Java runtime makes its presence in the OS far too known (in terms of runtime visuals, updates, and the ugly installer). Flash is much better with its rich media environment and its transparent (and ubiquitous) deployment.\n", "I think Java applets were overshadowed by Flash and ActionScript (pun unintended), being much easier to use for what Java Applets were being used at the time (animations + stateful applications). \nFlash's success in this respect in turn owes to its much smaller file sizes, as well as benefiting from the Sun vs. Microsoft suit that resulted in Microsoft removing the MSJVM from Internet Explorer, at a time of Netscape's demise and IE's heavy dominance.\n", "By the time Java's GUI API stopped totally sucking, everyone was using Flash. And even today, Java is no where near as good as Flash at doing fancy graphics.\n", "The JVM is very widespread, especially in the coorporate world, at least where I've worked, there was always a JVM installed.\nI'm currently working on a Java Applet, but in general, I would never an applet unless I had to. But then again, I wouldn't use Flash or Silverlight, either. Applets have a slow load time, and look out of place in webpages. Also, Macromedia/Adobe have outmarketed the good ol' applets.\n", "I assume it's because java is a \"real\", ie. general purpose language. To make an applet, you have to write code, and there aren't any shortcuts.\nNow that flash etc have come along, you can pretty much just drap and drop your way through making a cool animation for your website. This is a much lower barrier for entry - you don't have to know how to program in order to get a flash animation working. So flash proliferates, and java applets are hardly used anymore.\n", "I think applets are collateral damage in the battle between Microsoft and Sun.\nAt first, the JVM was very slow to load and demanded too much memory.\nThen, when increase in computing power made the JVM possible, Sun played hard as it attempted to control all things Java:\n\nAs part of another private antitrust lawsuit filed against Microsoft by Sun in March, Sun sought a preliminary injunction requiring Microsoft to include a current Java virtual machine (JVM) in the Windows XP operating system. Microsoft said the decision to include the JVM this week is a direct result of the latest legal entanglement with Sun, but Microsoft plans to disband support for Java in Windows following Jan. 1, 2004. Microsoft Reverses Course, Will Include Java VM In Windows XP--For Now\n\n", "1) AWT made for horrid UIs. Swing improved on that but it was too late, because...\n2) Microsoft dropped support for Java in the browser (its propietary MSJVM), and before it did, it would only support the last version it released, which was roughly JDK 1.1 compatible.\n3) So today you cannot be sure that an applet will run on the majority of non-developer machines, unlike flash.   \nSame can be said of ActiveX by the way.\n", "They took forever to load up and get going in the browser, and then for a lot of people they didn't work. When they finally did load, the interfaces were ugly and clunky. I think the poor user experience was a big step towards making applets obsolete.\nSo to answer the original question I have a question of my own - you ask \"Why don't sites use java applets anymore\", and my response is \"why would anyone want to?\"\n", "Could you clarify a bit?  Do you mean IPC in a single JVM? (Multiple threads, yes, but at an OS-level only one process.)  Or do you mean multiple JVMs?  (And truly OS-level inter process communications.)\nIf it is the first, then maybe something out of java.util.concurrent, like ConcurrentLinkedQueue would do the trick.  (I pass message around inbetween my threads with classes from java.util.concurrent with success.)\nIf the later, then I'm going to just guess and suggest taking a look at RMI, although I don' think it qualifies as fully reliable--you'd have to manage that a bit more 'hands on' like.\n", "I recommend looking into the entire java.util.concurrent package, which have multiple classes for dealing with concurrency and different communication means between threads. All depends on what you want to achieve, as your question is pretty general.\n", "Assuming the scenario 1 JVM, multiple threads then indeed java.util.concurrent is the place to look, specifically the various Queue implementations. However an abstraction on top of that may be nice and there Jetlang looks very interesting, lightweight Java message passing.\n", "For visualization our group had some success with prefuse.  We extended it to handle architectural floorplates and bubble diagraming, and it didn't complain too much.  They have a new Flex toolkit out too called Flare that uses a very similar API.\nUPDATE:\nI'd have to agree with the comment, we ended up writing a lot of custom functionality/working around prefuse limitations.  I  can't say that starting from scratch would have been better though as we were able to demonstrate progress from day 1 by using prefuse.  On the other hand if we were doing a second implementation of the same stuff, I might skip prefuse since we'd understand the requirements a lot better.\n", "In a university project I toyed around with yFiles by yWorks and found it had pretty good API. \n", "If you are actually looking for Charting libraries and not for Node/Edge Graph libraries I would suggest splurging on Big Faceless Graph library (BFG).  It's way easier to use than JFreeChart, looks nicer, runs faster, has more output options, really no comparison.\n", "JUNG is a good option for visualisation, and also has a fairly good set of available graph algorithms, including several different mechanisms for random graph creation, rewiring, etc. I've also found it to be generally fairly easy to extend and adapt where necessary.\n", "I don't know if I'd call it production-ready, but there's jGABL.\n", "Check out JGraphT for a very simple and powerful Java graph library that is pretty well done and, to allay any confusion, is different than JGraph. Some sample code:\nUndirectedGraph<String, DefaultEdge> g =\n        new SimpleGraph<String, DefaultEdge>(DefaultEdge.class);\n\n    String v1 = \"v1\";\n    String v2 = \"v2\";\n    String v3 = \"v3\";\n    String v4 = \"v4\";\n\n    // add the vertices\n    g.addVertex(v1);\n    g.addVertex(v2);\n    g.addVertex(v3);\n    g.addVertex(v4);\n\n    // add edges to create a circuit\n    g.addEdge(v1, v2);\n    g.addEdge(v2, v3);\n    g.addEdge(v3, v4);\n    g.addEdge(v4, v1);\n\n", "If you were using JGraph, you should give a try to JGraphT which is designed for algorithms.  One of its features is visualization using the JGraph library. It's still developed, but pretty stable. I analyzed the complexity of JGraphT algorithms some time ago.  Some of them aren't the quickest, but if you're going to implement them on your own and need to display your graph, then it might be the best choice.  I really liked using its API, when I quickly had to write an app that was working on graph and displaying it later.\n", "I could only make it working like this:\npublic class Test<E> {  \n\n    private E e;  \n\n    public void setE(E e) {  \n        this.e = e;  \n    }\n\n    public boolean sameClassAs(Object o) {  \n\n        return (o.getClass().equals(e.getClass()));  \n    }\n\n    public boolean sameClassAs2(Object o) {  \n        return e.getClass().isInstance(o);  \n    }\n}\n\n", "The method I've always used is below. It is a pain and a bit ugly, but I haven't found a better one. You have to pass the class type through on construction, as when Generics are compiled class information is lost.\npublic class Test<E> {\n    private Class<E> clazz;\n    public Test(Class<E> clazz) {\n       this.clazz = clazz;\n    }\n    public boolean sameClassAs(Object o) {\n        return this.clazz.isInstance(o);\n    }\n}\n\n", "An instance of Test has no information as to what E is at runtime. So, you need to pass a Class<E> to the constructor of Test.\npublic class Test<E> {\n    private final Class<E> clazz;\n    public Test(Class<E> clazz) {\n        if (clazz == null) {\n            throw new NullPointerException();\n        }\n        this.clazz = clazz;\n    }\n    // To make things easier on clients:\n    public static <T> Test<T> create(Class<T> clazz) {\n        return new Test<T>(clazz);\n    }\n    public boolean sameClassAs(Object o) {\n        return o != null && o.getClass() == clazz;\n    }\n}\n\nIf you want an \"instanceof\" relationship, use Class.isAssignableFrom instead of the Class comparison. Note, E will need to be a non-generic type, for the same reason Test needs the Class object.\nFor examples in the Java API, see java.util.Collections.checkedSet and similar.\n", "You want SVNKit.  It's dual-licensed, so you have to pay only if you're doing commercial work with it.\n", "I'm guessing you are using a native-code\u2013based database driver (JDBC driver type 1 or 2). And I'm guessing that driver is buggy. If you could provide more information about the driver and your datasource configuration or connection string, it might help determine some answers.\n", "JVMTI is the debugging and profiling protocol. So, I'm guessint it's something peculiar to the environment you are attempting to run your application in.\n", "I'm with Tom on this one, it looks like your debugger / JVMTI agent is passing a NULL value to the JVM through the JVMTI interface.  This particular error is probably not a problem with your application code.\n", "I doubt you want to do it programmatically unless you just want to do it once and store it for future use.  It's a costly thing to do.  There's no sizeof() operator in Java, and even if there was, it would only count the cost of the references to other objects and the size of the primitives.\nOne way you could do it is to serialize the thing to a File and look at the size of the file, like this:\nSerializable myObject;\nObjectOutputStream oos = new ObjectOutputStream (new FileOutputStream (\"obj.ser\"));\noos.write (myObject);\noos.close ();\n\nOf course, this assumes that each object is distinct and doesn't contain non-transient references to anything else.\nAnother strategy would be to take each object and examine its members by reflection and add up the sizes (boolean & byte = 1 byte, short & char = 2 bytes, etc.), working your way down the membership hierarchy.  But that's tedious and expensive and ends up doing the same thing the serialization strategy would do.\n", "There isn't a method call, if that's what you're asking for. With a little research, I suppose you could write your own. A particular instance has a fixed sized derived from the number of references and primitive values plus instance bookkeeping data. You would simply walk the object graph. The less varied the row types, the easier.\nIf that's too slow or just more trouble than it's worth, there's always good old-fashioned  row counting rule-of-thumbs.\n", "If you would just like to know how much memory is being used in your JVM, and how much is free, you could try something like this:\n// Get current size of heap in bytes\nlong heapSize = Runtime.getRuntime().totalMemory();\n\n// Get maximum size of heap in bytes. The heap cannot grow beyond this size.\n// Any attempt will result in an OutOfMemoryException.\nlong heapMaxSize = Runtime.getRuntime().maxMemory();\n\n// Get amount of free memory within the heap in bytes. This size will increase\n// after garbage collection and decrease as new objects are created.\nlong heapFreeSize = Runtime.getRuntime().freeMemory();\n\nedit: I thought this might be helpful as the question author also stated he would like to have logic that handles \"read as many rows as possible until I've used 32MB of memory.\"\n", "You have to walk the objects using reflection.  Be careful as you do:\n\nJust allocating an object has some overhead in the JVM.  The amount varies by JVM so you might make this value a parameter.  At least make it a constant (8 bytes?) and apply to anything allocated.\nJust because byte is theoretically 1 byte doesn't mean it takes just one in memory.\nThere will be loops in object references, so you'll need to keep a HashMap or somesuch using object-equals as the comparator to eliminate infinite loops.\n\n@jodonnell: I like the simplicity of your solution, but many objects aren't Serializable (so this would throw an exception), fields can be transient, and objects can override the standard methods.\n", "You have to measure it with a tool, or estimate it by hand, and it depends on the JVM you are using.\nThere is some fixed overhead per object. It's JVM-specific, but I usually estimate 40 bytes. Then you have to look at the members of the class. Object references are 4 (8) bytes in a 32-bit (64-bit) JVM. Primitive types are: \n\nboolean and byte: 1 byte\nchar and short: 2 bytes\nint and float: 4 bytes\nlong and double: 8 bytes\n\nArrays follow the same rules; that is, it's an object reference so that takes 4 (or 8) bytes in your object, and then its length multiplied by the size of its element.\nTrying to do it programmatically with calls to Runtime.freeMemory() just doesn't give you much accuracy, because of asynchronous calls to the garbage collector, etc. Profiling the heap with -Xrunhprof or other tools will give you the most accurate results.\n", "Firstly \"the size of an object\" isn't a well-defined concept in Java. You could mean the object itself, with just its members, the Object and all objects it refers to (the reference graph). You could mean the size in memory or the size on disk. And the JVM is allowed to optimise things like Strings.\nSo the only correct way is to ask the JVM, which a good profiler (I use YourKit), which probably isn't what you want.\nHowever, from the description above it sounds like each row will be self-contained, and not have a big dependency tree, so the serialization method will probably be a good approximation on most JVMs. The easiest way to do this is as follows:\n Serializable ser;\n ByteArrayOutputStream baos = new ByteArrayOutputStream();\n ObjectOutputStream oos = new ObjectOutputStream(baos);\n oos.writeObject(ser);\n oos.close();\n return baos.size();\n\nRemember that if you have objects with common references this will not give the correct result, and size of serialization will not always match size in memory, but it is a good approximation. The code will be a bit more efficient if you initialise the ByteArrayOutputStream size to a sensible value.\n", "Some years back Javaworld had an article on determining the size of composite and potentially nested Java objects, they basically walk through creating a sizeof() implementation in Java. The approach basically builds on other work where people experimentally identified the size of primitives and typical Java objects and then apply that knowledge to a method that recursively walks an object graph to tally the total size.\nIt is always going to be somewhat less accurate than a native C implementation simply because of the things going on behind the scenes of a class but it should be a good indicator.\nAlternatively a SourceForge project appropriately called sizeof that offers a Java5 library with a sizeof() implementation.\nP.S. Do not use the serialization approach, there is no correlation between the size of a serialized object and the amount of memory it consumes when live.\n", "You can use the java.lang.instrument package\nCompile and put this class in a JAR:\nimport java.lang.instrument.Instrumentation;\n\npublic class ObjectSizeFetcher {\n    private static Instrumentation instrumentation;\n\n    public static void premain(String args, Instrumentation inst) {\n        instrumentation = inst;\n    }\n\n    public static long getObjectSize(Object o) {\n        return instrumentation.getObjectSize(o);\n    }\n}\n\nAdd the following to your MANIFEST.MF:\nPremain-Class: ObjectSizeFetcher\n\nUse getObjectSize:\npublic class C {\n    private int x;\n    private int y;\n\n    public static void main(String [] args) {\n        System.out.println(ObjectSizeFetcher.getObjectSize(new C()));\n    }\n}\n\nInvoke with:\njava -javaagent:ObjectSizeFetcherAgent.jar C\n\n", "Run a command inside a timer like pinging the server..\n", "Wouldn't it be easier to disable the power management on the server?  It might be argued that servers shouldn't go into powersave mode?\n", "I have a very brute-force technique of moving the mouse 1 point in the x direction and then back every 3 minutes.\nThere may me a more elegant solution but it's a quick fix.\n", "On Windows, use the SystemParametersInfo function.  It's a Swiss army-style function that lets you get/set all sorts of system settings.\nTo disable the screen shutting off, for instance:\nSystemParametersInfo( SPI_SETPOWEROFFACTIVE, 0, NULL, 0 );\n\nJust be sure to set it back when you're done...\n", "I'd just do a function (or download a freebie app) that moves the mouse around. Inelegant, but easy.\n", "I use this code to keep my workstation from locking. It's currently only set to move the mouse once every minute, you could easily adjust it though.\nIt's a hack, not an elegant solution.\nimport java.awt.*;\nimport java.util.*;\npublic class Hal{\n\n    public static void main(String[] args) throws Exception{\n        Robot hal = new Robot();\n        Random random = new Random();\n        while(true){\n            hal.delay(1000 * 60);\n            int x = random.nextInt() % 640;\n            int y = random.nextInt() % 480;\n            hal.mouseMove(x,y);\n        }\n    }\n}\n\n", "Wouldn't all the suggestions moving the mouse back and forth drive the user crazy?  I know I'd remove any app that would do that as soon as I can isolate it.\n", "I've been using pmset to control sleep mode on my Mac for awhile now, and it's pretty easy to integrate. Here's a rough example of how you could call that program from Java to disable/enable sleep mode. Note that you need root privileges to run pmset, and therefore you'll need them to run this program.\nimport java.io.BufferedInputStream;\nimport java.io.IOException;\n\n/**\n * Disable sleep mode (record current setting beforehand), and re-enable sleep\n * mode. Works with Mac OS X using the \"pmset\" command.\n */\npublic class SleepSwitch {\n\n    private int sleepTime = -1;\n\n    public void disableSleep() throws IOException {\n        if (sleepTime != -1) {\n            // sleep time is already recorded, assume sleep is disabled\n            return;\n        }\n\n        // query pmset for the current setting\n        Process proc = Runtime.getRuntime().exec(\"pmset -g\");\n        BufferedInputStream is = new BufferedInputStream(proc.getInputStream());\n        StringBuffer output = new StringBuffer();\n        int c;\n        while ((c = is.read()) != -1) {\n            output.append((char) c);\n        }\n        is.close();\n\n        // parse the current setting and store the sleep time\n        String outString = output.toString();\n        String setting = outString.substring(outString.indexOf(\" sleep\\t\")).trim();\n        setting = setting.substring(7, setting.indexOf(\" \")).trim();\n        sleepTime = Integer.parseInt(setting);\n\n        // set the sleep time to zero (disable sleep)\n        Runtime.getRuntime().exec(\"pmset sleep 0\");\n    }\n\n    public void enableSleep() throws IOException {\n        if (sleepTime == -1) {\n            // sleep time is not recorded, assume sleep is enabled\n            return;\n        }\n\n        // set the sleep time to the previously stored value\n        Runtime.getRuntime().exec(\"pmset sleep \" + sleepTime);\n\n        // reset the stored sleep time\n        sleepTime = -1;\n    }\n}\n\n", "I've heard stories of people getting a large sub-woofer, then duct taping a box lid to the top. You can then put the mouse in the box and turn up the music. Preferably something with a lot of bass that will keep the mouse moving around.\n", "You can use the program Caffeine caffiene to keep your workstation awake.  You could run the program via the open command in os X.\n", "You seem to be closing the connection properly - except for the case where prepStmt.close() throws a SQLException, I can't find a connection leak.\nWhat pool implementation are you using? When you close a connection, the pool need not close the underlying MySQL connection immediately - after all that is the point of a connection pool! So from MySQL side, the connections would look alive, although your app is not using any; they might simply be held by the TC connection pool.\nYou might want to experiment with the settings of the connection pool.Ask it to shrink the pool when the system is idle. Or, ask it to refresh all connections periodically. Or, have a strict upper bound on the number of concurrent connections it ever gets from MySQL etc.\nOne way to check if your code has a connection leak is to force the ds.getConnection() to always open a new physical connection and conn.close() to release the connection (if your connection pool has settings for those). Then if you watch the connections on MySQL side, you might be able to figure out if the code really has a connection leak or not.\n", "One thing that @binil missed, you are not closing the result set in the case of an exception.  Depending on the driver implementation this may cause the connection to stay open.  Move the result.close() call to the finally block.  \n", "This is a similar question - Connection Pool Settings for Tomcat \nThis is my response to that question and it fixed the problem for the other guy. It may help you out too.\nTomcat Documentation\nDBCP uses the Jakarta-Commons Database Connection Pool. It relies on number of Jakarta-Commons components:\n* Jakarta-Commons DBCP\n* Jakarta-Commons Collections\n* Jakarta-Commons Pool\n\nI'm using the same connection pooling stuff and I'm setting these properties to prevent the same thing it's just not configured through tomcat.\nBut if the first thing doesn't work try these.\ntestWhileIdle=true\ntimeBetweenEvictionRunsMillis=300000\n\n", "Ok I might have this sorted. I have changed the database config resource to the following:\n*SNIP*\nmaxActive=\"10\"\nmaxIdle=\"5\"\nmaxWait=\"7000\"\nremoveAbandoned=\"true\"\nlogAbandoned=\"false\"\nremoveAbandonedTimeout=\"3\"\n*SNIP*\n\nThis works well enough for now. What is happening, afaik, is that once I reach the ten connections then Tomcat is checking for abandoned connections (idle time > 3). It does this in a batch job each time that max connections is reached. The potential issue with this is if i need more than 10 queries run at the same time (not unique to me). The important thing is that removeAbandonedTimeout is less than maxWait.\nIs this what should be happening? ie Is this the way that the pool should operate? If it is is seems, at least to me, that you would wait until something (the connection) is broken before fixing rather than not letting it 'break' in the first place. Maybe I am still not getting it.\n", "LOB/CLOB column may not be large enough.  Hibernate has some default column sizes for LOB/CLOB that are relatively small (may depend on db).  Anyway, try something like this:\n@Lob \n@Column(length=2147483648)\n\nAdjust the length (in bytes) based on your needs.\n", "Many JDBC drivers, early versions of Oracle in particular, have problems while inserting LOBs. Did you make sure that the query Hibernate fires, with the same parameters bound works successfully in your JDBC driver?\n", "Try using:\nlog4j.logger.net.sf.hibernate=DEBUG\nlog4j.logger.org.hibernate=DEBUG\n\nThat's the finest level you'll get. If it does not show the information you want, then it's not possible.\n", "Well, it looks like you can't. (Thanks Marcio for the suggestion, but sadly that didn't add anything useful)\n", "Try to set log4j.logger.org.hibernate.type=TRACE and see if that helps.\n", "yes, you can write a wrapper class around your connection pool, and a wraper around the connection\nso lets say you have:\n\nOracleConnection conn=connectionPool.getConnection(\"java:scott@mydb\");\n\nChange it to:\n\npublic class LoggingConnectionPool extends ConnectionPool{\n    public OracleConnection getConnection(String datasourceName, String module, String action){\n        OracleConnection conn=getConnection(datasourceName);\n        CallableStatement call=conn.preparedCall(\"begin dbms_application_info.setModule(module_name => ?, action_name => ?); end;\");\n        try{\n            call.setString(1,module);\n            call.setString(2,action);\n            call.execute();\n        finally{\n            call.close();\n        }\n        return new WrappedOracleConnection(conn);\n    }\n\nNote the use of WrappedOracleConnection above. You need this because you need to trap the close call\n\npublic class WrappedOracleConnection extends OracleConnection{\n    public void close(){\n        CallableStatement call=this.preparedCall(\"begin dbms_application_info.setModule(module_name => ?, action_name => ?); end;\");\n        try{\n            call.setNull(1,Types.VARCHAR);\n            call.setNull(2,Types.VARCHAR);\n            call.execute();\n        finally{\n            call.close();\n        }\n    }\n\n    // and you need to implement every other method\n    //for example\n    public CallableStatement prepareCall(String command){\n        return super.prepareCall(command);\n    }\n    ...\n}\n\nHope this helps, I do something similar on a development server to catch connections that are not closed (not returned to the pool).\n", "I believe you need to add the cache annotations to tell hibernate how to use the second-level cache (read-only, read-write, etc). This was the case in my app (using spring / traditional hibernate and ehcache, so your mileage may vary). Once the caches were indicated, I started seeing messages that they were in use from hibernate.\n", "Follow-up: in the end, after adding annotations, I have it working with EhCache, i.e.\n<property name=\"hibernate.cache.provider_class\" \n          value=\"net.sf.ehcache.hibernate.EhCacheProvider\" />\n\n", "I think, the easiest way is a socket connection to a whois server on port 43. Send the domainname followed by a newline and read the response.\n", "Here's the Java solution, which just opens up a shell and runs whois:\nimport java.io.*;\nimport java.util.*;\n\npublic class ExecTest2 {\n    public static void main(String[] args) throws IOException {\n        Process result = Runtime.getRuntime().exec(\"whois stackoverflow.com\");\n\n        BufferedReader output = new BufferedReader(new InputStreamReader(result.getInputStream()));\n        StringBuffer outputSB = new StringBuffer(40000);\n        String s = null;\n\n        while ((s = output.readLine()) != null) {\n            outputSB.append(s + \"\\n\");\n            System.out.println(s);\n        }\n\n        String whoisStr = output.toString();\n    }\n}\n\n", "Thomas' answer will only work if you know which \"whois\" server to connect to.\nThere are many different ways of finding that out, but none (AFAIK) that works uniformly for every domain registry.\nSome domain names support an SRV record for the _nicname._tcp service in the DNS, but there are issues with that because there's no accepted standard yet on how to prevent a subdomain from serving up SRV records which override those of the official registry (see http://tools.ietf.org/html/draft-sanz-whois-srv-00).\nFor many TLDs it's possible to send your query to <tld>.whois-servers.net.  This actually works quite well, but beware that it won't work in all cases where there are officially delegated second level domains.\nFor example in .uk there are several official sub-domains, but only some of them are run by the .uk registry and the others have their own WHOIS services and those aren't in the whois-servers.net database.\nConfusingly there are also \"unofficial\" registries, such as .uk.com, which are in the whois-servers.net database.\np.s. the official End-Of-Line delimiter in WHOIS, as with most IETF protocols is CRLF, not just LF.\n", "\nWrite a function to swap variable values using pointers (Really poor ones will fall for this)\nWrite a program to find the distance between two points in the XY plane. Make use of a class to store the points.\nDemonstrate the use of polymorphism in java using as simple program.\nWrite a program to print the first n prime numbers.\nWrite a program to replace a string in a file with another.\n\n", "Is there any reason why it has to be on a whiteboard?  Personally, I'd rather sit them in front of a keyboard and have them write some code.  Our test used to be a simple 100 (IIRC) line Swing text editor.  We then broke it a few simple ways, some making the code not compile and some a little more subtle, and gave the candidates half and hour and a list of problems to fix.\nEven if you can't have them do anything hands on make sure that you do give them some explicitly technical questions.  In another round of interviews there were a surprising number of recent graduates who were  just buzzword-spouting IDE-jockeys, so they could look OKish waving their hands around in front of a whiteboard talking about Enterprise-this and SOA-that, but when given a simple Java fundamentals multiple choice exam asking things about what final and protected meant did horrifyingly badly.\n", "Some stuff that has showed up on SO:\n\nIsPalindrome(string s)\nReverseWordsInString(string s): \"I know java\" --> \"java know I\"\n\nOther stuff that springs to mind:\n\nmultiply a Vector with a Matrix (can this be done OO-Style?)\necho (yes, a simple clone of the unix tool)\ncat (15 min should be enough, should weed out the clueless)\na simple container for ints. Like ArrayList. Bonus question: Generic?\n\n", "I've always thought that algorithmic questions should be language agnostic. If you want to test the java level of a student, focus on the language: its keywords (from common one like static to more exotic one, like volatile), generics, overloading, boxing/unboxing of variable, standard libraries.\n", "I agree with Nicolas in regards to separating the algorithmic questions from the actual language questions. \nOne thing that you might want to consider is giving them a couple simple algorithm questions that they can write up the pseudo code for on the white board (ex. \"Explain to me the Bubble sort and show me the pseudo code for it.\" \nThen once they have demonstrated their algorithmic knowledge you can move on to the Java questions. Since some people work better in front of a computer than in front of the whiteboard, I would give them something simple, but leveraging their knowledge of Java, that they can implement in 30 minutes or so in using the same IDE that you are using at the company. This way if they claim to know the IDE you can also get an idea of how well they know it.\n", "\nWrite a function that merges two sorted lists -- stopping at limit. Look for the easy optimizations and correct boundary checks / sublist calls. Tell them T implements compareTo.\npublic List<T> merge(List<T> one, List<T> two, int limit)\nWrite a function that returns true if any two integers in the array sum to the given sum. Have them try to do better than n squared using some sort of set or data structure.\npublic boolean containsSum(int[] nums, int sum)\n\n", "I would avoid asking them questions that would have been covered in their undergrad classes.  I would be more curious about their ability to apply everything they've learned to solve complex technical problems.  If your business has a specific need for an IT solution you could use that as a starting point.  You could ask the candidate what technologies they would use and the pros and cons of using those technologies versus alternate technologies.  As the discussion progresses you could get a feel for their technical skills, problem solving skills, interpersonal skills, etc.  I think it is important to avoid coaching them, even in awkward moments.  This is important to weed out the BSers.\n", "Usually when an application is in \"full screen\" mode it will take over the entire desktop.  For a user to get to another window they would have to alt-tab to it.  At that point windows would minimize the full screen app so that the other application could come to the front. \nThis sounds like it may be a bug (undocumented feature...) in windows.  It should probably not be doing this for a dual screen setup.  \nOne option to fix this is rather than setting it to be \"full screen\" just make the window the same size as the screen with location (0,0).  You can get screen information from the GraphicsConfigurations on the GraphicsDevice.  \n", "The following code works (thank you John). With no full screen and a large \"always on top\" window.\nBut I still don't know why windows caused this stranged behavior...\nprivate Window initFullScreenWindow() {\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    GraphicsDevice[] gds = ge.getScreenDevices();\n    GraphicsDevice gd = gds[1];\n    JWindow window = new JWindow(gd.getDefaultConfiguration());\n    window.setContentPane(getJFSPanel());\n    window.setLocation(1280, 0);\n    window.setSize(gd.getDisplayMode().getWidth(), gd.getDisplayMode().getHeight());\n    window.setAlwaysOnTop(true);\n    //gd.setFullScreenWindow(window);\n    return window;\n}\n\n", "Here is an in length discussion about the topic. It includes discussion about different compilers and IDEs.\n", "To compile the Java program MyJavaProg.java, type:\ngcj -c -g -O MyJavaProg.java\n\nTo link it, use the command:\ngcj --main=MyJavaProg -o MyJavaProg MyJavaProg.o\n\nand then linking to create an executable mycxxprog.exe\ng++ -o mycxxprog.exe mycxxprog.o\n\n", "This is possible with Adobe's Flash Media Server. Red5 is an open source alternative. The protocol they use for this is RTMP.\n", "On the server side, you have three alternatives:\n\nAdobe's Flash Media Server\nRed5, an open source version\nWowza Media Server Pro, a commercial alternative\n\nYou can either run any of these on your own server or else go for a web provider (I found this list to be helpful)\nOn the client side, you'll need a flash file for the user interface. Red5 and Wowza some with the source code for their example recorders so it's easy to customize these for your own use.\n", "In addition to the above choices, you can also use haxevideo (open source)\n", "java.util.Properties is based on Hashtable, which does not store its values in alphabetical order, but in order of the hash of each item, that is why you are seeing the behaviour you are.\n", "java.util.Properties is a subclass of  java.util.Hashtable.  ('Hash', being the key here.)You'd have to come up with your own customer implementation based on something that keeps/defines order...like a TreeMap.\n", "You could sort the keys first, then loop through the items in the properties file and write them to the xml file.\npublic static void main(String[] args){\n        String propFile = \"/tmp/test2.xml\";\n        Properties props = new Properties();\n        props.setProperty(\"key\", \"value\");\n        props.setProperty(\"key1\", \"value1\");\n        props.setProperty(\"key2\", \"value2\");\n        props.setProperty(\"key3\", \"value3\");\n        props.setProperty(\"key4\", \"value4\");\n\n        try {\n            BufferedWriter out = new BufferedWriter(new FileWriter(propFile));\n            List<String> list = new ArrayList<String>();\n            for(Object o : props.keySet()){\n                list.add((String)o);\n            }\n            Collections.sort(list);\n            out.write(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n\");\n            out.write(\"<!DOCTYPE properties SYSTEM \\\"http://java.sun.com/dtd/properties.dtd\\\">\\n\");\n            out.write(\"<properties>\\n\");\n            out.write(\"<comment/>\\n\");\n            for(String s : list){\n                out.write(\"<entry key=\\\"\" + s + \"\\\">\" + props.getProperty(s) + \"</entry>\\n\");\n            }\n            out.write(\"</properties>\\n\");\n            out.flush();\n            out.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n", "You could try this:\nMake a new class that does what java.util.XMLUtils does but in the save method change this:\nSet keys = props.keySet();\nIterator i = keys.iterator();\n\nto\nSet keys = props.keySet();\nList<String> newKeys = new ArrayList<String>();\nfor(Object key : keys)\n{\n   newKeys.add(key.toString());\n}\nCollections.sort(newKeys);\nIterator i = newKeys.iterator();\n\nExtend properties and override the Properties class storeToXML method to call your new class's save method.\n", "Why do you want the XML file to be sorted in the first place?  Presumably, there is another piece of code that reads the file and puts the data in another Properties object.  Do you want to do this so you can manually find and edit entries in the XML file?\n", "The simplest hack would be to override keySet. A bit of a hack, and not guaranteed to work in future implementations:\nnew Properties() {\n    @Override Set<Object> keySet() {\n        return new TreeSet<Object>(super.keySet());\n    }\n}\n\n(Disclaimer: I have not even tested that it compiles.)\nAlternatively, you could use something like XSLT to reformat the produced XML.\n", "Here's a quick and dirty way to do it:\nString propFile = \"/path/to/file\";\nProperties props = new Properties();\n/*set some properties here*/\nProperties tmp = new Properties() {\n\n  @Override\n  public Set<Object> keySet()\n  {\n    return Collections.unmodifiableSet(new TreeSet<Object>(super.keySet()));\n  }\n\n};\ntmp.putAll(props);\ntry {\n    FileOutputStream xmlStream = new FileOutputStream(propFile);\n    /*this comes out SORTED! */\n    tmp.storeToXML(xmlStream,\"\");\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\nHere are the caveats:\n\nThe tmp Properties (an anonymous\nsubclass) doesn't fulfill the\ncontract of Properties.\n\nFor example, if you got its keySet and tried to remove an element from it, an exception would be raised. So, don't allow instances of this subclass to escape! In the snippet above, you are never passing it to another object or returning it to a caller who has a legitimate expectation that it fulfills the contract of Properties, so it is safe.\n\nThe implementation of\nProperties.storeToXML could change,\ncausing it to ignore the keySet\nmethod.\n\nFor example, a future release, or OpenJDK, could use the keys() method of Hashtable instead of keySet. This is one of the reasons why classes should always document their \"self-use\" (Effective Java Item 15). However, in this case, the worst that would happen is that your output would revert to unsorted.\n\nRemember that the Properties storage\nmethods ignore any \"default\"\nentries.\n\n", "If you use DecimalFormat and specify # in the pattern it only displays the value if it is not zero.\nSee my question How do I format a number in java?\nSample Code\n DecimalFormat format = new DecimalFormat(\"###.##\");\n\n    double[] doubles = {123.45, 99.0, 23.2, 45.0};\n    for(int i=0;i<doubles.length;i++){\n        System.out.println(format.format(doubles[i]));\n    }\n\n", "Check out the DecimalFormat class, e.g. new DecimalFormat(\"0.##\").format(99.0) will return \"99\".\n", "new Formatter().format( \"%f\", myFloat )\n\n", "Show us a small section of your code.\npackage inputverifier;\n\nimport javax.swing.*;\n\n    class Go {\n    public static void main(String[] args) {\n        java.awt.EventQueue.invokeLater(new Runnable() { public void run() {\n            runEDT();\n        }});\n    }\n    private static void runEDT() {\n        new JFrame(\"combo thing\") {{\n            setLayout(new java.awt.GridLayout(2, 1));\n            add(new JComboBox() {{\n                setEditable(true);\n                setInputVerifier(new InputVerifier() {\n                    @Override public boolean verify(JComponent input) {\n                        System.err.println(\"Hi!\");\n                        return true;\n                    }\n                });\n            }});\n            add(new JTextField());\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\n            pack();\n            setVisible(true);\n        }};\n    }    \n}\n\nLooks like it's a problem with JComboBox being a composite component. I'd suggest avoiding such nasty UI solutions.\n", "I found a workaround. I thought I'd let the next person with this problem know about. \nBasically. Instead of setting the inputVerifier on the ComboBox you set it to it's \"Editor Component\". \nJComboBox combo = new JComboBox();\nJTextField tf = (JTextField)(combo.getEditor().getEditorComponent());\ntf.setInputVerifier(verifyer);\n\n", "The only way I can think of doing it is by invoking a command line application that does the job for you and then screenscraping the output (like Linux's ps and Window's tasklist). \nUnfortunately, that'll mean you'll have to write some parsing routines to read the data from both.\nProcess proc = Runtime.getRuntime().exec (\"tasklist.exe\");\nInputStream procOutput = proc.getInputStream ();\nif (0 == proc.waitFor ()) {\n    // TODO scan the procOutput for your data\n}\n\n", "This is another approach to parse the the process list from the command \"ps -e\":\ntry {\n    String line;\n    Process p = Runtime.getRuntime().exec(\"ps -e\");\n    BufferedReader input =\n            new BufferedReader(new InputStreamReader(p.getInputStream()));\n    while ((line = input.readLine()) != null) {\n        System.out.println(line); //<-- Parse data here.\n    }\n    input.close();\n} catch (Exception err) {\n    err.printStackTrace();\n}\n\nIf you are using Windows, then you should change the line: \"Process p = Runtime.getRun...\" etc... (3rd line), for one that looks like this:\nProcess p = Runtime.getRuntime().exec\n    (System.getenv(\"windir\") +\"\\\\system32\\\\\"+\"tasklist.exe\");\n\nHope the info helps!\n", "There is no platform-neutral way of doing this. In the 1.6 release of Java, a \"Desktop\" class was added the allows portable ways of browsing, editing, mailing, opening, and printing URI's. It is possible this class may someday be extended to support processes, but I doubt it.\nIf you are only curious in Java processes, you can use the java.lang.management api for getting thread/memory information on the JVM.\n", "If you are using Java 6 you can just use the open method of java.awt.Desktop to launch the file using the default application for the current platform.\n", "Not sure if this will help you much... I use java 1.5+'s ProcessBuilder  to launch external shell scripts in a java program.  Basically I do the following: ( although this may not apply because you don't want to capture the commands output; you actually wanna fire up the document - but, maybe this will spark something that you can use )\nList<String> command = new ArrayList<String>();\ncommand.add(someExecutable);\ncommand.add(someArguemnt0);\ncommand.add(someArgument1);\ncommand.add(someArgument2);\nProcessBuilder builder = new ProcessBuilder(command);\ntry {\nfinal Process process = builder.start();\n...    \n} catch (IOException ioe) {}\n\n", "The issue may be the \"start\" command you are using, rather than your file name parsing. For example, this seems to work well on my WinXP machine (using JDK 1.5)\nimport java.io.IOException;\nimport java.io.File;\n\npublic class test {\n\n    public static void openDocument(String path) throws IOException {\n        path = \"\\\"\" + path + \"\\\"\";\n        File f = new File( path );\n        String command = \"C:\\\\Windows\\\\System32\\\\cmd.exe /c \" + f.getPath() + \"\";\n            Runtime.getRuntime().exec(command);          \n    }\n\n    public static void main( String[] argv ) {\n        test thisApp = new test();\n        try {\n            thisApp.openDocument( \"c:\\\\so\\\\My Doc.doc\");\n        }\n        catch( IOException e ) {\n            e.printStackTrace();\n        }\n    }\n}\n\n", "You should be catching the exception in a try-catch block.\ne.getStackTrace();\n\nThat returns StackTraceElement[] that you can then interpret.\nAlso:\ne.printStackTrace()\n\nwill...print the stacktrace.\n", "You cannot just do an exception.ToString() like in .NET and get everything?\n", "Just creating an arbitrary exception does the trick for me:\nSystem.out.println(\"Oops, the bad thing happened\");\nnew IllegalStateException().printStackTrace();\n\n", "As well as what @jjnguy said, if you don't have an exception, you can also call Thread.getStackTrace().\n", "Thread.dumpStack();\n", "If you want to save the stack trace into a String you can do this;\nString exception = \"\";\nfor (StackTraceElement element : e.getStackTrace())\n   exception += element.toString() + \"\\n\";\n\nWhere e is, obviously, an exception.\nBesides, it sounds very weird to autogenerate an own Exception just to find get a stack trace for a debug. Get Eclipse and use it's debug mode, it's really awesome.\n", "If you're using log4j\nException e = new Exception();\nlog.error(\"error here\", e);\n\nwill print the stacktrace to your log.\n", "ArrayList first = new ArrayList ();\nArrayList copy = (ArrayList) first.clone ();\n\n", "ArrayList newArrayList = (ArrayList) oldArrayList.clone();\n\n", "I find using addAll works fine.\nArrayList(String) copy = new ArrayList(String)();\ncopy.addAll(original);\n\nparentheses are used rather than the generics syntax\n", "This should also work:\nArrayList<String> orig = new ArrayList<String>();\nArrayList<String> copy = (ArrayList<String>) orig.clone()\n\n", "I think this should do the trick using the Collections API:\nNote: the copy method runs in linear time.    \n//assume oldList exists and has data in it.\nList<String> newList = new ArrayList<String>();\nCollections.copy(newList, oldList);\n\n", "Why would you want to clone? Creating a new list usually makes more sense.\nList<String> strs;\n...\nList<String> newStrs = new ArrayList<>(strs);\n\nJob done.\n", "setOpaque(false)\nIt'll pass off painting the background to its parent, which may draw its own background.\nYou can do a screen capture and then use that to paint the background of the panel.\n", "This article seems to have some handy info on how to create shaped and transparent windows in Java:\nhttp://today.java.net/pub/a/today/2008/03/18/translucent-and-shaped-swing-windows.html\n", "Technically a JPanel may start off non-opague. This was true for the Gtk look & feel in 1.5 (or 1.4?), but no other PL&Fs as far as I am aware.\n", "Have you tried PowerShell rather than old cmd.exe.\n", "Try chcp 65001 && start.bat\n", "We had some similar problems in Linux. Our code was in ISO-8859-1 (mostly cp-1252 compatible) but the console was UTF-8, making the code to not compile. Simply changing the console to ISO-8859-1 would make the build script, in UTF-8, to break. We found a couple of choices:\n1- define some standard encoding and sticky to it. That was our choice. We choose to keep all in ISO-8859-1, modifying the build scripts.\n2- Setting the encoding before starting any task, even inside the build scripts. Some code like the erickson said. In Linux was like :\nlang=pt_BR.ISO-8859-1 /usr/local/xxxx\n\nMy eclipse is still like this. Both do work well.\n", "Since MFC ships with source code I would create a test MFC application that serializes a CObArray and step through the serialization code. This should give you all the information you need.\n", "I agree with jmatthias: use the MFC source code.\nThere's also this page on MSDN that may be useful.\n", "You can't inherit from/extend an enum, you can use attributes to declare a description.  If you're looking for an integer value, that's built-in.\n", "Hmmm - as far as I know, this can't be done - enumerations are written at design-time and are used as a convenience to the programmer.\nI'm pretty sure that when the code is compiled, the equivalent values will be substituted for the names in your enumeration, thereby removing the concept of an enumeration and (therefore) the ability to extend it.\n", "Adding enums is a fairly common thing to do if you go back to the source code and edit, any other way (inheritance or reflection, if either is possible) is likely to come back and hit you when you get an upgrade of the library and they have introduced the same enum name or the same enum value - I have seen plenty of lowlevel code where the integer number matches to the binary encoding, where you would run into problems\nIdeally code referencing enums should be written as equals only (or switches), and try to be future proof by not expecting the enum set to be const\n", "You can use .NET reflection to retrieve the labels and values from an existing enum at run-time (Enum.GetNames() and Enum.GetValues() are the two specific methods you would use) and then use code injection to create a new one with those elements plus some new ones. This seems somewhat analagous to \"inheriting from an existing enum\".\n", "The reason you can't extend Enums is because it would lead to problems with polymorphism.\nSay you have an enum MyEnum with values A, B, and C , and extend it with value D as MyExtEnum.\nSuppose a method expects a myEnum value somewhere, for instance as a parameter. It should be legal to supply a MyExtEnum value, because it's a subtype, but now what are you going to do when it turns out the value is D?\nTo eliminate this problem, extending enums is illegal\n", "When built-in enums aren't enough, you can do it the old fashion way and craft your own. For example, if you wanted to add an additional property, for example, a description field, you could do it as follows:\npublic class Action {\n    public string Name {get; private set;}\n    public string Description {get; private set;}\n\n    private Action(string name, string description) {\n        Name = name;\n        Description = description;\n    }\n\n    public static Action DoIt = new Action(\"Do it\", \"This does things\");\n    public static Action StopIt = new Action(\"Stop It\", \"This stops things\");\n}\n\nYou can then treat it like an enum like so:\npublic void ProcessAction(Action a) {\n    Console.WriteLine(\"Performing action: \" + a.Name)\n    if (a == Action.DoIt) {\n       // ... and so on\n    }\n}\n\nThe trick is to make sure that the constructor is private (or protected if you want to inherit), and that your instances are static.\n", "If you mean extends in the Base class sense, then in Java... no.\nBut you can extend an enum value to have properties and methods if that's what you mean.\nFor example, the following uses a Bracket enum:\nclass Person {\n    enum Bracket {\n        Low(0, 12000),\n        Middle(12000, 60000),\n        Upper(60000, 100000);\n\n        private final int low;\n        private final int high;\n        Brackets(int low, int high) {\n            this.low = low;\n            this.high = high;\n        }\n\n        public int getLow() {\n            return low;\n        }\n\n        public int getHigh() {\n            return high;\n        }\n\n        public boolean isWithin(int value) {\n           return value >= low && value <= high;\n        }\n\n        public String toString() {\n            return \"Bracket \" + low + \" to \" + high;\n        }\n    }\n\n    private Bracket bracket;\n    private String name;\n\n    public Person(String name, Bracket bracket) {\n        this.bracket = bracket;\n        this.name = name;\n    }\n\n    public String toString() {\n        return name + \" in \" + bracket;\n    }        \n}\n\n", "Enums are supposed to represent the enumeration of all possible values, so extending rather does go against the idea.\nHowever, what you can do in Java (and presumably C++0x) is have an interface instead of a enum class. Then put you standard values in an enum that implements the feature. Obviously you don't get to use java.util.EnumSet and the like. This is the approach taken in \"more NIO features\", which should be in JDK7.\npublic interface Result {\n    String name();\n    String toString();\n}\npublic enum StandardResults implements Result {\n    TRUE, FALSE\n}\n\n\npublic enum WTFResults implements Result {\n    FILE_NOT_FOUND\n}\n\n", "Saw a post regarding this for Java a while back, check out http://www.javaspecialists.eu/archive/Issue161.html .\n", "In the current state of things, there is no good way other than by comments or a third-party solution. Boost provides a concept check library for this, and I think gcc also has an implementation. Concepts are on the list of C++0x improvements, but I'm not sure if you can specify subtypes - they are more for \"must support these operations\" which is (roughly) equivalent.\nEdit: Wikipedia has this section about concepts in C++0x, which is significantly easier to read than draft proposals.\n", "It's verbose, but you can do it like this:\n#include <boost/utility/enable_if.hpp>\n#include <boost/type_traits/is_base_of.hpp>\n\nstruct base {};\n\ntemplate <typename ImplementationClass, class Enable = void>\nclass WrapperClass;\n\ntemplate <typename ImplementationClass>\nclass WrapperClass<ImplementationClass,\n      typename boost::enable_if<\n        boost::is_base_of<base,ImplementationClass> >::type>\n{};\n\nstruct derived : base {};\nstruct not_derived {};\n\nint main() {\n    WrapperClass<derived> x;\n\n    // Compile error here:\n    WrapperClass<not_derived> y;\n}\n\nThis requires a compiler with good support for the standard (most recent compilers should be fine but old versions of Visual C++ won't be). For more information, see the Boost.Enable_If documentation.\nAs Ferruccio said, a simpler but less powerful implementation:\n#include <boost/static_assert.hpp>\n#include <boost/type_traits/is_base_of.hpp>\n\nstruct base {};\n\ntemplate <typename ImplementationClass>\nclass WrapperClass\n{\n    BOOST_STATIC_ASSERT((\n        boost::is_base_of<base, ImplementationClass>::value));\n};\n\n", "See Stoustrup's own words on the subject.\nBasically a small class, that you instantiate somewhere, e.g. the templated classes constructor.\ntemplate<class T, class B> struct Derived_from {\n    static void constraints(T* p) { B* pb = p; }\n    Derived_from() { void(*p)(T*) = constraints; }\n};\n\n", "Reporting the value for InitialContext.getEnvironment().get(Context.PROVIDER_URL) might be helpful.\n", "Why wouldn't you just point them to the S3 url? Taking an artifact from S3 and then streaming it through your own server to me defeats the purpose of using S3, which is to offload the bandwidth and processing of serving the images to Amazon.\n", "You have to check two things:\n\nAre you closing the stream? Very important\nMaybe you're giving stream connections \"for free\". The stream is not large, but many many streams at the same time can steal all your memory. Create a pool so that you cannot have a certain number of streams running at the same time\n\n", "toby is right, you should be pointing straight to S3, if you can. If you cannot, the question is a little vague to give an accurate response:\nHow big is your java heap? How many streams are open concurrently when you run out of memory?\nHow big is your read write/bufer (8K is good)?\nYou are reading 8K from the stream, then writing 8k to the output, right? You are not trying to read the whole image from S3, buffer it in memory, then sending the whole thing at once?  \nIf you use 8K buffers, you could have 1000 concurrent streams going in ~8Megs of heap space, so you are definitely doing something wrong....\nBTW, I did not pick 8K out of thin air, it is the default size for socket buffers, send more data, say 1Meg, and you will be blocking on the tcp/ip stack holding a large amount of memory.\n", "When possible, you should not store the entire contents of a file to be served in memory.  Instead, aquire an InputStream for the data, and copy the data to the Servlet OutputStream in pieces.  For example:\nServletOutputStream out = response.getOutputStream();\nInputStream in = [ code to get source input stream ];\nString mimeType = [ code to get mimetype of data to be served ];\nbyte[] bytes = new byte[FILEBUFFERSIZE];\nint bytesRead;\n\nresponse.setContentType(mimeType);\n\nwhile ((bytesRead = in.read(bytes)) != -1) {\n    out.write(bytes, 0, bytesRead);\n}\n\n// do the following in a finally block:\nin.close();\nout.close();\n\nI do agree with toby, you should instead \"point them to the S3 url.\"\nAs for the OOM exception, are you sure it has to do with serving the image data?  Let's say your JVM has 256MB of \"extra\" memory to use for serving image data.  With Google's help, \"256MB / 200KB\" = 1310.  For 2GB \"extra\" memory (these days a very reasonable amount) over 10,000 simultaneous clients could be supported.  Even so, 1300 simultaneous clients is a pretty large number.  Is this the type of load you experienced?  If not, you may need to look elsewhere for the cause of the OOM exception.\nEdit - Regarding:\n\nIn this use case the images can contain sensitive data...\n\nWhen I read through the S3 documentation a few weeks ago, I noticed that you can generate time-expiring keys that can be attached to S3 URLs.  So, you would not have to open up the files on S3 to the public.  My understanding of the technique is:\n\nInitial HTML page has download links to your webapp\nUser clicks on a download link\nYour webapp generates an S3 URL that includes a key that expires in, lets say, 5 minutes.\nSend an HTTP redirect to the client with the URL from step 3.\nThe user downloads the file from S3.  This works even if the download takes more than 5 minutes - once a download starts it can continue through completion.\n\n", "In addition to what John suggested, you should repeatedly flush the output stream. Depending on your web container, it is possible that it caches parts or even all of your output and flushes it at-once (for example, to calculate the Content-Length header). That would burn quite a bit of memory.\n", "I agree strongly with both toby and John Vasileff--S3 is great for off loading large media objects if you can tolerate the associated issues.  (An instance of own app does that for 10-1000MB FLVs and MP4s.)  E.g.: No partial requests (byte range header), though.  One has to handle that 'manually', occasional down time, etc..\nIf that is not an option, John's code looks good.  I have found that a byte buffer of 2k FILEBUFFERSIZE is the most efficient in microbench marks.  Another option might be a shared FileChannel.  (FileChannels are thread-safe.)\nThat said, I'd also add that guessing at what caused an out of memory error is a classic optimization mistake.  You would improve your chances of success by working with hard metrics.\n\nPlace -XX:+HeapDumpOnOutOfMemoryError into you JVM startup parameters, just in case\ntake use jmap on the running JVM (jmap -histo <pid>) under load\nAnalyize the metrics (jmap -histo out put, or have jhat look at your heap dump).  It very well may be that your out of memory is coming from somewhere unexpected.\n\nThere are of course other tools out there, but  jmap & jhat come with Java 5+ 'out of the box'\n\nI've considered writing the file to a local temp drive and then spawning another thread to handle the streaming so that the tomcat servlet thread can be re-used. This seems like it would be io heavy.\n\nAh, I don't think you can't do that.  And even if you could, it sounds dubious.  The tomcat thread that is managing the connection needs to in control.  If you are experiencing thread starvation  then increase the number of available threads in ./conf/server.xml.  Again, metrics are the way to detect this--don't just guess.  \nQuestion: Are you also running on EC2?  What are your tomcat's JVM start up parameters?\n", "Try setting the lang attribute on the <html/> element.\nHTML example:\n\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n<html lang=\"ja\"> \n\nXHTML example:\n\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"ja\"> \n\n", "You could try something like this.\nIt's taken from sun's page on Character Sets and Encodings.\nI think this has to be the very first line in your jsp.\n<%@ page contentType=\"text/html; charset=UTF-8\" %>\n\n", "OMG - it turns out that the cause was a total WTF?\nall our tile responses were being served by a homegrown servlet that was ignoring the \n<%@ page contentType=\"text/html; charset=UTF-8\" %>\ndirective (and who know what else).\nTilesDispatchExtensionServlet : bloody architecture astronauts, i shake my fist at ye.\n", "You need to use a filter. See:\nhttp://wiki.apache.org/tomcat/Tomcat/UTF-8\n", "Yes, there is a large conceptual difference. C++ utilizes different \"classes\" of iterators. Some are used for random access (unlike Java), some are used for forward access (like java). While even others are used for writing data (for use with, say, transform). \nSee the iterators concept in the C++ Documentation:\n\nInput Iterator\nOutput Iterator\nForward Iterator\nBidirectional Iterator\nRandom Access Iterator\n\nThese are far more interesting and powerful compared to Java/C#'s puny iterators. Hopefully these conventions will be codified using C++0x's Concepts.\n", "Iterators are only equivalent to pointers in the trivial case of iterating over the contents of an array in sequence. An iterator could be supplying objects from any number of other sources: from a database, from a file, from the network, from some other calculation, etc.\n", "A pointer to an array element is indeed an iterator into the array.\nAs you say, in Java, an iterator has more knowledge of the underlying container than in C++. C++ iterators are general, and a pair of iterators can denote any range: this can be a sub-range of a container, a range over multiple containers (see http://www.justsoftwaresolutions.co.uk/articles/pair_iterators.pdf or http://www.boost.org/doc/libs/1_36_0/libs/iterator/doc/zip_iterator.html) or even a range of numbers (see http://www.boost.org/doc/libs/1_36_0/libs/iterator/doc/counting_iterator.html)\nThe iterator categories identify what you can and can't do with a given iterator.\n", "Perhaps a bit more theoretical. Mathematically, collections in C++ can be described as a half-open interval of iterators, namely one iterator pointing to the start of the collection and one iterator pointing just behind the last element.\nThis convention opens up a host of possibilities. The way algorithms work in C++, they can all be applied to subsequences of a larger collection. To make such a thing work in Java, you have to create a wrapper around an existing collection that returns a different iterator.\nAnother important aspect of iterators has already been mentioned by Frank. There are different concepts of iterators. Java iterators correspond to C++' input iterators, i.e. they are read-only iterators that can only be incremented one step at a time and can't go backwards.\nOn the other extreme, you have C pointers which correspond exactly to C++' concept of a random access iterator.\nAll in all, C++ offers a much richer and purer concept that can be applied to a much wider variety of tasks than either C pointers or Java iterators.\n", "C++ library (the part formerly known as STL) iterators are designed to be compatible with pointers. Java, without pointer arithmetic, had the freedom to be more programmer-friendly.\nIn C++ you end up having to use a pair of iterators. In Java you either use an iterator or a collection. Iterators are supposed to be the glue between algorithm and data structure. Code written for 1.5+ rarely need mention iterators, unless it is implementing a particular algorithm or data structure (which the vary majority of programmers have no need to do). As Java goes for dynamic polymorphism subsets and the like are much easier to handle.\n", "To me the fundamental difference is that Java Iterators point between items, whereas C++ STL iterators point at items.\n", "C++ iterators are a generalization of the pointer concept; they make it applicable to a wider range of situations.  It means that they can be used to do such things as define arbitrary ranges.\nJava iterators are relatively dumb enumerators (though not so bad as C#'s; at least Java has ListIterator and can be used to mutate the collection).\n", "As mentioned, Java and C# iterators describe an intermixed position(state)-and-range(value), while C++ iterators separate the concepts of position and range.  C++ iterators represent 'where am I now' separately from 'where can I go?'.\nJava and C# iterators can't be copied.  You can't recover a previous position.  The common C++ iterators can.\nConsider this example:\n// for each element in vec\nfor(iter a = vec.begin(); a != vec.end(); ++a){\n  // critical step!  We will revisit 'a' later.\n  iter cur = a; \n  unsigned i = 0;\n  // print 3 elements\n  for(; cur != vec.end() && i < 3; ++cur, ++i){\n      cout << *cur << \" \";\n  }\n  cout << \"\\n\";\n}\n\nClick the above link to see program output.\nThis rather silly loop goes through a sequence (using forward iterator semantics only), printing each contiguous subsequence of 3 elements exactly once (and a couple shorter subsequences at the end).  But supposing N elements, and M elements per line instead of 3, this algorithm would still be O(N*M) iterator increments, and O(1) space.\nThe Java style iterators lack the ability to store position independently.  You will either\n\nlose O(1) space, using (for example) an array of size M to store history as you iterate\nwill need to traverse the list N times, making O(N^2+N*M) time\nor use a concrete Array type with GetAt member function, losing genericism and the ability to use linked list container types.\n\nSince only forward iteration mechanics were used in this example, i was able to swap in a list with no problems.  This is critical to authoring generic algorithms, such as search, delayed initialization and evaluation, sorting, etc.\nThe inability to retain state corresponds most closely to the C++ STL input iterator, on which very few algorithms are built.  \n", "You can do this with a custom RMI Socket Factory.  \nThe socket factories create the sockets for RMI to use at both the client and server end so if you write your own you've got full control over the ports used.  The client factories are created on the server, Serialized and then sent down to the client which is pretty neat.\nHere's a guide at Sun telling you how to do it.\n", "Using the Glass Pane will do the trick.\nHere's a tutorial on how to use the glass pane to get the right click button and redispatch it to the right component.\n\nAs the glass pane is not a solution in this case, I suggest you take a look at the Toolkit class. Specificaly the addAWTEventListener method. You can add a global event listener with it. To add a mouse event listener:\nToolkit.getDefaultToolkit().\n        addAWTEventListener(listener, AWTEvent.MOUSE_EVENT_MASK);\n\nCheers\n", "Email -> mailserver ->[something] -> file-on-disk.\nFile on disk is pretty easy to parse, use JavaMail.\nThe [something] could be:\n\nlistener for smtp connections (overkill)!\nPop3/imap client\nMaildir/Mailbox\n\n", "Lotus Notes/Domino stores mail in a Notes database.  There are APIs available for getting documents (emails), reading field values (From, Subject), and detaching files.\nAPIs include\n-LotusScript (VB variant, available within the Notes database)\n-Java (from within or external to the database)\n-C API (external)\n-Same API available through COM server\nYou can create a \"scheduled agent\" within the database (using LotusScript or Java) that can locate documents created since it last ran, locate the attachments, and extract them.  The agent will need to be signed with an ID that has the appropriate permissions on the server, including those required to write to the file system and initiate any other processes.\nExternal to the database, you can use any API except LotusScript to log-in to the server/mail database, and follow a similar process, e.g. extracting the files locally on a client or separate server.  C API and COM require a notes client install, but Java applications can be set up to run via CORBA/DIIOP without a full install.\nConsult the Domino Designer help (or IBM's website for C API) for more information.\nAs to a \"generic way\" to do this, if you are accessing data in Notes and needing to extract attachments, I believe these APIs are your best option.  If you envision porting the application to another mail system, consider decoupling the API routines via an \"interface\" so you only need to add a new implementation of that interface to support a new mail system.\n", "You can access Notes Documents relatively easily using DIIOP, would be a lot easier than going down the C Api road...\n", "I've done quite a bit lately with Java agents on Domino servers. The Domino 8.5 server supports Java 6 and its embedded so it won't take someone with a bit of Domino development experience long to put together an agent that runs when new mail arrives. In LotusScript its even easier but that needs more specialised skills which you'd probably need to get a contractor in to provide.\nThe limitation your likely to encounter concerns the extracted file, you can easily place it on the Domino server's file structure but you may be limited by the OS security from placing it on a different server.\n", "Try POP3Client in the Net Commons package; it'll let your Java program check for new mail for a particular account at whatever interval you want (every few minutes?  hourly?), and get/delete messages as desired.\n", "Use a mail in database (your Domino administrator can set that up for you but it's in the help file as well).\nIn that database, you can create an agent that runs periodically to process all new documents.  That agent will use the EmbeddedObjects property of the NotesRichTextItem class and the ExtractFile method of the NotesEmbeddedObject class to get a handle on the file attachment and extract it to the location you specify.\nFor example, this script goes through all the file attachments, object links, and embedded objects in the Body item of a document. Each time it finds a file attachment, it detaches the file to the SAMPLES directory on the C drive and removes the attachment from the document\nDim doc As NotesDocument\nDim rtitem As Variant\n'...set value of doc...\nSet rtitem = doc.GetFirstItem( \"Body\" )\nIf ( rtitem.Type = RICHTEXT ) Then\n  Forall o In rtitem.EmbeddedObjects\n    If ( o.Type = EMBED_ATTACHMENT ) Then\n      Call o.ExtractFile( \"c:\\samples\\\" & o.Source )\n      Call o.Remove\n      Call doc.Save( False, True )\n    End If\n  End Forall\nEnd If\n\n", "SMTP/POP3 can be enabled on the Domino server.  Worked with this before and gotten Squirrel Mail running with it. SMTP is a bit resource intensive, but well worth the effort because then you don't have to descend into LotusLand to get things working.  Just write a small Java CLI program that will check a specific email box (POP3 or SMTP), and parse through the messages, pulling the attachments and placing them where needed.\nPlenty of documentation and examples here:\nhttp://java.sun.com/products/javamail/\nThe techniques that you develop taking this approach will be more widely applicable in your future career than anything Lotus/Domino specific.\n", "No matter what you do, you'll need an understanding of the Lotus Notes data structures.  The good news is that a fully automated solution can be built in Notes very easily.\nYour best bet is to have it built within Notes, and it can be set up to run automatically whenever new mail is received.   Gary's answer is dead on, but without any experience, it would probably be hard to figure out how to implement it yourself.  On the other hand, it really shouldn't take any competent Notes programmer more than an hour or two to set it up.\n", "Edit: since I first wrote this answer, Wiser has moved and now claims to only be a unit testing tool, so take the answer below with a pinch of salt...\n\nSvrist's answer is good, but if you want to avoid his middle step (the mailserver that writes the mail to disk for later pickup by the Java system) you can use Wiser.\nWiser lets you start an in-Java mailserver:\nWiser wiser = new Wiser();\nwiser.setPort(2500);\nwiser.start();\n\nThen you can just poll it periodically for mail:\nfor (WiserMessage message : wiser.getMessages())\n{\n    String envelopeSender = message.getEnvelopeSender();\n    String envelopeReceiver = message.getEnvelopeReceiver();\n\n    MimeMessage mess = message.getMimeMessage();\n\n    // mail processing goes here\n}\n\n", "Even though DocumentBuilder.parse appears not to mutate the builder it does on the Sun JDK default implementation (based on Apache Xerces). Eccentric design decision. What can you do? I guess use a ThreadLocal:\nprivate static final ThreadLocal<DocumentBuilder> builderLocal =\n    new ThreadLocal<DocumentBuilder>() {\n        @Override protected DocumentBuilder initialValue() {\n            try {\n                return\n                    DocumentBuilderFactory\n                        .newInstance(\n                            \"xx.MyDocumentBuilderFactory\",\n                            getClass().getClassLoader()\n                        ).newDocumentBuilder();\n            } catch (ParserConfigurationException exc) {\n                throw new IllegalArgumentException(exc);\n            }\n        }\n    };\n\n(Disclaimer: Not so much as attempted to compile the code.)\n", "There's a reset() method on DocumentBuilder which restores it to the state when it was first created. If you're going the ThreadLocal route, don't forget to call this or you're hosed.\n", "Doesn't the Criteria API do it for you? It looks almost exactly like what you're asking for. \n", "It looks like you want to use the Criteria query API built into Hibernate. To do your above query it would look like this:\nList<Stock> stocks = session.createCriteria(Stock.class)\n    .add(Property.forName(\"id\").eq(id))\n    .list();\n\nIf you don't have access to the Hibernate Session yet, you can used 'DetachedCriteria' like so:\nDetachedCriteria criteria = DetachedCriteria.forClass(Stock.class) \n    .add(Property.forName(\"id\").eq(id));\n\nIf you wanted to get all Stock that have a Bonus with a specific ID you could do the following:\nDetachedCriteria criteria = DetachedCriteria.forClass(Stock.class)\n     .createCriteria(\"Stock\")\n          .add(Property.forName(\"id\").eq(id)));\n\nFor more infromation check out Criteria Queries from the Hibernate docs\n", "@S\u00e9bastien Rocca-Serra \nselect stock\nfrom com.something.Stock as stock, com.something.Bonus as bonus\nwhere stock.bonus.id = bonus.id\n\nThat's just a join. Hibernate does it automatically, if and only if you've got the mapping between Stock and Bonus setup and if bonus is a property of Stock. Criteria.list() will return Stock objects and you just call stock.getBonus().\nNote, if you want to do anything like\nselect stock\nfrom com.something.Stock as stock\nwhere stock.bonus.value > 1000000\n\nYou need to use Criteria.createAlias(). It'd be something like\nsession.createCriteria(Stock.class).createAlias(\"bonus\", \"b\")\n   .add(Restrictions.gt(\"b.value\", 1000000)).list()\n\n", "@S\u00e9bastien Rocca-Serra\nNow we're getting somewhere concrete. The sort of join you're trying to do isn't really possible through the Criteria API, but a sub-query should accomplish the same thing. First you create a DetachedCriteria for the bonus table, then use the IN operator for someValue.\nDetachedCriteria bonuses = DetachedCriteria.forClass(Bonus.class);\nList stocks = session.createCriteria(Stock.class)\n    .add(Property.forName(\"someValue\").in(bonuses)).list();\n\nThis is equivalent to\nselect stock\nfrom com.something.Stock as stock\nwhere stock.someValue in (select bonus.id from com.something.Bonus as bonus)\n\nThe only downside would be if you have references to different tables in someValue and your ID's are not unique across all tables. But your query would suffer from the same flaw.\n", "Criteria API does not provide all functionality avaiable in HQL. For example, you cannot do more than one join over the same column.\nWhy don't you use NAMED QUERIES? The look much more clean:\nPerson person = session.getNamedQuery(\"Person.findByName\")\n                             .setString(0, \"Marcio\")\n                             .list();\n\n", "import org.restlet.Client;\nimport org.restlet.data.Protocol;\nimport org.restlet.data.Reference;\nimport org.restlet.data.Response;\nimport org.restlet.resource.DomRepresentation;\nimport org.w3c.dom.Node;\n\n/**\n * Uses YAHOO!'s RESTful web service with XML.\n */\npublic class YahooSearch {\n    private static final String BASE_URI = \"http://api.search.yahoo.com/WebSearchService/V1/webSearch\";\n\n    public static void main(final String[] args) {\n        if (1 != args.length) {\n            System.err.println(\"You need to pass a search term!\");\n        } else {\n            final String term = Reference.encode(args[0]);\n            final String uri = BASE_URI + \"?appid=restbook&query=\" + term;\n            final Response response = new Client(Protocol.HTTP).get(uri);\n            final DomRepresentation document = response.getEntityAsDom();\n\n            document.setNamespaceAware(true);\n            document.putNamespace(\"y\", \"urn:yahoo:srch\");\n\n            final String expr = \"/y:ResultSet/y:Result/y:Title/text()\";\n            for (final Node node : document.getNodes(expr)) {\n                System.out.println(node.getTextContent());\n            }\n        }\n    }\n}\n\nThis code uses Restlet to make a request to Yahoo's RESTful search service. Obviously, the details of the web service you are using will dictate what your client for it looks like.\n", "final Response response = new Client(Protocol.HTTP).get(uri);\n\nSo, if I understand this correctly, the above line is where the actual call to the web service is being made, with the response being converted to an appropriate format and manipulated after this line.\nAssuming I were not using Restlet, how would this line differ?\n(Of course, the actual processing code would be significantly different as well, so that's a given.)\n", "There's roughly a gajillion HTTP client libraries (Restlet is quite a bit more than that, but I already had that code snippet for something else), but they should all provide support for sending GET requests. Here's a rather less featureful snippet that uses HttpClient from Apache Commons:\nHttpClient client = new HttpClient();\nHttpMethod method = new GetMethod(\"http://api.search.yahoo.com/WebSearchService/V1/webSearch?appid=restbook&query=HttpClient\");\nclient.executeMethod(method);\n\n", "I dont have programed in Java ME, but i found in it's reference for optional packages the\nAdvanced Graphics and User Interface API, and it's used like the Java SE API to create these dialogs with the JOptionPane Class\n\nint JOptionPane.showConfirmDialog(java.awt.Component parentComponent, java.lang.Object >message, java.lang.String title, int optionType)\n\nReturn could be\nJOptionPane.YES_OPTION, JOptionPane.NO_OPTION, JOptionPane.CANCEL_OPTION ...\n", "You need an Alert:\n\nAn alert is a screen that shows data to the user and waits for a certain period of time before proceeding to the next Displayable. An alert can contain a text string and an image. The intended use of Alert is to inform the user about errors and other exceptional conditions.\n\nWith 2 commands (\"Yes\"/\"No\" in your case):\n\nIf there are two or more Commands present on the Alert, it is automatically turned into a modal Alert, and the timeout value is always FOREVER. The Alert remains on the display until a Command is invoked.\n\nThese are built-in classes supported in MIDP 1.0 and higher. Also your code snippet will never work. Such an API would need to block the calling thread awaiting for the user to select and answer. This goes exactly in the opposite direction of the UI interaction model of MIDP, which is based in callbacks and delegation. You need to provide your own class, implementing CommandListener, and prepare your code for asynchronous execution.\nHere is an (untested!) example class based on Alert:\npublic class MyPrompter implements CommandListener {\n\n    private Alert yesNoAlert;\n\n    private Command softKey1;\n    private Command softKey2;\n\n    private boolean status;\n\n    public MyPrompter() {\n        yesNoAlert = new Alert(\"Attention\");\n        yesNoAlert.setString(\"Are you sure?\");\n        softKey1 = new Command(\"No\", Command.BACK, 1);\n        softKey2 = new Command(\"Yes\", Command.OK, 1);\n        yesNoAlert.addCommand(softKey1);\n        yesNoAlert.addCommand(softKey2);\n        yesNoAlert.setCommandListener(this);\n        status = false;\n    }\n\n    public Displayable getDisplayable() {\n        return yesNoAlert;\n    }\n\n    public boolean getStatus() {\n        return status;\n    }\n\n    public void commandAction(Command c, Displayable d) {\n        status = c.getCommandType() == Command.OK;\n        // maybe do other stuff here. remember this is asynchronous\n    }\n\n};\n\nTo use it (again, untested and on top of my head):\nMyPrompter prompt = new MyPrompter();\nDisplay.getDisplay(YOUR_MIDLET_INSTANCE).setCurrent(prompt.getDisplayable());\n\nThis code will make the prompt the current displayed form in your app, but it won't block your thread like in the example you posted. You need to continue running and wait for a commandAction invocation.\n", "In general you use OuterClassName.this to refer to the enclosing instance of the outer class.\nIn your example that would be a.this.otherMethod()\n", "OuterClassName.this.outerClassMethod();\n\n", "For the first issue, how about trying\nalert( $(\"#applet-id\")[0].foo() );\n\nFor the second issue here is a thread with a possible workaround.\nQuoting the workaround\n\n// Prevent memory leaks in IE\n// And  prevent errors on refresh with events  like mouseover in other  browsers\n// Window isn't included so as not to unbind existing unload events\njQuery(window).bind(\"unload\",\nfunction() {\n        jQuery(\"*\").add(document).unbind();\n});\n\n\nchange that code to:\n\n// Window isn't included so as not to unbind existing unload events\njQuery(window).bind(\"unload\",\nfunction() {\n        jQuery(\"*:not('applet, object')\").add(document).unbind();\n});\n\n\n", "The overhead is very small. It is possible to write a hybrid array list that has fields for the first few items, and then falls back to using an array for longer list.\nYou can avoid the overhead of the list object entirely by using an array. To go even further hardcore, you can declare the field as Object, and avoid the array altogether for a single item.\nIf memory really is a problem, you might want to forget about using object instances at the low-level. Instead use a larger data structure at a larger level of granularity.\n", "The ArrayList class in Java has only two data members, a reference to an Object[] array and a size\u2014which you need anyway if you don't use an ArrayList. So the only advantage to not using an ArrayList is saving one object allocation, which is unlikely ever to be a big deal.\nIf you're creating and disposing of many, many instances of your container class (and by extension your ArrayList instance) every second, you might have a slight problem with garbage collection churn\u2014but that's something to worry about if it ever occurs. Garbage collection is typically the least of your worries.\n", "For the sake of keeping things simple, I think this is pretty much a non-issue. Your implementation is flexible enough that if the requirements change in the future, you aren't forced into a refactoring. Also, adding more logic to your code for a hybrid solution just isn't worth it taking into account your small data set and the high-quality of Java's Collection API.\n", "Google Collections has collections optimized for immutable/small number of elements. See Lists.asList API as an example.\n", "I am not sure if it was the same problem but I had similar symptoms a while ago using another FTP client in Java (commons.net). The problem turned out to be caused by the active/passive mode of the connection.\nI am sorry I can't give you more details, that's all I can remember... hope that help.\n", "Guillermo Vasconcelos was correct in his answer. There are two FTP modes, Active and Passive. The default FTP mode is active. Active requires the server to connect back to the client on some TCP/IP port. This does not work with firewalls because chances are that this port would be blocked or if you are behind a Router with NAT, not mapped.\nIf you use Passive (PASV) mode instead, you should not get the hang.\n", "I'm going to run some new tests with the settings to passive tomorrow when maintenance is done here, but I'm not sure that's the issue.  We are able to get a directory listing if there are files or subdirectories in that directory.  It only fails when the directory we're NLST-ing on is empty.\nWould the active/passive difference only manifest for an empty directory, or is there another possibility?\n", "I tried this in WebMethods IS Version 6.5 Updates WmPRT_6-5-1_SP1, IS_6-5_SP3.\nIt worked perfectly first time.\nI turned on debugging on the FTP server (Debian's default ftpd). WebMethods' NLST honours the active/passive parameter passed to it.\nThere's nothing special about the NLST command, nor its correct behaviour with an empty directory -- if LIST works, then so should RETR, STOR and NLST. If NLST works with a non-empty directory, it should work with an empty one.\nSo my guess is that either:\n\nYour version of WM has a bug mine doesn't\nYour FTP server has a bug mine doesn't\nThere's a wacky protocol-aware firewall in your system that doesn't like FTP data sockets with no data in them.\n\nFirewall vendors are a bit wayward when it comes to FTP...\nWhen testing with other clients, make sure it's from the same machine on which WebMethods Integration Server is running.\nJust for the record, here's what should happen for an active NLST\n\nclient opens a listening socket, and sends a PORT command with that socket's details\nclient sends NLST command\nserver connects to client's listening socket (this is the data socket)\nserver transmits listing over data socket (in this case, zero bytes)\nserver closes data socket\n\n... and in passive mode\n\nclient sends PASV command\nserver opens a listening socket, and replies with PASV response containing its details\nclient connects to listening socket (this is the data socket)\nclient sends NLST command\nserver transmits listing over data socket (zero bytes again)\nserver closes data socket\n\n", "You want to use Restrictions.disjuntion(). Like so\nsession.createCriteria(Whatever.class)\n    .add(Restrictions.disjunction()\n        .add(Restrictions.eq(\"name\", queryString))\n        .add(Restrictions.eq(\"address\", queryString))\n        .add(Restrictions.eq(\"phoneNumber\", queryString))\n    );\n\nSee the Hibernate doc here.\n", "Assuming you have a hibernate session to hand then something like the following should work:\nCriteria c = session.createCriteria(Whatever.class);\nDisjunction or = Restrictions.disjunction();\nor.add(Restrictions.eq(\"name\",searchString));\nor.add(Restrictions.eq(\"address\",searchString));\nor.add(Restrictions.eq(\"phoneNumber\",searchString));\nc.add(or);\n\n", "Just in case anyone should stumble upon this with the same question for NHibernate:\nICriteria c = session.CreateCriteria(typeof (Whatever))\n    .Add(Expression.Disjunction()\n        .Add(Expression.Eq(\"name\", searchString))\n        .Add(Expression.Eq(\"address\", searchString))\n        .Add(Expression.Eq(\"phoneNumber\", searchString)));\n\n", "Do you mean:\npublic class MyServlet extends HttpServlet {\n\n    public void init(final ServletConfig config) {\n        final String context = config.getServletContext();\n        ...\n    }\n\n    ...\n}\n\nOr something more complex?\n", "This should give you the real path that you can use to extract / edit files.\nJavadoc Link\nWe're doing something similar in a context listener.\npublic class MyServlet extends HttpServlet {\n\n    public void init(final ServletConfig config) {\n        final String context = config.getServletContext().getRealPath(\"/\");\n        ...\n    }\n\n    ...\n}\n\n", "http://www.json.org/java/index.html has what you need.\n", "Yup!  Check out json-lib\nHere is a simplified code snippet from my own code that send a set of my domain objects:\nprivate String getJsonDocumenent(Object myObj) (\n    String result = \"oops\";\n    try {\n        JSONArray jsonArray = JSONArray.fromObject(myObj);\n\n        result = jsonArray.toString(2);  //indent = 2\n\n    } catch (net.sf.json.JSONException je) {\n\n        throw je;\n    }\n    return result;\n}\n\n", "We have been using Flexjson for converting Java objects to JSON and have found it very easy to use.\nhttp://flexjson.sourceforge.net\nHere are some examples:\npublic String searchCars() {\n  List<Car> cars = carsService.getCars(manufacturerId);\n  return new JSONSerializer().serialize(cars);\n}\n\nIt has some cool features such as deepSerialize to send the entire graph and it doesn't break with bi directional relationships.\nnew JSONSerializer().deepSerialize(user); \n\nFormatting dates on the server side is often handy too\nnew JSONSerializer().transform(\n  new DateTransformer(\"dd/MM/yyyy\"),\"startDate\",\"endDate\"\n).serialize(contract);\n\n", "To me, the best Java <-> JSON parser is XStream (yes, I'm really talking about json, not about xml). XStream already deals with circular dependencies and has a simple and powerful api where you could write yours drivers, converters and so on.\nKind Regards\n", "For RESTful web services in Java, also check out the Restlet API which provides a very powerful and flexible abstraction for REST web services (both server and client, in a container or standalone), and also integrates nicely with Spring and JSON.\n", "It might be worth looking into Jersey. Jersey makes it easy to expose restful web services as xml and/or JSON. \nAn example... start with a simple class\n@XmlType(name = \"\", propOrder = { \"id\", \"text\" })\n@XmlRootElement(name = \"blah\")\npublic class Blah implements Serializable {\n    private Integer id;\n    private String text;\n\n    public Blah(Integer id, String text) {\n        this.id = id;\n        this.text = text;\n    }    \n\n    @XmlElement\n    public Integer getId() { return id; }\n    public void setId(Integer id) { this.id = id; }\n\n    @XmlElement\n    public String getText() { return text; }\n    public void setText(String value) { this.text = value; }\n}\n\nThen create a Resource \n@Path(\"/blah\")\npublic class BlahResource {\n    private Set<Blah> blahs = new HashSet<Blah>();\n\n    @Context\n    private UriInfo context;\n\n    public BlahResource() {\n        blahs.add(new Blah(1, \"blah the first\"));\n        blahs.add(new Blah(2, \"blah the second\"));\n    }\n\n    @GET\n    @Path(\"/{id}\")\n    @ProduceMime({\"application/json\", \"application/xml\"})\n    public Blah getBlah(@PathParam(\"id\") Integer id) {\n        for (Blah blah : blahs) {\n            if (blah.getId().equals(id)) {\n                return blah;\n            }\n        }\n        throw new NotFoundException(\"not found\");\n    }\n}\n\nand expose it. There are many ways to do this, such as by using Jersey's ServletContainer. (web.xml)\n<servlet>\n    <servlet-name>jersey</servlet-name>\n    <servlet-class>com.sun.jersey.spi.container.servlet.ServletContainer</servlet-class>\n    <load-on-startup>1</load-on-startup>\n</servlet>\n\n<servlet-mapping>\n    <servlet-name>jersey</servlet-name>\n    <url-pattern>/*</url-pattern>\n</servlet-mapping>\n\nThats all you need to do... pop open your browser and browse to http://localhost/blah/1. By default you will see XML output. If you are using FireFox, install TamperData and change your accept header to application/json to see the JSON output.\nObviously there is much more to it, but Jersey makes all that stuff quite easy.\nGood luck!\n", "Check out Apache Savan. It's a publisher/subscriber implementation for Axis2 that supports WS-Eventing (see sample.eventing.Client for an example client).\nJBossWS has some information about setting up a service here, but I didn't see any example for a client. Regarding CXF and Metro, I'm not sure if they have specific support for WS-Eventing yet.\n", "Hibernate makes more sense when your application works on object graphs, which are persisted in the RDBMS. Instead, if your application logic works on a 2-D matrix of data, fetching those via direct JDBC works better. Although Hibernate is written on top of JDBC, it has capabilities which might be non-trivial to implement in JDBC. For eg:\n\nSay, the user views a row in the UI and changes some of the values and you want to fire an update query for only those columns that did indeed change.\nTo avoid getting into deadlocks you need to maintain a global order for SQLs in a transaction. Getting this right JDBC might not be easy\nEasily setting up optimistic locking. When you use JDBC, you need to remember to have this in every update query.\nBatch updates, lazy materialization of collections etc might also be non-trivial to implement in JDBC.\n\n(I say \"might be non-trivial\", because it of course can be done - and you might be a super hacker:)\nHibernate lets you fire your own SQL queries also, in case you need to. \nHope this helps you to decide.\nPS: Keeping the Session open on a remote desktop client and running into trouble is really not Hibernate's problem - you would run into the same issue if you keep the Connection to the DB open for long.\n", "Believe it or not, you can actually use java.awt.Robot to \"create an image containing pixels read from the screen.\" You can then write that image to a file on disk.\nI just tried it, and the whole thing ends up like:\nRectangle screenRect = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\nBufferedImage capture = new Robot().createScreenCapture(screenRect);\nImageIO.write(capture, \"bmp\", new File(args[0]));\n\nNOTE: This will only capture the primary monitor. See GraphicsConfiguration for multi-monitor support.\n", "Yes you can and should put try/catch/finally block around your code. In C# there is a shorthand \"using\" statement, but in Java you are stuck with:\npublic int foo() {\n    Resource f = new Resource();\n    try {\n        DoSomething(f);\n    }\n    finally {\n        f.Release();\n    }\n}\n\n", "If you want the using block get involved in the java closure debate :S\n", "Sorry to disappoint you but in Java we do use try\\catch\\finally blocks a lot. And with \"a lot\", I mean A LOT. I do sometimes wish that Java has the C# using block. Most of the time you won't need to free up resources as Java's garbage collector will take care of that.\nHowever exceptions do have their uses in making error handling a lot cleaner. You can write your own exceptions and catch them for whatever you are doing. No more returning arbitrary error codes to the user!\n", "It is possible to factor out try/finally (and exception and algorithms) using the Execute around idiom. However the syntax is highly verbose.\npublic int foo() {\n    withResource(new WithResource() { public void run(Resource resource) {\n        doSomething(resource);\n    }});\n}\n\n...\n\npublic interface WithResource {\n    void run(Resource resource);\n}\n\npublic static void withResource(WithResource handler) {\n    Resource resource = new Resource();\n    try {\n        handler.run(resource);\n    } finally {\n        resource.release();\n    }\n}\n\nThis sort of thing makes more sense if you are abstracting more than try/finally. For instance, with JDBC you can execute a statement, loop through the results, close resources and wrap the exception.\n", "Does your App use RMI over TCP? If not, is it possible that this is a heisenbug, caused by instrumenting the VM? I assume VisualVM must use RMI calls to figure out what's going on in the JVM....\n", "I don't have experience with VisualVM -- but JRockit's profiler does provide this information; you may consider using it instead.\nUpdate: a question with a list of java profilers can be found here\n", "It should respond to ActionListeners, like this:\ncombo.addActionListener (new ActionListener () {\n    public void actionPerformed(ActionEvent e) {\n        doSomething();\n    }\n});\n\n@John Calsbeek rightly points out that addItemListener() will work, too.  You may get 2 ItemEvents, though, one for the deselection of the previously selected item, and another for the selection of the new item. Just don't use both event types!\n", "I would try the itemStateChanged() method of the ItemListener interface if jodonnell's solution fails.\n", "ISP states that:\n\nClients should not be forced to depend\n  on methods that they do not use.\n\nISP relates to important characteristics - cohesion and coupling.\nIdeally your components must be highly tailored. It improves code robustness and maintainability. \nEnforcing ISP gives you following bonuses:\n\nHigh cohesion - better understandability, robustness\nLow coupling - better maintainability, high resistance to changes\n\nIf you want to learn more about software design principles, get a copy\nof Agile Software Development, Principles, Patterns, and Practices book.\n", "It simplifies the interface that any one client will use and removes dependencies that they might otherwise develop on parts of the interface that they don't need.\n", "One reason is that having many interfaces with a minimal amount of methods for each one makes it easier to implement each interface and to implement them correctly. A large interface can be unruly. Also, using a focused interface in a scenario makes the code more maintanable because you can see which facet of the object is being used (e.g., an IComparable interface lets you know that the object is only being used for comparisons in the given scenario). \n", "Change it to:\nprotected static <T extends Comparable<T>> int nullCompare(T o1, T o2) {\n\nYou need that because Comparable is itself a generic type.\n", "Here's an odd case:\nstatic class A {\n    ...\n}\n\nstatic class B extends A implements Comparable<A> {\n    public int compareTo(A o) {\n        return ...;\n    }\n}\n\nLuckily code like the one above is rare, but nullCompare() will not support comparison of Bs unless it is stated that Comparable may apply to T or any superclass thereof:\nprotected static <T extends Comparable<? super T>> int nullCompare(T o1, T o2) {\n\nEven though most people will never benefit from the above tweak, it may come in handy when designing APIs for exported libraries.\n", "I'm not sure that genericizing this method makes sense. Currently the method works on any kind of Comparable; if you genericize it you will have to implement it (with exactly the same code) multiple times. Sometimes it is possible to compare two objects that don't have a common ancestor, and any generic version won't allow this.\nBy adding generics you won't add any safety to the code; any problems of safety will occur in the call to compareTo. What I would suggest is simply suppressing the warning. It's not really warning you about anything useful.\n", "Cannot edit so I have to post my answer.\nYou need to declare nested type parameter since Comparable is generic.\nprotected static <T extends Comparable<? super T>> int nullCompare(T o1, T o2) {\n\nPlease note that Comparable< ? super T >, which makes more flexible.  You will see the same method definition on Collections.sort\npublic static <T extends Comparable<? super T>> void sort(List<T> list) {\n\n", "There's a standalone JUnit runner that has a UI, but I recommend using one of the builtin test runners in the Java IDEs (Eclipse, Netbeans, and IntelliJ all have good ones).  They all support JUnit, and most support TestNG as well.\n", "Eclipse is by-far the best I've used.  Couple JUnit with a code coverage plug-in and Eclipse will probably be the best unit-tester.\n", "Why you need a GUI runner? Can't you just run the tests from the IDE itself?\nIn .Net we have TestDriven.net, in Java there must be something equivalent. You can check out IntelliJ IDEA, it has the unit testing support built-in. \n", "JUnit stopped having graphical runners following the release of JUnit 4.\nIf you do have an earlier version of JUnit you can use a graphical test runner by entering on the command line[1]:\n\njava junit.swingui.TestRunner [optional TestClass]\n\nWith the optional test class the specified tests will run straight away. Without it you can enter the class into the GUI.\nThe benefits of running your tests this way is that you don't have the overhead of an entire IDE (if you're not already running one). However, if you're already working in an IDE such as Eclipse, the integration is excellent and is a lot less hassle to get the test running.\nIf you do have JUnit 4, and really don't want to use an IDE to run the tests, or want textual feedback, you can run the text UI test runner. In a similar vein as earlier, this can be done by entering on the command line[1]:\n\njava junit.textui.TestRunner [TestClass]\n\nThough in this case the TestClass is not optional, for obvious reasons.\n[1] assuming you're in the correct working directory and the classpath has been setup, which may be out of scope for this answer\n", "From what I can see JavaFX is a whole new runtime and compiler so is not a subset of Java. Sun will support it on mobile phones and on the desktop.\nOS-wise it is currently released for Windows/Mac but Solaris/Linux are in the works.\n", "JavaFX has three planned distributions.\n\nJavaFX Desktop will run on Windows, Mac, Linux, and Solaris at FCS and will require Java SE.  Support for Linux and Solaris will be forthcoming.\nJavaFX TV and JavaFX Mobile have no announce target platforms.  Also unannounced is whether they will run on ME or SE, and if ME which profiles.\n\nOne important platform distinction is that JavaFX Desktop will support Swing components while JavaFX Mobile will not (only scene graph for graphics).   JavaFX TV the least publicly concrete of the three at this time.\n", "JavaFx is not a new runtime. It is the same JRE but a new language/compiler with some a few new APIs to make it all works....\nUsing Netbeans, you can build applications on any platform.  As of today, the APIs are beta. Classfiles produced by the compiler are JRE 6 compatible.\n", "From here. I couldn't have said it better (Well, with the exception of a flame war, this is a flameless place :-) ).\n\nHello,\nResponding to your question seems\n  fraught with peril by starting a flame\n  war, so I'll proceed cautiously.\nThere are a number of fundamental\n  technical similarities between the\n  Java Runtime and the Common Language\n  Runtime, including garbage collected\n  memory, an intermediate language\n  (Microsoft IL versus Java ByteCode),\n  core system libraries, and support for\n  fairly high level languages, code\n  security, and deployment.\nHowever, each of these 'similar' areas\n  also have a number of sizable and\n  small differences, and it's beyond the\n  scope of a simple Forum post to\n  describe most of them.\nI would suggest asking a more\n  targetted question about any of the\n  various runtime features and component\n  areas (e.g. memory management,\n  compilation, system libraries,\n  security, etc.) and then we can\n  provide a more targetted response\n  (e.g. a blog, a technical article, or\n  some books).\n\n", "This should be a great thread.\nOne of the biggest differences is between the CLR and JVM is the CLR\"s native integration of generics.\nJava instead removes the generic types and the JVM can only work with objects by autoboxing the objects it appears to be pseudo generics.\n", "Already posted this once but here is a series of interviews with c# chief language designer  Anders Hejlsberg.  Though mostly talking about the differences between C# and Java he does dive into differences between the virtual machines as well.\n", "As Vinko said, the full details are way beyond the scope of a forum post. The differences/similarities boil down to this:\nThey are both a runtime environment \"sandbox\" that include a \"just-in-time\" compiler to translate program instructions in an intermediate language (MSIL or ByteCode) to native machine code and provide automatic memory management (garbage collection). Sitting on top of the respective runtime environments are a set of class libraries that provide higher level abstractions to developers to simplify development tasks.\nThe internals of how those runtime environments are actually implemented are, for the most part, proprietary to Microsoft and Sun. The algorithms used by the garbage collection systems, for example, while probably similar in technical functionality are different in implementation.\n", "Miguel de Icaza mentions here:\n\nSeasoned industry programmers will notice that the above is\n  very much like Java and the Java VM.   They are right, the above\n  is just like Java. \nThe CIL has one feature not found in Java though: it is\n  byte code representation that is powerful enough to be used as a\n  target for many languages: from C++, C, Fortran and Eiffel to Lisp\n  and Haskell including things like Java, C#, JavaScript and Visual\n  Basic in the mix.\nI wish I had the time to go in more detail, but for the sake\n  of this argument, the above will suffice.\n\nThe comments go into some details, though, like tail call optimizations. Lot have changed since 2002 though - both CLR and JVM now have multiple languages targeting it. But nonetheless worth a read.\n", "One essential difference is that the JVM is portable across platforms and runs on Linux, Macintosh, and many cell phones and embedded devices.  \nCLR runs on Microsoft supported platforms with the Mono project providing partial support of older versions of CLR on a few more.\nInternally this means the JVM's performance will vary on those different platforms based on capabilities provided by the platforms themselves.\n", "This page seems to imply that the correct configuration element is:\n<attribute name=\"MaxCapacity\">20000</attribute>\nHowever, I've only ever used EHCache myself.\n", "In the version I am working on (JBossCache 1.4.1), it looks like it is not possible to configure this parameter.\n", "Use this XSLT. \nIf you need help using XSLT and Java here's a code snippet:\npublic static void main(String[] args) throws Exception {\n\n        File xsltFile = new File(\"mardownXSLT.xslt\");\n\n        Source xmlSource = new StreamSource(new StringReader(theHTML));\n        Source xsltSource = new StreamSource(xsltFile);\n\n        TransformerFactory transFact =\n                TransformerFactory.newInstance();\n        Transformer trans = transFact.newTransformer(xsltSource);\n\n        StringWriter result = new StringWriter();\n        trans.transform(xmlSource, new StreamResult(result));\n    }\n\n", "I am working on the same issue, and experimenting with a couple different techniques.\nThe answer above could work. You could use the jTidy library to do the initial cleanup work and convert from HTML to XHTML. You use the XSLT stylesheet linked above.\nUnfortunately there is no library that has a one-stop function to do this in Java. You could try using the Python script html2text with Jython, but I haven't yet tried this!\n", "http://java.sun.com/developer/technicalArticles/Programming/Stacktrace/\n...\n\"On UNIX platforms you can send a signal to a program by using the kill command. This is the quit signal, which is handled by the JVM. For example, on Solaris you can use the command kill -QUIT process_id, where process_id is the process number of your Java program.\nAlternatively you can enter the key sequence <ctrl>\\ in the window where the Java program was started. Sending this signal instructs a signal handler in the JVM, to recursively print out all the information on the threads and monitors inside the JVM.\"\n...\n\"Determining the Thread States\nYou will see many different threads in many different states in a snapshot from a JVM stack trace. The key used is:\nR   Running or runnable thread\nS   Suspended thread\nCW  Thread waiting on a condition variable\nMW  Thread waiting on a monitor lock\nMS  Thread suspended waiting on a monitor lock\"\n", "There is a JBoss-specific method that is slightly more user-friendly:\nhttp://community.jboss.org/wiki/GenerateAThreadDumpWithTheJMXConsole\nThis is especially useful when you don't have direct access to the host machine (which \"kill\" would require).\n", "The stacktrace app found here is also useful, especially on Windows machines when the   java app is not started from the command line.\n", "As a side note, you should be using URI because Java URL class is screwed up. (The equals method I believe)\n", "That url string looks like it's invalid. Sure it's not supposed to be 'http://path'? Or are the server & port blank?\n", "Your code works perfectly fine for me:\npublic static void main(String[] args) {\n    try {\n        java.net.URL connection_url = new java.net.URL(\"http://:/path\");\n        System.out.println(\"Instantiated new URL: \" + connection_url);\n    }\n    catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n}\n\n\nInstantiated new URL: http://:/path\n\nSure you have the right line of code?\n", "Why don't you just use a Double? any reason?\n", "Declare it like this:\n<bean id=\"doubleValue\" class=\"java.lang.Double\">\n   <constructor-arg index=\"0\" value=\"3.7\"/>\n</bean>\n\nAnd use like this:\n<bean id=\"someOtherBean\" ...>\n   <property name=\"value\" ref=\"doubleValue\"/>\n</bean>\n\n", "It's also worth noting that depending on your need defining your own bean may not be the best bet for you.\n<util:constant static-field=\"org.example.Constants.FOO\"/>\n\nis a good way to access a constant value stored in a class and default binders also work very well for conversions e.g. \n<bean class=\"Foo\" p:doubleValue=\"123.00\"/>\n\nI've found myself replacing many of my beans in this manner, coupled with a properties file defining my values (for reuse purposes).  What used to look like this\n<bean id=\"d1\" class=\"java.lang.Double\">\n  <constructor-arg value=\"3.7\"/>\n</bean>\n<bean id=\"foo\" class=\"Foo\">\n  <property name=\"doubleVal\" ref=\"d1\"/>\n</bean>\n\ngets refactored into this:\n<bean\n  id=\"propertyFile\"\n  class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"\n  p:location=\"classpath:my.properties\"\n/>\n<bean id=\"foo\" class=\"Foo\" p:doubleVal=\"${d1}\"/>\n\n", "Timestretching is quite hard. The more you slow down or speed up the sound the more artifacts you get. If you want to know what they sound like listen to \"The Rockafeller Skank\" by Fat Boy Slim. There are a lot of ways to do it that all have their own strengths and weaknesses. The math can get really complex. That's why there are so many proprietary algorithms.\nThis page explains things a bit clearer than I can and links to the Dirac library.\nhttp://www.dspdimension.com/admin/time-pitch-overview/\nI found this link for java code to do pitch shifting/timestretching\nhttp://www.adetorres.com/keychanger/KeyChangerReadme.html\n", "This site explains how it's done in the physical world:\nhttp://www.wendycarlos.com/other/Eltro-1967/index.html\nI don't know how you would emulate that in software though... I'll keep looking\n", "I use soundstretch to speed up podcasts which is works quite well, haven't tried it on music though.\n", "To answer your first question, you can check if the Line.Info object for your recording input matches Port.Info.LINE_IN like this:\npublic static boolean isLineIn(Line.Info lineInfo) {\n    Line.Info[] detected = AudioSystem.getSourceLineInfo(Port.Info.LINE_IN);\n    for (Line.Info lineIn : detected) {\n        if (lineIn.matches(lineInfo)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nHowever, this doesn't work with operating systems or soundcard driver APIs that don't provide the type of each available mixer channel. So when I test it on Windows it works, but not on Linux or Mac. For more information and recommendations, see this FAQ.\nRegarding your second question, you can try changing the recording input settings through a Control class. In particular, see FloatControl.Type for some common settings. Keep in mind that the availability of these controls depends on the operating system and soundcard drivers, just like line-in detection.\n", "Since Java 1.5, yes:\nPattern.quote(\"$5\");\n\n", "I think what you're after is \\Q$5\\E.  Also see Pattern.quote(s) introduced in Java5.\nSee Pattern javadoc for details.\n", "Difference between Pattern.quote and Matcher.quoteReplacement was not clear to me before I saw following example\ns.replaceFirst(Pattern.quote(\"text to replace\"), \n               Matcher.quoteReplacement(\"replacement text\"));\n\n", "Found this code out there on the tubes:\nclass DnDTabbedPane extends JTabbedPane {\n  private static final int LINEWIDTH = 3;\n  private static final String NAME = \"test\";\n  private final GhostGlassPane glassPane = new GhostGlassPane();\n  private final Rectangle2D lineRect   = new Rectangle2D.Double();\n  private final Color     lineColor  = new Color(0, 100, 255);\n  //private final DragSource dragSource  = new DragSource();\n  //private final DropTarget dropTarget;\n  private int dragTabIndex = -1;\n\n  public DnDTabbedPane() {\n    super();\n    final DragSourceListener dsl = new DragSourceListener() {\n      public void dragEnter(DragSourceDragEvent e) {\n        e.getDragSourceContext().setCursor(DragSource.DefaultMoveDrop);\n      }\n      public void dragExit(DragSourceEvent e) {\n        e.getDragSourceContext().setCursor(DragSource.DefaultMoveNoDrop);\n        lineRect.setRect(0,0,0,0);\n        glassPane.setPoint(new Point(-1000,-1000));\n        glassPane.repaint();\n      }\n      public void dragOver(DragSourceDragEvent e) {\n        //e.getLocation()\n        //This method returns a Point indicating the cursor location in screen coordinates at the moment\n        Point tabPt = e.getLocation();\n        SwingUtilities.convertPointFromScreen(tabPt, DnDTabbedPane.this);\n        Point glassPt = e.getLocation();\n        SwingUtilities.convertPointFromScreen(glassPt, glassPane);\n        int targetIdx = getTargetTabIndex(glassPt);\n        if(getTabAreaBound().contains(tabPt) && targetIdx>=0 &&\n           targetIdx!=dragTabIndex && targetIdx!=dragTabIndex+1) {\n          e.getDragSourceContext().setCursor(DragSource.DefaultMoveDrop);\n        }else{\n          e.getDragSourceContext().setCursor(DragSource.DefaultMoveNoDrop);\n        }\n      }\n      public void dragDropEnd(DragSourceDropEvent e) {\n        lineRect.setRect(0,0,0,0);\n        dragTabIndex = -1;\n        if(hasGhost()) {\n          glassPane.setVisible(false);\n          glassPane.setImage(null);\n        }\n      }\n      public void dropActionChanged(DragSourceDragEvent e) {}\n    };\n    final Transferable t = new Transferable() {\n      private final DataFlavor FLAVOR = new DataFlavor(DataFlavor.javaJVMLocalObjectMimeType, NAME);\n      public Object getTransferData(DataFlavor flavor) {\n        return DnDTabbedPane.this;\n      }\n      public DataFlavor[] getTransferDataFlavors() {\n        DataFlavor[] f = new DataFlavor[1];\n        f[0] = this.FLAVOR;\n        return f;\n      }\n      public boolean isDataFlavorSupported(DataFlavor flavor) {\n        return flavor.getHumanPresentableName().equals(NAME);\n      }\n    };\n    final DragGestureListener dgl = new DragGestureListener() {\n      public void dragGestureRecognized(DragGestureEvent e) {\n        Point tabPt = e.getDragOrigin();\n        dragTabIndex = indexAtLocation(tabPt.x, tabPt.y);\n        if(dragTabIndex<0) return;\n        initGlassPane(e.getComponent(), e.getDragOrigin());\n        try{\n          e.startDrag(DragSource.DefaultMoveDrop, t, dsl);\n        }catch(InvalidDnDOperationException idoe) {\n          idoe.printStackTrace();\n        }\n      }\n    };\n    //dropTarget =\n    new DropTarget(glassPane, DnDConstants.ACTION_COPY_OR_MOVE, new CDropTargetListener(), true);\n    new DragSource().createDefaultDragGestureRecognizer(this, DnDConstants.ACTION_COPY_OR_MOVE, dgl);\n  }\n\n  class CDropTargetListener implements DropTargetListener{\n    public void dragEnter(DropTargetDragEvent e) {\n      if(isDragAcceptable(e)) e.acceptDrag(e.getDropAction());\n      else e.rejectDrag();\n    }\n    public void dragExit(DropTargetEvent e) {}\n    public void dropActionChanged(DropTargetDragEvent e) {}\n    public void dragOver(final DropTargetDragEvent e) {\n      if(getTabPlacement()==JTabbedPane.TOP || getTabPlacement()==JTabbedPane.BOTTOM) {\n        initTargetLeftRightLine(getTargetTabIndex(e.getLocation()));\n      }else{\n        initTargetTopBottomLine(getTargetTabIndex(e.getLocation()));\n      }\n      repaint();\n      if(hasGhost()) {\n        glassPane.setPoint(e.getLocation());\n        glassPane.repaint();\n      }\n    }\n\n    public void drop(DropTargetDropEvent e) {\n      if(isDropAcceptable(e)) {\n        convertTab(dragTabIndex, getTargetTabIndex(e.getLocation()));\n        e.dropComplete(true);\n      }else{\n        e.dropComplete(false);\n      }\n      repaint();\n    }\n    public boolean isDragAcceptable(DropTargetDragEvent e) {\n      Transferable t = e.getTransferable();\n      if(t==null) return false;\n      DataFlavor[] f = e.getCurrentDataFlavors();\n      if(t.isDataFlavorSupported(f[0]) && dragTabIndex>=0) {\n        return true;\n      }\n      return false;\n    }\n    public boolean isDropAcceptable(DropTargetDropEvent e) {\n      Transferable t = e.getTransferable();\n      if(t==null) return false;\n      DataFlavor[] f = t.getTransferDataFlavors();\n      if(t.isDataFlavorSupported(f[0]) && dragTabIndex>=0) {\n        return true;\n      }\n      return false;\n    }\n  }\n\n  private boolean hasGhost = true;\n  public void setPaintGhost(boolean flag) {\n    hasGhost = flag;\n  }\n  public boolean hasGhost() {\n    return hasGhost;\n  }\n  private int getTargetTabIndex(Point glassPt) {\n    Point tabPt = SwingUtilities.convertPoint(glassPane, glassPt, DnDTabbedPane.this);\n    boolean isTB = getTabPlacement()==JTabbedPane.TOP || getTabPlacement()==JTabbedPane.BOTTOM;\n    for(int i=0;i<getTabCount();i++) {\n      Rectangle r = getBoundsAt(i);\n      if(isTB) r.setRect(r.x-r.width/2, r.y,  r.width, r.height);\n      else   r.setRect(r.x, r.y-r.height/2, r.width, r.height);\n      if(r.contains(tabPt)) return i;\n    }\n    Rectangle r = getBoundsAt(getTabCount()-1);\n    if(isTB) r.setRect(r.x+r.width/2, r.y,  r.width, r.height);\n    else   r.setRect(r.x, r.y+r.height/2, r.width, r.height);\n    return   r.contains(tabPt)?getTabCount():-1;\n  }\n  private void convertTab(int prev, int next) {\n    if(next<0 || prev==next) {\n      //System.out.println(\"press=\"+prev+\" next=\"+next);\n      return;\n    }\n    Component cmp = getComponentAt(prev);\n    String str = getTitleAt(prev);\n    if(next==getTabCount()) {\n      //System.out.println(\"last: press=\"+prev+\" next=\"+next);\n      remove(prev);\n      addTab(str, cmp);\n      setSelectedIndex(getTabCount()-1);\n    }else if(prev>next) {\n      //System.out.println(\"   >: press=\"+prev+\" next=\"+next);\n      remove(prev);\n      insertTab(str, null, cmp, null, next);\n      setSelectedIndex(next);\n    }else{\n      //System.out.println(\"   <: press=\"+prev+\" next=\"+next);\n      remove(prev);\n      insertTab(str, null, cmp, null, next-1);\n      setSelectedIndex(next-1);\n    }\n  }\n\n  private void initTargetLeftRightLine(int next) {\n    if(next<0 || dragTabIndex==next || next-dragTabIndex==1) {\n      lineRect.setRect(0,0,0,0);\n    }else if(next==getTabCount()) {\n      Rectangle rect = getBoundsAt(getTabCount()-1);\n      lineRect.setRect(rect.x+rect.width-LINEWIDTH/2,rect.y,LINEWIDTH,rect.height);\n    }else if(next==0) {\n      Rectangle rect = getBoundsAt(0);\n      lineRect.setRect(-LINEWIDTH/2,rect.y,LINEWIDTH,rect.height);\n    }else{\n      Rectangle rect = getBoundsAt(next-1);\n      lineRect.setRect(rect.x+rect.width-LINEWIDTH/2,rect.y,LINEWIDTH,rect.height);\n    }\n  }\n  private void initTargetTopBottomLine(int next) {\n    if(next<0 || dragTabIndex==next || next-dragTabIndex==1) {\n      lineRect.setRect(0,0,0,0);\n    }else if(next==getTabCount()) {\n      Rectangle rect = getBoundsAt(getTabCount()-1);\n      lineRect.setRect(rect.x,rect.y+rect.height-LINEWIDTH/2,rect.width,LINEWIDTH);\n    }else if(next==0) {\n      Rectangle rect = getBoundsAt(0);\n      lineRect.setRect(rect.x,-LINEWIDTH/2,rect.width,LINEWIDTH);\n    }else{\n      Rectangle rect = getBoundsAt(next-1);\n      lineRect.setRect(rect.x,rect.y+rect.height-LINEWIDTH/2,rect.width,LINEWIDTH);\n    }\n  }\n\n  private void initGlassPane(Component c, Point tabPt) {\n    //Point p = (Point) pt.clone();\n    getRootPane().setGlassPane(glassPane);\n    if(hasGhost()) {\n      Rectangle rect = getBoundsAt(dragTabIndex);\n      BufferedImage image = new BufferedImage(c.getWidth(), c.getHeight(), BufferedImage.TYPE_INT_ARGB);\n      Graphics g = image.getGraphics();\n      c.paint(g);\n      image = image.getSubimage(rect.x,rect.y,rect.width,rect.height);\n      glassPane.setImage(image);\n    }\n    Point glassPt = SwingUtilities.convertPoint(c, tabPt, glassPane);\n    glassPane.setPoint(glassPt);\n    glassPane.setVisible(true);\n  }\n\n  private Rectangle getTabAreaBound() {\n    Rectangle lastTab  = getUI().getTabBounds(this, getTabCount()-1);\n    return new Rectangle(0,0,getWidth(),lastTab.y+lastTab.height);\n  }\n\n  public void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    if(dragTabIndex>=0) {\n      Graphics2D g2 = (Graphics2D)g;\n      g2.setPaint(lineColor);\n      g2.fill(lineRect);\n    }\n  }\n}\n\nclass GhostGlassPane extends JPanel {\n  private final AlphaComposite composite;\n  private Point location = new Point(0, 0);\n  private BufferedImage draggingGhost = null;\n  public GhostGlassPane() {\n    setOpaque(false);\n    composite = AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.5f);\n  }\n  public void setImage(BufferedImage draggingGhost) {\n    this.draggingGhost = draggingGhost;\n  }\n  public void setPoint(Point location) {\n    this.location = location;\n  }\n  public void paintComponent(Graphics g) {\n    if(draggingGhost == null) return;\n    Graphics2D g2 = (Graphics2D) g;\n    g2.setComposite(composite);\n    double xx = location.getX() - (draggingGhost.getWidth(this) /2d);\n    double yy = location.getY() - (draggingGhost.getHeight(this)/2d);\n    g2.drawImage(draggingGhost, (int)xx, (int)yy , null);\n  }\n}\n\n", "Curses! Beaten to the punch by a Google search.  Unfortunately it's true there is no easy way to create draggable tab panes (or any other components) in Swing.  So whilst the example above is complete this one I've just written is a bit simpler. So it will hopefully demonstrate the more advanced techniques involved a bit clearer.  The steps are:\n\nDetect that a drag has occurred\nDraw the dragged tab to an offscreen buffer\nTrack the mouse position whilst dragging occurs\nDraw the tab in the buffer on top of the component.\n\nThe above example will give you what you want but if you want to really understand the techniques applied here it might be a better exercise to round off the edges of this example and add the extra features demonstrated above to it.\nOr maybe I'm just disappointed because I spent time writing this solution when one already existed :p\nimport java.awt.Component;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JTabbedPane;\n\n\npublic class DraggableTabbedPane extends JTabbedPane {\n\n  private boolean dragging = false;\n  private Image tabImage = null;\n  private Point currentMouseLocation = null;\n  private int draggedTabIndex = 0;\n\n  public DraggableTabbedPane() {\n    super();\n    addMouseMotionListener(new MouseMotionAdapter() {\n      public void mouseDragged(MouseEvent e) {\n\n        if(!dragging) {\n          // Gets the tab index based on the mouse position\n          int tabNumber = getUI().tabForCoordinate(DraggableTabbedPane.this, e.getX(), e.getY());\n\n          if(tabNumber >= 0) {\n            draggedTabIndex = tabNumber;\n            Rectangle bounds = getUI().getTabBounds(DraggableTabbedPane.this, tabNumber);\n\n\n            // Paint the tabbed pane to a buffer\n            Image totalImage = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_ARGB);\n            Graphics totalGraphics = totalImage.getGraphics();\n            totalGraphics.setClip(bounds);\n            // Don't be double buffered when painting to a static image.\n            setDoubleBuffered(false);\n            paintComponent(totalGraphics);\n\n            // Paint just the dragged tab to the buffer\n            tabImage = new BufferedImage(bounds.width, bounds.height, BufferedImage.TYPE_INT_ARGB);\n            Graphics graphics = tabImage.getGraphics();\n            graphics.drawImage(totalImage, 0, 0, bounds.width, bounds.height, bounds.x, bounds.y, bounds.x + bounds.width, bounds.y+bounds.height, DraggableTabbedPane.this);\n\n            dragging = true;\n            repaint();\n          }\n        } else {\n          currentMouseLocation = e.getPoint();\n\n          // Need to repaint\n          repaint();\n        }\n\n        super.mouseDragged(e);\n      }\n    });\n\n    addMouseListener(new MouseAdapter() {\n      public void mouseReleased(MouseEvent e) {\n\n        if(dragging) {\n          int tabNumber = getUI().tabForCoordinate(DraggableTabbedPane.this, e.getX(), 10);\n\n          if(tabNumber >= 0) {\n            Component comp = getComponentAt(draggedTabIndex);\n            String title = getTitleAt(draggedTabIndex);\n            removeTabAt(draggedTabIndex);\n            insertTab(title, null, comp, null, tabNumber);\n          }\n        }\n\n        dragging = false;\n        tabImage = null;\n      }\n    });\n  }\n\n  protected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    // Are we dragging?\n    if(dragging && currentMouseLocation != null && tabImage != null) {\n      // Draw the dragged tab\n      g.drawImage(tabImage, currentMouseLocation.x, currentMouseLocation.y, this);\n    }\n  }\n\n  public static void main(String[] args) {\n    JFrame test = new JFrame(\"Tab test\");\n    test.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    test.setSize(400, 400);\n\n    DraggableTabbedPane tabs = new DraggableTabbedPane();\n    tabs.addTab(\"One\", new JButton(\"One\"));\n    tabs.addTab(\"Two\", new JButton(\"Two\"));\n    tabs.addTab(\"Three\", new JButton(\"Three\"));\n    tabs.addTab(\"Four\", new JButton(\"Four\"));\n\n    test.add(tabs);\n    test.setVisible(true);\n  }\n}\n\n", "I liked Terai Atsuhiro san's DnDTabbedPane, but I wanted more from it. The original Terai implementation transfered tabs within the TabbedPane, but it would be nicer if I could drag from one TabbedPane to another.\nInspired by @Tom's effort, I decided to modify the code myself.\nThere are some details I added. For example, the ghost tab now slides along the tabbed pane instead of moving together with the mouse.\nsetAcceptor(TabAcceptor a_acceptor) should let the consumer code decide whether to let one tab transfer from one tabbed pane to another. The default acceptor always returns true.\n/** Modified DnDTabbedPane.java\n * http://java-swing-tips.blogspot.com/2008/04/drag-and-drop-tabs-in-jtabbedpane.html\n * originally written by Terai Atsuhiro.\n * so that tabs can be transfered from one pane to another.\n * eed3si9n.\n */\n\nimport java.awt.*;\nimport java.awt.datatransfer.*;\nimport java.awt.dnd.*;\nimport java.awt.geom.*;\nimport java.awt.image.*;\nimport javax.swing.*;\n\npublic class DnDTabbedPane extends JTabbedPane {\n    public static final long serialVersionUID = 1L;\n    private static final int LINEWIDTH = 3;\n    private static final String NAME = \"TabTransferData\";\n    private final DataFlavor FLAVOR = new DataFlavor(\n            DataFlavor.javaJVMLocalObjectMimeType, NAME);\n    private static GhostGlassPane s_glassPane = new GhostGlassPane();\n\n    private boolean m_isDrawRect = false;\n    private final Rectangle2D m_lineRect = new Rectangle2D.Double();\n\n    private final Color m_lineColor = new Color(0, 100, 255);\n    private TabAcceptor m_acceptor = null;\n\n    public DnDTabbedPane() {\n        super();\n        final DragSourceListener dsl = new DragSourceListener() {\n            public void dragEnter(DragSourceDragEvent e) {\n                e.getDragSourceContext().setCursor(DragSource.DefaultMoveDrop);\n            }\n\n            public void dragExit(DragSourceEvent e) {\n                e.getDragSourceContext()\n                        .setCursor(DragSource.DefaultMoveNoDrop);\n                m_lineRect.setRect(0, 0, 0, 0);\n                m_isDrawRect = false;\n                s_glassPane.setPoint(new Point(-1000, -1000));\n                s_glassPane.repaint();\n            }\n\n            public void dragOver(DragSourceDragEvent e) {\n                //e.getLocation()\n                //This method returns a Point indicating the cursor location in screen coordinates at the moment\n\n                TabTransferData data = getTabTransferData(e);\n                if (data == null) {\n                    e.getDragSourceContext().setCursor(\n                            DragSource.DefaultMoveNoDrop);\n                    return;\n                } // if\n\n                /*\n                Point tabPt = e.getLocation();\n                SwingUtilities.convertPointFromScreen(tabPt, DnDTabbedPane.this);\n                if (DnDTabbedPane.this.contains(tabPt)) {\n                    int targetIdx = getTargetTabIndex(tabPt);\n                    int sourceIndex = data.getTabIndex();\n                    if (getTabAreaBound().contains(tabPt)\n                            && (targetIdx >= 0)\n                            && (targetIdx != sourceIndex)\n                            && (targetIdx != sourceIndex + 1)) {\n                        e.getDragSourceContext().setCursor(\n                                DragSource.DefaultMoveDrop);\n\n                        return;\n                    } // if\n\n                    e.getDragSourceContext().setCursor(\n                            DragSource.DefaultMoveNoDrop);\n                    return;\n                } // if\n                */\n\n                e.getDragSourceContext().setCursor(\n                        DragSource.DefaultMoveDrop);\n            }\n\n            public void dragDropEnd(DragSourceDropEvent e) {\n                m_isDrawRect = false;\n                m_lineRect.setRect(0, 0, 0, 0);\n                // m_dragTabIndex = -1;\n\n                if (hasGhost()) {\n                    s_glassPane.setVisible(false);\n                    s_glassPane.setImage(null);\n                }\n            }\n\n            public void dropActionChanged(DragSourceDragEvent e) {\n            }\n        };\n\n        final DragGestureListener dgl = new DragGestureListener() {\n            public void dragGestureRecognized(DragGestureEvent e) {\n                // System.out.println(\"dragGestureRecognized\");\n\n                Point tabPt = e.getDragOrigin();\n                int dragTabIndex = indexAtLocation(tabPt.x, tabPt.y);\n                if (dragTabIndex < 0) {\n                    return;\n                } // if\n\n                initGlassPane(e.getComponent(), e.getDragOrigin(), dragTabIndex);\n                try {\n                    e.startDrag(DragSource.DefaultMoveDrop, \n                            new TabTransferable(DnDTabbedPane.this, dragTabIndex), dsl);\n                } catch (InvalidDnDOperationException idoe) {\n                    idoe.printStackTrace();\n                }\n            }\n        };\n\n        //dropTarget =\n        new DropTarget(this, DnDConstants.ACTION_COPY_OR_MOVE,\n                new CDropTargetListener(), true);\n        new DragSource().createDefaultDragGestureRecognizer(this,\n                DnDConstants.ACTION_COPY_OR_MOVE, dgl);\n        m_acceptor = new TabAcceptor() {\n            public boolean isDropAcceptable(DnDTabbedPane a_component, int a_index) {\n                return true;\n            }\n        };\n    }\n\n    public TabAcceptor getAcceptor() {\n        return m_acceptor;\n    }\n\n    public void setAcceptor(TabAcceptor a_value) {\n        m_acceptor = a_value;\n    }\n\n    private TabTransferData getTabTransferData(DropTargetDropEvent a_event) {       \n        try {\n            TabTransferData data = (TabTransferData) a_event.getTransferable().getTransferData(FLAVOR);             \n            return data;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    private TabTransferData getTabTransferData(DropTargetDragEvent a_event) {\n        try {\n            TabTransferData data = (TabTransferData) a_event.getTransferable().getTransferData(FLAVOR);             \n            return data;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    private TabTransferData getTabTransferData(DragSourceDragEvent a_event) {\n        try {\n            TabTransferData data = (TabTransferData) a_event.getDragSourceContext()\n                .getTransferable().getTransferData(FLAVOR);             \n            return data;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return null;        \n    }\n\n    class TabTransferable implements Transferable {\n        private TabTransferData m_data = null;\n\n        public TabTransferable(DnDTabbedPane a_tabbedPane, int a_tabIndex) {\n            m_data = new TabTransferData(DnDTabbedPane.this, a_tabIndex);\n        }\n\n        public Object getTransferData(DataFlavor flavor) {\n            return m_data;\n            // return DnDTabbedPane.this;\n        }\n\n        public DataFlavor[] getTransferDataFlavors() {\n            DataFlavor[] f = new DataFlavor[1];\n            f[0] = FLAVOR;\n            return f;\n        }\n\n        public boolean isDataFlavorSupported(DataFlavor flavor) {\n            return flavor.getHumanPresentableName().equals(NAME);\n        }       \n    }\n\n    class TabTransferData {\n        private DnDTabbedPane m_tabbedPane = null;\n        private int m_tabIndex = -1;\n\n        public TabTransferData() {\n        }\n\n        public TabTransferData(DnDTabbedPane a_tabbedPane, int a_tabIndex) {\n            m_tabbedPane = a_tabbedPane;\n            m_tabIndex = a_tabIndex;\n        }\n\n        public DnDTabbedPane getTabbedPane() {\n            return m_tabbedPane;\n        }\n\n        public void setTabbedPane(DnDTabbedPane pane) {\n            m_tabbedPane = pane;\n        }\n\n        public int getTabIndex() {\n            return m_tabIndex;\n        }\n\n        public void setTabIndex(int index) {\n            m_tabIndex = index;\n        }\n    }\n\n    private Point buildGhostLocation(Point a_location) {\n        Point retval = new Point(a_location);\n\n        switch (getTabPlacement()) {\n            case JTabbedPane.TOP: {\n                retval.y = 1;\n                retval.x -= s_glassPane.getGhostWidth() / 2;\n            } break;\n\n            case JTabbedPane.BOTTOM: {\n                retval.y = getHeight() - 1 - s_glassPane.getGhostHeight();\n                retval.x -= s_glassPane.getGhostWidth() / 2;\n            } break;\n\n            case JTabbedPane.LEFT: {\n                retval.x = 1;\n                retval.y -= s_glassPane.getGhostHeight() / 2;\n            } break;\n\n            case JTabbedPane.RIGHT: {\n                retval.x = getWidth() - 1 - s_glassPane.getGhostWidth();\n                retval.y -= s_glassPane.getGhostHeight() / 2;\n            } break;\n        } // switch\n\n        retval = SwingUtilities.convertPoint(DnDTabbedPane.this,\n                retval, s_glassPane);\n        return retval;\n    }\n\n    class CDropTargetListener implements DropTargetListener {\n        public void dragEnter(DropTargetDragEvent e) {\n            // System.out.println(\"DropTarget.dragEnter: \" + DnDTabbedPane.this);\n\n            if (isDragAcceptable(e)) {\n                e.acceptDrag(e.getDropAction());\n            } else {\n                e.rejectDrag();\n            } // if\n        }\n\n        public void dragExit(DropTargetEvent e) {\n            // System.out.println(\"DropTarget.dragExit: \" + DnDTabbedPane.this);\n            m_isDrawRect = false;\n        }\n\n        public void dropActionChanged(DropTargetDragEvent e) {\n        }\n\n        public void dragOver(final DropTargetDragEvent e) {\n            TabTransferData data = getTabTransferData(e);\n\n            if (getTabPlacement() == JTabbedPane.TOP\n                    || getTabPlacement() == JTabbedPane.BOTTOM) {\n                initTargetLeftRightLine(getTargetTabIndex(e.getLocation()), data);\n            } else {\n                initTargetTopBottomLine(getTargetTabIndex(e.getLocation()), data);\n            } // if-else\n\n            repaint();\n            if (hasGhost()) {\n                s_glassPane.setPoint(buildGhostLocation(e.getLocation()));\n                s_glassPane.repaint();\n            }\n        }\n\n        public void drop(DropTargetDropEvent a_event) {\n            // System.out.println(\"DropTarget.drop: \" + DnDTabbedPane.this);\n\n            if (isDropAcceptable(a_event)) {\n                convertTab(getTabTransferData(a_event),\n                    getTargetTabIndex(a_event.getLocation()));\n                a_event.dropComplete(true);\n            } else {\n                a_event.dropComplete(false);\n            } // if-else\n\n            m_isDrawRect = false;\n            repaint();\n        }\n\n        public boolean isDragAcceptable(DropTargetDragEvent e) {\n            Transferable t = e.getTransferable();\n            if (t == null) {\n                return false;\n            } // if\n\n            DataFlavor[] flavor = e.getCurrentDataFlavors();\n            if (!t.isDataFlavorSupported(flavor[0])) {\n                return false;\n            } // if\n\n            TabTransferData data = getTabTransferData(e);\n\n            if (DnDTabbedPane.this == data.getTabbedPane()\n                    && data.getTabIndex() >= 0) {\n                return true;\n            } // if\n\n            if (DnDTabbedPane.this != data.getTabbedPane()) {\n                if (m_acceptor != null) {\n                    return m_acceptor.isDropAcceptable(data.getTabbedPane(), data.getTabIndex());\n                } // if\n            } // if\n\n            return false;\n        }\n\n        public boolean isDropAcceptable(DropTargetDropEvent e) {\n            Transferable t = e.getTransferable();\n            if (t == null) {\n                return false;\n            } // if\n\n            DataFlavor[] flavor = e.getCurrentDataFlavors();\n            if (!t.isDataFlavorSupported(flavor[0])) {\n                return false;\n            } // if\n\n            TabTransferData data = getTabTransferData(e);\n\n            if (DnDTabbedPane.this == data.getTabbedPane()\n                    && data.getTabIndex() >= 0) {\n                return true;\n            } // if\n\n            if (DnDTabbedPane.this != data.getTabbedPane()) {\n                if (m_acceptor != null) {\n                    return m_acceptor.isDropAcceptable(data.getTabbedPane(), data.getTabIndex());\n                } // if\n            } // if\n\n            return false;\n        }\n    }\n\n    private boolean m_hasGhost = true;\n\n    public void setPaintGhost(boolean flag) {\n        m_hasGhost = flag;\n    }\n\n    public boolean hasGhost() {\n        return m_hasGhost;\n    }\n\n    /**\n     * returns potential index for drop.\n     * @param a_point point given in the drop site component's coordinate\n     * @return returns potential index for drop.\n     */\n    private int getTargetTabIndex(Point a_point) {\n        boolean isTopOrBottom = getTabPlacement() == JTabbedPane.TOP\n                || getTabPlacement() == JTabbedPane.BOTTOM;\n\n        // if the pane is empty, the target index is always zero.\n        if (getTabCount() == 0) {\n            return 0;\n        } // if\n\n        for (int i = 0; i < getTabCount(); i++) {\n            Rectangle r = getBoundsAt(i);\n            if (isTopOrBottom) {\n                r.setRect(r.x - r.width / 2, r.y, r.width, r.height);\n            } else {\n                r.setRect(r.x, r.y - r.height / 2, r.width, r.height);\n            } // if-else\n\n            if (r.contains(a_point)) {\n                return i;\n            } // if\n        } // for\n\n        Rectangle r = getBoundsAt(getTabCount() - 1);\n        if (isTopOrBottom) {\n            int x = r.x + r.width / 2;\n            r.setRect(x, r.y, getWidth() - x, r.height);\n        } else {\n            int y = r.y + r.height / 2;\n            r.setRect(r.x, y, r.width, getHeight() - y);\n        } // if-else\n\n        return r.contains(a_point) ? getTabCount() : -1;\n    }\n\n    private void convertTab(TabTransferData a_data, int a_targetIndex) {\n        DnDTabbedPane source = a_data.getTabbedPane();\n        int sourceIndex = a_data.getTabIndex();\n        if (sourceIndex < 0) {\n            return;\n        } // if\n\n        Component cmp = source.getComponentAt(sourceIndex);\n        String str = source.getTitleAt(sourceIndex);\n        if (this != source) {\n            source.remove(sourceIndex);\n\n            if (a_targetIndex == getTabCount()) {\n                addTab(str, cmp);\n            } else {\n                if (a_targetIndex < 0) {\n                    a_targetIndex = 0;\n                } // if\n\n                insertTab(str, null, cmp, null, a_targetIndex);\n\n            } // if\n\n            setSelectedComponent(cmp);\n            // System.out.println(\"press=\"+sourceIndex+\" next=\"+a_targetIndex);\n            return;\n        } // if\n\n        if (a_targetIndex < 0 || sourceIndex == a_targetIndex) {\n            //System.out.println(\"press=\"+prev+\" next=\"+next);\n            return;\n        } // if\n\n        if (a_targetIndex == getTabCount()) {\n            //System.out.println(\"last: press=\"+prev+\" next=\"+next);\n            source.remove(sourceIndex);\n            addTab(str, cmp);\n            setSelectedIndex(getTabCount() - 1);\n        } else if (sourceIndex > a_targetIndex) {\n            //System.out.println(\"   >: press=\"+prev+\" next=\"+next);\n            source.remove(sourceIndex);\n            insertTab(str, null, cmp, null, a_targetIndex);\n            setSelectedIndex(a_targetIndex);\n        } else {\n            //System.out.println(\"   <: press=\"+prev+\" next=\"+next);\n            source.remove(sourceIndex);\n            insertTab(str, null, cmp, null, a_targetIndex - 1);\n            setSelectedIndex(a_targetIndex - 1);\n        }\n    }\n\n    private void initTargetLeftRightLine(int next, TabTransferData a_data) {        \n        if (next < 0) {\n            m_lineRect.setRect(0, 0, 0, 0);\n            m_isDrawRect = false;\n            return;\n        } // if\n\n        if ((a_data.getTabbedPane() == this)\n                && (a_data.getTabIndex() == next\n                || next - a_data.getTabIndex() == 1)) {\n            m_lineRect.setRect(0, 0, 0, 0);\n            m_isDrawRect = false;\n        } else if (getTabCount() == 0) {\n            m_lineRect.setRect(0, 0, 0, 0);\n            m_isDrawRect = false;\n            return;\n        } else if (next == 0) {\n            Rectangle rect = getBoundsAt(0);\n            m_lineRect.setRect(-LINEWIDTH / 2, rect.y, LINEWIDTH, rect.height);\n            m_isDrawRect = true;\n        } else if (next == getTabCount()) {\n            Rectangle rect = getBoundsAt(getTabCount() - 1);\n            m_lineRect.setRect(rect.x + rect.width - LINEWIDTH / 2, rect.y,\n                    LINEWIDTH, rect.height);\n            m_isDrawRect = true;\n        } else {\n            Rectangle rect = getBoundsAt(next - 1);\n            m_lineRect.setRect(rect.x + rect.width - LINEWIDTH / 2, rect.y,\n                    LINEWIDTH, rect.height);\n            m_isDrawRect = true;\n        }\n    }\n\n    private void initTargetTopBottomLine(int next, TabTransferData a_data) {\n        if (next < 0) {\n            m_lineRect.setRect(0, 0, 0, 0);\n            m_isDrawRect = false;\n            return;\n        } // if\n\n        if ((a_data.getTabbedPane() == this)\n                && (a_data.getTabIndex() == next\n                || next - a_data.getTabIndex() == 1)) {\n            m_lineRect.setRect(0, 0, 0, 0);\n            m_isDrawRect = false;\n        } else if (getTabCount() == 0) {\n            m_lineRect.setRect(0, 0, 0, 0);\n            m_isDrawRect = false;\n            return;\n        } else if (next == getTabCount()) {\n            Rectangle rect = getBoundsAt(getTabCount() - 1);\n            m_lineRect.setRect(rect.x, rect.y + rect.height - LINEWIDTH / 2,\n                    rect.width, LINEWIDTH);\n            m_isDrawRect = true;\n        } else if (next == 0) {\n            Rectangle rect = getBoundsAt(0);\n            m_lineRect.setRect(rect.x, -LINEWIDTH / 2, rect.width, LINEWIDTH);\n            m_isDrawRect = true;\n        } else {\n            Rectangle rect = getBoundsAt(next - 1);\n            m_lineRect.setRect(rect.x, rect.y + rect.height - LINEWIDTH / 2,\n                    rect.width, LINEWIDTH);\n            m_isDrawRect = true;\n        }\n    }\n\n    private void initGlassPane(Component c, Point tabPt, int a_tabIndex) {\n        //Point p = (Point) pt.clone();\n        getRootPane().setGlassPane(s_glassPane);\n        if (hasGhost()) {\n            Rectangle rect = getBoundsAt(a_tabIndex);\n            BufferedImage image = new BufferedImage(c.getWidth(),\n                    c.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            Graphics g = image.getGraphics();\n            c.paint(g);\n            image = image.getSubimage(rect.x, rect.y, rect.width, rect.height);\n            s_glassPane.setImage(image);            \n        } // if\n\n        s_glassPane.setPoint(buildGhostLocation(tabPt));\n        s_glassPane.setVisible(true);\n    }\n\n    private Rectangle getTabAreaBound() {\n        Rectangle lastTab = getUI().getTabBounds(this, getTabCount() - 1);\n        return new Rectangle(0, 0, getWidth(), lastTab.y + lastTab.height);\n    }\n\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        if (m_isDrawRect) {\n            Graphics2D g2 = (Graphics2D) g;\n            g2.setPaint(m_lineColor);\n            g2.fill(m_lineRect);\n        } // if\n    }\n\n    public interface TabAcceptor {\n        boolean isDropAcceptable(DnDTabbedPane a_component, int a_index);\n    }\n}\n\nclass GhostGlassPane extends JPanel {\n    public static final long serialVersionUID = 1L;\n    private final AlphaComposite m_composite;\n\n    private Point m_location = new Point(0, 0);\n\n    private BufferedImage m_draggingGhost = null;\n\n    public GhostGlassPane() {\n        setOpaque(false);\n        m_composite = AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.7f);\n    }\n\n    public void setImage(BufferedImage draggingGhost) {\n        m_draggingGhost = draggingGhost;\n    }\n\n    public void setPoint(Point a_location) {\n        m_location.x = a_location.x;\n        m_location.y = a_location.y;\n    }\n\n    public int getGhostWidth() {\n        if (m_draggingGhost == null) {\n            return 0;\n        } // if\n\n        return m_draggingGhost.getWidth(this);\n    }\n\n    public int getGhostHeight() {\n        if (m_draggingGhost == null) {\n            return 0;\n        } // if\n\n        return m_draggingGhost.getHeight(this);\n    }\n\n    public void paintComponent(Graphics g) {\n        if (m_draggingGhost == null) {\n            return;\n        } // if \n\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setComposite(m_composite);\n\n        g2.drawImage(m_draggingGhost, (int) m_location.getX(), (int) m_location.getY(), null);\n    }\n}\n\n", "You will need to copy the Process out, err, and input streams to the System versions.  The easiest way to do that is using the IOUtils class from the Commons IO package.  The copy method looks to be what you need.  The copy method invocations will need to be in separate threads.  \nHere is the basic code:\n// Assume you already have a processBuilder all configured and ready to go\nfinal Process process = processBuilder.start();\nnew Thread(new Runnable() {public void run() {\n  IOUtils.copy(process.getOutputStream(), System.out);\n} } ).start();\nnew Thread(new Runnable() {public void run() {\n  IOUtils.copy(process.getErrorStream(), System.err);\n} } ).start();\nnew Thread(new Runnable() {public void run() {\n  IOUtils.copy(System.in, process.getInputStream());\n} } ).start();\n\n", "Sounds like it should be possible (but I've never done it). Have you already had a look at Remote Method Invocation (RMI)?\n", "I think classes are lazy loaded in applets. being loaded on demand.\nAnyway, if the classes are outside of a jar you can simply use the applet classloader and load them by name. Ex:\nClassLoader loader = this.getClass().getClassLoader();\nClass clazz = loader.loadClass(\"acme.AppletAddon\");\n\nIf you want to load classes from a jar I think you will need to create a new instance of URLClassLoader with the url(s) of the jar(s).\nURL[] urls = new URL[]{new URL(\"http://localhost:8080/addon.jar\")};\nURLClassLoader loader = URLClassLoader.newInstance(urls,this.getClass().getClassLoader());\nClass clazz = loader.loadClass(\"acme.AppletAddon\");\n\nBy default, applets are forbidden to create new classloaders. But if you sign your applet and include permission to create new classloaders you can do it.\n", "Yes, you can open URL connections to the host you ran your applet from. You can either create a classloader with HTTP urls, or download the classes (as jars) to the user's machine and create a classloader with those jars in the classpath. The applet won't stop and you don't need to load another page.\nRegarding the second part of your question about confidence, once the user has granted access to your applet it can download anything, yes anything, it wants to the local machine. You can probably inform the user as to what it's doing, if your UI design permits this.\nHope this helps.\n", "The following solution is hackish, as it uses reflection to bypass encapsulation, but it works flawlessly:\nFile file = ...\nURL url = file.toURI().toURL();\n\nURLClassLoader classLoader = (URLClassLoader)ClassLoader.getSystemClassLoader();\nMethod method = URLClassLoader.class.getDeclaredMethod(\"addURL\", URL.class);\nmethod.setAccessible(true);\nmethod.invoke(classLoader, url);\n\n", "You should take a look at OSGi, e.g. implemented in the Eclipse Platform. It does exactly that. You can install, uninstall, start and stop so called bundles, which are effectively JAR files. But it does a little more, as it offers e.g. services that can be dynamically discovered in JAR files at runtime.\nOr see the specification for the Java Module System.\n", "The reason it's hard is security.  Classloaders are meant to be immutable; you shouldn't be able to willy-nilly add classes to it at runtime.  I'm actually very surprised that works with the system classloader.  Here's how you do it making your own child classloader:\nURLClassLoader child = new URLClassLoader (myJar.toURL(), this.getClass().getClassLoader());\nClass classToLoad = Class.forName (\"com.MyClass\", true, child);\nMethod method = classToLoad.getDeclaredMethod (\"myMethod\");\nObject instance = classToLoad.newInstance ();\nObject result = method.invoke (instance);\n\nPainful, but there it is.\n", "The best I've found is org.apache.xbean.classloader.JarFileClassLoader which is part of the XBean project.\nHere's a short method I've used in the past, to create a class loader from all the lib files in a specific directory\npublic void initialize(String libDir) throws Exception {\n    File dependencyDirectory = new File(libDir);\n    File[] files = dependencyDirectory.listFiles();\n    ArrayList<URL> urls = new ArrayList<URL>();\n    for (int i = 0; i < files.length; i++) {\n        if (files[i].getName().endsWith(\".jar\")) {\n        urls.add(files[i].toURL());\n        //urls.add(files[i].toURI().toURL());\n        }\n    }\n    classLoader = new JarFileClassLoader(\"Scheduler CL\" + System.currentTimeMillis(), \n        urls.toArray(new URL[urls.size()]), \n        GFClassLoader.class.getClassLoader());\n}\n\nThen to use the classloader, just do: \nclassLoader.loadClass(name);\n\n", "Sounds to me like you are treating a symptom: poor design with dependencies on static initialization.  Maybe some refactoring is the real solution.  It sounds like you've already done a little refactoring with your staticInit() function, but maybe that function needs to be called from the constructor, not from a static initializer.  If you can do away with static initializers period, you will be better off.  Only you can make this decision (I can't see your codebase) but some refactoring will definitely help.\nAs for mocking, I use EasyMock, but I have run into the same issue.  Side effects of static initializers in legacy code make testing difficult.  Our answer was to refactor out the static initializer.\n", "I suppose you really want some kind of factory instead of the static initializer.\nSome mix of a singleton and an abstract factory would probably be able to get you the same functionality as today, and with good testability, but that would add quite a lot of boiler-plate code, so it might be better to just try to refactor the static stuff away completely or if you could at least get away with some less complex solution. \nHard to tell if it\u00b4s possible without seeing your code though.\n", "You could write your test code in Groovy and easily mock the static method using metaprogramming.\nMath.metaClass.'static'.max = { int a, int b -> \n    a + b\n}\n\nMath.max 1, 2\n\nIf you can't use Groovy, you will really need to refactoring the code (maybe to inject something like a initializator).\nKind Regards\n", "When I run into this problem, I usually do the same thing you describe, except I make the static method protected so I can invoke it manually.  On top of this, I make sure that the method can be invoked multiple times without problems (otherwise it is no better than the static initializer as far as the tests go).\nThis works reasonably well, and I can actually test that the static initializer method does what I expect/want it to do.  Sometimes it is just easiest to have some static initialization code, and it just isn't worth it to build an overly complex system to replace it.\nWhen I use this mechanism, I make sure to document that the protected method is only exposed for testing purposes, with the hopes that it won't be used by other developers.  This of course may not be a viable solution, for example if the class' interface is externally visible (either as a sub-component of some kind for other teams, or as a public framework).  It is a simple solution to the problem though, and doesn't require a third party library to set up (which I like).\n", "I'm not super knowledgeable in Mock frameworks so please correct me if I'm wrong but couldn't you possibly have two different Mock objects to cover the situations that you mention? Such as\npublic static class MockClassWithEmptyStaticInit {\n  public static void staticInit() {\n  }\n}\n\nand\npublic static class MockClassWithStaticInit {\n  public static void staticInit() {\n    System.out.println(\"static initialized.\");\n  }\n}\n\nThen you can use them in your different test cases\n@BeforeClass\npublic static void setUpBeforeClass() {\n  Mockit.redefineMethods(ClassWithStaticInit.class, \n                         MockClassWithEmptyStaticInit.class);\n}\n\nand\n@BeforeClass\npublic static void setUpBeforeClass() {\n  Mockit.redefineMethods(ClassWithStaticInit.class, \n                         MockClassWithStaticInit.class);\n}\n\nrespectively.\n", "This is going to get into more \"Advanced\" JMockit. It turns out, you can redefine static initialization blocks in JMockit by creating a public void $clinit() method. So, instead of making this change\npublic class ClassWithStaticInit {\n  static {\n    staticInit();\n  }\n\n  private static void staticInit() {\n    System.out.println(\"static initialized.\");\n  }\n}\n\nwe might as well leave ClassWithStaticInit as is and do the following in the MockClassWithStaticInit:\npublic static class MockClassWithStaticInit {\n  public void $clinit() {\n  }\n}\n\nThis will in fact allow us to not make any changes in the existing classes.\n", "I think the question is phrased incorrectly. C# vs. Java is much less interesting in terms of cross-platform usage than is (a) which platforms you need to support, and (b) considering the core libraries and available third party libraries. The language is almost the least important part of the decision-making process.\n", "Well....Java is actually more portable.  Mono isn't implemented everywhere, and it lags behind the Microsoft implementation significantly.  The Java SDK seems to stay in better sync across platforms (and it works on more platforms).  \nI'd also say Java has more tool availability across all those platforms, although there are plenty of tools available for .NET on Windows platforms.\nUpdate for 2014\nI still hold this opinion in 2014.  However, I'll qualify this by saying I'm just now starting to pay some attention to Mono after a long while of not really caring, so there may be improvements in the Mono runtime (or ecosystem) that I haven't been made aware of. AFAIK, there is still no support for WPF, WCF, WF, of WIF. Mono can run on iOS, but to my knowledge, the Java runtime still runs on far more platforms than Mono.  Also, Mono is starting to see some much improved tooling (Xamarin), and Microsoft seems to have a much more cross-platform kind of attitude and willingness to work with partners to make them complimentary, rather than competitive (for example, Mono will be a pretty important part of the upcoming OWIN/Helios ASP.NET landscape).  I suspect that in the coming years the differences in portability will lessen rapidly, especially after .NET being open-sourced.\n", "Java actually is as cross-platform as everyone says it is.  There's a JVM implementation for just about any mainstream OS out there (even Mac OS X, finally), and they all work really well.  And there's tons of open source tools out there that are just as cross platform. \nThe only catch is that there are certain native operations you can't do in Java without writing some DLLs or SOs.  It's very rare that these come up in practice.  In all those cases, though, I've been able to get around it by spawning native processes and screen-scraping the results.\n", "I actually develop in .NET, run all my tests first on Mono, and then on Windows. That way I know my applications are cross platform. I have done this very successfully on both ASP.NET and Winforms applications.\nI am not really sure where some people get the impression Mono is so horrible from, but it certainly has done it's job in my cases and opinions.It is true you will have a bit of lag for the latest and greatest inventions in the .NET world, but so far, .NET 2.0 on Windows and Linux is very solid for me.\nKeep in mind there are obviously many quirks to this, but most of them come from making sure you are writing portable code. While the frameworks do a great job of abstracting away what OS you are running on, little things like Linux's case sensitivity in paths and file names takes a bit of getting used to, as do things like permissions.\n.NET is definitely very cross platform due to Mono based on my experiences so far.\n", "Java was designed to be cross-platform; C#/.Net wasn't.  When in doubt, use the tool that was designed for your purpose.\nEDIT: in fairness, .NET was designed to work on embedded/PC/Server environments, so that's SORT of cross-platform.  But it wasn't designed for Linux.\n", "I'm going to say Java as well. If you look at it in terms of maturity, a lot more time and effort has been expended by Sun (and others) in getting the JVM to work on non-Windows platforms. \nIn contrast, Mono is definitely a second class citizen in the .NET ecosystem.\nDepending on who your target customers are, you may also find there is real pushback against using Mono - does Novell offer the same kind of vendor support for Mono that you would get for Java or .NET on Windows?\nIf you were primarily targeting hosting your service on Windows, it would make sense to be considering this choice, but since you're targeting Linux primarily, it seems like kind of a no-brainer to me.\n", "There are other language choices too. I've become quite fond of Python, which works well on Windows, Linux, and Mac, and has a rich set of libraries.\n", "I would vote for Java being more portable than C#.  Java definitely also has a very rich set of standard libraries.  There is also a broad set of open source 3rd party libraries out there such as those provided by the Jakarta project (http://jakarta.apache.org/).\nAll the usual suspects exist for CI, Unit testing, etc too.  Cross platform IDE support is also very good with the likes of Eclipse, Netbeans, IntelliJ IDEA etc.\n", "To add a bit more to the conversation, Java is more portable if you remain about one version behind - Java 5 still has many excellent features so you can wait for Java 6 and still have a lot of range in terms of language and libraries to develop with.  The Mac is the primary platform that can take some time to catch up to the latest Java version.\nJava also has an excellent standards body that intelligently grows the platform based on input from many different companies.  This is an oft overlooked feature but it keeps even new features working well across multiple platforms and provides a lot of range in library support for some esoteric things (as optional extensions).\n", "I've been asking the same question off-late and IMHO, .NET/Mono seems to be a better option simply because Mono has a great track record for cross-platform desktop applications (as opposed to Java) and of course, Mono is improving by leaps and bounds these days.\n", "I think the answer is \"it depends.\"  Java runs on just about anything, but .NET/Mono are (IMHO) a better framework for the desktop.  So I guess the answer really depends on what platforms you plan on targeting.\n", "While Mono has its share of problems I think it has a better cross-platform compatibility story especially IF you have reliance on native platform invocation.\nThere are not enough words on Stack Overflow to stress how much smoother it is to get something native called and executed in .NET/Mono on (at least in my experience 3...) multiple platforms vs. the equivalent Java effort.\n", "I'd say it entirely depends on who's working on the codebase.\nIf you have a small group of developers who all share a common language and you don't ever plan needing anyone who doesn't speak the language to work on the code then go ahead and use whatever characters you want.\nIf you need to have people of varying cultures and languages working on the code then it's probably best to stick with English since it's the common denominator for just about everyone in the world.\n", "Part of the problem is that the Java/C# language and its libraries are based on English words like if and toString(). I personally would not like to switch between non-English language and English while reading code.\nHowever, if your database, UI, business logics (including metaphors) are already in some non-English language, there's no need to translate every method names and variables into English.\n", "It depends:\n\nDoes your team conform to any existing standards that require your using ASCII?\nIs your code ever going to be feasibly reused or read by someone who doesn't speak your native language?\nDo you envision a scenario where you'll need to ask for help online and will therefore not be able to copy-paste your code sample in as-is?\nAre you certain your entire suite of tools support code encoding?\n\nIf you answered 'yes' to any of the above, stay ASCII only.  If not, go forward at your own risk.\n", "I would stick to english, simply because you usually never know who is working on that code, and because some third-party tools used in the build/testing/bugtracking progress may have problems. Typing \u00e4\u00f6\u00fc\u00df on a Non-German Keyboard is simply a PITA, and I simply believe that anyone involved in software development should speak english, but maybe that's just my arrogance as a non-native-english speaker.\nWhat you call \"American arrogance\" is not whether or not your program uses international variable names, it's when your program thinks \"W\u00e4hrung\" and \"Wahrung\" are the same words.\n", "IF you get past the other prerequisites you then have one extra (IMHO more important) one - How difficult is the symbol to type.\nOn my regular en-us keyboard, the only way I know of to type the letter \u00e7 is to hold alt, and hit 0227 on the numeric keypad, or copy and paste.\nThis would be a HUGE big roadblock in the way of typing quickly. You don't want to slow your coding down with trivial stuff like this if you aren't forced to. International keyboards may alleviate this, but then what happens if you have to code on your laptop which doesn't have an international keyboard, etc?\n", "I used to work in a development team that happily wiped their asses with any naming (and for that matter any other coding) conventions. Believe it or not, having to cope with \u00e4's and \u00f6's in the code was a contributing factor of me resigning. Though I'm Finnish, I prefer writing code with US keyboard settings because curly and square brackets are a pain to write in a Finnish keyboard (try right alt and 7 and 0 for curlies).\nSo I say stick with the ascii characters.\n", "If your business are non-English speakers, and you think Domain Driven Design has something to it, then there is another aspect: How do we, as developers, use the same domain language as our business without any translation overhead?\nThat does not only mean translations between languages, say English and Norwegian, but also between different words. We should use the exact same words as our business for our entity classes and services.\nI have found it easier to just give in and use my native language. Now that my code use the same words, it's easier to have a conversation with my domain experts. And after a while you get used to it, just like how you got used to code without Hungarian notation. \n", "As far as I know you need to start using JNI to set up a message handler for the Windows WM_QUERYENDSESSION message.\nTo do this (if you're new to Windows programming like me) you'll need to create a new class of window with a new message handling function (as described here) and handle the WM_QUERYENDSESSION from the message handler.\nNB: You'll need to use the JNIEnv::GetJavaVM(...) and then JavaVM::AttachCurrentThread(...) on the message handling thread before you can call any Java methods from your native message handling code. \n", "The previously mentioned JNI approach will likely work.\nYou can use JNA which is basically a wrapper around JNI to make it easier to use.  An added bonus is that it (in my opinion at least) generally is faster and more maintainable than raw JNI.  You can find JNA at https://jna.dev.java.net/\nIf you're just starting the application in the start menu because you're trying to make it behave like a service in windows, you can use the java service wrapper which is found here:\nhttp://wrapper.tanukisoftware.org/doc/english/download.jsp\n", "For handling uncaught exceptions you can provide a new ThreadGroup which provides an implementation of ThreadGroup.uncaughtException(...). You can then catch any uncaught exceptions and handle them appropriately (e.g. send a crash log home).\nI can't help you on the JNI front, there's probably a way using a native wrapper executable before calling the JVM, but that executable is going to need to know about all the possible JVMs it could be calling and how the indicate crashes and where crash logs are placed etc.\n", "Not sure if this is what you needing, but you can also detect if an exception has occurred from within your native code.  See http://java.sun.com/javase/6/docs/technotes/guides/jni/spec/functions.html#wp5234 for more info.\n", "For simple catch-all handling, you can use the following static method in Thread. From the Javadoc:\n\nstatic void setDefaultUncaughtExceptionHandler(Thread.UncaughtExceptionHandler eh) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Set the default handler invoked when a thread abruptly terminates due to an uncaught exception, and no other handler has been defined for that thread.\n\nThis is a very broad way to deal with errors or unchecked exceptions that may not be caught anywhere else.\nSide-note: It's better if the code can catch, log and/or recover from exceptions closer to the source of the problem. I would reserve this kind of generalized crash handling for totally unrecoverable situations (i.e. subclasses of java.lang.Error). Try to avoid the possibility of a RuntimeException ever going completely uncaught, since it might be possible--and preferable--for the software to survive that.\n", "What are you looking to profile?  Is it stuff in the JVM or the App Server? If it's the latter, there's loads of stuff in WAS 6 GUI to help with this.  Assuming you really want to see stuff like the heap etc, then the IBM HeapAnalyzer might help.  There are other tools listed off the bottom of this page.\nSomething else I've learned, ideally, youll be able to connect your IDE's profiler to the running JVM.  Some let you do this to a remote one as well as the local one you are developing on.  Is the JVM you wish to profile in live or remote?  If so, you might have to force dumps and take them out of the live environment to look at at your leisure.  Otherwise, set up something local and get the info from it that way. \n", "What if you put this at the top?\n<%@ page contentType=\"text/html;charset=UTF-8\" pageEncoding=\"UTF-8\" language=\"java\" %> \n\n", "The obvious names for these classes are ReaderInputStream and WriterOutputStream. Unfortunately these are not included in the Java library. However, google is your friend.\nI'm not sure that it is going to get around all text encoding problems, which are nightmarish.\nThere is an RFE, but it's Closed, will not fix.\n", "You can't really avoid dealing with the text encoding issues, but there are existing solutions:\n\nReader to InputStream: ReaderInputStream\nWriter to OutputStream: WriterOutputStream\n\nYou just need to pick the encoding of your choice.\n", "One tool which does this is the software tomograph http://www.software-tomography.com/ it is commercial and the ui sucks :o\n", "There is also structure 101 which should do this http://www.headwaysoftware.com/\n", "And you can use the open source tool CAP which is an eclipse plugin. http://cap.xore.de/\nCAP has a graphical package view which will show you the lines to the classes so after some clicks (depending on the size of the circle) you will find the culprit.\n", "Findbugs can detect circular class dependencies, and has an eclipse plugin too.\nhttp://findbugs.sourceforge.net/\n", "There are some commercial tools: Structure101 & Lattix which can be used for this purpose.\n", "a first possible answer is... not pretty. But it does begin to do what I am after.\n(a better solution is presented below)\nDependency Finder! Download it, unzip it.\nNot the most modern or active project ever, but if you edit [Dependency Finder]/bin/DependencyFinder.bat, add its path for DEFAULT_DEPENDENCYFINDER_HOME, set a JAVA_HOME, you can launch it.\nThen you click on the 'Extract' button (CTRL-E - first button), enter your classes path, and let it scan away.\nThe tricky part is to click exactly the right set of 'programming elements' and 'closures' items, in order to not been swamped by the level of details in the result.\n\nSelect only 'classes' in the left side ('programming elements')\nSelect only 'classes' in the right side ('closures')\nadd \"/javax?./,/org./,/sun./\" as exclusion pattern (for both programming elements and closures)\nClick on the wheels (last button - Compute all - CTRL A)\n\nAnd here you go.\nWhenever you see '<->', you have got yourself a nice cyclic dependency.\n(If you select 'features' on the 'closure' side,\nyou can even know what function does trigger the cycle - awesome -)\nI am ready to test any other suggestions.\n", "Well... after testing DepFinder presented above, it turns out it is great for a quick detection of simple dependencies, but it does not scale well with the number of classes...\nSo the REAL ACTUAL ANSWER is:\nCDA - Class Dependency Analyzer\nIt is fast, up-to-date, easy to use and provides with graphical representation of classes and their circular dependencies. A dream come true ;)\nYou have to create a workset in which you enter only the directory of your classes (.class) (no need to have a complete classpath)\nThe option \"Detect circular dependencies - ALT-C\" works as advertise and does not take 100% of the CPU for hours to analyze my 468 classes.\nNote: to refresh a workspace, you need to open it again(!), in order to trigger a new scan of your classes.\n\n", "Have you tried using Process Explorer from SysInternals? It gives a much better idea of what is running within the process. Available free online here: http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx\n", "I'd suggest downloading Process Explorer from Sysinternals and looking at the different java.exe processes more closesly, that way you can get a better idea of which one to kill.\nhttp://technet.microsoft.com/en-us/sysinternals/bb896653.aspx\nIt's very intuitive and you can find the java.exe processes and right click and goto their properties, from there you can see their command line, time of creation, etc which can help you find the process you want to kill.\nHope it helps.\n", "Using ProcessExplorer and hovering over the Java process will show the command line.\n", "Download Sysinternal's Process Explorer. It's a task manager much more powerfull than Windows's own manager. \nOne of it's features is that you can see all the resources that each process is using (like registry keys, hard disk directories, named pipes, etc). So, browsing the resources that each java.exe process holds might help you determine wich one you want to kill. I usually find out by looking for the one that's using a certain log file directory.\n", "You could try opening Windows Task Manager, going to the Applications tab, right clicking the application and then selecting \"Go To Process\". This will automatically highlight the appropriate process in the Processes tab.\n", "If the application is not responding at all, then Process Explorer is a good option.\nIf it's sort of responding, but not dying, sometimes bringing up task manager, and then moving another dialog over the java process will give you a clue. The java process that's taking up cpu cycles to redraw is the one you're looking for.\n", "In case you're developing software: use a java-launcher. I used for a few of my application [Exe4j][http://www.ej-technologies.com/products/exe4j/overview.html] and it worked very well. When the application is started, it's listed as for example \"myserverapp.exe\" or \"myapp\" in the windows tasks manager.\nThere are other lauchers too (don't known them by heart), few of them might be for free too.\n", "Using jps in the JDK will give you more information. More information is display with the -m, -l and -v options.\n", "Rather than using a third party tool, you can also make a pretty good guess by looking at all the columns in task manager if you know roughly what the various java processes on your system are. From the Processes tab, use View-> Select Columns and add PID, CPU Time, VM Size, and Thread count. Knowing roughly what the process is doing should help narrow it down. \nFor example, in a client-server app, the server will likely use more memory, have more threads, and have used more CPU time because it has been running longer. If you're killing a process because it's stuck, it might simply be using more CPU right now. \nMAX java heap memory is usually directly reflected in VM Size. So if you're using -Xmx flags, the process with the larger setting will have a larger VM Size. \n", "Run jps -lv which shows PIDs and command lines of all running Java processes. \nDetermine PID of the task you want to kill. Then use command:\ntaskkill /PID <pid>\n\nto kill the misbehaving process.\n", "If you're using Java 6, try jvisualvm from the JDK bin directory.\n", "Here's what's needed to make a simple hello world -\n\nGet Eclipse IDE for Java. I used Ganymede. Set it up.\nGet Sun's Wireless Toolkit. I used 2.5.2. Install it.\nGet Nokia's SDK (found here), in my case for S40 6230i Edition, and install it choosing the option to integrate with Sun's WTK\nFollow the instructions at http://www.eclipseme.org/ to download and install Mobile Tools Java (MTJ). I used version 1.7.9. \nWhen configuring devices profiles in MTJ (inside Eclipse) use the Nokia device from the WTK folder and NOT from Nokia's folder.\nSet the WTK root to the main installation folder - for instance c:\\WTK2.5.2; Note that the WTK installer creates other folders apparently for backward compatibility.\nGet Antenna and set its location in MTJ's property page (in Eclipse).\n\nHere's an HelloWorld sample to test the configuration.\nNote: It worked for me on WindowsXP.\nAlso note: This should work for S60 as well. Just replace the S40 SDK in phase 3 with S60's.\n", "Unless you need to do something Nokia-specific, I suggest avoiding the Nokia device definitions altogether. Develop for a generic device, then download your application to real, physical devices for final testing. The steps I suggest:\n\nDownload and install Sun's Wireless Toolkit.\nInstall EclipseME, using the method \"installing via a downloaded archive\".\nConfigure EclipseME. Choose a generic device, such as the \"DefaultColorPhone\" to develop on.\nCreate a new project \"J2ME Midlet Suite\"\nRight-click on the project, and create a new Midlet \"HelloWorld\"\nEnter the code, for example:\npublic HelloWorld() {\n    super();\n    myForm = new Form(\"Hello World!\");\n    myForm.append( new StringItem(null, \"Hello, world!\"));\n    myForm.addCommand(new Command(\"Exit\", Command.EXIT, 0));\n    myForm.setCommandListener(this);\n}\nprotected void startApp() throws MIDletStateChangeException {\n    Display.getDisplay(this).setCurrent(myForm);\n}\nprotected void pauseApp() {}\nprotected void destroyApp(boolean arg0) throws MIDletStateChangeException {}\npublic void commandAction(Command arg0, Displayable arg1) {\n    notifyDestroyed();\n}  \n\n\n", "The most annoying issue with EclipseME for me was the \"broken\" debugger, which just wouldn't start. This is covered in docs, but it took me about an hour to find this tip when I first installed EclipseME, and another hour when I returned to JavaME development a year later, so I decided to share this piece of knowledge here, too.\nIf the debugger won't start,\n\nopen \"Java > Debug\" section in Eclipse \"Preferences\" menu, and uncheck \"Suspend execution on uncaught exceptions\" and \"Suspend execution on compilation errors\" and\nincrease the \"Debugger timeout\" near the bottom of the dialog to at least 15000 ms. \n\nAfter that, Eclipse should be able to connect to KVM and run a midlet with a debugger attached.\n", "Apache digester is fairly easy: http://commons.apache.org/digester/\nJAXB is newer and comes with annotation goodness: https://jaxb.dev.java.net\n", "java.beans.XMLEncoder perhaps?\n", "XStream is very simple http://x-stream.github.io/\nXStream is a simple library to serialize objects to XML and back again.\n", "The easiest way here is to serialize the object graph.\nJava 1.4 has built in support for serialization as XML.\nA solution I have used successfully is XStream (http://x-stream.github.io/)- it's a small library that will easily allow you to serialize and deserialize to and from XML.\nThe downside is you can only very limited define the resulting XML; which might not be neccessary in your case.\n", "The Simple API is, well, simple! It's really good. http://simple.sourceforge.net/\nYou can also use XStream: http://www.ibm.com/developerworks/library/x-xstream/index.html\n", "XStream by the folks at Thoughtworks has a simple API and even deals with things like duplicate and circular references.  It seems to be actively developed and is well documented.\nhttp://x-stream.github.io/\n", "If you are really only interested in serializing your objects to a file and then deserializing them later, then you might check out YAML instead of XML. YAML is much easier to work with than XML and the output files are very human-readable (which may or may not be a requirement). Check out yaml.org for more information. I've used JYAML successfully on a recent project.\n", "If you need to control the structure of the XML, the XStream is a good choice. You can use annotations to define precisely the structure/mapping of the XML and your objects.\n", "Use java.beans.XMLEncoder. Its API is very simple (actually a little too simple; it'd be nice to wire it to a SAX ContentHandler), but it works on many graphs out of the box, and it's easy to create your own persistence delegate for any odd-ball classes you might encounter.\n\nThe syntax used by XMLDecoder allows\nyou to invoke any method, instance\nor static, including constructors,\nso it's extremely flexible.\nOther encoders name\nelements and attributes after class\nand field names, so there's no fixed schema for the result. The XMLEncoder's\nXML follows a simple DTD and can\neasily be validated or transformed,\neven when you've never seen the\ntypes it uses.\nYou can assign objects an\nidentifier, and reference them\nthroughout the graph.\nYou can refer to constants defined\nin classes or interfaces.\n\nAnd, it's built into Java SE, so you don't need to ship an extra library.\n", "JAX-B is part of the standard APIs and really easy to use.\n", "I'd second (or third) XStream.  It reads and writes XML without needing any special binding configuration or placing lots of extraneous syntax in the XML.\n", "If you need control over the XML that gets generated, I recommend taking a look at Betwixt (http://commons.apache.org/betwixt/) - it adds a lot of functionality to Apache's digester (Digester is good for building object graphs from XML, but is not so good for generating them).\nIf you really don't care about the XML that gets generated (just that it can be deserialized in the future), then the XMLEncoder/Decoder classes built into Java or good - as long as the objects you are serializing follow the JavaBean specification.  The biggest area I've run into problems with the XMLEncoder/Decoder solution is if you have a bean that returns an immutable list for one of it's properties - the encoder doesn't handle that situation very well.\n", "Although XStream and JAXB can serialize an some object graphs succssfully they can not handle very complex graphs. The most powerful solution for large complex graphs is http://simple.sourceforge.net/ it can handle any graph. Also, its fast and simple to use without any dependencies.\n", "Use an approach based on java.lang.StringBuilder!  (\"A mutable sequence of characters. \")\nLike you mentioned, all those string concatenations are creating Strings all over.  StringBuilder won't do that.\nWhy StringBuilder instead of StringBuffer?  From the StringBuilder javadoc:\n\nWhere possible, it is recommended that this class be used in preference to StringBuffer as it will be faster under most implementations. \n\n", "You can use Java's StringBuilder type for this. There's also StringBuffer, but it contains extra thread safety logic that is often unnecessary.\n", "Why not write your own join() method?  It would take as parameters collection of Strings and a delimiter String.  Within the method iterate over the collection and build up your result in a StringBuffer.\n", "You can generalize it, but there's no join in Java, as you well say.\nThis might work better. \npublic static String join(Iterable<? extends CharSequence> s, String delimiter) {\n    Iterator<? extends CharSequence> iter = s.iterator();\n    if (!iter.hasNext()) return \"\";\n    StringBuilder buffer = new StringBuilder(iter.next());\n    while (iter.hasNext()) buffer.append(delimiter).append(iter.next());\n    return buffer.toString();\n}\n\n", "You can try something like this:\nStringBuilder sb = new StringBuilder();\nif (condition) { sb.append(\"elementName\").append(\",\"); }\nif (anotherCondition) { sb.append(\"anotherElementName\").append(\",\"); }\nString parameterString = sb.toString();\n\n", "public static String join(String[] strings, char del)\n{\n    StringBuffer sb = new StringBuffer();\n    int len = strings.length;\n    boolean appended = false;\n    for (int i = 0; i < len; i++)\n    {\n        if (appended)\n        {\n            sb.append(del);\n        }\n        sb.append(\"\"+strings[i]);\n        appended = true;\n    }\n    return sb.toString();\n}\n\n", "You should probably use a StringBuilder with the append method to construct your result, but otherwise this is as good of a solution as Java has to offer.\n", "Why don't you do in Java the same thing you are doing in ruby, that is creating the delimiter separated string only after you've added all the pieces to the array?\nArrayList<String> parms = new ArrayList<String>();\nif (someCondition) parms.add(\"someString\");\nif (anotherCondition) parms.add(\"someOtherString\");\n// ...\nString sep = \"\"; StringBuffer b = new StringBuffer();\nfor (String p: parms) {\n    b.append(sep);\n    b.append(p);\n    sep = \"yourDelimiter\";\n}\n\nYou may want to move that for loop in a separate helper method, and also use StringBuilder instead of StringBuffer...\nEdit: fixed the order of appends.\n", "Pre Java 8:\nApache's commons lang is your friend here - it provides a join method very similar to the one you refer to in Ruby: \nStringUtils.join(java.lang.Iterable,char)\n\nJava 8:\nJava 8 provides joining out of the box via StringJoiner and String.join(). The snippets below show how you can use them:\nStringJoiner\nStringJoiner joiner = new StringJoiner(\",\");\njoiner.add(\"01\").add(\"02\").add(\"03\");\nString joinedString = joiner.toString(); // \"01,02,03\"\n\n\nString.join(CharSequence delimiter, CharSequence... elements))\nString joinedString = String.join(\" - \", \"04\", \"05\", \"06\"); // \"04 - 05 - 06\"\n\n\nString.join(CharSequence delimiter, Iterable<? extends CharSequence> elements)\nList<String> strings = new LinkedList<>();\nstrings.add(\"Java\");strings.add(\"is\");\nstrings.add(\"cool\");\nString message = String.join(\" \", strings);\n//message returned is: \"Java is cool\"\n\n", "You could write a little join-style utility method that works on java.util.Lists\npublic static String join(List<String> list, String delim) {\n\n    StringBuilder sb = new StringBuilder();\n\n    String loopDelim = \"\";\n\n    for(String s : list) {\n\n        sb.append(loopDelim);\n        sb.append(s);            \n\n        loopDelim = delim;\n    }\n\n    return sb.toString();\n}\n\nThen use it like so:\n    List<String> list = new ArrayList<String>();\n\n    if( condition )        list.add(\"elementName\");\n    if( anotherCondition ) list.add(\"anotherElementName\");\n\n    join(list, \",\");\n\n", "So basically something like this:\npublic static String appendWithDelimiter(String original, String addition, String delimiter) {\n\nif (original.equals(\"\")) {\n    return addition;\n} else {\n    StringBuilder sb = new StringBuilder(original.length() + addition.length() + delimiter.length());\n        sb.append(original);\n        sb.append(delimiter);\n        sb.append(addition);\n        return sb.toString();\n    }\n}\n\n", "Apache commons StringUtils class has a join method.\n", "Don't know if this really is any better, but at least it's using StringBuilder, which may be slightly more efficient.\nDown below is a more generic approach if you can build up the list of parameters BEFORE doing any parameter delimiting.\n// Answers real question\npublic String appendWithDelimiters(String delimiter, String original, String addition) {\n    StringBuilder sb = new StringBuilder(original);\n    if(sb.length()!=0) {\n        sb.append(delimiter).append(addition);\n    } else {\n        sb.append(addition);\n    }\n    return sb.toString();\n}\n\n\n// A more generic case.\n// ... means a list of indeterminate length of Strings.\npublic String appendWithDelimitersGeneric(String delimiter, String... strings) {\n    StringBuilder sb = new StringBuilder();\n    for (String string : strings) {\n        if(sb.length()!=0) {\n            sb.append(delimiter).append(string);\n        } else {\n            sb.append(string);\n        }\n    }\n\n    return sb.toString();\n}\n\npublic void testAppendWithDelimiters() {\n    String string = appendWithDelimitersGeneric(\",\", \"string1\", \"string2\", \"string3\");\n}\n\n", "Your approach is not too bad, but you should use a StringBuffer instead of using the + sign. The + has the big disadvantage that a new String instance is being created for each single operation. The longer your string gets, the bigger the overhead. So using a StringBuffer should be the fastest way:\npublic StringBuffer appendWithDelimiter( StringBuffer original, String addition, String delimiter ) {\n        if ( original == null ) {\n                StringBuffer buffer = new StringBuffer();\n                buffer.append(addition);\n                return buffer;\n        } else {\n                buffer.append(delimiter);\n                buffer.append(addition);\n                return original;\n        }\n}\n\nAfter you have finished creating your string simply call toString() on the returned StringBuffer.\n", "I would use Google Collections.  There is a nice Join facility.\nhttp://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/base/Join.html\nBut if I wanted to write it on my own,\npackage util;\n\nimport java.util.ArrayList;\nimport java.util.Iterable;\nimport java.util.Collections;\nimport java.util.Iterator;\n\npublic class Utils {\n    // accept a collection of objects, since all objects have toString()\n    public static String join(String delimiter, Iterable<? extends Object> objs) {\n        if (objs.isEmpty()) {\n            return \"\";\n        }\n        Iterator<? extends Object> iter = objs.iterator();\n        StringBuilder buffer = new StringBuilder();\n        buffer.append(iter.next());\n        while (iter.hasNext()) {\n            buffer.append(delimiter).append(iter.next());\n        }\n        return buffer.toString();\n    }\n\n    // for convenience\n    public static String join(String delimiter, Object... objs) {\n        ArrayList<Object> list = new ArrayList<Object>();\n        Collections.addAll(list, objs);\n        return join(delimiter, list);\n    }\n}\n\nI think it works better with an object collection, since now you don't have to convert your objects to strings before you join them.\n", "Instead of using string concatenation, you should use StringBuilder if your code is not threaded, and StringBuffer if it is.\n", "You're making this a little more complicated than it has to be. Let's start with the end of your example:\nString parameterString = \"\";\nif ( condition ) parameterString = appendWithDelimiter( parameterString, \"elementName\", \",\" );\nif ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, \"anotherElementName\", \",\" );\n\nWith the small change of using a StringBuilder instead of a String, this becomes:\nStringBuilder parameterString = new StringBuilder();\nif (condition) parameterString.append(\"elementName\").append(\",\");\nif (anotherCondition) parameterString.append(\"anotherElementName\").append(\",\");\n...\n\nWhen you're done (I assume you have to check a few other conditions as well), just make sure you remove the tailing comma with a command like this:\nif (parameterString.length() > 0) \n    parameterString.deleteCharAt(parameterString.length() - 1);\n\nAnd finally, get the string you want with\nparameterString.toString();\n\nYou could also replace the \",\" in the second call to append with a generic delimiter string that can be set to anything. If you have a list of things you know you need to append (non-conditionally), you could put this code inside a method that takes a list of strings. \n", "//Note: if you have access to Java5+, \n//use StringBuilder in preference to StringBuffer.  \n//All that has to be replaced is the class name.  \n//StringBuffer will work in Java 1.4, though.\n\nappendWithDelimiter( StringBuffer buffer, String addition, \n    String delimiter ) {\n    if ( buffer.length() == 0) {\n        buffer.append(addition);\n    } else {\n        buffer.append(delimiter);\n        buffer.append(addition);\n    }\n}\n\n\nStringBuffer parameterBuffer = new StringBuffer();\nif ( condition ) { \n    appendWithDelimiter(parameterBuffer, \"elementName\", \",\" );\n}\nif ( anotherCondition ) {\n    appendWithDelimiter(parameterBuffer, \"anotherElementName\", \",\" );\n}\n\n//Finally, to return a string representation, call toString() when returning.\nreturn parameterBuffer.toString(); \n\n", "With Java 5 variable args, so you don't have to stuff all your strings into a collection or array explicitly:\nimport junit.framework.Assert;\nimport org.junit.Test;\n\npublic class StringUtil\n{\n    public static String join(String delim, String... strings)\n    {\n        StringBuilder builder = new StringBuilder();\n\n        if (strings != null)\n        {\n            for (String str : strings)\n            {\n                if (builder.length() > 0)\n                {\n                    builder.append(delim).append(\" \");\n                }\n                builder.append(str);\n            }\n        }           \n        return builder.toString();\n    }\n    @Test\n    public void joinTest()\n    {\n        Assert.assertEquals(\"\", StringUtil.join(\",\", null));\n        Assert.assertEquals(\"\", StringUtil.join(\",\", \"\"));\n        Assert.assertEquals(\"\", StringUtil.join(\",\", new String[0]));\n        Assert.assertEquals(\"test\", StringUtil.join(\",\", \"test\"));\n        Assert.assertEquals(\"foo, bar\", StringUtil.join(\",\", \"foo\", \"bar\"));\n        Assert.assertEquals(\"foo, bar, x\", StringUtil.join(\",\", \"foo\", \"bar\", \"x\"));\n    }\n}\n\n", "So a couple of things you might do to get the feel that it seems like you're looking for:\n1) Extend List class - and add the join method to it.  The join method would simply do the work of concatenating and adding the delimiter (which could be a param to the join method)\n2) It looks like Java 7 is going to be adding extension methods to java - which allows you just to attach a specific method on to a class:  so you could write that join method and add it as an extension method to List or even to Collection.\nSolution 1 is probably the only realistic one, now, though since Java 7 isn't out yet :) But it should work just fine.\nTo use both of these, you'd just add all your items to the List or Collection as usual, and then call the new custom method to 'join' them.\n", "Use StringBuilder and class Separator\nStringBuilder buf = new StringBuilder();\nSeparator sep = new Separator(\", \");\nfor (String each : list) {\n    buf.append(sep).append(each);\n}\n\nSeparator wraps a delimiter. The delimiter is returned by Separator's toString method, unless on the first call which returns the empty string!\nSource code for class Separator\npublic class Separator {\n\n    private boolean skipFirst;\n    private final String value;\n\n    public Separator() {\n        this(\", \");\n    }\n\n    public Separator(String value) {\n        this.value = value;\n        this.skipFirst = true;\n    }\n\n    public void reset() {\n        skipFirst = true;\n    }\n\n    public String toString() {\n        String sep = skipFirst ? \"\" : value;\n        skipFirst = false;\n        return sep;\n    }\n\n}\n\n", "It should be as simple as looking at /System/Library/Frameworks/JavaVM.framework/Versions/\nE.g. from my machine:\nmanoa:~ stu$ ll /System/Library/Frameworks/JavaVM.framework/Versions/\ntotal 56\n774077 lrwxr-xr-x  1 root  wheel    5 Jul 23 15:31 1.3 -> 1.3.1\n167151 drwxr-xr-x  3 root  wheel  102 Jan 14  2008 1.3.1\n167793 lrwxr-xr-x  1 root  wheel    5 Feb 21  2008 1.4 -> 1.4.2\n774079 lrwxr-xr-x  1 root  wheel    3 Jul 23 15:31 1.4.1 -> 1.4\n166913 drwxr-xr-x  8 root  wheel  272 Feb 21  2008 1.4.2\n168494 lrwxr-xr-x  1 root  wheel    5 Feb 21  2008 1.5 -> 1.5.0\n166930 drwxr-xr-x  8 root  wheel  272 Feb 21  2008 1.5.0\n774585 lrwxr-xr-x  1 root  wheel    5 Jul 23 15:31 1.6 -> 1.6.0\n747415 drwxr-xr-x  8 root  wheel  272 Jul 23 10:24 1.6.0\n167155 drwxr-xr-x  8 root  wheel  272 Jul 23 15:31 A\n776765 lrwxr-xr-x  1 root  wheel    1 Jul 23 15:31 Current -> A\n774125 lrwxr-xr-x  1 root  wheel    3 Jul 23 15:31 CurrentJDK -> 1.5\nmanoa:~ stu$ \n\n", "This artical may help:\nhttp://developer.apple.com/technotes/tn2002/tn2110.html\nSummery:\nString javaVersion = System.getProperty(\"java.version\");\nif (javaVersion.startsWith(\"1.4\")) {\n  // New features for 1.4\n}\n\n", "You can add a shutdown hook to your application by doing the following:\nRuntime.getRuntime().addShutdownHook(new Thread(new Runnable() {\n    public void run() {\n        // what you want to do\n    }\n}));\n\nThis is basically equivalent to having a try {} finally {} block around your entire program, and basically encompasses what's in the finally block.\nPlease note the caveats though!\n", "Adding a shutdown hook addShutdownHook(java.lang.Thread) is probably what you look for. There are problems with that approach, though:\n\nyou will lose the changes if the program aborts in an uncontrolled way (i.e. if it is killed)\nyou will lose the changes if there are errors (permission denied, disk full, network errors)\n\nSo it might be better to save settings immediately (possibly in an extra thread, to avoid waiting times).\n", "Are you creating a stand alone GUI app (i.e. Swing)?\nIf so, you should consider how you are providing options to your users how to exit the application.\nNamely, if there is going to be a File menu, I would expect that there will be an \"Exit\" menu item.\nAlso, if the user closes the last window in the app, I would also expect it to exit the application.\nIn both cases, it should call code that handles saving the user's preferences.\n", "Using Runtime.getRuntime().addShutdownHook() is certainly a way to do this - but if you are writing Swing applications, I strongly recommend that you take a look at JSR 296 (Swing Application Framework)\nHere's a good article on the basics:  http://java.sun.com/developer/technicalArticles/javase/swingappfr/.\nThe JSR reference implementation provides the kind of features that you are looking for at a higher level of abstraction than adding shutdown hooks.\nHere is the reference implementation:  https://appframework.dev.java.net/\n", "In my opinion you should never clone the element unless you explicitly state that your data structure does that.\nThe desired functionality of most things needs the actual object to be passed into the data structure by-reference.\nIf you want to make the Node class safer, make it an inner class of the graph.\n", "It isn't clear to me why you are adding the additional indirection of the String names for the nodes.  Wouldn't it make more sense for your Edge constructor's signature to be something like public Edge(String, Node, Node) instead of public Edge (String, String, String)?\nI don't know where clone would help you here.\nETA: If the danger comes from having the node name changed after the node is created, throw an IllegalOperationException if the client tries to call setName() on a node with an existing name.\n", "In addition to the comments by @jhkiley.blogspot.com, you can create a factory for Edges and Nodes that refuses to create objects with a name that was already used.\n", "I work with graph structures in Java a lot, and my advice would be to make any data member of the Node and Edge class that the Graph depends on for maintaining its structure final, with no setters. In fact, if you can, I would make Node and Edge completely immutable, which has many benefits.\nSo, for example:\npublic final class Node {\n\n    private final String name;\n\n    public Node(String name) {\n           this.name = name;\n    }\n\n    public String getName() { return name; }\n    // note: no setter for name\n}\n\nYou would then do your uniqueness check in the Graph object:\npublic class Graph {\n    Set<Node> nodes = new HashSet<Node>();\n    public void addNode(Node n) {\n        // note: this assumes you've properly overridden \n        // equals and hashCode in Node to make Nodes with the \n        // same name .equal() and hash to the same value.\n        if(nodes.contains(n)) {\n            throw new IllegalArgumentException(\"Already in graph: \" + node);\n        }\n        nodes.add(n);\n    }\n}\n\nIf you need to modify a name of a node, remove the old node and add a new one. This might sound like extra work, but it saves a lot of effort keeping everything straight.\nReally, though, creating your own Graph structure from the ground up is probably unnecessary -- this issue is only the first of many you are likely to run into if you build your own.\nI would recommend finding a good open source Java graph library, and using that instead. Depending on what you are doing, there are a few options out there. I have used JUNG in the past, and would recommend it as a good starting point.\n", "Using NodeEnvelopes or edge/node Factories sounds like overdesign to me.\nDo you really want to expose a setName() method on Node at all?  There's nothing in your example to suggest that you need that.  If you make both your Node and Edge classes immutable, most of the integrity-violation scenarios you're envisioning become impossible.  (If you need them to be mutable but only until they're added to a Graph, you could enforce this by having an isInGraph flag on your Node/Edge classes that is set to true by Graph.Add{Node, Edge}, and have your mutators throw an exception if called after this flag is set.)\nI agree with jhkiley that passing Node objects to the Edge constructor (instead of Strings) sounds like a good idea.\nIf you want a more intrusive approach, you could have a pointer from the Node class back to the Graph it resides in, and update the Graph if any critical properties (e.g., the name) of the Node ever change.  But I wouldn't do that unless you're sure you need to be able to change the names of existing Nodes while preserving Edge relationships, which seems unlikely.\n", "You should be able to do that java.lang.Runtime.exec and shell commands.\n", "You can have the java code detect the platform at runtime and fire off the platform's kill process command. This is really an refinement on your current solution.\nThere's also Process.destroy(), if you're using the ProcessBuilder API\n", "I may be missing something but can't you call the destroy() method on the Process object returned by Runtime.exec()?\n", "You could also publish a service (via burlap, hessian, etc) on the second JVM that calls System.exit() and consume it from the watchdog JVM.  If you only want to shut the second JVM down when it stops sending those periodic notifications, it might not be in a state to respond to the service call.\nCalling shell commands with java.lang.Runtime.exec() is probably your best bet.\n", "Not exactly process management, but you could start an rmi server in the java virtual machine you are launching, and bind a remote instance with a method that does whatever cleanup required and calls System.exit().  The first vm could then call that remote method to shutdown the second vm.\n", "You can use java.lang.Process to do what you want. Once you have created the nested process and have a reference to the Process instance, you can get references to its standard out and err streams. You can periodically monitor those, and call .destroy() if you want to close the process. The whole thing might look something like this:\nProcess nestedProcess = new ProcessBuilder(\"java mysubprocess\").start();\nInputStream nestedStdOut = nestedProcess.getInputStream(); //kinda backwards, I know\nInputStream nestedStdErr = nestedProcess.getErrorStream();\nwhile (true) {\n    /*\n       TODO: read from the std out or std err (or get notifications some other way)\n       Then put the real \"kill-me\" logic here instead of if (false)\n    */\n    if (false) {\n        nestedProcess.destroy();\n        //perform post-destruction cleanup here\n        return;\n    }\n\n    Thread.currentThread().sleep(1000L); //wait for a bit\n}\n\nHope this helps,\nSean\n", "java.lang.Process has a waitFor() method to wait for a process to die, and a destroy() method to kill the subprocess.\n", "OK the twist of the gist is as follows:\nI was using the Process API to close the second virtual machine, but it wouldn't work.\nThe reason is that my second application is an Eclipse RCP Application, and I launched it using the eclipse.exe launcher included.\nHowever, that means that the Process API destroy() method will target the eclipse.exe process.  Killing this process leaves the Java Process unscathed.  So, one of my colleagues here wrote a small application that will kill the right application.\nSo one of the solutions to use the Process API (and remove redundant middle steps) is to get away with the Eclipse launcher, having my first virtual machine duplicate all its functionality.\nI guess I will have to get to work.\n", "The usual way to do this is to call Process.destroy()... however it is an incomplete solution since when using the sun JVM on *nix destroy maps onto a SIGTERM which is not guaranteed to terminate the process (for that you need SIGKILL as well). The net result is that you can't do real process management using Java.\nThere are some open bugs about this issue see:\nlink text\n", "You can't \"forward\", in the strict sense.  Just call sendRedirect() on the HttpServletResponse object in your Action class's execute() method.  and, then 'return null'.\nalternately, either call setModule on the ActionForward object (that you are going to return) or set the path to an absolute URI\n", "I ended up doing response.sendRedirect().\n", "You can, as long as the fields follow the JavaBean conventions and the setter takes something Struts can understand. \nSo Thing needs getThingName() and setThingName(String).\n", "Just have two threads, one reading from stdout, one from stderr?\n", "Set the redirectErrorStream property on ProcessBuilder to send stderr output to stdout:\nProcessBuilder builder = new ProcessBuilder(command);\nbuilder.redirectErrorStream(true);\n\nYou should then create a thread to deal with the process stream, something like the following:\nProcess p = builder.start();\n\nInputHandler outHandler = new InputHandler(p.getInputStream());\n\nWhere InputHandler is defined as:\nprivate static class InputHandler extends Thread {\n\n    private final InputStream is;\n\n    private final ByteArrayOutputStream os;\n\n    public InputHandler(InputStream input) {\n        this.is = input;\n        this.os = new ByteArrayOutputStream();\n    }\n\n    public void run() {\n        try {\n            int c;\n            while ((c = is.read()) != -1) {\n                os.write(c);\n            }\n        } catch (Throwable t) {\n            throw new IllegalStateException(t);\n        }\n    }\n\n    public String getOutput() {\n        try {\n        os.flush();\n        } catch (Throwable t) {\n            throw new IllegalStateException(t);\n        }\n        return os.toString();\n    }\n\n}\n\nAlternatively, just create two InputHandlers for the InputStream and ErrorStream. Knowing that the program will block if you don't read them is 90% of the battle :)\n", "A safe way is to serialize the object, then deserialize.  This ensures everything is a brand new reference.\nHere's an article about how to do this efficiently.\nCaveats: It's possible for classes to override serialization such that new instances are not created, e.g. for singletons.  Also this of course doesn't work if your classes aren't Serializable.\n", "Deep copying can only be done with each class's consent. If you have control over the class hierarchy then you can implement the clonable interface and implement the Clone method. Otherwise doing a deep copy is impossible to do safely because the object may also be sharing non-data resources (e.g. database connections). In general however deep copying is considered bad practice in the Java environment and should be avoided via the appropriate design practices.\n", "You can do a serialization-based deep clone using org.apache.commons.lang3.SerializationUtils.clone(T) in Commons Lang, but be careful--the performance is abysmal.\nIn general, it is best practice to write your own clone methods for each class of an object in the object graph needing cloning.  \n", "Use XStream(http://x-stream.github.io/). You can even control which properties you can ignore through annotations or explicitly specifying the property name to XStream class. Moreover you do not need to implement clonable interface. \n", "XStream is really useful in such instances. Here is a simple code to do cloning\nprivate static final XStream XSTREAM = new XStream();\n...\n\nObject newObject = XSTREAM.fromXML(XSTREAM.toXML(obj));\n\n", "You could call during init or whatever Locale.setDefault() or -Duser.language=, -Duser.country=, and -Duser.variant= at the command line. Here's something on Sun's site.\n", "I believe java gleans this from the environment variables in which it was launched, so you'll need to make sure your LANG and LC_* environment variables are set appropriately.\nThe locale manpage has full info on said environment variables.\n", "One way to control the locale settings is to set the java system properties user.language and user.region.\n", "With the user.language, user.country and user.variant properties.\nExample:\njava -Duser.language=th -Duser.country=TH -Duser.variant=TH SomeClass\n", "Will ROME do?\n", "I think your best bet is to use an ORM-tool that includes database migration like SubSonic:\nhttp://subsonicproject.com/2-1-pakala/subsonic-using-migrations/\n", "We ended up making update scripts each time we changed the database.  So there's a script from version 10 to 11, from 11 to 12, etc.. Then we can run any consecutive set of scripts to skip from some existing version to the new version.  We stored the existing version in the database so we could detect this upon startup.\nYes this involved database-specific code!  One of the main problems with Hibernate!\n", "When working with Hibernate, I use an installer class that runs from the command-line and has options for creating database schema, inserting base data, and dynamically updating the database schema using SchemaUpdate. I find it to be extremely useful. It also gives me a place to put one-off scripts that will be run when a new version is launched to, for example, populate a new field in an existing DB table.\n", "I don't see why ORM generated schemas are any different to other DB schemas - the problem is the same. Assuming your ORM will spit out a generation script, you can use an external tool to do the diff\nI've not tried it but google came back with SQLCompare as one option - I'm sure there are others.\n", "LiquiBase is an interesting open source library for handling database refactorings (upgrades).  I have not used it, but will definitely give it a try on my next project where I need to upgrade a db schema.\n", "We hand code SQL update scripts and we tear down the schema and rebuild it applying the update scripts as part of our continuous build process. If any hibernate mappings do not match the schema, the build will fail.\n", "So you have input like\nA B C D\nD E F G\nC B A D\n\nand you need to detect that the first and third lines are identical?\n", "If you want to find out if two files contain the same set of lines, but in a different order, you can use a regular hash function on each line individually, then combine them with a function where ordering doesn't matter, like addition.\n", "If the lines are fairly long, you could just keep a list of the hashes of each line -- sort those and compare with previous outputs.\nIf you don't need a 100% fool-proof solution, you could store the hash of each line in a Bloom filter (look it up on Wikipedia) and compare the Bloom filters at the end of processing.  This can give you false positives (i.e. you think you have the same output but it isn't really the same) but you can tweak the error rate by adjusting the size of the Bloom filter...\n", "If you add up the ASCII values of each character, you'd get the same result regardless of order.\n(This may be a bit too simplified, but perhaps it sparks an idea for you.\nSee Programming Pearls, section 2.8, for an interesting back story.)\n", "The easiest way would seem to be to hash each line on the way in, storing the hash and the original data, and then compare each new hash with your collection of existing hashes. If you get a positive, you could compare the actual data, to make sure it's not a false positive - though this would be extremely rare, you could go with a quicker hash algorithm, like MD5 or CRC (instead of something like SHA, which is slower but less likely to collide), just so it's quick, and then compare the actual data when you get a hit.\n", "Any of the hash-based methods may produce bad results because more than one string can produce the same hash.  (It's not likely, but it's possible.)  This is particularly true of the suggestion to add the hashes, since you would essentially be taking a particularly bad hash of the hash values.\nA hash method should only be attempted if it's not critical that you miss a change or spot a change where none exists.\nThe most accurate way would be to keep a Map using the line strings as key and storing the count of each as the value.  (If each string can only appear once, you don't need the count.)  Compute this for the expected set of lines.  Duplicate this collection to examine the incoming lines, reducing the count for each line as you see it.\n\nIf you encounter a line with a zero count (or no map entry at all), you've seen a line you didn't expect.\nIf you end this with non-zero entries remaining in the Map, you didn't see something you expected.\n\n", "Well the problem specification is a bit limited.\nAs I understand it you wish to see if several strings contain the same elements regardless of order.\nFor example:\nA B C\nC B A\n\nare the same.\nThe way to do this is to create a set of the values then compare the sets. To create a set do:\nHashSet set = new HashSet();\nforeach (item : string) {\n   set.add(item);\n}\n\nThen just compare the contents of the sets by running through one of the sets and comparing it w/others. The execution time will be O(N) instead of O(NlogN) for the sorting example.\n", "\nApache Commons\nLog4j\nGoogle collections\n\n", "The Google Collections API is pretty handy if you use lots of, well, Collections...\n", "It might be worth saying that the first thing to do is get to know the libraries in the newer versions of Java. A lot of ideas have worked their way back into java - java.util.concurrent, java.nio, and javax.xml \n", "Apache's Jakarta Commons.\n", "The Spring framework is surprisingly general purpose. I started by just using it as a configuration management tool, but then realized how helpful dependency injection is when doing test-driven development. Then I slowly discovered many useful modules hidden in the corners of Spring.\n", "JXL for Excel workbook creation/edition. I work in a bank and the multipurpose report tool for diary work is Excel. Whatever appliction we do must import/export from/to Excel. The only fail it's that it has memory problems with large workbooks and formating it's a little obscure\n", "Functional Java offers first-class function values, immutable lists/arrays, lazy/infinite streams, tuple types, either types, optional values (type-safe alternative to null). Works well in conjunction with Google Collections or the java.util collections.\nIt also provides handy concurrency abstractions like parallel strategies, parallel list/array functors, actor concurrency, and composable light-weight processes.\n", "Take a look at jmate project. It contains really helpful methods for strings, collections and IO operations (for now). \nLook some examples here.\n", "there is the excellent open source 3d engine called jMonkey (http://www.jmonkeyengine.com) which is being used for a few commercial projects as well as hobby developers...\nthere is also at a lower level the lwjgl library which jmonkeyengine is built on which is a set of apis to wrap opengl as well as provide other game specific libs...\n", "I haven't directly done any game programming but some scene-demo coding and have found that JOGL is really a quite nice framework to work with. It's Java OpenGL so it has a rich 3D functionality and i do believe there are some open source graphic engines done for it aswell. \n", "GTGE (www.goldenstudios.or.id) is an excellent 2D Java Game Library, with tutorials and an extensive API.  It has gone open-source in its latest version, and the source can be downloaded, browsed, etc. at gtge.googlecode.com.\n", "Despite the odd name ( pretty sure he's talking about the soft drink...), this site has loads of resources and examples games both 2D and 3D. Coke and Code\n", "http://www.javagaming.org/ is a good source for up-to-date information.\nAnother framework not mentioned yet is Xith3D\n", "IMHO you can disable every hint or error marker in IDEA. Please tell us the version of IDEA that you use.\n", "I reported this as an issue to JetBrains and according to their issue report this is fixed in \"Diana 8858\". AFICT that means this will be fixed in IDEA 8.0.\n", "Write webservice in Java and access it in .net\n", "Using a standard type of web service (e.g. SOAP or XML-RPC) is best because not only is it easy to produce/consume, it's easy in other languages as well.\n", "I recommend the web service route. It offers a standard interface that can be consumed by other client platforms in the future.\n.NET clients interact with Java web services pretty well, though there are some gotchas. The best two technologies available for you for the .NET client are Microsoft Web Service Enhancements (WSE) and Windows Communication Foundation (WCF). WSE is an older technology that is no longer being updated by Microsoft, but still works great in Visual Studio 2005 and older. I find WSE to be a bit easier to get started with in terms of how you interface with basic services, but WCF has much more support for WS-* protocols (security, trust, etc.). If your needs are basic and you're still using Visual Studio 2005 (.NET framework 2 or older), then go with WSE. If you like the cutting edge, or you anticipate more advanced security needs (doesn't sound like you will), then go with WCF. Please note that WSE will not work easily in Visual Studio 2008 and newer, and WCF will not work in Visual Studio 2005 and older.\nGoing the web service route will mean that you will design to an interface that can be reused and will result in a more loosely coupled system when you're done than most of the other routes. The downside is primarily performance: xml serialization will be slower than binary over the wire, and web services do not handle large amounts of data well.\n", "The Hotspot JIT can now produce code faster than C++.  The reason is run-time empirical optimization.\nFor example, it can see that a certain loop takes the \"false\" branch 99% of the time and reorder the machine code instructions accordingly.\nThere's lots of articles about this.  If you want all the details, read Sun's excellent whitepaper.  For more informal info, try this one.\n", "I'd be interested in a comparison between Hotspot JIT and profile-guided optimization optimized C++.\nThe problem I see with the Hotspot JIT (and any runtime-profile-optimized JIT compiler) is that statistics must be kept and code modified.  While there are isolated cases this will result in faster-running code, I doubt that profile-optimized JIT compilers will run faster than well optimized C or C++ code in most circumstances.  (Of course I could be wrong.)\nAnyway, usually you're going to be at the mercy of the  larger project, using the same language it is written in.  Or you'll be at the mercy of the knowledge base of your co-workers.  Or you'll be at the mercy of the platform you are targetting (is a JVM available on the architecture you're targetting?).  In the rare case you have complete freedom and you're familiar with both languages, do some comparisons with the tools you have at your disposal.  That is really the only way to determine what's best.\n", "This is not strictly about C++ vs Java performance but nonetheless interesting in that regard: A paper about the performance of programs running in a garbage collected environment.\n", "The only possible answer is: make a prototype and measure for yourself. If my experience is of any interest, Java and C# were always much slower than C++ for the kind of work I was doing - I believe mostly because of the high memory consumption. Of course, you can come to a completely different conclusion.\n", "If excessive garbage collection is a concern, you can always reuse unused high-churn objects.\nCreate a factory that keeps a queue of SoftReferences to recycled objects, using those before creating new objects.  Then in code that uses these objects, explicitly return these objects to the factory for recycling.\n", "What is your measure of \"requests/sec\"?  In other words, what happens for the 31st request?  What resource is being blocked?  If it is the front-end/servlet/web portion, can you run em.persist() in another thread and return immediately?\nAlso, are you creating transactions each time?  Are you creating EntityManagerFactory objects with each request?\n", "You should decouple from the JPA interface and use the bare TopLink API. You can probably chuck the objects you're persisting into a UnitOfWork and commit the UnitOfWork on your schedule (sync or async). Note that one of the costs of em.persist() is the implicit clone that happens of the whole object graph. TopLink will work rather better if you uow.registerObject() your two user objects yourself, saving itself the identity tests it has to otherwise do. So you'll end up with:\nuow=sess.acquireUnitOfWork();\nfor (job in batch) {\n thingyCl=uow.registerObject(new Thingy());\n user1Cl=uow.registerObject(user1);\n user2Cl=uow.registerObject(user2);\n thingyCl.setUsers(user1Cl,user2Cl);\n}\nuow.commit();\n\nThis is very old school TopLink btw ;)\nNote that the batch will help a lot, because batch writing and more especially batch writing with parameter binding will kick in which for this simple example will probably have a very large impact on your performance.\nOther things to look for: your sequencing size. A lot of the time spent writing objects in TopLink is actually spent reading sequencing information from the database, especially with the small defaults (I would probably have several hundred or even more as my sequence size).\n", "It has been a while, but I seem to remember having trouble with the slight differences in how default namespaces were handled between .Net and Java web services.\nDouble check the generated c# proxy class and any namespaces declared within (especially the defaults xmlns=\"\"), against what the Java service is expecting.  There will be probably be very subtle differences which you will have to recreate.\nIf this is the case then you will to provide more namespace declarations in the c# attributes.\n", "From your question, it looks like you had the client working at one point, and then the service was changed to return an array. Make sure you re-generate the proxy so the returned SOAP message is deserialized on the client. It wasn't clear you had done this - just making sure.\n", "Thanks to Xian, I have a solution.\nThe wsdl for the service included a line\n<import namespace=\"http://mynamespace.company.com\"/>\n\nThe soap that the client sent to the server had the following attribute on all data elements:\nxmlns=\"http://mynamespace.company.com\"\n\nBut the xml payload of the response (from the service back to the client) did not have this namespace included.  By tinkering with the HTTP response (which I obtained with WireShark), I observed that the .NET proxy class correctly picked up the MyResponse values if I forced the xmlns attribute on every returned data element.\nShort of changing the service, which I don't control, the workaround is to edit the VS generated proxy class (eg Reference.cs) and look for lines like this:\n[System.Xml.Serialization.XmlTypeAttribute(Namespace=\"http://mynamespace.company.com\")]\npublic partial class MyResponse {\n\nand comment out the XmlType attribute line.  This will tell the CLR to look for response elements in the default namespace rather than the one specied in the wsdl.  You have to redo this whenever you update the reference, but at least it works.\n", "Assuming the characters are present in a text field:\nupdate TABLE set COLUMN=REPLACE(convert(varchar(5000), COLUMN), 'searchstring', 'replacestring')\n\n(note that this will only work on a text field with no more than 5000 characters, for larger text fields increase the number in the query).\n", "FWIW: I have never had good luck with GCJ, I have had a lot of problems using it and have had some obscure issues pop up that took forever to diagnose to GCJ rather than me (I am always very very reluctant to blame things on external libraries). I will openly admit this happened several years ago and I have never wanted to go near GCJ again. To give that more substance this was while I was in school and was working on a mostly trivial program so on an \"enterprise level\" I have had a healthy fear of GCJ.\n", "I don't think that a large application like yours will compile to machine code. Remember that java is not only java syntax (might compile to machine code) but also a virtual machine which is more like an application / process environment. I would suggest making an uberjar or like that instead.\n", "I don't know about GCJ, but my company uses Excelsior JET with success.  We haven't done it with a webapp (yet) but it should be able to handle anything that the Sun JRE can.  In fact JET is a Sun-certified Java implementation.\n", "Having one executable has a few downsides:\n\nYou can't patch it as easy (i.e. replace one class file)\nI don't think it can be called a webapp -- I assume it won't run in Tomcat.\nIt is non-standard so that increases your maintenance costs.\nIt is non-standard so tool support is reduced.\n\nIf he wants something simple maybe a war or ear would be better.  I can't see any benefit to doing this -- I would think this might be beneficial it it was a standalone application that you distributed so that people can just double-click on it.\n", "Perhaps your boss just needs a demo as to how easy it is to distribute and deploy a war file for your customers on their own app servers.  Every file is \"binary\", so you might be too-literal in thinking he means an executable on the command-line.\n", "Yes, finally will be called.\nThe only times finally won't be called are:\n\nIf you call System.exit()\nIf the JVM crashes first\nIf there is an infinite loop (or some other non-interuptable, non-terminating statement) in the try block\nIf the power turns off\n\n", "finally is always executed unless there is abnormal program termination (like calling System.exit(0)..). so, your sysout will get printed\n", "Yes it will get called. That's the whole point of having a finally keyword. If jumping out of the try/catch block could just skip the finally block it was the same as putting the System.out.println outside the try/catch.\n", "Proof code:\npublic static void main(String[] args) {\n    System.out.println(Test.test());\n}\n\npublic static int test() {\n    try {\n        return 0;\n    }\n    finally {\n        System.out.println(\"finally trumps return.\");\n    }\n}\n\nOutput:\nfinally trumps return. \n0\n\n", "That's actually true in any language...finally will always execute before a return statement, no matter where that return is in the method body. If that wasn't the case, the finally block wouldn't have much meaning.\n", "The finally block is always executed unless there is abnormal program termination, either resulting from a JVM crash or from a call to System.exit(0).\nOn top of that, any value returned from within the finally block will override the value returned prior to execution of the finally block, so be careful of checking all exit points when using try finally.\n", "Also, although it's bad practice, if there is a return statement within the finally block, it will trump any other return from the regular block. That is, the following block would return false:\ntry { return true; } finally { return false; }\n\nSame thing with throwing exceptions from the finally block.\n", "Also a return in finally will throw away any exception.  http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html\n", "A logical way to think about this is:\n\nCode placed in a finally block must be executed whatever occurs within the try block\nSo if code in the try block tries to return a value or throw an exception the item is placed 'on the shelf' till the finally block can execute\nBecause code in the finally block has (by definition) a high priority it can return or throw whatever it likes. In which case anything left 'on the shelf' is discarded.\nThe only exception to this is if the VM shuts down completely during the try block e.g. by 'System.exit'\n\n", "In addition to the point about return in finally replacing a return in the try block, the same is true of an exception.  A finally block that throws an exception will replace a return or exception thrown from within the try block.\n", "I tried the above example with slight modification-\npublic static void main(final String[] args) {\n    System.out.println(test());\n}\n\npublic static int test() {\n    int i = 0;\n    try {\n        i = 2;\n        return i;\n    } finally {\n        i = 12;\n        System.out.println(\"finally trumps return.\");\n    }\n}\n\nThe above code outputs:\n\nfinally trumps return.\n  2\n\nThis is because when return i; is executed i has a value 2. After this the finally block is executed where 12 is assigned to i and then System.out out is executed.\nAfter executing the finally block the try block returns 2, rather than returning 12, because this return statement is not executed again.\nIf you will debug this code in Eclipse then you'll get a feeling that after executing System.out of finally block the return statement of try block is executed again. But this is not the case. It simply returns the value 2.\n", "I only know the other way. Dbo4 is developed in java and the c# version is generated from the java sources automaticaly.\n", "There is no good way.  My recommendation is to start over in Java, or like you said use Mono.\n", "Although I think the first mistake was choosing an implementation language without ensuring a suitable deployment environment, there's nothing that can be done about that now. I would think the Mono way would be better. Having to rewrite code would only increase the cost of the project, especially if you already have a good amount of code written in C#. I, personally, try to avoid rewriting code whenever possible.\n", "I'd suggest building for Mono. You'll run into some gray area, but overall it's great. However, if you want to build for Java, you might check out Grasshopper. It's a commercial product, but it claims to be able to translate CIL (the output of the C# compiler) to Java bytecodes.\n", "Possible solutions aside, direct translations of programs written in one language to a different language is generally considered a Bad Idea\u2122 -- especially if this translation is done in some automated fashion.  Even when done by a \"real\" programmer, translating an application line by line often results in a less than desirable end result because each language has its own idioms, strengths and weaknesses that require things be done in a slightly different way.\nAs painful as it may be, it's probably in your best interest and those who have to maintain this application to rewrite it in Java if that's what your employer requires.\n", "Java and C# are pretty close in syntax and semantics. The real problem is the little differences. They will bite you when you dont expect it.\n", "Grasshopper is really the best solution at this time, if the licensing works for you (the free version has some significant limitations).  Its completely based on the Mono class libs (which are actually pretty good), but runs on top of standard Java VMs.  Thats good as the Java VMs are generally a bit faster and more stable than Mono, in my experience.  It does have more weaknesses than Mono when it comes to Forms/Graphics related APIs, as much of this hasn't been ported to Java from the Mono VM, however.\nIn the cases were it works, it can be wonderful, though.  The performance is sometimes even better than when running the same code on MS's VM on Windows.  :)\n", "I would say from a maintance stand point rewrite the code. It's going to bring the initial cost of the projet up but would be less labor intensive later for whoever is looking at the code. Like previous posters stated anything automated like this can't do as good as a job as a \"real\" programmer and doing line by line converting won't help much either. You don't want to produce code later on that works but is hell to maintain.\n", "Formally SysInternal's, now Microsoft's Process Explorer\nhttp://technet.microsoft.com/en-us/sysinternals/bb896653.aspx\n\"Find\" menu item -> \"Find Handle or DLL...\"\n", "SysInternals may not help with Java class IO.  Try getting a thread dump of the JVM (e.g., kill -3) while these logs are being written to.  You should be able to catch a thread red handed with java.io packages near the top of the stack trace.\n", "Try placing a breakpoint in the File class' constructors and the mkdir and createNewFile methods.  Generally, code will use the File class to create its files or directories.  You should have the Java source code for these classes included with your JVM.\n", "Add -Dlog4j.debug to the command line and there will be extra info in standard output about how it is configured.\n", "JNI.  In fact, with JNI, crashing is the default mode of operation.  You have to work extra hard to get it not to crash.\n", "Depends on what you mean by crash.\nYou can do an infinite recursion to make it run out of stack space, but that'll crash \"gracefully\".  You'll get an exception, but the JVM itself will be handling everything.\nYou can also use JNI to call native code.  If you don't do it just right then you can make it crash hard.  Debugging those crashes is \"fun\" (trust me, I had to write a big C++ DLL that we call from a signed java applet). :)\n", "If you change that infinite for loop to a recursive call to the same function, then you would get a stack overflow exception:\npublic static void main(String[] args) {\n    causeStackOverflow();\n}\n\npublic void causeStackOverflow() {\n    causeStackOverflow();\n}\n\n", "The closest thing to a single \"answer\" is System.exit() which terminates the JVM immediately without proper cleanup. But apart from that, native code and resource exhaustion are the most likely answers. Alternatively you can go looking on Sun's bug tracker for bugs in your version of the JVM, some of which allow for repeatable crash scenarios. We used to get semi-regular crashes when approaching the 4 Gb memory limit under the 32-bit versions (we generally use `64-bit`` now).\n", "A perfect JVM implementation will never crash.\nTo crash a JVM, aside from JNI, you need to find a bug in the VM itself.  An infinite loop just consumes CPU.  Infinitely allocating memory should just cause OutOfMemoryError's in a well built JVM.  This would probably cause problems for other threads, but a good JVM still should not crash.\nIf you can find a bug in the source code of the VM, and for example cause a segmentation fault in the memory usage of the implementation of the VM, then you can actually crash it.\n", "The book Java Virtual Machine by Jon Meyer has an example of a series of bytecode instructions that caused the JVM to core dump. I can't find my copy of this book. If anyone out there has one please look it up and post the answer.\n", "I wouldn't call throwing an OutOfMemoryError or StackOverflowError a crash. These are just normal exceptions. To really crash a VM there are 3 ways:\n\nUse JNI and crash in the native code.\nIf no security manager is installed you can use reflection to crash the VM. This is VM specific, but normally a VM stores a bunch of pointers to native resources in private fields (e.g. a pointer to the native thread object is stored in a long field in java.lang.Thread). Just change them via reflection and the VM will crash sooner or later.\nAll VMs have bugs, so you just have to trigger one.\n\nFor the last method I have a short example, which will crash a Sun Hotspot VM quiet nicely:\npublic class Crash {\n    public static void main(String[] args) {\n        Object[] o = null;\n\n        while (true) {\n            o = new Object[] {o};\n        }\n    }\n}\n\nThis leads to a stack overflow in the GC so you will get no StackOverflowError but a real crash including a hs_err* file.\n", "If you define a crash as an process abort because of a unhandled situation (i.e. no Java Exception or Error), then this can not be done from within Java (unless you have permission to use the sun.misc.Unsafe class). This the whole point of managed code.\nTypical crashes in native code happen by de-referencing pointers to wrong memory areas (null address or missaligned). Another source could be illegal machine instructions (opcodes) or unhandled signals from library or kernel calls. Both can be triggered if the JVM or the system libraries have bugs.\nFor example JITed (generated) code, native methods or system calls (graphics driver) can have problems leading to real crashes (it was quite common to get a crash when you used ZIP functions and they ran out of memory). In those cases the crash handler of the JVM kicks in and dumps the state. It could also generate a OS core file (Dr. Watson on Windows and core dump on *nix).\nOn Linux/Unix you can easyly make a JVM crash by sending it a Signal to the running process. Note: you should not use SIGSEGV for this, since Hotspot catches this signal and re-throws it as a NullPointerException in most places. So it is better to send a SIGBUS for example.\n", "on winxpsp2 w/wmp10 jre6.0_7\nDesktop.open(uriToAviOrMpgFile)\nThis causes a spawned thread to throw an uncaught Throwable and crashes hotspot\nYMMV\n", "here is a detailed explanation on what causes JVM to core dump (i.e. crash): \nhttp://kb.adobe.com/selfservice/viewContent.do?externalId=tn_17534\n", "This is what my code looks like. It seems to work fine.\nAre you using a service locator or just creating your service?\nSomeServiceLocator locator = new SomeServiceLocator();\nSomeService service = null;\ntry\n{\n    service = locator.getSomeServiceImplPort();\n}\ncatch (ServiceException e)\n{\n    e.printStackTrace();\n}\n\n", "Just a guess, but it looks like that error message is reporting that you've left the service name blank.  I imagine the code that generates that error message looks like this:\nthrow new ConfigurationException(\"No service named\" + serviceName + \" is available\");\n\n", "I don't know what version of Axis you're using but I'm using Axis2 for both server and client and the Java2WSDL create a default endpoint for the service on localhost. If you create the client stub with WSDL2Java, the default constructor of the stub will then point to localhost. If the service is on other endpoint you must use the constructor with the endpoint as parameter...\nMaybe the problem is not that at all but as said on other answers, without the WSDL you're using as WSDL2Java input it's hard to say.\n", "You can have almost any character, including most Unicode characters!  The exact definition is in section 3.8 of the Java Language Specification.\nHowever see this question for whether or not you should do that.\n", "Every programming language has its own set of rules and conventions for the kinds of names that you're allowed to use, and the Java programming language is no different. The rules and conventions for naming your variables can be summarized as follows:\n\nVariable names are case-sensitive. A variable's name can be any legal identifier \u2014 an unlimited-length sequence of Unicode letters and digits, beginning with a letter, the dollar sign \"$\", or the underscore character \"_\". The convention, however, is to always begin your variable names with a letter, not \"$\" or \"_\". Additionally, the dollar sign character, by convention, is never used at all. You may find some situations where auto-generated names will contain the dollar sign, but your variable names should always avoid using it. A similar convention exists for the underscore character; while it's technically legal to begin your variable's name with \"_\", this practice is discouraged. White space is not permitted.\nSubsequent characters may be letters, digits, dollar signs, or underscore characters. Conventions (and common sense) apply to this rule as well. When choosing a name for your variables, use full words instead of cryptic abbreviations. Doing so will make your code easier to read and understand. In many cases it will also make your code self-documenting; fields named cadence, speed, and gear, for example, are much more intuitive than abbreviated versions, such as s, c, and g. Also keep in mind that the name you choose must not be a keyword or reserved word.\nIf the name you choose consists of only one word, spell that word in all lowercase letters. If it consists of more than one word, capitalize the first letter of each subsequent word. The names gearRatio and currentGear are prime examples of this convention. If your variable stores a constant value, such as static final int NUM_GEARS = 6, the convention changes slightly, capitalizing every letter and separating subsequent words with the underscore character. By convention, the underscore character is never used elsewhere. \n\nFrom the official Java Tutorial\n", "I'd like to add to bosnic's answer that any valid currency character is legal for an identifier in Java.  th\u20acis is a legal identifier, as is \u20acthis, and \u20ac as well.  However, I can't figure out how to edit his or her answer, so I am forced to post this trivial addition.\n", "Further to previous answers its worth noting that:\n\nJava allows any Unicode currency symbol in symbol names, so the following will all work:\n\n\n$var1\n  \u00a3var2\n  \u20acvar3\n\nI believe the usage of currency symbols originates in C/C++, where variables added to your code by the compiler conventionally started with '$'. An obvious example in Java is the names of '.class' files for inner classes, which by convention have the format 'Outer$Inner.class'\n\nMany C# and C++ programmers adopt the convention of placing 'I' in front of interfaces (aka pure virtual classes in C++). This is not required, and hence not done, in Java because the implements keyword makes it very clear when something is an interface.\n\nCompare:\n\nclass Employee : public IPayable //C++\n\nwith\n\nclass Employee : IPayable //C#\n\nand \n\nclass Employee implements Payable //Java\n\n\nMany projects use the convention of placing an underscore in front of field names, so that they can readily be distinguished from local variables and parameters e.g.\n\n\nprivate double _salary;\n\nA tiny minority place the underscore after the field name e.g.\n\nprivate double salary_;\n\n", "\nYou could use Apache POIFS, which\nseems to be a little more mature,\nbut that would appear to duplicate the efforts of POI-HSMF.\nYou could use POI-HSMF and contribute changes to get the\nfeatures you need working.  That's\noften how FOSS projects like that expand.\nYou\ncould use com4j, j-Interop, or some\nother COM-level interop feature and\ninteract directly with the COM\ninterfaces that provide access to\nthe structured document.  That would\nbe much easier than trying to hit it\ndirectly through JNI.\n\n", "Have you tried to use Jython with the Python win32 extensions (http://www.jython.org/Project/ + http://python.net/crew/mhammond/win32/)? \nIf this is for a \"personal\" or \"internal\" project Jython with Python may be a very good choice. If you are building a \"shrink wrapped\" software package this may not be the best option.\n", "A document-ordered node list is the behavior in other implementations of the DOM, such as Javascript's or Python's. And a randomly-ordered node list would be utterly useless. I think it's safe to depend on nodes being returned in document order.\n", "In my experience, yes. The DOM spec isn't any clearer. If you're paranoid, try something like\ncurrent = node.firstChild;\nwhile(null != current) {\n    ...\n    current = current.nextSibling;\n}\n\n", "My experience is that every time that I have bothered to look it has been in document order. However, I believe that I read somewhere it is not guaranteed to be in document order. I can't find where I read that right now, so take it as hearsay. I think your best bet if you must have them in document order would be to use FirstChild then NextSibling until there are no more sibs.\n", "I'd love to tell you that this is guaranteed (as I believe it is) but the Document Object Model specification itself seems ambiguous in this case. I'm pretty sure that it's always document-order, though.\n", "In your example, as presented. I believe so. However, I've experienced real-world experiences where spaces have been interpreted as nodes so:\n\n<a><b/><c/><d/></a>\n\nis different than\n\n<a><b/> <c/><d/></a>\n\nif you're looking at index [1], firefox and IE may present different results. I would advise against relying on the order depending on your need.\n", "That is perfectly acceptable, probably even the standard.\n(public/private) static final TYPE NAME = VALUE;\n\nwhere TYPE is the type, NAME is the name in all caps with underscores for spaces, and VALUE is the constant value;\nI highly recommend NOT putting your constants in their own classes or interfaces. \nAs a side note:  Variables that are declared final and are mutable can still be changed; however, the variable can never point at a different object.\nFor example:\npublic static final Point ORIGIN = new Point(0,0);\n\npublic static void main(String[] args){\n\n    ORIGIN.x = 3;\n\n}\n\nThat is legal and ORIGIN would then be a point at (3, 0).\n", "I wouldn't call the class the same (aside from casing) as the constant ... I would have at a minimum one class of \"Settings\", or \"Values\", or \"Constants\", where all the constants would live.  If I have a large number of them, I'd group them up in logical constant classes (UserSettings, AppSettings, etc.)\n", "That's the right way to go.\nGenerally constants are not kept in separate \"Constants\" classes because they're not discoverable.  If the constant is relevant to the current class, keeping them there helps the next developer.\n", "Just avoid using an interface:\npublic interface MyConstants {\n    String CONSTANT_ONE = \"foo\";\n}\n\npublic class NeddsConstant implements MyConstants {\n\n}\n\nIt is tempting, but violates encapsulation and blurs the distinction of class definitions.\n", "To take it a step further, you can place globally used constants in an interface so they can be used system wide.  E.g.\npublic interface MyGlobalConstants {\n    public static final int TIMEOUT_IN_SECS = 25;\n}\n\nBut don't then implement it.  Just refer to them directly in code via the fully qualified classname.\n", "What about an enumeration?\n", "I would highly advise against having a single constants class.  It may seem a good idea at the time, but when developers refuse to document constants and the class grows to encompass upwards of 500 constants which are all not related to each other at all (being related to entirely different aspects of the application), this generally turns into the constants file being completely unreadable.  Instead:\n\nIf you have access to Java 5+, use enums to define your specific constants for an application area.  All parts of the application area should refer to enums, not constant values, for these constants.  You may declare an enum similar to how you declare a class.  Enums are perhaps the most (and, arguably, only) useful feature of Java 5+.\nIf you have constants that are only valid to a particular class or one of its subclasses, declare them as either protected or public and place them on the top class in the hierarchy.  This way, the subclasses can access these constant values (and if other classes access them via public, the constants aren't only valid to a particular class...which means that the external classes using this constant may be too tightly coupled to the class containing the constant)\nIf you have an interface with behavior defined, but returned values or argument values should be particular, it is perfectly acceptible to define constants on that interface so that other implementors will have access to them.  However, avoid creating an interface just to hold constants: it can become just as bad as a class created just to hold constants.\n\n", "It is a BAD PRACTICE to use interfaces just to hold constants (named constant interface pattern by Josh Bloch). Here's what Josh advises:\n\nIf the constants are strongly tied to\n  an existing class or interface, you\n  should add them to the class or\n  interface. For example, all of the\n  boxed numerical primitive classes,\n  such as Integer and Double, export\n  MIN_VALUE and MAX_VALUE constants. If\n  the constants are best viewed as\n  members of an enumerated type, you\n  should export them with an enum\n  type. Otherwise, you should export the\n  constants with a noninstantiable\n  utility class.\n\nExample:\n// Constant utility class\npackage com.effectivejava.science;\npublic class PhysicalConstants {\n    private PhysicalConstants() { }  // Prevents instantiation\n\n    public static final double AVOGADROS_NUMBER   = 6.02214199e23;\n    public static final double BOLTZMANN_CONSTANT = 1.3806503e-23;\n    public static final double ELECTRON_MASS      = 9.10938188e-31;\n}\n\nAbout the naming convention:\n\nBy convention, such fields have names\n  consisting of capital letters, with\n  words separated by underscores. It is\n  critical that these fields contain\n  either primitive values or references\n  to immutable objects.\n\n", "In Effective Java (2nd edition), it's recommended that you use enums instead of static ints for constants.\nThere's a good writeup on enums in Java here:\nhttp://java.sun.com/j2se/1.5.0/docs/guide/language/enums.html\nNote that at the end of that article the question posed is:\n\nSo when should you use enums?\n\nWith an answer of:\n\nAny time you need a fixed set of constants\n\n", "I agree that using an interface is not the way to go. Avoiding this pattern even has its own item (#18) in Bloch's Effective Java.\nAn argument Bloch makes against the constant interface pattern is that use of constants is an implementation detail, but implementing an interface to use them exposes that implementation detail in your exported API.\nThe public|private static final TYPE NAME = VALUE; pattern is a good way of declaring a constant. Personally, I think it's better to avoid making a separate class to house all of your constants, but I've never seen a reason not to do this, other than personal preference and style.\nIf your constants can be well-modeled as an enumeration, consider the enum structure available in 1.5 or later.\nIf you're using a version earlier than 1.5, you can still pull off typesafe enumerations by using normal Java classes. (See this site for more on that).\n", "The number one mistake you can make is creating a globally accessible class called with a generic name, like Constants. This simply gets littered with garbage and you lose all ability to figure out what portion of your system uses these constants.\nInstead, constants should go into the class which \"owns\" them. Do you have a constant called TIMEOUT? It should probably go into your Communications() or Connection() class. MAX_BAD_LOGINS_PER_HOUR? Goes into User().  And so on and so forth. \nThe other possible use is Java .properties files when \"constants\" can be defined at run-time, but not easily user changeable. You can package these up in your .jars and reference them with the Class resourceLoader.\n", "For Constants, Enum is a better choice IMHO. Here is an example\npublic class myClass  {\npublic enum myEnum {\n    Option1(\"String1\", 2), \n    Option2(\"String2\", 2) \n    ;\n    String str;\n            int i;\n\n            myEnum(String str1, int i1) { this.str = str1 ; this.i1 = i }\n\n\n}\n\n", "A Constant, of any type, can be declared by creating an immutable property that within a class (that is a member variable with the final modifier).  Typically the static and  public modifiers are also provided.\npublic class OfficePrinter {\n    public static final String STATE = \"Ready\";  \n}\n\nThere are numerous applications where a constant's value indicates a selection from an n-tuple (e.g. enumeration) of choices.  In our example, we can choose to define an Enumerated Type that will restrict the possible assigned values (i.e. improved type-safety):\npublic class OfficePrinter {\n    public enum PrinterState { Ready, PCLoadLetter, OutOfToner, Offline };\n    public static final PrinterState STATE = PrinterState.Ready;\n}\n\n", "One of the way I do it is by creating a 'Global' class with the constant values and do a static import in the classes that need access to the constant.\n", "A single, generic constants class is a bad idea. Constants should be grouped together with the class they're most logically related to.\nRather than using variables of any kind (especially enums), I would suggest that you use methods. Create a method with the same name as the variable and have it return the value you assigned to the variable. Now delete the variable and replace all references to it with calls to the method you just created. If you feel that the constant is generic enough that you shouldn't have to create an instance of the class just to use it, then make the constant method a class method.\n", "A good object oriented design should not need many publicly available constants.  Most constants should be encapsulated in the class that needs them to do its job.   \n", "I prefer to use getters rather than constants.  Those getters might return constant values, e.g. public int getMaxConnections() {return 10;}, but anything that needs the constant will go through a getter.\nOne benefit is that if your program outgrows the constant--you find that it needs to be configurable--you can just change how the getter returns the constant.\nThe other benefit is that in order to modify the constant you don't have to recompile everything that uses it.  When you reference a static final field, the value of that constant is compiled into any bytecode that references it.\n", "FWIW, a timeout in seconds value should probably be a configuration setting (read in from a properties file or through injection as in Spring) and not a constant.\n", "Creating static final constants in a separate class can get you into trouble.  The Java compiler will actually optimize this and place the actual value of the constant into any class that references it.\nIf you later change the 'Constants' class and you don't do a hard re-compile on other classes that reference that class, you will wind up with a combination of old and new values being used.\nInstead of thinking of these as constants, think of them as configuration parameters and create a class to manage them.  Have the values be non-final, and even consider using getters.  In the future, as you determine that some of these parameters actually should be configurable by the user or administrator, it will be much easier to do.\n", "It sounds like you're hitting a deadlock.\nIf you can reproduce it in a dev environment then try attaching a debugger once it's happened.  Take a look at your threads and see if you have any deadlocks.\nIf you can't get a debugger to attach you should be able to generate a thread dump, as Dustin pointed out.\n", "For any jvm process, force a thread dump. In windows, this can be done with CTRL-BREAK, I believe, in the console window.\nIn *nix, it is almost always \"kill -3 jvm-pid\".\nThis may show if you have threads waiting on db connection pool/thread pool, etc.\nAnother thing to check out is how many connections you have currently to the JVM -- either use NETSTAT or SysInternals utility such as tcpconn/tcpview (google it).\nAlso, try to run with the verbose:gc JVM flag.  For Sun's JVM, run like \"java -verbose:gc\".  This will show your garbage collections.  If it is collecting a lot (FULL COLLECTIONS, expecially) then you probably have a memory leak.  The full collections are costly, especially on large heaps like that.\nHow are you determining that only 300mb are being used?\n", "Try increasing the logging sensitivity for the Tomcat application server.\nhttp://tomcat.apache.org/tomcat-5.5-doc/logging.html\nYou can increase the sensitivity to FINEST or ALL for most of them for a few days and see if that helps you catch anything. \n", "I agree with creating multiple thread dumps and viewing them though this: Thread Dump Analyzer\n", "Well, I've used Enunciate quite a bit.  It uses simple annotations to provide either REST and/or SOAP endpoints.\nhttp://enunciate.codehaus.org\nPlus, Ryan Heaton has always provided top-notch support for things, too.\n", "I am working on a REST API for gliffy.com and we ended up rolling our own.  We didn't want to have to bring in Struts 2, Spring, or any other framework.  I looked at RESTLet and found it incredibly confusing and over complicated.\nApache has an implementation of the JAX-RS spec, but it is not finalized and also has some oddities to it.  We're tentatively planning to open source our solution, but that's not for a few months.  \nRolling your own is easy, though.  The Servlet Specification gives you everything you need, and you can easily connect to a database via Hibernate (see http://www.naildrivin5.com/daveblog5000/?p=39 for how to set up JPA without using EJB3).\n", "I found restlet to be a really elegant architecture.  I'm working in the .net world so  it was not an option for me, but I was able to build my own framework following the same basic principles of restlet.\nI have found the conversion of our WCF contract-based SOA application to REST based one has significantly simplified the application,\n", "You know there is a new JCP API for Accessing RESTful Services, also:\nJAX-RS JCP311 \nhttps://jsr311.dev.java.net/\nThe open source version is called Project Jersey\n", "I'm a huge fan of JAX-RS - I think they've done a great job with that specification. I use it on a number of projects and its been a joy to work with. \nJAX-RS lets you create REST resources using POJOs with simple annotations dealing with the URI mappings, HTTP methods and content negotiation all integrated nicely with dependency injection. There's no complex APIs to learn; just the core REST concepts (URIs, headers/response codes and content negotiation) are required. FWIW JAX-RS is quite Rails-ish from the controller point of view\nThere are a number of JAX-RS implementations out there - see this thread for a discussion.\nMy personal recommendation is to use Jersey as its got the biggest, most active community behind it, has the best features at the time of writing (WADL support, implicit views, spring integration, nice REST client API); though if you are using JBoss/SEAM you might find RESTeasy integrates a little better.\n", "I'm a big fan of Restlet, but I usually use it to implement apps whose primary role is to be a RESTful web service. It sounds like you're looking to add a RESTful API to an existing application. If that's the case, JAX-RS's (or Enunciate's) annotation-based approach might be a better fit for your project.\nAs for Restlet, I can tell you that I've been very impressed with the developers and the community; they're very active, engaged, responsive, and committed to a stable, efficient, reliable, and effective framework. My single favorite aspect of the framework is that it is a ground-up implementation of the REST paradigm; therefore there is no impedance-mismatch between a Restlet app's external API and internal implementation. I also really like how flexible it is - it can run inside a Java application container/server such as JBoss, Tomcat, Jetty, etc, or standalone, with an embedded HTTP server library.\n", "Use Java's.  \nAlso, cache results of the exp and then you can look up the answer faster than calculating them again.\n", "You'd want to wrap whatever loop's calling Math.exp() in C as well. Otherwise, the overhead of marshalling between Java and C will overwhelm any performance advantage.\n", "Since the Java code will get compiled to native code with the just-in-time (JIT) compiler, there's really no reason to use JNI to call native code.\nAlso, you shouldn't cache the results of a method where the input parameters are floating-point real numbers.  The gains obtained in time will be very much lost in amount of space used.\n", "The problem with using JNI is the overhead involved in making the call to JNI.  The Java virtual machine is pretty optimized these days, and calls to the built-in Math.exp() are automatically optimized to call straight through to the C exp() function, and they might even be optimized into straight x87 floating-point assembly instructions.\n", "The real question is, has this become a bottle neck for you? Have you profiled your application and found this to be a major cause of slow down? If not, I would recommend using Java's version. Try not to pre-optimize as this will just cause development slow down. You may spend an extended amount of time on a problem that may not be a problem.\n\nThat being said, I think your test gave you your answer. If jni + C is slower, use java's version. \n", "There's simply an overhead associated with using the JNI, see also:\nhttp://java.sun.com/docs/books/performance/1st_edition/html/JPNativeCode.fm.html\nSo as others have suggested try to collate operations that would involve using the JNI.\n", "You might be able to get it to run faster if you do them in batches.  Making a JNI call adds overhead, so you don't want to do it for each exp() you need to calculate.  I'd try passing an array of 100 values and getting the results to see if it helps performance.\n", "Write your own, tailored to your needs.\nFor instance, if all your exponents are of the power of two, you can use bit-shifting. If you work with a limited range or set of values, you can use look-up tables. If you don't need pin-point precision, you use an imprecise, but faster, algorithm.\n", "There is a cost associated with calling across the JNI boundary.\nIf you could move the loop that calls exp() into the native code as well, so that there is just one native call, then you might get better results, but I doubt it will be significantly faster than the pure Java solution.\nI don't know the details of your application, but if you have a fairly limited set of possible arguments for the call, you could use a pre-computed look-up table to make your Java code faster.\n", "There are faster algorithms for exp depending on what your'e trying to accomplish.  Is the problem space restricted to a certain range, do you only need a certain resolution, precision, or accuracy, etc.\nIf you define your problem very well, you may find that you can use a table with interpolation, for instance, which will blow nearly any other algorithm out of the water.\nWhat constraints can you apply to exp to gain that performance trade-off?\n-Adam\n", "+1 to writing your own exp() implementation.  That is, if this is really a bottle-neck in your application.  If you can deal with a little inaccuracy, there are a number of extremely efficient exponent estimation algorithms out there, some of them dating back centuries.  As I understand it, Java's exp() implementation is fairly slow, even for algorithms which must return \"exact\" results.\nOh, and don't be afraid to write that exp() implementation in pure-Java.  JNI has a lot of overhead, and the JVM is able to optimize bytecode at runtime sometimes even beyond what C/C++ is able to achieve.\n", "\nI run a fitting algorithm and the minimum error of the fitting result is way larger\n  than the precision of the Math.exp().\n\nTranscendental functions are always much more slower than addition or multiplication and a well-known bottleneck. If you know that your values are in a narrow range, you can simply build a lookup-table (Two sorted array ; one input, one output). Use Arrays.binarySearch to find the correct index and interpolate value with the elements at [index] and [index+1]. \nAnother method is to split the number. Lets take e.g. 3.81 and split that in 3+0.81.\nNow you multiply e = 2.718 three times and get 20.08.\nNow to 0.81. All values between 0 and 1 converge fast with the well-known exponential series\n1+x+x^2/2+x^3/6+x^4/24.... etc.\nTake as much terms as you need for precision; unfortunately it's slower if x approaches 1. Lets say you go to x^4, then you get 2.2445 instead of the correct 2.2448\nThen multiply the result 2.781^3 = 20.08 with 2.781^0.81 = 2.2445 and you have the result\n45.07 with an error of one part of two thousand (correct: 45.15).\n", "Yes, the Content-type header in the user agent's request should include multipart/form-data as described in (at least) the HTML4 spec:\nhttp://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2\n", "You can call a method to get the content type.\nhttp://java.sun.com/j2ee/sdk_1.3/techdocs/api/javax/servlet/ServletRequest.html#getContentType()\nAccording to http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2, the content type will be \"multipart/form-data\".\nDon't forget that:\n\nrequest.getContent() may return null.\nrequest.getContent() may not be equal to \"multipart/form-data\", but may just start with it.\n\nSo, with all this in mind:\nif (request.getContentType() != null && \n    request.getContentType().toLowerCase().indexOf(\"multipart/form-data\") > -1 ) \n{\n    << code block >>\n} \n\n", "You'll have to read the request parameters in order to determine this, at least on some level.  The ServletRequest class has a getContentType method that you'll want to look at.\n", "Personally, I'm not even aware of Java bindings for OpenGL other than JOGL -- I think JOGL is pretty much the standard for Java OpenGL.\nIt works in Windows, Linux, and OS X, but you might want to read over the official documentation for some notes about specific issues in each platform.\nKeep in mind that the OpenGL paradigm is quite different from Swing/AWT or the Java 2D API; OpenGL is not a drop-in replacement for Swing.\n", "JOGL\nMy reasons can be quoted off the previously linked site:\n\nJOGL provides full access to the APIs in the OpenGL 2.0 specification as well as nearly all vendor extensions, and integrates with the AWT and Swing widget sets.\n\nAlso if you want to have some fun learning and poking around, Processing is an excellent way to start (Processing also uses JOGL btw...)\n", "I'd suggest checking out LWJGL, the LightWeight Java Game Library. It's got OpenGL bindings, but it also has OpenAL bindings and some great tutorials to get you started.\nJust keep in mind that Swing/SWT and OpenGL are generally used for entirely different things. You may end up wanting to use a combination of both. Just try LWJGL out and see how well it fits with what you're doing.\n", "JOGL is probably the only option worth considering.\nNotice that there are at least two options for integrating it into an SWT application. There's a GLCanvas that belongs to SWT and a GLCanvas that belongs to AWT.\nThe one in SWT is not feature complete and is not really maintained. It's much better to use the AWT GLCanvas inside a SWT_AWT container.\nSome code from a recent project:\nimport org.eclipse.swt.*;\nimport org.eclipse.swt.layout.*;\nimport org.eclipse.swt.widgets.*;\n\nimport javax.media.opengl.*;\nimport javax.media.opengl.glu.*;\n\nimport org.eclipse.swt.awt.SWT_AWT;\nimport org.eclipse.swt.events.*;\n\npublic class Main implements GLEventListener\n{\n    public static void main(String[] args) \n    {\n        Display display = new Display();\n    Main main = new Main();\n    main.runMain(display);\n    display.dispose();\n}\n\nvoid runMain(Display display)\n{\n    final Shell shell = new Shell(display);\n    shell.setText(\"Q*bert 3D - OpenGL Exercise\");\n    GridLayout gridLayout = new GridLayout();\n    gridLayout.marginHeight = 0;\n    gridLayout.marginWidth = 0;\n\n    shell.setLayout(gridLayout);\n\n    // this allows us to set particular properties for the GLCanvas\n    GLCapabilities glCapabilities = new GLCapabilities();\n\n    glCapabilities.setDoubleBuffered(true);\n    glCapabilities.setHardwareAccelerated(true);\n\n    // instantiate the canvas\n    final GLCanvas canvas = new GLCanvas(glCapabilities);\n\n    // we can't use the default Composite because using the AWT bridge\n    // requires that it have the property of SWT.EMBEDDED\n    Composite composite = new Composite(shell, SWT.EMBEDDED);\n    GridData ld = new GridData(GridData.FILL_BOTH);\n    composite.setLayoutData(ld);\n\n    // set the internal layout so our canvas fills the whole control\n    FillLayout clayout = new FillLayout();\n    composite.setLayout(clayout);\n\n    // create the special frame bridge to AWT\n    java.awt.Frame glFrame = SWT_AWT.new_Frame(composite);\n    // we need the listener so we get the GL events\n    canvas.addGLEventListener(this);\n\n    // finally, add our canvas as a child of the frame\n    glFrame.add(canvas);\n\n    // show it all\n    shell.open();\n    // the event loop.\n    while (!shell.isDisposed ()) {\n        if (!display.readAndDispatch ()) display.sleep ();\n    }\n}\n\n", "The only way I know is to create a FocusListener and attach it to your component. If you want it this FocusListener to be global to all components in your application you might consider using Aspect Oriented Programming (AOP). With AOP is possible to code it once and apply your focus listener to all components instantiated in your app without having to copy-and-paste the component.addFocusListener(listener) code throughout your application..\nYour aspect would have to intercept the creation of a JComponent (or the sub-classes you want to add this behaviour to) and add the focus listener to the newly created instance. The AOP approach is better than copy-and-pasting the FocusListener to your entire code because you keep it all in a single piece of code, and don't create a maintenance nightmare once you decide to change your global behavior like removing the listener for JSpinners.\nThere are many AOP frameworks out there to choose from. I like JBossAOP since it's 100% pure Java, but you might like to take a look at AspectJ.\n", "When I've needed this in the past, I've created subclasses of the components I wanted to add \"auto-clearing\" functionality too.  eg:\npublic class AutoClearingTextField extends JTextField {\n   final FocusListener AUTO_CLEARING_LISTENER = new FocusListener(){\n      @Override\n      public void focusLost(FocusEvent e) {\n         //onFocusLost(e);\n      }\n\n      @Override\n      public void focusGained(FocusEvent e) {\n         selectAll();\n      }\n   };\n\n   public AutoClearingTextField(String string) {\n      super(string);\n      addListener();\n   }\n\n   private void addListener() {\n      addFocusListener(AUTO_CLEARING_LISTENER);      \n   }\n}\n\nThe biggest problem is that I haven't found a \"good\" way to get all the standard constructors without writing overrides.  Adding them, and forcing a call to addListener is the most general approach I've found.\nAnother option is to watch for ContainerEvents on a top-level container with a ContainerListeer to detect the presence of new widgets, and add a corresponding focus listener based on the widgets that have been added. (eg: if the container event is caused by adding a TextField, then add a focus listener that knows how to select all the text in a TextField, and so on.)  If a Container is added, then you need to recursively add the ContainerListener to that new sub-container as well.\nEither way, you won't need to muck about with focus listeners in your actual UI code -- it will all be taken care of at a higher level.\n", "I haven't tried this myself (only dabbled in it a while ago), but you can probably get the current focused component by using:\nKeyboardFocusManager (there is a static method getCurrentKeyboardFocusManager())\nan adding a PropertyChangeListener to it.\nFrom there, you can find out if the component is a JTextComponent and select all text.\n", "A separate class that attaches a FocusListener to the desired text field can be written.  All the focus listener would do is call selectAll() on the text widget when it gains the focus.\npublic class SelectAllListener implements FocusListener {\n  private static INSTANCE = new SelectAllListener();\n\n  public void focusLost(FocusEvent e) { }\n\n  public void focusGained(FocusEvent e) {\n    if (e.getSource() instanceof JTextComponent) {  \n      ((JTextComponent)e.getSource()).selectAll();\n    }\n  };\n\n  public static void addSelectAllListener(JTextComponent tc) {\n    tc.addFocusListener(INSTANCE);\n  }\n\n  public static void removeSelectAllListener(JTextComponent tc) {\n    tc.removeFocusListener(INSTANCE);\n  }\n}\n\nBy accepting a JTextComponent as an argument this behavior can be added to JTextArea, JPasswordField, and all of the other text editing components directly.  This also allows the class to add select all to editable combo boxes and JSpinners, where your control over the text editor component may be more limited.  Convenience methods can be added:\npublic static void addSelectAllListener(JSpinner spin) {\n  if (spin.getEditor() instanceof JTextComponent) {\n    addSelectAllListener((JTextComponent)spin.getEditor());\n  }\n}\n\npublic static void addSelectAllListener(JComboBox combo) {\n  JComponent editor = combo.getEditor().getEditorComponent();\n  if (editor instanceof JTextComponent) {\n    addSelectAllListener((JTextComponent)editor);\n  }\n}\n\nAlso, the remove listener methods are likely unneeded, since the listener contains no exterior references to any other instances, but they can be added to make code reviews go smoother.\n", "After reading the replies so far (Thanks!) I passed the outermost JPanel to the following method: \nvoid addTextFocusSelect(JComponent component){\n    if(component instanceof JTextComponent){\n        component.addFocusListener(new FocusAdapter() {\n                @Override\n                public void focusGained(FocusEvent event) {\n                    super.focusGained(event);\n                    JTextComponent component = (JTextComponent)event.getComponent();\n                    // a trick I found on JavaRanch.com\n                    // Without this, some components don't honor selectAll\n                    component.setText(component.getText());\n                    component.selectAll();\n                }\n            });\n\n    }\n    else\n    {\n        for(Component child: component.getComponents()){\n            if(child instanceof JComponent){\n                addTextFocusSelect((JComponent) child);\n            }\n        }\n    }\n}\n\nIt works!\n", "have you looked at the tightVNC source?  It is fairly terse  http://www.tightvnc.com/download.html\n", "The Hibernate annotations docs (http://www.hibernate.org/hib_docs/annotations/reference/en/html_single/) suggest that this should be a class-level annotation rather than occurring inline within your code.  And indeed when I paste that code into my IDE and move it around, the compile errors are present when the annotation is inline, but vanish when I put it in above the class declaration:\n@SqlResultSetMapping( name=\"TripResults\",\n        entities={\n            @EntityResult( entityClass=TripEntity.class ),\n            @EntityResult( entityClass=CommercialTripEntity.class )\n        }\n    )\npublic class Foo {\n   public void bogus() {\n      Query q = em.createNativeQuery( \n        \"select T.* \" +\n        \"from Trip T join Itinerary I on (T.itinerary_id=I.id) \" +\n        \"where I.launchDate between :start and :end \" +\n        \"or ADDDATE(I.launchDate, I.equipmentPullDayOfTrip) between :start and :end\",\n        \"TripResults\" );\n\n      q.setParameter( \"start\", range.getStart(), TemporalType.DATE );\n      q.setParameter( \"end\", range.getEnd(), TemporalType.DATE );\n   }\n}\n\n...obviously I have no evidence that the above code will actually work.  I have only verified that it doesn't cause compile errors.\n", "Your example comes straight out of the API docs which are unfortunately poorly presented.\nYour annotation should be placed on some class, probably the one in which you will be creating the query to use the result set mapping. However, it actually doesn't matter where this annotation is placed. Your JPA provider will actually maintain a global list of all these mappings, so no matter where you define it, you will be able to use it anywhere.\nThis is a shortcoming of the annotation method (as opposed to specifying things in XML.) Many other things in the JPA (i.e. named queries) are defined this same way. It makes it seem like there's some kind of connection between the thing being defined and the class on which it is annotated, when it's not.\n", "No I do not believe so.  The catch block will run to completion before the finally block.\ntry {\n    // code that may or may not throw an exception\n} catch {\n// catch block must exist.\nfinally {\n    SomeCleanupFunctionThatThrows();\n// this portion is ran after catch block finishes\n}\n\nOtherwise you can add a synchronize() object that the exception code will use, that you can check in the finally block, which would help you identify if in a seperate thread you are running an exception.\n", "If a function throws and you want to catch the exception, you'll have to wrap the function in a try block, it's the safest way. So in your example:\ntry {\n    // ...\n} finally {\n    try {\n        SomeCleanupFunctionThatThrows();\n    } catch(Throwable t) { //or catch whatever you want here\n        // exception handling code, or just ignore it\n    }\n}\n\n", "Set a flag variable, then check for it in the finally clause, like so:\nboolean exceptionThrown = true;\ntry {\n   mightThrowAnException();\n   exceptionThrown = false;\n} finally {\n   if (exceptionThrown) {\n      // Whatever you want to do\n   }\n}\n\n", "Do you mean you want the finally block to act differently depending on whether the try block completed successfully?\nIf so, you could always do something like:\nboolean exceptionThrown = false;\ntry {\n    // ...\n} catch(Throwable t) {\n    exceptionThrown = true;\n    // ...\n} finally {\n    try {\n        SomeCleanupFunctionThatThrows();\n    } catch(Throwable t) { \n        if(exceptionThrown) ...\n    }\n}\n\nThat's getting pretty convoluted, though... you might want to think of a way to restructure your code to make doing this unnecessary.\n", "If you find yourself doing this, then you might have a problem with your design.  The idea of a \"finally\" block is that you want something done regardless of how the method exits.  Seems to me like you don't need a finally block at all, and should just use the try-catch blocks:\ntry {\n   doSomethingDangerous(); // can throw exception\n   onSuccess();\n} catch (Exception ex) {\n   onFailure();\n}\n\n", "In the flags for the javac compiler, set the -encoding flag, so in your case you'd mark it as\njavac -encoding UTF-8\n\n", "You may not want to change the capitalization -- different cultures capitalize different words (for example, in German you capitalize every noun, not just proper nouns).\n", "Not all languages share english capitalization rules. I guess you'd need to alter the data used by the API, but your non-english clients might not appreciate it...\nabout.com on french capitalization\n", "Capitalisation rules are different for different languages.  In French, month names should not be capitalised.\n", "I would try using DWR to integrate JavaScript with your Java app. It makes Java to JavaScript communication transparent and only requires one servlet + configuration of what to expose. I haven\u00b4t done this with JMS, but it should work the same. There are three technologies that together solve all my integration problems, Spring, Mule, and DWR.\n", "You'll find some references to the Dojo/Bayeux approach here\nhttp://www.pathf.com/blogs/2006/08/bayeux_a_json_p/\nIf you're using WebSphere 6.0 or higher then the Web 2.0 Feature Pack includes an implementation.\n", "I think this is your answer.  Looks like it is baked in to ActieMQ.  I tried the examples and they seem to work.\nhttp://activemq.apache.org/ajax.html\n", "The Seam framework supports subscription to JMS topics from a JavaScript based client:\nhttp://docs.jboss.com/seam/2.0.2.GA/reference/en-US/html/remoting.html#d0e14169\n", "Unfortunately, different versions of the Java Plug-In have different caching behaviors. Setting your Cache-Control and Last-Modified HTTP headers is the ideal solution, but it only works under the most recent versions of the JRE. \nThe only solution GUARANTEED to work is to rename your application jars when their versions change (we've seen strange caching behavior when trying other tricks like adding query strings based on file dates). This isn't so difficult to do if you have a properly automated deployment system. \n", "You can use a regular expression with this pattern:\n\\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b\n\nThat will tell you if it's an IPv4 address.\n", "You can see if the string matches the number.number.number.number format, for example:\n\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\b\n\nwill match anything from 0 - 999.\nAnything else you can have it default to hostname.\n", "Do we get to make the assumption that it is one or the other, and not something completely different?  If so, I'd probably use a regex to see if it matched the \"dotted quad\" format.\n", "Couldn't you just to a regexp match on it?\n", "URI validator = new URI(yourString);\n\nThat code will validate the IP address or Hostname. (It throws a malformed URI Exception if the string is invalid)\nIf you are trying to distinguish the two..then I miss read your question.\n", "You can use a security manager with the InetAddress.getByName(addr) call. \nIf the addr is not a dotted quad, getByName will attempt to perform a connect to do the name lookup, which the security manager can capture as a checkConnect(addr, -1) call, resulting in a thrown SecurityException that you can catch.\nYou can use System.setSecurityManager() if you're running fully privileged to insert your custom security manager before the getByName call is made.\n", "Check if the input stream is positioned in the begging.\nOtherwise, as implementation: I do not think that you need to write to the result stream while you are reading, unless you process this exact stream in another thread.\nJust create a byte array, read the input stream, then create the output stream.\n", "It is unclear how you got the zipStream. It should work when you get it like this:\n  zipStream = zipFile.getInputStream(zipEntry)\n\n", "I'd use IOUtils from the commons io project.\nIOUtils.copy(zipStream, byteArrayOutputStream);\n\n", "You probably tried reading from a FileInputStream like this:\nZipInputStream in = new ZipInputStream(new FileInputStream(...));\nThis won\u2019t work since a zip archive can contain multiple files and you need to specify which file to read.\nYou could use java.util.zip.ZipFile and a library such as IOUtils from Apache Commons IO or ByteStreams from Guava that assist you in copying the stream.\nExample:\nByteArrayOutputStream out = new ByteArrayOutputStream();\ntry (ZipFile zipFile = new ZipFile(\"foo.zip\")) {\n    ZipEntry zipEntry = zipFile.getEntry(\"fileInTheZip.txt\");\n\n    try (InputStream in = zipFile.getInputStream(zipEntry)) {\n        IOUtils.copy(in, out);\n    }\n}\n\n", "t is unclear how you got the zipStream. It should work when you get it like this:\n  zipStream = zipFile.getInputStream(zipEntry)\n\nIf you are obtaining the ZipInputStream from a ZipFile you can get one stream for the 3d party library, let it use it, and you obtain another input stream using the code before.\nRemember, an inputstream is a cursor. If you have the entire data (like a ZipFile) you can ask for N cursors over it.\nA diferent case is if you only have an \"GZip\" inputstream, only an zipped byte stream. In that case you ByteArrayOutputStream buffer makes all sense.\n", "I would call getNextEntry() on the ZipInputStream until it is at the entry you want (use ZipEntry.getName() etc.).  Calling getNextEntry() will advance the \"cursor\" to the beginning of the entry that it returns.  Then, use ZipEntry.getSize() to determine how many bytes you should read using zipInputStream.read().\n", "You could implement your own wrapper around the ZipInputStream that ignores close() and hand that off to the third-party library.\nthirdPartyLib.handleZipData(new CloseIgnoringInputStream(zipStream));\n\n\nclass CloseIgnoringInputStream extends InputStream\n{\n    private ZipInputStream stream;\n\n    public CloseIgnoringInputStream(ZipInputStream inStream)\n    {\n        stream = inStream;\n    }\n\n    public int read() throws IOException {\n        return stream.read();\n    }\n\n    public void close()\n    {\n        //ignore\n    }\n\n    public void reallyClose() throws IOException\n    {\n        stream.close();\n    }\n}\n\n", "Your loop looks valid - what does the following code (just on it's own) return?\nzipStream.read(tempBuffer)\n\nif it's returning -1, then the zipStream is closed before you get it, and all bets are off.  It's time to use your debugger and make sure what's being passed to you is actually valid.\nWhen you call getNextEntry(), does it return a value, and is the data in the entry meaningful (i.e. does getCompressedSize() return a valid value)?  IF you are just reading a Zip file that doesn't have read-ahead zip entries embedded, then ZipInputStream isn't going to work for you.\nSome useful tidbits about the Zip format:\nEach file embedded in a zip file has a header.  This header can contain useful information (such as the compressed length of the stream, it's offset in the file, CRC) - or it can contain some magic values that basically say 'The information isn't in the stream header, you have to check the Zip post-amble'.\nEach zip file then has a table that is attached to the end of the file that contains all of the zip entries, along with the real data.  The table at the end is mandatory, and the values in it must be correct.  In contrast, the values embedded in the stream do not have to be provided.\nIf you use ZipFile, it reads the table at the end of the zip.  If you use ZipInputStream, I suspect that getNextEntry() attempts to use the entries embedded in the stream.  If those values aren't specified, then ZipInputStream has no idea how long the stream might be.  The inflate algorithm is self terminating (you actually don't need to know the uncompressed length of the output stream in order to fully recover the output), but it's possible that the Java version of this reader doesn't handle this situation very well.\nI will say that it's fairly unusual to have a servlet returning a ZipInputStream (it's much more common to receive an inflatorInputStream if you are going to be receiving compressed content.\n", "The class you're looking for is java.text.MessageFormat; specifically, calling\nMessageFormat.format(\"{0} This {1} a test\", new Object[] {\"Yes!!!\", \"is\"});\n\nor\nMessageFormat.format(\"{0} This {1} a test\", \"Yes!!!\", \"is\");\n\nwill return\n\"Yes!!! This is a test\"\n\n[Unfortunately, I can't help with the Struts connection, although this looks relevant.]\n", "There is the class org.apache.struts.util.MessageResources with various methods getMessage, some of them take arguments to insert to the actual message.\nEg.:\nmessageResources.getMessage(\"thekey\", \"Yes!!!\");\n\n", "I'm not aware of any virtual machine in widespread use that saves statistical usage data between program invocations -- but it certainly is an interesting possibility for future research.\nWhat you're seeing is almost certainly due to disk caching.\n", "Java JVM (actually might change from different implementations of the JVM) when first started out will interpret the byte code. Once it detects that the code will be running enough number of times JITs it to native machine language so it runs faster. \n", "Okay, I found where I read that.  This is all from \"Learning Java\" (O'Reilly 2005):\n\nThe problem with a traditional JIT compilation is that optimizing code takes time. So a JIT compiler can produce decent results but may suffer a significant latency when the application starts up. This is generally not a problem for long-running server-side applications but is a serious problem for client-side software and applications run on smaller devices with limited capabilities. To address this, Sun's compiler technology, called HotSpot, uses a trick called adaptive compilation. If you look at what programs actually spend their time doing, it turns out that they spend almost all their time executing a relatively small part of the code again and again. The chunk of code that is executed repeatedly may be only a small fraction of the total program, but its behavior determines the program's overall performance. Adaptive compilation also allows the Java runtime to take advantage of new kinds of optimizations that simply can't be done in a statically compiled language, hence the claim that Java code can run faster than C/C++ in some cases.\nTo take advantage of this fact, HotSpot starts out as a normal Java bytecode interpreter, but with a difference: it measures (profiles) the code as it is executing to see what parts are being executed repeatedly. Once it knows which parts of the code are crucial to performance, HotSpot compiles those sections into optimal native machine code. Since it compiles only a small portion of the program into machine code, it can afford to take the time necessary to optimize those portions. The rest of the program may not need to be compiled at all\u2014just interpreted\u2014saving memory and time. In fact, Sun's default Java VM can run in one of two modes: client and server, which tell it whether to emphasize quick startup time and memory conservation or flat out performance.\nA natural question to ask at this point is, Why throw away all this good profiling information each time an application shuts down? Well, Sun has partially broached this topic with the release of Java 5.0 through the use of shared, read-only classes that are stored persistently in an optimized form. This significantly reduces both the startup time and overhead of running many Java applications on a given machine. The technology for doing this is complex, but the idea is simple: optimize the parts of the program that need to go fast, and don't worry about the rest.\n\nI'm kind of wondering how far Sun has gotten with it since Java 5.0.\n", "I agree that it's likely the result of disk caching.\nFYI, the IBM Java 6 VM does contain an ahead-of-time compiler (AOT).  The code isn't quite as optimized as what the JIT would produce, but it is stored across VMs, I believe in some sort of persistent shared memory.  Its primary benefit is to improve startup performance.  The IBM VM by default JITs a method after it's been called 1000 times.  If it knows that a method is going to be called 1000 times just during the VM startup (think a commonly-used method like java.lang.String.equals(...) ), then it's beneficial for it to store that in the AOT cache so that it never has to waste time compiling at runtime.\n", "I agree that the performance difference seen by the poster is most likely caused by disk latency bringing the JRE into memory.  The Just In Time compiler (JIT) would not have an impact on performance of a little application.\nJava 1.6u10 (http://download.java.net/jdk6/) touches the runtime JARs in a background process (even if Java isn't running) to keep the data in the disk cache.  This significantly decreases startup times (Which is a huge benefit to desktop apps, but probably of marginal value to server side apps).\nOn large, long running applications, the JIT makes a big difference over time - but the amount of time required for the JIT to accumulate sufficient statistics to kick in and optimize (5-10 seconds) is very, very short compared to the overall life of the application (most run for months and months).  While storing and restoring the JIT results is an interesting academic exercise, the practical improvement is not very large (Which is why the JIT team has been more focused on things like GC strategies for minimizing memory cache misses, etc...).\nThe pre-compilation of the runtime classes does help desktop applications quite a bit (as does the aforementioned 6u10 disk cache pre-loading).\n", "You should describe how your Benchmark was done. Especially at which point you start to measure the time. \nIf you include the JVM startup time (which is useful for Benchmarking the User experience but not so useful to optimize Java code) then it might be a filesystem caching effect or it can be caused by a feature called \"Java Class Data Sharing\":\nFor Sun:\nhttp://java.sun.com/j2se/1.5.0/docs/guide/vm/class-data-sharing.html\nThis is an option where the JVM saves a prepared image of the runtime classes to a file, to allow quicker loading (and sharing) of those at the next start. You can control this with -Xshare:on or -Xshare:off with a Sun JVM. The default is -Xshare:auto which will load the shared classes image if present, and if not present it will write it at first startup if the directory is write able.\nWith IBM Java 5 this is BTW even more powerful:\nhttp://www.ibm.com/developerworks/java/library/j-ibmjava4/\nI don't know of any mainstream JVM which is saving JIT statistics.\n", "I've had some luck with the Java Service Wrapper\n", "I've used JavaService before with good success. It hasn't been updated in a couple of years, but was pretty rock solid back when I used it.\n", "I didn't like the licensing for the Java Service Wrapper.  I went with ActiveState Perl to write a service that does the work.\nI thought about writing a service in C#, but my time constraints were too tight.\n", "I always just use sc.exe (see http://support.microsoft.com/kb/251192).  It should be installed on XP from SP1, and if it's not in your flavor of Vista, you can download load it with the Vista resource kit.\nI haven't done anything too complicated with Java, but using either a fully qualified command line argument (x:\\java.exe ....) or creating a script with Ant to include depencies and set parameters works fine for me.\n", "I think the Java Service Wrapper works well. Note that there are three ways to integrate your application. It sounds like option 1 will work best for you given that you don't want to change the code. The configuration file can get a little crazy, but just remember that (for option 1) the program you're starting and for which you'll be specifying arguments, is their helper program, which will then start your program. They have an example configuration file for this.\n", "Another good option is FireDaemon. It's used by some big shops like NASA, IBM, etc; see their web site for a full list.\n", "I am currently requiring this to run an Eclipse-based application but I need to set some variables first that is local to that application. sc.exe will only allow executables but not scripts so I turned to autoexnt.exe which is part of the Windows 2003 resource kit. It restricts the service to a single batch file but I only need one batch script to be converted into a service.\nciao!\n", "I don't know if it's what you require, but perhaps you may want to investigate creating your own custom resource factory for Tomcat.  Here is the general documentation for all things resources via Tomcat: Tomcat Resources\n", "I've not come across this, but it might be easier to have something like an AnonymizerService as a resource that reveals all the different required AnonymizerBeans. This way you have no issues with wildcards, have to publish only one Resource to the web application and you're back on the well defined and well understood path.\nHope that helps about a month after the initial question...\n", "Pass the root as a parameter to whichever functions in the node that need it.\nEdit: The options are really the following:\n\nStore the root reference in the node\nDon't store the root reference at all\nStore the root reference in a global\nStore the root reference on the stack (my suggestion, either visitor pattern or recursive)\n\nI think this all the possibilities, there is no option 5.\n", "Why would you need to do away with globals?  I understand the stigma of globals being bad and all, but sometimes just having a global data structure with all elements is the fastest solution.\nYou make a trade-off:  code clarity and less future problems for performance.  That's the meaning being 'Don't optimize yet'.  Since you're in the optimize stage, sometimes it's necessary to cut out some readability and good programming practices in favor of performance.  I mean, bitwise hacks aren't readable but they're fast.\nI'm not sure how many tree objects you have, but i'd personally go with option one.  Unless you're dealing with thousands+ of trees, the pointers really won't amount to much more then a few strings.  If memory really is a super-important issue, try both methods (they seem fairly simple to implement) and run it through a profiler.  Or use the excellent Process Explorer.\nEdit:  One of the apps I'm working on has a node tree containing about 55K nodes.  We build the tree structure but also maintain an array for O(1) lookups.  Much better then the O(m*n) we were getting when using a recursive FindNodeByID method.\n", "Point #1 is a premature memory optimization. #2 is a premature performance optimization. Have you profiled your app to determine if memory or CPU bottlenecks are causing problems for you? If not, why sacrifice a more maintainable design for an \"optimization\" that doesn't help your users?\nI would strongly recommend you go with #2. Whenever you store something you could instead calculate, what you are doing is caching. There's a few times when caching is a good idea, but it's also a maintenance headache. (For example, what if you move a node from one tree to another by changing its parent but forget to also update the root field?) Don't cache if you don't have to.\n", "You could derive a class from TreeView and then add a singleton static property. That way you are effectively adding a global field that references the single instance of the class but have the benefit of it being namespace scoped to that class.\n", "Ignoring the distaste for inner classes, I could define a Tree class and define the nodes as Inner classes.  Each of the nodes would have access to its tree's state including its root.\nThis might end up being the same as #1 depending on how Java relates the nodes to their parents.  (I'm not sure and I'll have to profile it)\n", "Passing the root as a paramter is generally best. If you're using some kind of iterator to navigate the tree, an alternative is to store a reference to root in that.\n", "My experience with RS would lead me to suggest you go with just about anything else. I think the web services portion would work fine but I'd be concerned about how RS manages memory and how many reports you need to be running at once before making any decisions. I'm fighting with memory management problems today with RS and even on top of the line hardware it's hard to run large reports (large number of rows returned and a wide result set).\nThat being said if you think RS can handle your usage then it might be good. The development environment is sort of nice and it's easy to understand and lay out reports. The table layout paradigm it has is pretty good.\n", "I just wanted to come back and answer my own question.  I started with Axis2, Apache's implementation of SOAP.  After generating the client using WSDL2Java, I was able to successfully invoke Microsoft Reporting Services WebService and generate reports, output in Excel, PDF, CSV and other formats.  In my case, I also used Axis2 or HttpClient's NTML authentication mechanism to have my application automatically 'log-in' using credentials from Active Directory and generate and distribute reports to many users.\n", "I'm using NetBeans with success right now.\n", "Eclipse and NetBeans are both good options.  If you don't mind paying a little, so is IntelliJ IDEA (an academic license costs $99).\n", "Java editing tends to go one of two ways; people either stick with a simple editor and use a terminal to compile/run their programs, or they use a big IDE with a zillion features.\nI usually go the simple route and just use a plain text editor and terminal, but there's still a lot to be said for IDEs.  This is especially true when learning the language, since hitting \"spam.\" brings up a dropdown with all of the fields and methods of the spam object.    And this is not just useful to a beginner; it remains useful later on when using unfamiliar libraries and third party modules.\nIDEs also have useful tools such as GUI builders which become invaluable when doing professional Java work.  So although I typically prefer a simple editor/terminal combo, I highly recommend trying out an IDE such as Eclipse or Netbeans to see how you like it and so that you'll know how to use one later on.\n", "As far as IDEs go, I've found Eclipse to be about the best you could ask for. If you are used to IDEs full of features like VS, it should be right up your alley, and it isn't particularly resource-hungry; the way it organizes your projects makes the whole thing pretty simple as well, and it's also good to have on your resume. If you're looking for a non-intrusive IDE, mostly intuitive and that does its job as a great assistant, go with Eclipse. Not to mention its customization options.\nIf, on the other side, you'd like a much more light IDE, textPad-style (why?), I'd recommend Geany; I've worked with it in the past and it's got all the basic features to get started with the language and not be overwhelmed with all the features that big IDEs can offer. But I'd still recommend to go with Eclipse as soon as you get used to the language and need the IDE to be more of an assistant.\n", "Another vote for Eclipse. In particular, you should be able to install it from within Ubuntu, as there are packages for it in one of the repositories (I forget which one specifically, as I'm not at my Ubuntu machine right this minute). If you use the GUI package-management application under the \"Admin\" menu, you should be able to find Eclipse and related packages.\n", "I usually just use vim, but i've actually found the IDE Geany quite intuitive with a lot of good features but not really overblown. Check it out.\nEDIT: I don't think Geany is fit for enterprise-level programming, but for a quick program it's one of the better IDEs I've seen, especially if you've had bad experiences with NetBeans or Eclipse as I have.\n", "I'd actually just recommend Eclipse. It seems bloated at first, but once you get used to it, you can use it to develop code very very quickly (and thus it's an excellent choice for a quick bit of Java).\nFeatures I like: \nControl+1 for error fixing - it knows how to fix most compile errors - just highlight the error in the code (which will be underlined in red) and it will give you a list of suggestions. Control+1 selects the first suggestion, which is almost always correct.\nYou can use this error fixing feature to write code that uses methods you haven't written yet - the error fixing will create the method on the class/interface you called it on, with the correct parameters/name/visibility etc. Or, if theres a similarly named method with similar parameters, it will suggest you've spelt it wrong when you called it.\nThe refactoring tools are also supergreat - you can highlight a block of code to extract as a method, and it'll work out what variables need to be passed in, and what it should return (if anything). You can move variables between field and methods. You can change class/interface/variable names, and it will correct them only where it needs to (which beats a search and replace any day).\nYou really don't need to know many eclipse features to get the benefit of using it - and it'll dramatically speed up your coding. I wish I'd known how to use it at University.\nBasically, I'd recommend Eclipse. The time saved coding will make up for having to click \"yes\" a couple times when you start a project..\n", "Eclipse may be bloated for learning needs, but will probably give you the best overall Java experience. Try working through some of the built-in tutorials if you find the interface confusing.\n", "in our working enviroment we have to use the free Oracle JDeveloper ... sigh .. at home I tend to use Eclipse more and I really like it\n", "I too vouch for eclipse (or IDEA if you have the money, actually IDEA is better than eclipse by a small margin). \nBut, make sure that you know how to compile and debug without an IDE first, and also learn to read the compiler's warning/error msgs - they are essential skills for developers that using an IDE can prevent you from learning.\n", "As many others, I suggest you to use Eclipse. It works fine in linux and after a few days you will find it not so unfriendly.\nMoreover, if you will start developing more complex programs in java, you already will be familiar with a standard, complete and open source IDE, which is also the foundation for many other professional IDE for other languages, like Adobe Flex Builder, Aptana Red Rails and so on.\n", "I would definitely recommend EJB3 over spring. We find that it's more streamlined, nicer to code in, and better supported. I have in the past used Spring and found it to be very confusing, and not as well documented as EJB3 (or JPA I guess at the end of the day)\n\nAs of EJB3 you no longer have to deal with external config files, and there's only one POJO that you annotate per database table. This POJO can be passed to your web tier without any problems. IDEs like Netbeans can even auto-generate these POJOs for you. We've used EJB3 now as the back end for quite a few large scale applications, and haven't noticed any performance problems.\nYour Session Beans can be easily exposed as web services which you could expose to your Flex frontend.\nSession beans are easy to lock down at either a method or class level to assign roles and things like that if you need to.\n\nI can't speak that much about spring, as I only tried it out for a few weeks. But my overall impression of it was very poor. That doesn't mean it's bad framework, but our team here has found EJB3 to be the best for the persistence/business layer.\n", "What are the arguments for or against EJB3 vs Spring?\nSpring is always innovating and recognizes real-world constraints. Spring offered simplicity and elegance for the Java 1.4 application servers and didn't require a version of the J2EE specification that no one had access to in 2004 - 2006.  At this point it is almost a religious debate that you can get sucked into - Spring + abstraction + open-source versus Java Enterprise Edition (Java EE) 5.0 specifications.  \nI think Spring complements more than competes  with the Java EE specifications. As the features that were once unique to Spring continue to get rolled into the specification, many will argue that EJB 3 offers a 'good enough' feature set for most internal business applications.\nWhat pitfalls can I expect with each?\nIf your treating this as persistence issue (Spring+JPA) versus EJB3 your really not making that big of a choice.\nWhere can I find good benchmark information?\nI haven't followed the specj benchmark results for sometime, but they were popular for a while.  It seems that each vendor (IBM, JBOSS, Oracle, and Sun) get less and less interested in having a compliant server.  The lists get Shorter and shorter of certified vendors as you go from 1.3, 1.4. 1.5 Java Enterprise Edition.  I think the days of a giant server that is fully compliant with all the specifications are over.\n", "i have used a very similar architecture in the past. Spring + Java 1.5 + Actionscript 2/3 when combined with Flex Data Services made it all very easy (and fun!) to code. \nthough, a Flex front end means you need adequately powerful client machines.\n", "There won't be much difference between EJB3 and Spring based on Performance. We chose Spring for the following reasons (not mentioned in the question):\n\nSpring drives the architecture in a direction that more readily supports unit testing. For example, inject a mock DAO object to unit test your business layer, or utilize Spring's MockHttpRequest object to unit test a servlet. We maintain a separate Spring config for unit tests that allows us to isolate tests to the specific layers.\nAn overriding driver was compatibility. If you need to support more than one App Server (or eventually want the option to move from JBoss to Glassfish, etc.), you will essentially be carrying your container (Spring) with you, rather than relying on compatibility between different implementations of the EJB3 specification.\nSpring allows for technology choices for Persistence, object remoting, etc. For example, we are also using a Flex front end, and are using the Hessian protocol for communications between Flex and Spring.\n\n", "I tend to prefer Spring over EJB3 but my recommendation would be whichever approach you take, try to stick to writing POJOs and use the standard annotations where possible, like the JSR annotations such as @PostConstruct, @PreDestroy and @Resource which work with both EJB3 or Spring so you can pick whichever framework you prefer. \ne.g. you could decide on some project to use Guice instead for IoC.\nIf you want to use pre-request injection such as in a web application you might find Guice is quite a bit faster for dependency injection than Spring.\nSession beans mostly boil down to dependency injection and transactions; so EJB3 and Spring are kinda similar really for that. Where Spring has the edge is on better dependency injection and nicer abstractions for things like JMS\n", "I guess the thing to really be careful with is working with the Hibernate sessions.  Hibernate caches stuff, and that might get in the way.\nFrankly I would recommend that if you adopt Hibernate, drop the Entity beans entirely.  Do your Hibernate work within session beans and let the session beans manage your transactions.\nOr alternately use EJB 3, which is Hibernate standardized into the Java Persistence API.\n", "As said jodonnel, you have to pay attention to caching, because if you use second-level caching in Hibernate and a table is modified outside of Hibernate, then Hibernate has no way to know that its cache entry is stale.\nFor the transactions, they should both use JTA provided by the container, so for that it should be safe.\n", "Have you considered matching the actual possible keywords?  such as:\n(?:(?:public)|(?:private)|(?:static)|(?:protected)\\s+)*\n\nIt might be a bit more likely to match correctly, though it might also make the regex harder to read...\n", "I'm pretty sure Java's regex engine is greedy by default, meaning that \"\\w+ +\\w+ *\\(.*\\) *\\{\" will never match since the .* within the parenthesis will eat everything after the opening paren.  I recommend you replace the .* with [^)], this way you it will select all non-closing-paren characters.\nNOTE:  Mike Stone corrected me in the comments, and since most people don't really open the comments (I know I frequently don't notice them):\n\nGreedy doesn't mean it will never match... but it will eat parens if there are more parens after to satisfy the rest of the regex... so for example \"public void foo(int arg) { if (test) { System.exit(0); } }\" will not match properly... \n\n", "I came up with this:\n\\b\\w*\\s*\\w*\\(.*?\\)\\s*\\{[\\x21-\\x7E\\s]*\\}\n\nI tested it against a PHP function but it should work just the same, this is the snippet of code I used:\n\nfunction getProfilePic($url)\n {\n    if(@open_image($url) !== FALSE)\n     {\n        @imagepng($image, 'images/profiles/' . $_SESSION['id'] . '.png');\n        @imagedestroy($image);\n        return TRUE;\n     }\n    else \n     {\n        return FALSE;\n     }\n }\n\nMORE INFO:\nOptions: case insensitive\n\nAssert position at a word boundary \u00ab\\b\u00bb\nMatch a single character that is a \u201cword character\u201d (letters, digits, etc.) \u00ab\\w*\u00bb\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) \u00ab*\u00bb\nMatch a single character that is a \u201cwhitespace character\u201d (spaces, tabs, line breaks, etc.) \u00ab\\s*\u00bb\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) \u00ab*\u00bb\nMatch a single character that is a \u201cword character\u201d (letters, digits, etc.) \u00ab\\w*\u00bb\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) \u00ab*\u00bb\nMatch the character \u201c(\u201d literally \u00ab\\(\u00bb\nMatch any single character that is not a line break character \u00ab.*?\u00bb\n   Between zero and unlimited times, as few times as possible, expanding as needed (lazy) \u00ab*?\u00bb\nMatch the character \u201c)\u201d literally \u00ab\\)\u00bb\nMatch a single character that is a \u201cwhitespace character\u201d (spaces, tabs, line breaks, etc.) \u00ab\\s*\u00bb\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) \u00ab*\u00bb\nMatch the character \u201c{\u201d literally \u00ab\\{\u00bb\nMatch a single character present in the list below \u00ab[\\x21-\\x7E\\s]*\u00bb\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) \u00ab*\u00bb\n   A character in the range between ASCII character 0x21 (33 decimal) and ASCII character 0x7E (126 decimal) \u00ab\\x21-\\x7E\u00bb\n   A whitespace character (spaces, tabs, line breaks, etc.) \u00ab\\s\u00bb\nMatch the character \u201c}\u201d literally \u00ab\\}\u00bb\n\n\nCreated with RegexBuddy\n\n", "A tip:\nIf you are going to write the regex in Perl, please use the \"xms\" options so that you can leave spaces and document the regex. For example you can write a regex like:\n m{\\w+ \\s+      #return type\n   \\w+ \\s*      #function name\n   [(] [^)]* [)] #params\n   \\s* [{]           #open paren\n  }xms\n\nOne of the options (think x) allows the # comments inside a regex. Also use \\s instead of a \" \". \\s stands for any \"blank\" character. So tabs would also match -- which is what you would want. In Perl you don't need to use / /, you can use { } or < > or | |.\nNot sure if other languages have this ability. If they do, then please use them.\n", "I've used BeautifulSoup for such things in the past with great success.\n", "In .NET you could use HTMLAgilityPack.\nSee this previous question on StackOverflow for more information.\n", "If you want to extract the content from the the HTML markup, you should use some type of HTML parser. To that end there are plenty out there and here are two that might suite your needs:\nhttp://jtidy.sourceforge.net/\nhttp://htmlparser.sourceforge.net/\n", "Depends on what sort of processing you want to do. You can tell Tidy to generate XHTML, which is a type of XML, which means you can use all the usual XML tools like XSLT and XQuery on the results.\nIf you want to process them in Microsoft Excel, then you should be able to slice the table out of the HTML and put it in a file, then open that file in Excel: it will happily convert an HTML table in to a spreadsheet page. You could then save it as CSV or as an Excel workbook etc. (You can even use this on a web server -- return an HTML table but set the Content-Type header to application/ms-vnd.excel: Excel will open and import the table and turn it in to a spreadsheet.)\nIf you want CSV to feed in to a database then you could go via Excel as before, or if you want to automate the process, you could write a program that uses the XML-navigating API of your choice to iterate of the table rows and save them as CSV. Python's Elementtree and CSV modules would make this pretty easy.\n", "After reviewing the suggestions, I wound up using HtmlUnit.\nWith HtmlUnit, I was able to customize the Java code to open each HTML file in the folder,  navigate to the TABLE tag,\nquery each column content and extract the data I needed to create a CSV file.\n", "iterate through the text and Use regular expression :)\nhttp://www.knowledgehouse.sg\n", "You can use time and curl and time on the command-line.  The -I argument for curl instructs it to only request the header.\ntime curl -I 'http://server:3000'\n\n", "Something like this might do the trick\n\nimport java.io.IOException;\n\nimport org.apache.commons.httpclient.HttpClient;\nimport org.apache.commons.httpclient.HttpMethod;\nimport org.apache.commons.httpclient.URIException;\nimport org.apache.commons.httpclient.methods.HeadMethod;\nimport org.apache.commons.lang.time.StopWatch;\n//import org.apache.commons.lang3.time.StopWatch\n\npublic class Main {\n\n    public static void main(String[] args) throws URIException {\n        StopWatch watch = new StopWatch();\n        HttpClient client = new HttpClient();\n        HttpMethod method = new HeadMethod(\"http://stackoverflow.com/\");\n\n        try {\n            watch.start();\n            client.executeMethod(method);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            watch.stop();\n        }\n\n        System.out.println(String.format(\"%s %s %d: %s\", method.getName(), method.getURI(), method.getStatusCode(), watch.toString()));\n\n    }\n}\n\n\nHEAD http://stackoverflow.com/ 200: 0:00:00.404\n\n", "Maybe I'm missing something, but why don't you just use:\n// open your connection\nlong start = System.currentTimeMillis();\n// send request, wait for response (the simple socket calls are all blocking)\nlong end = System.currentTimeMillis();\nSystem.out.println(\"Round trip response time = \" + (end-start) + \" millis\");\n\n", "I would say it depends on what exact interval you are trying measure, the amount of time from the last byte of the request that you send until the first byte of the response that you receive?  Or until the entire response is received?  Or are you trying to measure the server-side time only?\nIf you're trying to measure the server side processing time only, you're going to have a difficult time factoring out the amount of time spent in network transit for your request to arrive and the response to return.  Otherwise, since you're managing the request yourself through a Socket, you can measure the elapsed time between any two moments by checking the System clock and computing the difference.  For example:\npublic void sendHttpRequest(byte[] requestData, Socket connection) {\n    long startTime = System.currentTimeMillis();\n    writeYourRequestData(connection.getOutputStream(), requestData);\n    byte[] responseData = readYourResponseData(connection.getInputStream());\n    long elapsedTime = System.currentTimeMillis() - startTime;\n    System.out.println(\"Total elapsed http request/response time in milliseconds: \" + elapsedTime);\n}\n\nThis code would measure the time from when you begin writing out your request to when you finish receiving the response, and print the result (assuming you have your specific read/write methods implemented).\n", "Use AOP to intercept calls to the socket and measure the response time.\n", "No.\nUnless you change the plugin code, the default source folder is always the same as that containing the class you right clicked on (not necessarily the first source folder listed).  I agree, it would be nice to be able to change it!\n", "I use moreUnit, an Eclipse plugin to assist writing unit tests. Among other features, it lets you configure the default source folder of tests.\n", "I could be wrong, but I'm pretty sure that's impossible. The java byte code is different to the code produced to run on the CLR.\nSnarky answer: Get the source code, and port it.\nEDIT: A little poking comes up with http://sourceforge.net/projects/ikvm/, a Java Virtual Machine implementation for .NET. Not quite what you asked for, but it's probably going to be the best you can do.\n", "Confronted with this situation last year, I wrote a small wrapper (in java) that read the inputs from a temp file, invoked the jar and placed the output in anther temp file. The .NET project would create the input file, call the JVM and start the wrapper, wait for it to finish and read the output file. Quick and Dirty. at least in my case\n", "What about select the current node selecting the relevant data from the current node into an XSL parameter, and passing that parameter to the function? Like:\n<xsl:value-of select=\"ourFunction($data)\" />\n\n", "Try changing your XSL so you call 'ourFunction(/)'. That should pass the root node to the function. You could also try . or ..\nYou'll presumably need to change the signature of the implementing function, I'll let someone else help with that.\n", "With java generics using wildcards, you are allowed the above declaration assuming you are only going to read from it. \nYou aren't allowed to add/write to it, because all generic types must be stripped at compile time, and at compile time there isn't a way the compiler knows List are only strings, (it could be any object including strings!) \nYou are however allowed to read from it since they are going to be at least objects.  Mixing different types are not allowed in java collections to keep things clean and understandable, and this helps ensure it.\n", "The point of bounded wildcard types is their use in method signatures to increase API flexibility. If, for example, you implement a generic Stack<E>, you could provide a method to push a number of elements to the stack like so: \npublic void pushAll(Iterable<? extends E> elements) {\n    for(E element : elements){\n       push(e);\n    }\n}\n\nCompared to a pushAll(Iterable<E> elements) signature without a wildcard, this has the advantage that it allows collections of subtypes of E to be passed to the method - normally that would not be allowed because an Iterable<String> is, somewhat counterintuitively, not a subclass of Iterable<Object>.\n", "This works:\nList<? super Object> mylist = new ArrayList<Object>();\nmylist.add(\"Java\"); // no compile error\n\nFrom O'Reilly's Java Generics:\n\nThe Get and Put Principle: use an extends wildcard when you only get values our of a structure, use a super wildcard when you only put values into a structure, and don't use a wildcard you both get and put.\n\n", "In his book great 'Effective Java' (Second Edition) Joshua Bloch explains what he calls the producer/consumer principle for using generics. Josh's explaination should tell you why your example does not work (compile) ...\nChapter 5 (Generics) is freely available here: http://java.sun.com/docs/books/effective/generics.pdf\nMore information about the book (and the author) are available: http://java.sun.com/docs/books/effective/\n", "List<? extends Object>, which is the same as List<?>, fulfills the purpose of generalizing all types List<String>, List<Number>, List<Object>, etc. (so all types with a proper type in place of the ?). Values of all of these types can be assigned to a variable of type List<?> (which is where it differs from List<Object>!).\nIn general, you cannot add a string to such a list. However, you can read Object from the list and you can add null to it. You can also calculate the length of the list, etc. These are operations that are guaranteed to work for each of these types.\nFor a good introduction to wildcards, see the paper Adding Wildcards to the Java Programming Language. It is an academic paper, but still very accessible.\n", "Let's say you have an interface and two classes:\ninterface IResult {}\nclass AResult implements IResult {}\nclass BResult implements IResult {}\n\nThen you have classes that return a list as a result:\ninterface ITest<T extends IResult> {\n  List<T> getResult();\n}\n\nclass ATest implements ITest<AResult> {\n  // look, overridden!\n  List<AResult> getResult();\n}\n\nclass BTest implements ITest<BResult> {\n  // overridden again!\n  List<BResult> getResult();\n}\n\nIt's a good solution, when you need \"covariant returns\", but you return collections instead of your own objects. The big plus is that you don't have to cast objects when using ATest and BTest independently from the ITest interface. However, when using ITest interface, you cannot add anything to the list that was returned - as you cannot determine, what object types the list really contains! If it would be allowed, you would be able to add BResult to List<AResult> (returned as List<? extends T>), which doesn't make any sense.\nSo you have to remember this: List<? extends X> defines a list that could be easily overridden, but which is read-only.\n", "I have used the Observer pattern (using AspectJ magic) in the past with some success, but found that unless you were careful it quickly became a cluster.. uhh.. flick?\nIt quickly became hard to manage and most importantly extremely hard to debug.\nEdit:\nTo expand slightly on my answer, we were using SWT, not Swing, so YMMV. We basically used AspectJ to hook up the transference of data from the UI components to the model objects. These model objects were dumb POJOs.\nActual business logic was done by 'watching' the model objects with AspectJ and firing off the required event if they changed. So if you changed a value in a textbox AspectJ would fire and copy that value into a POJO. If that field in the POJO had an event on it for business logic that would then fire. If that logic modified any POJOs (and it could) AspectJ would notice and copy the value from the POJO into the UI component.\n", "Definitely MVC - something like this example which clearly splits things out.  The problem with the Swing examples is that they seem to show the MVC all working within the swing stuff, which does not seem right to me\n", "MVC is fantastic for an individual widget, however it gets a little unruly when you have pages and forms with lots of widgets.\nOne thing that might be worth looking into (and I'm not endorsing it, I haven't actually used it, just implemented something very similar for myself) is the Beans Binding Framework (JSR295)\n", "If you don't want to send the data in plain text, use encryption !!!\nUse some encryption algorithm such as AES, Twofish etc.\nYou must also take into consideration where your client and server are. If they both are in the same machine, there is no use of using an encryption. If they are in different machines, use some encryption algorithm to send sensitive data.\nIf YOU are checking the validity of the passwords, you can just send the hash of the password. Beware that this method will work only if you are comparing the password yourself. If some other application (out of your control) is doing the validation job, you cannot hash the password.\n", "You could connect over a secure socket connection, or hash the password locally before sending it to the database (or better, both) - Ideally, the only time the password should exist in plain text form is prior to hashing. If you can do all of that on the client side, more the better.\n", "Agreed, never send the password the user chose in plaintext. However, short of using public key cryptography, if you email them a password, it's going to be in cleartext. One thing I've seen often happen is that when the user forgets the password and requests it being sent to them, the system generates a new password and sends that one to the user. The user can then change the password.\nThis way, the password the user chose (which the user might use elsewhere) is never sent, while their temporary password is sent in plaintext, they should change it soon after.\n", "You can use SSL connection between Oracle client and Oracle database. To configure SSL between oracle client and server using JDBC:\nAt server side:\n1) First of all, the listener must be configured to use the TCPS protocol:\nLISTENER = (ADDRESS_LIST= (ADDRESS=(PROTOCOL=tcps)(HOST=servername)(PORT=2484)))\nWALLET_LOCATION=(SOURCE=(METHOD=FILE)(METHOD_DATA=(DIRECTORY=/server/wallet/path/)))\nAt client side:\n1) following jars needs to be classpath\nojdb14.jar, oraclepki.jar, ojpse.jar\n2) URL used for connection should be:\njdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=servername)(PORT=2484))(CONNECT_DATA=(SERVICE_NAME=servicename)))\n3) Following properties needs to be set (either as System property (-D options) or properties to connection)\njavax.net.ssl.trustStore, \njavax.net.ssl.trustStoreType, \njavax.net.ssl.trustStorePassword\nReference: http://www.oracle.com/technology/tech/java/sqlj_jdbc/pdf/wp-oracle-jdbc_thin_ssl_2007.pdf\n", "If you connect directly to the DB with no middle layer, you should consider using a DB user for each real user, because otherwise you can't really secure the access of the application. \nIf you connect to Oracle with ORa*Net the user password is automatically encrypted (since Oracle 8) however it might fall back to unencrypted passwords in some situations. This can be disabled with ORA_ENCRYPT_LOGIN=true in the environment of the client.\n", "From the official JAR File Specification (link goes to the Java 7 version, but the text hasn't changed since at least v1.3):\n\nThe META-INF directory\nThe following files/directories in the META-INF directory are recognized and interpreted by the Java 2 Platform to configure applications, extensions, class loaders and services:\n\nMANIFEST.MF\n\nThe manifest file that is used to define extension and package related data.\n\nINDEX.LIST\n\nThis file is generated by the new \"-i\" option of the jar tool, which contains location information for packages defined in an application or extension.  It is part of the JarIndex implementation and used by class loaders to speed up their class loading process.\n\nx.SF\n\nThe signature file for the JAR file. 'x' stands for the base file name.\n\nx.DSA\n\nThe signature block file associated with the signature file with the same base file name. This file stores the digital signature of the corresponding signature file.\n\nservices/\n\nThis directory stores all the service provider configuration files.\n\n", "The META-INF folder is the home fort the MANIFEST.MF file. This file contains meta data about the contents of the JAR. For example, there is an entry called Main-Class that specifies the name of the Java class with the static main() for executable JAR files.\n", "Generally speaking, you should not put anything into META-INF yourself.  Instead, you should rely upon whatever you use to package up your JAR.  This is one of the areas where I think Ant really excels: specifying JAR file manifest attributes.  It's very easy to say something like:\n<jar ...>\n    <manifest>\n        <attribute name=\"Main-Class\" value=\"MyApplication\"/>\n    </manifest>\n</jar>\n\nAt least, I think that's easy...  :-)\nThe point is that META-INF should be considered an internal Java meta directory.  Don't mess with it!  Any files you want to include with your JAR should be placed in some other sub-directory or at the root of the JAR itself.\n", "Ummm... an inner class IS a nested class... do you mean anonymous class and inner class?\nEdit:  If you actually meant inner vs anonymous... an inner class is just a class defined within a class such as:\npublic class A {\n    public class B {\n    }\n}\n\nWhereas an anonymous class is an extension of a class defined anonymously, so no actual \"class is defined, as in:\npublic class A {\n}\n\nA anon = new A() { /* you could change behavior of A here */ };\n\nFurther Edit:\nWikipedia claims there is a difference in Java, but I've been working with Java for 8 years, and it's the first I heard such a distinction... not to mention there are no references there to back up the claim... bottom line, an inner class is a class defined within a class (static or not), and nested is just another term to mean the same thing.\nThere is a subtle difference between static and non-static nested class... basically non-static inner classes have implicit access to instance fields and methods of the enclosing class (thus they cannot be constructed in a static context, it will be a compiler error).  Static nested classes, on the other hand, don't have implicit access to instance fields and methods, and CAN be constructed in a static context.\n", "The terms are used interchangeably.  If you want to be really pedantic about it, then you could define \"nested class\" to refer to a static inner class, one which has no enclosing instance.  In code, you might have something like this:\npublic class Outer {\n    public class Inner {}\n\n    public static class Nested {}\n}\n\nThat's not really a widely accepted definition though.\n", "From the Java Tutorial:\n\nNested classes are divided into two categories: static and non-static. Nested classes that are declared static are simply called static nested classes. Non-static nested classes are called inner classes. \n\nStatic nested classes are accessed using the enclosing class name:\nOuterClass.StaticNestedClass\n\nFor example, to create an object for the static nested class, use this syntax:\nOuterClass.StaticNestedClass nestedObject = new OuterClass.StaticNestedClass();\n\nObjects that are instances of an inner class exist within an instance of the outer class. Consider the following classes:\nclass OuterClass {\n    ...\n    class InnerClass {\n        ...\n    }\n}\n\nAn instance of InnerClass can exist only within an instance of OuterClass and has direct access to the methods and fields of its enclosing instance.\nTo instantiate an inner class, you must first instantiate the outer class. Then, create the inner object within the outer object with this syntax:\nOuterClass.InnerClass innerObject = outerObject.new InnerClass();\n\nsee: Java Tutorial - Nested Classes\nFor completeness note that there is also such a thing as an inner class without an enclosing instance:\nclass A {\n  int t() { return 1; }\n  static A a =  new A() { int t() { return 2; } };\n}\n\nHere, new A() { ... } is an inner class defined in a static context and does not have an enclosing instance.\n", "Nested class is a very general term: every class which is not top level is a nested class.\nAn inner class is a non-static nested class.\nJoseph Darcy wrote a very nice explanation about Nested, Inner, Member, and Top-Level Classes.\n", "The instance of the inner class is created when instance of the outer class is created. Therefore the members and methods of the inner class have access to the members and methods of the instance (object) of the outer class. When the instance of the outer class goes out of scope, also the inner class instances cease to exist.\nThe static nested class doesn't have a concrete instance. It's just loaded when it's used for the first time (just like the static methods). It's a completely independent entity, whose methods and variables doesn't have any access to the instances of the outer class.\nThe static nested classes are not coupled with the outer object, they are faster, and they don't take heap/stack memory, because its not necessary to create instance of such class. Therefore the rule of thumb is to try to define static nested class, with as limited scope as possible (private >= class >= protected >= public), and then convert it to inner class (by removing \"static\" identifier) and loosen the scope, if it's really necessary.\n", "I don't think the real difference became clear in the above answers. \nFirst to get the terms right: \n\nA nested class is a class which is contained in another class at the source code level.\nIt is static if you declare it with the static modifier.\nA non-static nested class is called inner class. (I stay with non-static nested class.)\n\nMartin's answer is right so far. However, the actual question is: What is the purpose of declaring a nested class static or not?\nYou use static nested classes if you just want to keep your classes together if they belong topically together or if the nested class is exclusively used in the enclosing class. There is no semantic difference between a static nested class and every other class.\nNon-static nested classes are a different beast. Similar to anonymous inner classes, such nested classes are actually closures. That means they capture their surrounding scope and their enclosing instance and make that accessible. Perhaps an example will clarify that. See this stub of a Container:\npublic class Container {\n    public class Item{\n        Object data;\n        public Container getContainer(){\n            return Container.this;\n        }\n        public Item(Object data) {\n            super();\n            this.data = data;\n        }\n\n    }\n\n    public static Item create(Object data){\n        // does not compile since no instance of Container is available\n        return new Item(data);\n    }\n    public Item createSubItem(Object data){\n        // compiles, since 'this' Container is available\n        return new Item(data);\n    }\n}\n\nIn this case you want to have a reference from a child item to the parent container. Using a non-static nested class, this works without some work. You can access the enclosing instance of Container with the syntax Container.this.\nMore hardcore explanations following:\nIf you look at the Java bytecodes the compiler generates for an (non-static) nested class it might become even clearer:\n// class version 49.0 (49)\n// access flags 33\npublic class Container$Item {\n\n  // compiled from: Container.java\n  // access flags 1\n  public INNERCLASS Container$Item Container Item\n\n  // access flags 0\n  Object data\n\n  // access flags 4112\n  final Container this$0\n\n  // access flags 1\n  public getContainer() : Container\n   L0\n    LINENUMBER 7 L0\n    ALOAD 0: this\n    GETFIELD Container$Item.this$0 : Container\n    ARETURN\n   L1\n    LOCALVARIABLE this Container$Item L0 L1 0\n    MAXSTACK = 1\n    MAXLOCALS = 1\n\n  // access flags 1\n  public <init>(Container,Object) : void\n   L0\n    LINENUMBER 12 L0\n    ALOAD 0: this\n    ALOAD 1\n    PUTFIELD Container$Item.this$0 : Container\n   L1\n    LINENUMBER 10 L1\n    ALOAD 0: this\n    INVOKESPECIAL Object.<init>() : void\n   L2\n    LINENUMBER 11 L2\n    ALOAD 0: this\n    ALOAD 2: data\n    PUTFIELD Container$Item.data : Object\n    RETURN\n   L3\n    LOCALVARIABLE this Container$Item L0 L3 0\n    LOCALVARIABLE data Object L0 L3 2\n    MAXSTACK = 2\n    MAXLOCALS = 3\n}\n\nAs you can see the compiler creates a hidden field Container this$0. This is set in the constructor which has an additional parameter of type Container to specify the enclosing instance. You can't see this parameter in the source but the compiler implicitly generates it for a nested class. \nMartin's example\nOuterClass.InnerClass innerObject = outerObject.new InnerClass();\n\nwould so be compiled to a call of something like (in bytecodes)\nnew InnerClass(outerObject)\n\nFor the sake of completeness:\nAn anonymous class is a perfect example of a non-static nested class which just has no name associated with it and can't be referenced later.\n", "The Java tutorial says:\n\nTerminology: Nested classes are\n  divided into two categories: static\n  and non-static. Nested classes that\n  are declared static are simply called\n  static nested classes. Non-static\n  nested classes are called inner\n  classes.\n\nIn common parlance, the terms \"nested\" and \"inner\" are used interchangeably by most programmers, but I'll use the correct term \"nested class\" which covers both inner and static.\nClasses can be nested ad infinitum, e.g. class A can contain class B which contains class C which contains class D, etc. However, more than one level of class nesting is rare, as it is generally bad design.\nThere are three reasons you might create a nested class:\n\norganization: sometimes it seems most sensible to sort a class into the namespace of another class, especially when it won't be used in any other context\naccess: nested classes have special access to the variables/fields of their containing classes (precisely which variables/fields depends on the kind of nested class, whether inner or static).\nconvenience: having to create a new file for every new type is bothersome, again, especially when the type will only be used in one context\n\nThere are four kinds of nested class in Java. In brief, they are:\n\nstatic class: declared as a static member of another class\ninner class: declared as an instance member of another class\nlocal inner class: declared inside an instance method of another class\nanonymous inner class: like a local inner class, but written as an expression which returns a one-off object\n\nLet me elaborate in more details.\n\nStatic Classes\nStatic classes are the easiest kind to understand because they have nothing to do with instances of the containing class.\nA static class is a class declared as a static member of another class. Just like other static members, such a class is really just a hanger on that uses the containing class as its namespace, e.g. the class Goat declared as a static member of class Rhino in the package pizza is known by the name pizza.Rhino.Goat.\npackage pizza;\n\npublic class Rhino {\n\n    ...\n\n    public static class Goat {\n        ...\n    }\n}\n\nFrankly, static classes are a pretty worthless feature because classes are already divided into namespaces by packages. The only real conceivable reason to create a static class is that such a class has access to its containing class's private static members, but I find this to be a pretty lame justification for the static class feature to exist.\n\nInner Classes\nAn inner class is a class declared as a non-static member of another class:\npackage pizza;\n\npublic class Rhino {\n\n    public class Goat {\n        ...\n    }\n\n    private void jerry() {\n        Goat g = new Goat();\n    }\n}\n\nLike with a static class, the inner class is known as qualified by its containing class name, pizza.Rhino.Goat, but inside the containing class, it can be known by its simple name. However, every instance of an inner class is tied to a particular instance of its containing class: above, the Goat created in jerry, is implicitly tied to the Rhino instance this in jerry. Otherwise, we make the associated Rhino instance explicit when we instantiate Goat:\nRhino rhino = new Rhino();\nRhino.Goat goat = rhino.new Goat();\n\n(Notice you refer to the inner type as just Goat in the weird new syntax: Java infers the containing type from the rhino part. And, yes new rhino.Goat() would have made more sense to me too.)\nSo what does this gain us? Well, the inner class instance has access to the instance members of the containing class instance. These enclosing instance members are referred to inside the inner class via just their simple names, not via this (this in the inner class refers to the inner class instance, not the associated containing class instance): \npublic class Rhino {\n\n    private String barry;\n\n    public class Goat {\n        public void colin() {\n            System.out.println(barry);\n        }\n    }\n}\n\nIn the inner class, you can refer to this of the containing class as Rhino.this, and you can use this to refer to its members, e.g. Rhino.this.barry.\n\nLocal Inner Classes\nA local inner class is a class declared in the body of a method. Such a class is only known within its containing method, so it can only be instantiated and have its members accessed within its containing method. The gain is that a local inner class instance is tied to and can access the final local variables of its containing method. When the instance uses a final local of its containing method, the variable retains the value it held at the time of the instance's creation, even if the variable has gone out of scope (this is effectively Java's crude, limited version of closures).\nBecause a local inner class is neither the member of a class or package, it is not declared with an access level. (Be clear, however, that its own members have access levels like in a normal class.)\nIf a local inner class is declared in an instance method, an instantiation of the inner class is tied to the instance held by the containing method's this at the time of the instance's creation, and so the containing class's instance members are accessible like in an instance inner class. A local inner class is instantiated simply via its name, e.g. local inner class Cat is instantiated as new Cat(), not new this.Cat() as you might expect.\n\nAnonymous Inner Classes\nAn anonymous inner class is a syntactically convenient way of writing a local inner class. Most commonly, a local inner class is instantiated at most just once each time its containing method is run. It would be nice, then, if we could combine the local inner class definition and its single instantiation into one convenient syntax form, and it would also be nice if we didn't have to think up a name for the class (the fewer unhelpful names your code contains, the better). An anonymous inner class allows both these things:\nnew *ParentClassName*(*constructorArgs*) {*members*}\n\nThis is an expression returning a new instance of an unnamed class which extends ParentClassName. You cannot supply your own constructor; rather, one is implicitly supplied which simply calls the super constructor, so the arguments supplied must fit the super constructor. (If the parent contains multiple constructors, the \u201csimplest\u201d one is called, \u201csimplest\u201d as determined by a rather complex set of rules not worth bothering to learn in detail--just pay attention to what NetBeans or Eclipse tell you.)\nAlternatively, you can specify an interface to implement:\nnew *InterfaceName*() {*members*}\n\nSuch a declaration creates a new instance of an unnamed class which extends Object and implements InterfaceName. Again, you cannot supply your own constructor; in this case, Java implicitly supplies a no-arg, do-nothing constructor (so there will never be constructor arguments in this case).\nEven though you can't give an anonymous inner class a constructor, you can still do any setup you want using an initializer block (a {} block placed outside any method).\nBe clear that an anonymous inner class is simply a less flexible way of creating a local inner class with one instance. If you want a local inner class which implements multiple interfaces or which implements interfaces while extending some class other than Object or which specifies its own constructor, you're stuck creating a regular named local inner class.\n", "My Java experience is not that high either, so anyone feel free to correct me. But AFAIK, the general convention is to write two methods like so:\npublic string getMyString() {\n    // return it here\n}\n\npublic void setMyString(string myString) {\n    // set it here\n}\n\n", "If you're using eclipse then it has the capabilities to auto generate the getter and setter method for the internal attributes, it can be a usefull and timesaving tool.\n", "The bean convention is to write code like this:\nprivate int foo;\npublic int getFoo() {\n    return foo;\n}\npublic void setFoo(int newFoo) {\n    foo = newFoo;\n}\n\nIn some of the other languages on the JVM, e.g., Groovy, you get overridable properties similar to C#, e.g.,\nint foo\n\nwhich is accessed with a simple .foo and leverages default getFoo and setFoo implementations that you can override as necessary.\n", "There is a \"standard\" pattern for getters and setters in Java, called Bean properties. Basically any method starting with get, taking no arguments and returning a value, is a property getter for a property named as the rest of the method name (with a lowercased start letter). Likewise set creates a setter of a void method with a single argument.\nFor example:\n// Getter for \"awesomeString\"\npublic String getAwesomeString() {\n  return awesomeString;\n}\n\n// Setter for \"awesomeString\"\npublic void setAwesomeString( String awesomeString ) {\n  this.awesomeString = awesomeString;\n}\n\nMost Java IDEs will generate these methods for you if you ask them (in Eclipse it's as simple as moving the cursor to a field and hitting ctrl-1, then selecting the option from the list).\nFor what it's worth, for readability you can actually use is and has in place of get for boolean-type properties too, as in:\npublic boolean isAwesome();\n\npublic boolean hasAwesomeStuff();\n\n", "Most IDEs for Java will automatically generate getter and setter code for you if you want them to. There are a number of different conventions, and an IDE like Eclipse will allow you to choose which one you want to use, and even let you define your own.\nEclipse even includes automated refactoring that will allow you to wrap a property up in a getter and setter and it will modify all the code that accesses the property directly, to make it use the getter and/or setter.\nOf course, Eclipse can only modify code that it knows about - any external dependencies you have could be broken by such a refactoring.\n", "\"Java Property Support\" was proposed for Java 7, but did not make it into the language.\nSee http://tech.puredanger.com/java7#property for more links and info, if interested.\n", "I'm just releasing Java 5/6 annotations and an annotation processor to help this.\nCheck out http://code.google.com/p/javadude/wiki/Annotations\nThe documentation is a bit light right now, but the quickref should get the idea across.\nBasically it generates a superclass with the getters/setters (and many other code generation options).\nA sample class might look like\n@Bean(properties = {\n    @Property(name=\"name\", bound=true),\n    @Property(name=\"age,type=int.class)\n})\npublic class Person extends PersonGen {\n}\n\nThere are many more samples available, and there are no runtime dependencies in the generated code.\nSend me an email if you try it out and find it useful!\n-- Scott\n", "JAVA doesn't support multiple Inheritence.\nYou can get it to implement multiple interfaces and some see this as a way round the problem. Personally I have yet to use multiple inheritence, so I can't really understand its appeal.\nNormally when someone suggests multiple inheritence within c# or JAVA its due to the fact that 'they could' in c++. Im a fan of 'just because you can doens't mean you should'. As c# & JAVA doesn't support it, why try and force it to do something it wasn't designed to do. This is not to say that there are unique cases where it is a valid technique to empoly, just the code can usually be refactored to not need it.\n", "Use of composition instead of inheritance tends to be the way around this. This actually also helps a lot with testability, so it's good practice in general. \nIf you just want your type to \"behave\" like several other types, you can inherit from as many interfaces as you like, though; you can't \"borrow\" implementation details from these though, obviously.\n", "Use interfaces. You can implement as many as you'd like. You can usually use some variant on the Composite Pattern (GoF) to be able to reuse implementation code if that's desirable.\n", "I believe that the fundamental reason that Java doesn't support multiple inheritance is the same as C#; all objects are ultimately derived from Object and it's having multiple paths to the same base class is ambiguous for the compiler. Ambiguous == Bad, so the compiler doesn't allow it.\nInstead, you can simulate multiple inheritance through delegation. See this article for an example.\n", "You can cheat it a little (and I stress a little) by using java.lang.reflect.Proxy instances. \nThis really just allows you to add extra interfaces and delegate their calls to another instance at runtime.\nAs someone who mentors and tutors new developers I would be horrified if somebody showed me code that did this. Reflection is one of those tools that you really need to understand and have a good understanding of Java before jumping in. I personally have only ever done this once, and it was to make some code I didn't have control over implement some interfaces some other code I had no control over was expecting (it was a quick hack so I didn't have to write and maintain too much glue code).\n", "You need to be careful to distinguish interface inheritance (essentially inheritance of a contract to provide particular facilities) from implementation inheritance (inheritance of implementation mechanisms). \nJava provides interface inheritance by the implements mechanism and you can have multiple interface inheritance.\nImplementation inheritance is the extends mechanism and you've only got a single version of that. Do you really need multiple implementation inheritance? I bet you don't, it's chock full of unpleasant consequences, unless you're an Eiffel programmer anyway. \n", "You could probably \"simulate\" it by managing the set of superclasses explicitly and using reflection to search all the superclasses for the target method.  I wouldn't want to do this in production, but it might an interesting toy program.  You could probably do a lot of weird stuff by leveraging reflection, creating classes on the fly, and invoking the compiler programatically.\n", "I was thinking about this a little more and realised that while dynamic proxies will work (it's how RMI (used?) to work), if you really want this sort of functionality you would be better off looking at aspect oriented programming (AOP) using something like AspectJ (eclipse.org/aspectj).\nThis way you can get several different aspects into a class, giving you pseudo mixin inheritance, without the hideously fragile inheritance heirarchies.\nAs everyone else has pointed out, wanting/needing multiple inheritance generally indicates you aren't approaching the problem from the right perspective. Remember the GoF principle of \"prefer composition over inheritance\" for a start!\n", "There was an effort to bring mixins into Java. Check this link out: http://www.disi.unige.it/person/LagorioG/jam/\n", "Sure you can, but it's tricky and you should really consider if that's the way you want to go.\nThe idea is to use scope-based inheritance coupled with type-based one. Which is type-talk for saying that for internal purposes, inner classes \"inherit\" methods and fields of the outer class. It's a bit like mixins, where the outer class is mixed-in to the inner class, but not as safe, as you can change the state of the outer class as well as use its methods.\nGilad Bracha (one of the main java language designers) wrote a paper discussing that.\nSo, suppose you want to share some methods for internal use between some unrelated classes (e.g, for string manipulation), you can create sub classes of them as inner classes of a class that has all the needed methods, and the sub classes could use methods both from their super classes and from the outer class.  \nAnyway, it's tricky for complex classes, and you could get most of the functionality using static imports (from java 5 on). Great question for job interviews and pub quizzes, though ;-)\n", "Selenium might be what you're looking for: http://selenium.openqa.org/\nIt allows you to script actions and evaluate the results. It's open-source (Apache 2.0), cross platform, and has nice tools.\n", "I have used Selenium for exactly this task, but found it to be brittle.\nCheck out this talk by two Googlers: Does my button look big in this? Building testable AJAX applications\nThey isolate the testable javascript (non DOM-interaction) and test that using the Rhino javascript engine.\n", "Make sure that you really need it. Do a google for \"singleton anti-pattern\" to see some arguments against it. There's nothing inherently wrong with it I suppose but it's just a mechanism for exposing some global resource/data so make sure that this is the best way. In particular I've found dependency injection more useful particularly if you are also using unit tests because DI allows you to use mocked resources for testing purposes.\n", "Wikipedia has some examples of singletons, also in Java. The Java 5 implementation looks pretty complete, and is thread-safe (double-checked locking applied).\n", "Really consider why you need a singleton before writing it. There is a quasi-religious debate about using them which you can quite easily stumble over if you google singletons in Java.\nPersonally I try to avoid singletons as often as possible for many reasons, again most of which can be found by googling singletons. I feel that quite often singletons are abused because they're easy to understand by everybody, they're used as a mechanism for getting \"global\" data into an OO design and they are used because it is easy to circumvent object lifecycle management (or really thinking about how you can do A from inside B). Look at things like Inversion of Control (IoC) or Dependency Injection (DI) for a nice middleground.\nIf you really need one then wikipedia has a good example of a proper implementation of a singleton.\n", "Forget lazy initialization, it's too problematic. This is the simplest solution:\npublic class A {    \n\n    private static final A INSTANCE = new A();\n\n    private A() {}\n\n    public static A getInstance() {\n        return INSTANCE;\n    }\n}\n\n", "If you do not need lazy loading then simply try\npublic class Singleton {\n    private final static Singleton INSTANCE = new Singleton();\n\n    private Singleton() {}\n\n    public static Singleton getInstance() { return Singleton.INSTANCE; }\n\n    protected Object clone() {\n        throw new CloneNotSupportedException();\n    }\n}\n\nIf you want lazy loading and you want your Singleton to be thread-safe, try the double-checking pattern \npublic class Singleton {\n        private static Singleton instance = null;\n\n        private Singleton() {}\n\n        public static Singleton getInstance() { \n              if(null == instance) {\n                  synchronized(Singleton.class) {\n                      if(null == instance) {\n                          instance = new Singleton();\n                      }\n                  }\n               }\n               return instance;\n        }\n\n        protected Object clone() {\n            throw new CloneNotSupportedException();\n        }\n}\n\nAs the double checking pattern is not guaranteed to work (due to some issue with compilers, I don't know anything more about that.), you could also try to synchronize the whole getInstance-method or create a registry for all your Singletons. \n", "Thread safe in Java 5+:\nclass Foo {\n    private static volatile Bar bar = null;\n    public static Bar getBar() {\n        if (bar == null) {\n            synchronized(Foo.class) {\n                if (bar == null)\n                    bar = new Bar(); \n            }\n        }\n        return bar;\n    }\n}\n\n\nEDIT: Pay attention to the volatile modifier here.  :)  It is important because without it, other threads are not guaranteed by the JMM (Java Memory Model) to see changes to its value.  The synchronization does not take care of that--it only serializes access to that block of code.\nEDIT 2: \n@Bno 's answer details the approach recommended by Bill Pugh (FindBugs) and is arguable better.  Go read and vote up his answer too.\n", "Use an enum:\npublic enum Foo {\n    INSTANCE;\n}\n\nJoshua Bloch explained this approach in his Effective Java Reloaded talk at Google I/O 2008: link to video. Also see slides 30-32 of his presentation (effective_java_reloaded.pdf):\n\nThe Right Way to Implement a Serializable Singleton\npublic enum Elvis {\n    INSTANCE;\n    private final String[] favoriteSongs =\n        { \"Hound Dog\", \"Heartbreak Hotel\" };\n    public void printFavorites() {\n        System.out.println(Arrays.toString(favoriteSongs));\n    }\n}\n\n\nEdit: An online portion of \"Effective Java\" says: \n\n\"This approach is functionally equivalent to the public field approach, except that it is more concise, provides the serialization machinery for free, and provides an ironclad guarantee against multiple instantiation, even in the face of sophisticated serialization or reflection attacks. While this approach has yet to be widely adopted, a single-element enum type is the best way to implement a singleton.\"\n\n", "I'm mystified by some of the answers that suggest DI as an alternative to using singletons; these are unrelated concepts. You can use DI to inject either singleton or non-singleton (e.g. per-thread) instances. At least this is true if you use Spring 2.x, I can't speak for other DI frameworks.\nSo my answer to the OP would be (in all but the most trivial sample code) to:\n\nUse a DI framework like Spring, then\nMake it part of your DI configuration whether your dependencies are singletons, request scoped, session scoped, or whatever.\n\nThis approach gives you a nice decoupled (and therefore flexible and testable) architecture where whether to use a singleton is an easily reversible implementation detail (provided any singletons you use are threadsafe, of course).\n", "The solution posted by Stu Thompson is valid in Java5.0 and later. But I would prefer not to use it because I think it is error prone.\nIt's easy to forget the volatile statement and difficult to understand why it is necessary. Without the volatile this code would not be thread safe anymore due to the double-checked locking antipattern. See more about this in paragraph 16.2.4 of Java Concurrency in Practice. In short: This pattern (prior to Java5.0 or without the volatile statement) could return a reference to the Bar object that is (still) in an incorrect state.\nThis pattern was invented for performance optimization. But this is really not a real concern anymore. The following lazy initialization code is fast and -more importantly- easier to read.\nclass Bar {\n    private static class BarHolder {\n        public static Bar bar = new Bar();\n    }\n\n    public static Bar getBar() {\n        return BarHolder.bar;\n    }\n}\n\n", "Depending on the usage, there are several \"correct\" answers.\nSince java5 the best way to do it is to use an enum:\npublic enum Foo {\n   INSTANCE;\n}\n\nPre java5, the most simple case is:\npublic final class Foo {\n\n    private static final Foo INSTANCE = new Foo();\n\n    private Foo() {\n        if (INSTANCE != null) {\n            throw new IllegalStateException(\"Already instantiated\");\n        }\n    }\n\n    public static Foo getInstance() {\n        return INSTANCE;\n    }\n\n    public Object clone() throws CloneNotSupportedException{\n        throw new CloneNotSupportedException(\"Cannot clone instance of this class\");\n    }\n}\n\nLet's go over the code. First, you want the class to be final. In this case, I've used the final keyword to let the users know it is final. Then you need to make the constructor private to prevent users to create their own Foo. Throwing an exception from the constructor prevents users to use reflection to create a second Foo. Then you create a private static final Foo field to hold the only instance, and a public static Foo getInstance() method to return it. The Java specification makes sure that the constructor is only called when the class is first used.\nWhen you have a very large object or heavy construction code AND also have other accessible static methods or fields that might be used before an instance is needed, then and only then you need to use lazy initialization.\nYou can use a private static class to load the instance. The code would then look like:\npublic final class Foo {\n\n    private static class FooLoader {\n        private static final Foo INSTANCE = new Foo();\n    }\n\n    private Foo() {\n        if (FooLoader.INSTANCE != null) {\n            throw new IllegalStateException(\"Already instantiated\");\n        }\n    }\n\n    public static Foo getInstance() {\n        return FooLoader.INSTANCE;\n    }\n}\n\nSince the line private static final Foo INSTANCE = new Foo(); is only executed when the class FooLoader is actually used, this takes care of the lazy instantiation, and is it guaranteed to be thread safe.\nWhen you also want to be able to serialize your object you need to make sure that deserialization won't create a copy.\npublic final class Foo implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private static class FooLoader {\n        private static final Foo INSTANCE = new Foo();\n    }\n\n    private Foo() {\n        if (FooLoader.INSTANCE != null) {\n            throw new IllegalStateException(\"Already instantiated\");\n        }\n    }\n\n    public static Foo getInstance() {\n        return FooLoader.INSTANCE;\n    }\n\n    @SuppressWarnings(\"unused\")\n    private Foo readResolve() {\n        return FooLoader.INSTANCE;\n    }\n}\n\nThe method readResolve() will make sure the only instance will be returned, even when the object was serialized in a previous run of your program.\n", "Sometimes a simple \"static Foo foo = new Foo();\" is not enough. Just think of some basic data insertion you want to do.\nOn the other hand you would have to synchronize any method that instantiates the singleton variable as such. Synchronisation is not bad as such, but it can lead to performance issues or locking (in very very rare situations using this example. The solution is\npublic class Singleton {\n\n    private static Singleton instance = null;\n\n    static {\n          instance = new Singleton();\n          // do some of your instantiation stuff here\n    }\n\n    private Singleton() {\n          if(instance!=null) {\n                  throw new ErrorYouWant(\"Singleton double-instantiation, should never happen!\");\n          }\n    }\n\n    public static getSingleton() {\n          return instance;\n    }\n\n}\n\nNow what happens? The class is loaded via the class loader. Directly after the class was interpreted from a byte Array, the VM executes the static { } - block. that's the whole secret: The static-block is only called once, the time the given class (name) of the given package is loaded by this one class loader.\n", "Don't forget the Singleton is only a Singleton for the Classloader that loaded it. If you are using multiple loaders (Containers) each COULD have its own version of the Singleton.\n", "I use the Spring Framework to manage my singletons.  It doesn't enforce the \"singleton-ness\" of the class (which you can't really do anyway if there are multiple class loaders involved) but provides a really easy way to build and configure different factories for creating different types of objects.\n", "One option would be to use embedded Winstone servlet container instead of Tomcat as described here:\nhttp://winstone.sourceforge.net/#embedding\nThen you would have executable jar file running your application.\n", "You could probably modify the installer that Tomcat itself uses. \nSimply zipping up the directory is a valid solution, but as you note, it will not install the service. \nI would probably (a) zip up the directory (b) use one of the open-source service registry programs to install the server and maybe (c) uses NSIS to build an installer.\nDepending on the installation environment, your installer may also need to ask the user for a server port, since your application may not be able to use the default HTTP port.\n", "We use Ant Installer to deploy our application, app server and install it as a service.  We embed Java Service Wrapper in the installer to install the Windows service.\n", "It's commercial, but install4j will do this for you, including installing the service.\n", "I would say that something that is meant to be sometimes used as a Map and sometimes as a Set should implement Map, since that can be viewed as a set of keys or values as well as a mapping between keys and values. That is what the Map.containsKey() and Map.containsValue() methods are for.\n", "What are you trying to accomplish? Map already exposes its keys as a Set via its [keySet()](http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#keySet()) method. If you want a reliable iteratior order, there's LinkedHashMap and TreeMap.\nUPDATE: If you want to ensure that a value has only been inserted once, you can extend one of the classes I mentioned above to create something like a SingleEntryMap and override the implementation of put(K key, V value) to do a uniqueness check and throw an Exception when the value has already been inserted.\nUPDATE: Will something like this work? (I don't have my editor up, so this may not compile)\npublic final class KeyedSets<K, V> implements Map<K,Set<V>> {\n    private final Map<K, Set<V>> internalMap = new TreeMap<K, Set<V>>;\n    // delegate methods go here\n    public Set<V> getSortedSuperset() {\n        final Set<V> superset = new TreeSet<V>();\n        for (final Map.Entry<K, V> entry : internalMap.entrySet()) {\n            superset.addAll(entry.getValue());\n        }\n        return superset;\n    }\n}\n\n", "Perhaps you could add more information which operations do you really want. I guess you want to create a set which automatically groups their elements by a key, right? The question is which operations do you want to be able to have? How are elements added to the Set? Can elements be deleted by removing them from a grouped view? My proposal would be an interface like that:\npublic interface GroupedSet<K, V extends HasKey<K>> extends Set<V>{\n    Set<V> havingKey(K k);\n}\n\nIf you want to be able to use the Set as map you can add another method\nMap<K,Set<V>> asMap();\n\nThat avoids the use of multiple interface inheritance and the resulting problems.\n", "It's perfectly fine to build your application using Ext JS/DWR/Spring/Hibernate.\n", "Yes it's possible. \nI've done the same thing with .NET : UI in ext-JS which communicates with the server trough JSON. In .NET world you can use DataContractSerializer (class from WCF) or JavascriptSerializer (ASP.NET)\nI'm sure that there's several good JSON Serializer in the Java world too. I used Jabsorb (but not enough to give you a solid feedback). It appears that other people have tried : [link text][2]\n[2]: http://extjs.com/forum/showthread.php?t=30759 forum ext-js\n", "In our application we subclass Ext.data.DataProxy like this:\nvar MyProxy = function(fn) {\n  this.fn = fn;\n};\nExt.extend( MyProxy, Ext.data.DataProxy, {\n  load: function(params,reader,callback,scope,arg) {\n    this.fn(params,function(data) {\n      callback.call(scope,reader.readRecords(data),arg,true);\n    });\n  },\n  update: function() {}\n});\n\nYou use it with a store like so:\nvar store = new Ext.data.Store({\n  reader: myReader, proxy: new MyProxy(function(params,callback) {\n    // params are used for paging and searching, if you need it\n    callback(SomeService.getData(params));\n  })\n  // ...\n});\n\nOur actual proxy class has some additional debug and error handling code that I left out for simplicity. You may also need to manipulate your data slightly so that the Ext.data.JsonReader can handle it, but that's the basic idea. SomeService is the JavaScript name you specified for whatever bean you exposed in dwr.xml (or your Spring config).\n", "My team has been using Ext with DWR for almost year a year, and have had nothing but good things to say.  If you take this approach, you will end up using DWR's generated JavaScript classes for making your requests to the server.  This will often be done in place of using the Ext.Ajax and Ext.data.Connection classes.  When you use a class that require an Ext.data.Store (e.g. grip, combo box, etc.) and you want to fetch data from the server, you will need to use a proxy that can link in with DWR.  The user-community provided Ext.ux.data.DWRProxy has worked flawlessly for us: http://extjs.com/forum/showthread.php?t=23884.\n", "Why would you want to do that? Your composite ID should map the primary key of your table, and it doesn't sound wise to put null values in a key, does it?\nEDIT: Hibernate does not allow to do so; you might put the property outside the key and tweak the DAO a little to take the field into account wherever necessary\n", "No. Primary keys can not be null.\n", "This is not advisable. Could you use a view and map that instead? You could use COALESCE to supply a default if you are stuck with legacy data. We had lots of trouble with composite keys and I imagine null values will cause even more issues.\n", "For composite keys (assumed that database allows nulls in PKs) you can have maximum number_of_cols^2 - 1 entries containing nulls, (for example for composite key of 2 columns you can have 3 rows having in their primary key null, the fourth is the PK without nulls).\n", "I'm not sure about using the fetch keyword in your EJBQL, you might be getting it confused with the annotation...\nHave you tried adding the FetchType property to your relationship attribute?\n@OneToMany(fetch=FetchType.EAGER)?\nSee: \nhttp://java.sun.com/javaee/5/docs/api/javax/persistence/FetchType.html\nhttp://www.jroller.com/eyallupu/entry/hibernate_exception_simultaneously_fetch_multiple\n", "That would only work for ManyToOne relations and for them @ManyToOne(fetch=FetchType.EAGER) would probably appropriate.\nFetching more than one OneToMany relation eagerly is discouraged and/or does not work as you can read in the link Jeremy posted. Just think about the SQL statement that would be needed to do such a fetch...\n", "Changing the annotation is a bad idea IMO. As it can't be changed to lazy at runtime. Better to make everything lazy, and fetch as needed.\nI'm not sure I understand your problem without mappings. Left join fetch should be all you need for the use case you describe. Of course you'll get back an order for every orderline if orderline has an order as its parent.\n", "What I have done is to refactor the code to keep a map of objects to entity managers and each time I need to refresh, close the old entitymanager for the object and open a new one.  I used the above query without the fetch as that is going too deep for my needs - just doing a plain join pulls in the OrderLines - the fetch makes it go even deeper.  \nThere are only a few objects that I need this for, around 20, so I think the resource overhead in having 20 open entitymanagers is not an issue - although the DBAs may have a different view when this goes live...\nI also re-worked things so that the db work is on the main thread and has the entity manager.  \nChris\n", "If the problem is just LazyInitializationExceptions, you can avoid that by adding an OpenSessionInViewFilter.\nThis will allow the objects to be loaded in the view, but will not help with the speed issue.\n     <filter>\n        <filter-name>hibernateFilter</filter-name>\n        <filter-class> org.springframework.orm.hibernate3.support.OpenSessionInViewFilter\n        </filter-class>\n    </filter>\n    <filter-mapping>\n        <filter-name>hibernateFilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n\n", "You might be able to do something like that using a (detached) criteria query, and setting the fetch mode.  E.g.,\nSession s = ((HibernateEntityManager) em).getSession().getSessionFactory().openSession();\nDetachedCriteria dc = DetachedCriteria.forClass(MyEntity.class).add(Expression.idEq(id));\ndc.setFetchMode(\"innerTable\", FetchMode.JOIN);\nCriteria c = dc.getExecutableCriteria(s);\nMyEntity a = (MyEntity)c.uniqueResult();\n\n", "Have you tried using a result transformer? If you use Criteria queries, you can apply a result transformer (although there are some problems with pagination and result transformer):\nCriteria c = ((Session)em.getDelegate()).createCriteria(Order.class);\nc.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\nc.list();\n\nthe em.getDelegate() is a hack that only works if you are using hibernate.\n\nPerhaps more importantly, is there a\n  way to pull in all child objects, no\n  matter how deep? We have around 10-15\n  classes and for the server we will\n  need everything loaded... I was\n  avoiding using FetchType.EAGER as that\n  meant its always eager and in\n  particular the web front end loads\n  everything - but perhaps that is the\n  way to go - is that what you do? I\n  seem to remember us trying this before\n  and then getting really slow webpages\n  - but perhaps that means we should be using a second-level cache?\n\nIf you are still interested, I responded a similar question in this thread how to serialize hibernate collections.\nBasically you use a utility called dozer that maps beans onto another beans, and by doing this you trigger all your lazy loads. As you can imagine, this works better if all collections are eagerly fetched.\n", "Can't help with SharpZipLib, but you can try to create zip file using ZipPackage class System.IO.Packaging without using 3rd part libraries (requires .NET 3+).\n", "I have used DotNetZip library and it seems to work properly. Typical code:\nusing (ZipFile zipFile = new ZipFile())\n{\n  zipFile.AddDirectory(sourceFolderPath);\n  zipFile.Save(archiveFolderName);\n}\n\n", "To judge whether it's really a conformant ZIP file, see PKZIP's .ZIP File Format Specification.\nFor what it's worth I have had no trouble using SharpZipLib to create ZIPs on a Windows Mobile device and open them with WinZip or Windows XP's built-in Compressed Folders feature, and also no trouble producing ZIPs on the desktop with SharpZipLib and processing them with my own ZIP extraction utility (basically a wrapper around zlib) on the mobile device.\n", "I am not sure if you can do it using the command line. You can on the other hand add repositories in the pom.xml as in the following example. Using this approach you do not need to change the ~/.m2/settings.xml file.\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    ...\n    <repositories>\n            <repository>\n                <id>MavenCentral</id>\n                <name>Maven repository</name>\n                <url>http://repo1.maven.org/maven2</url>\n                <releases>\n                    <enabled>true</enabled>\n                </releases>\n                <snapshots>\n                    <enabled>false</enabled>\n                </snapshots>\n            </repository>\n...\n            <repository>\n                <id>Codehaus Snapshots</id>\n                <url>http://snapshots.repository.codehaus.org/</url>\n                <snapshots>\n                    <enabled>true</enabled>\n                </snapshots>\n                <releases>\n                    <enabled>false</enabled>\n                </releases>\n            </repository>\n        </repositories>\n\n    ...\n\n        <pluginRepositories>\n            <pluginRepository>\n                <id>apache.snapshots</id>\n                <name>Apache Snapshot Repository</name>\n                <url>\n                    http://people.apache.org/repo/m2-snapshot-repository\n                </url>\n                <releases>\n                    <enabled>false</enabled>\n                </releases>\n            </pluginRepository>\n            <pluginRepository>\n                <id>Codehaus Snapshots</id>\n                <url>http://snapshots.repository.codehaus.org/</url>\n                <snapshots>\n                    <enabled>true</enabled>\n                </snapshots>\n                <releases>\n                    <enabled>false</enabled>\n                </releases>\n            </pluginRepository>\n        </pluginRepositories>\n\n    ...\n\n    </project>\n\n", "I haven't really used maven 2 before, our system is still working on maven 1.x because of some issues with maven 2.\nHowever, looking at the documentation for maven 2 it seems that there aren't any specific System properties like that. However, you could probably build one into your poms/settings using the System properties. See System properties part of this http://maven.apache.org/settings.html\nSo you'd have ${maven.repository} in your settings file and then use the -Dmaven.repository like you do above.\nI am unsure as to if this would work, but with some tweaking I am sure you can come up with something.\n", "As\n@Jorge Ferreira\nalready said put your repository definitions in the pom.xml. Use profiles adittionally to select the repository to use via command line:\nmvn deploy -P MyRepo2\n\nmvn deploy -P MyRepo1\n\n", "Create a POM that has the repository settings that you want and then use a parent element in your project POMs to inherit the additional repositories.  The use of an \"organization\" POM has several other benefits when a group of projects belong to one team.\n", "One of the goals for Maven't Project Object Model (POM) is to capture all information needed to reliably reproduce an artifact, thus passing settings impacting the artifact creation is strongly discouraged.\nTo achieve your goal, you can check in your user-level settings.xml file with each project and use the -s (or --settings) option to pass it to the build. \n", "For the server-side solution (which your question was originally ambiguous about), this page at sun lists one way to specify a JRE.  Specifically, \n<OBJECT \n  classid=\"clsid:8AD9C840-044E-11D1-B3E9-00805F499D93\"\n  width=\"200\" height=\"200\">\n  <PARAM name=\"code\" value=\"Applet1.class\">\n</OBJECT>\n\n\nThe classid attribute identifies which\n  version of Java Plug-in to use.\nFollowing is an alternative form of\n  the classid attribute:\nclassid=\"clsid:CAFEEFAC-xxxx-yyyy-zzzz-ABCDEFFEDCBA\"\n\nIn this form, \"xxxx\", \"yyyy\", and\n  \"zzzz\" are four-digit numbers that\n  identify the specific version of Java\n  Plug-in to be used. \nFor example, to use Java Plug-in\n  version 1.5.0, you specify:\nclassid=\"clsid:CAFEEFAC-0015-0000-0000-ABCDEFFEDCBA\"\n\n\n", "Use the deployment Toolkit's deployJava.js (though this ensures a minimum version, rather than a specific version)\n", "If you mean when you are not the person writing the web page, then you could disable the add ons you do not wish to use with the Manage Add-Ons IE Options screen added in Win XP SP2\n", "First, disable the currently installed version of Java. To do this, go to Control Panel > Java > Advanced > Default Java for Browsers and uncheck Microsoft Internet Explorer.\nNext, enable the version of Java you want to use instead. To do this, go to (for example) C:\\Program Files\\Java\\jre1.5.0_15\\bin (where jre1.5.0_15 is the version of Java you want to use), and run javacpl.exe. Go to Advanced > Default Java for Browsers and check Microsoft Internet Explorer.\nTo get your old version of Java back you need to reverse these steps.\nNote that in older versions of Java, Default Java for Browsers is called <APPLET> Tag Support (but the effect is the same).\nThe good thing about this method is that it doesn't affect other browsers, and doesn't affect the default system JRE.\n", "I'd give all the responses here a try first. But I wanted to just throw in what I do, just in case these do not work for you.\nI've tried to solve the same problem you're having before, and in the end, what I decided on doing is to have only one JRE installed on my system at a given time. I do have about 10 different JDKs (1.3 through 1.6, and from various vendors - Sun, Oracle, IBM), since I do need it for development, but only one standalone JRE.\nThis has worked for me on my Windows 2000 + IE 6 computer at home, as well as my Windows XP + Multiple IE computer at work.\n", "The newpki client claims to be able to do that.\nhttp://www.newpki.org/\n", "Can you test it over HTTP as described in the specs in Appendix A?  If so, then you can use any web test util.  Since you mentioned Java, JMeter comes to mind.  With JMeter, you can create your java code to do validation, etc and re-use it in your test cases.\nCan you use something other than CMD line, such as a BASH script via Cygwin?\nYou'd still have to script some things to validate the test, perhaps using openssl?\n\ncurl http://some.ocsp.url/  > resp.der\nopenssl ocsp -respin resp.der -text\n\nSee page http://www.ietf.org/rfc/rfc2560.txt\n", "Looking a bit more, I think I've found some answers:\na) OpenSSL at the rescue:\nopenssl ocsp -whatever\n\nFor more info, http://www.openssl.org/docs/apps/ocsp.html\nb) http://www.openvalidation.org/ is another way of testing a cert. And via its links, I got to:\n\nhttp://security.polito.it/tools/ocsp/\nAscertia OCSP Client tool (http://www.ascertia.com/products/ocsptool/)\nAscertia OCSP Crusher tool (an OCSP load generator) (http://www.ascertia.com/products/ocspCrusher/)\n\nThanks to all the answers!\n", "bouncycastle has a Java crypto-provider and support for OCSP requests and responses. The differences between OCSPReq and OCSPRequest and OCSPResp and OCSPResponse class are a little confusing, though.\n", "What would be wrong with doing something like the following:\nDefining a 'Maintainer' interface with the addListener(Listener, Enum) method.\nCreate a DefaultMaintainer class (as above) which implements Maintainer.\nThen, in each Listener class, 'inject' the Maintainer interface (constructor injection might be a good choice). The listener can then register itself with the Maintainer.\nother than that, I'm not 100% clear on exactly what your difficulty is with Spring at the moment! :)\n", "\nYou said \"... you can't have java.lang.Enum as\"\n  annotation param ...\"\n\nI think you are wrong on that. I have recently used on a project something like this :\npublic @interface MyAnnotation {\n    MyEnum value();\n}\n\n", "\n1) Define Maintainer class as a Spring bean.\n\nStandard Spring syntax applies:\n<bean id=\"maintainer\" class=\"com.example.Maintainer\"/>\n\n\n2) Make it so that all sorts of listeners would be able to register themselves to Maintainer via XML by using addListener method. Spring doc nor Google are very generous in examples.\n\nThis is trickier.  You could use MethodInvokingFactoryBean to individually call maintainer#addListener, like so:\n<bean id=\"listener\" class=\"com.example.Listener\"/>\n\n<bean id=\"maintainer.addListener\" class=\"org.springframework.beans.factory.config.MethodInvokingFactoryBean\">\n  <property name=\"targetObject\" ref=\"maintainer\"/>\n  <property name=\"targetMethod\" value=\"addListener\"/>\n  <property name=\"arguments\">\n    <list>\n      <ref>listener</ref>\n      <value>com.example.MyEnum</value>\n   </list>\n </property>\n</bean>\n\nHowever, this is unwieldy, and potentially error-prone.  I attempted something similar on a project, and created a Spring utility class to help out instead.  I don't have the source code available at the moment, so I'll describe how to implement what I did. \n1) Refactor the event types listened to into a MyListener interface\npublic interface MyListener extends Listener {\n  public Enum[] getEventTypes()\n}\n\nWhich changes the registration method to\npublic void addListener(MyListener listener)\n\n2) Create Spring helper class that finds all relevant listeners in the context, and calls maintainer#addListener for each listener found.   I would start with BeanFilteringSupport, and also implement BeanPostProcessor (or ApplicationListener) to register the beans after all beans have been instantiated.\n", "Thank you all for the answers. First, A quick follow up on all answers.\n1. (alexvictor) Yes, you can have concrete enum as annotation param, but not java.lang.Enum.\n2. Answer provided by flicken is correct, but unfortunately a bit scary. I am not a Spring expert but doing things this way (creating methods for easier Spring access) this seems to be a bit overkill, as is the MethodInvokingFactoryBean solution. Although I wanted to express my sincere thanks for your time and effort.\n3. The answer by Phill is a bit unusual (instead of injecting listener bean, inject its maintainer!), but, I believe, the cleanest of all available. I think I will go down this path.\nAgain, a big thanks you for your help.\n", "Slightly offtopic (as this is not about Spring) but there is a race condition in your implementation of AddListener:\n  if( ( listeners = map.get( eventType ) ) == null ) {\n     listeners = new java.util.concurrent.CopyOnWriteArrayList<Listener>();\n     map.put( eventType, listeners );\n  }\n  listeners.add( listener );\n\nIf two threads call this method at the same time (for an event type that previously had no listeners), map.get( eventType ) will return null in both threads, each thread will create its own CopyOnWriteArrayList (each containing a single listener), one thread will replace the list created by the other, and the first listener will be forgotten.\nTo fix this, change:\nprivate Map<Enum, List<Listener>> map;\n\n...\n\nmap.put( eventType, listeners );\n\nto:\nprivate ConcurrentMap<Enum, List<Listener>> map;\n\n...\n\nmap.putIfAbsent( eventType, listeners );\nlisteners = map.get( eventType );\n\n", "The Class class is a run-time representation of a type. Since parametrized types undergo type erasure at runtime, the class object for Class would be the same as for Class<List<Integer>> and Class<List<String>>.\nThe reason you cannot instantiate them using the .class notation is that this is a special syntax used for class literals. The Java Language Specification specifically forbids this syntax when the type is parametrized, which is why List<String>.class is not allowed.\n", "Classes represent classes loaded by a class loader, which are raw types. To represent a parameterized type, use java.lang.reflect.ParameterizedType.\n", "I don't think that you can do what you are trying.  Firstly, your instantiate method doesn't know that its dealing with a parameterised type (you could just as easily pass it java.util.Date.class).  Secondly, because of erasure, doing anything particularly specific with parameterised types at runtime is difficult or impossible.\nIf you were to approach the problem in a different way, there are other little tricks that you can do, like type inference:\npublic class GenTest\n{\n    private static <E> List<E> createList()\n    {\n        return new ArrayList<E>();\n    }\n\n    public static void main(String[] args)\n    {\n        List<String> list = createList();\n        List<Integer> list2 = createList();\n    }\n}\n\n", "An inner interface has to be static in order to be accessed. The interface isn't associated with instances of the class, but with the class itself, so it would be accessed with Foo.Bar, like so:\npublic class Baz implements Foo.Bar {\n   ...\n}\n\nIn most ways, this isn't different from a static inner class.\n", "To answer your question very directly, look at Map.Entry.\nMap.Entry\nalso this may be useful\nStatic Nested Inerfaces blog Entry\n", "Typically I see static inner classes. Static inner classes cannot reference the containing classes wherease non-static classes can. Unless you're running into some package collisions (there already is an interface called Bar in the same package as Foo) I think I'd make it it's own file. It could also be a design decision to enforce the logical connection between Foo and Bar. Perhaps the author intended Bar to only be used with Foo (though a static inner interface won't enforce this, just a logical connection)\n", "Static means that any class part of the package(project) can acces it without using a pointer. This can be usefull or hindering depending on the situation.\nThe perfect example of the usefullnes of \"static\" methods is the Math class. All methods in Math are static. This means you don't have to go out of your way, make a new instance, declare variables and store them in even more variables, you can just enter your data and get a result.\nStatic isn't always that usefull. If you're doing case-comparison for instance, you might want to store data in several different ways. You can't create three static methods with identical signatures. You need 3 different instances, non-static, and then you can and compare, caus if it's static, the data won't change along with the input.\nStatic methods are good for one-time returns and quick calculations or easy obtained data.\n", "In Java, the static interface/class allows the interface/class to be used like a top-level class, that is, it can be declared by other classes. So, you can do:\nclass Bob\n{\n  void FuncA ()\n  {\n    Foo.Bar foobar;\n  }\n}\n\nWithout the static, the above would fail to compile. The advantage to this is that you don't need a new source file just to declare the interface. It also visually associates the interface Bar to the class Foo since you have to write Foo.Bar and implies that the Foo class does something with instances of Foo.Bar.\nA description of class types in Java.\n", "The static keyword in the above example is redundant (a nested interface is automatically \"static\") and can be removed with no effect on semantics; I would recommend it be removed. The same goes for \"public\" on interface methods and \"public final\" on interface fields - the modifiers are redundant and just add clutter to the source code.\nEither way, the developer is simply declaring an interface named Foo.Bar. There is no further association with the enclosing class, except that code which cannot access Foo will not be able to access Foo.Bar either. (From source code - bytecode or reflection can access Foo.Bar even if Foo is package-private!)\nIt is acceptable style to create a nested interface this way if you expect it to be used only from the outer class, so that you do not create a new top-level name. For example:\npublic class Foo {\n    public interface Bar {\n        void callback();\n    }\n    public static void registerCallback(Bar bar) {...}\n}\n// ...elsewhere...\nFoo.registerCallback(new Foo.Bar() {\n    public void callback() {...}\n});\n\n", "Member interfaces are implicitly static. The static modifier in your example can be removed without changing the semantics of the code. See also the the Java Language Specification 8.5.1. Static Member Type Declarations\n", "The question has been answered, but one good reason to use a nested interface is if its function is directly related to the class it is in. A good example of this is a Listener. If you had a class Foo and you wanted other classes to be able to listen for events on it, you could declare an interface named FooListener, which is ok, but it would probably be more clear to declare a nested interface and have those other classes implement Foo.Listener (a nested class Foo.Event isn't bad along with this).\n", "Tiles can be a pain. Vast improvement over what came before (i.e. nothing), but rather limiting. \nWicket might be more what you're looking for, unless you've settled on JSP.\n", "Tapestry is a Java web app framework with an emphasis on easily creating reusable components.\nI have used sitemesh, and it is good for wrapping a set of pages in standard headers and footers, but Tapestry is better for creating components which are used on many pages, possibly many times per page. Tapestry components can take other components as parameters, which allows the Sitemesh style wrapping.\n", "I'm a big fan of GWT.  It lets you write your components as normal Java classes and then you can insert them into your pages at will.  The whole thing ends up being compiled to Javascript.\nHere's an example:\npublic class MyApplication implements EntryPoint, HistoryListener\n{\n    static final String INIT_STATE = \"status\";\n\n    /**\n     * This is the entry point method.  Instantiates the home page.\n     */\n    public void onModuleLoad ()\n    {\n        RootPanel.get ().setStyleName (\"root\");\n        initHistorySupport ();\n    }\n\n    private void initHistorySupport ()\n    {\n        History.addHistoryListener (this);\n\n        // check to see if there are any tokens passed at startup via the browser\u2019s URI\n        String token = History.getToken ();\n        if (token.length () == 0)\n        {\n            onHistoryChanged (INIT_STATE);\n        }\n        else\n        {\n            onHistoryChanged (token);\n        }\n    }\n\n\n    /**\n     * Fired when the user clicks the browser's 'back' or 'forward' buttons.\n     *\n     * @param historyToken the token representing the current history state\n     */\n    public void onHistoryChanged (String historyToken)\n    {\n        RootPanel.get ().clear ();\n        Page page;\n        if (Page1.TOKEN.equalsIgnoreCase (historyToken))\n        {\n            page = new Page1 ();\n        }\n        else if (Page2.TOKEN.equalsIgnoreCase (historyToken))\n        {\n            page = new Page2 ();\n        }\n        else if (Page3.TOKEN.equalsIgnoreCase (historyToken))\n        {\n            page = new Page3 ();\n        }\n        RootPanel.get ().add (page);\n    }\n}\n\n", "If you are using Spring MVC, then I would recommend using Portlets. In Spring, portlets are just lightweight controllers since they are only responsible for a fragment of the whole page, and are very easy to write. If you are using Spring 2.5, then you can enjoy all the benefits of the new annotation support, and they fit nicely in the whole Spring application with dependency injection and the other benefits of using Spring.\nA portlet controller is pretty much the same as a servlet controller, here is a simple example:\n@RequestMapping(\"VIEW\")\n@Controller\npublic class NewsPortlet {\n\n    private NewsService newsService;\n\n    @Autowired\n    public NewsPortlet(NewsService newsService) {\n        this.newsService = newsService;\n    }\n\n    @RequestMapping(method = RequestMethod.GET)\n    public String view(Model model) {\n        model.addAttribute(newsService.getLatests(10));\n        return \"news\";        \n    }\n}\n\nHere, a NewsService will be automatically injected into the controller. The view method adds a List object to the model, which will be available as ${newsList} in the JSP. Spring will look for a view named news.jsp based on the return value of the method. The RequestMapping tells Spring that this contoller is for the VIEW mode of the portlet.\nThe XML configuration only needs to specify where the view and controllers are located:\n<!-- look for controllers and services here -->\n<context:component-scan base-package=\"com.example.news\"/>\n\n<!-- look for views here -->\n<bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\n    <property name=\"prefix\" value=\"/WEB-INF/jsp/news/\"/>\n    <property name=\"suffix\" value=\".jsp\"/>\n</bean>\n\nIf you want to simply embed the portlets in your existing application, the you can bundle a portlet container, such as eXo, Sun, or Apache. If you want to build your application as a set of portlets, the you might want to consider a full blown portlal solution, such as Liferay Portal.\n", "I'm not 100% sure what \"reusable components\" means in this context, but if you mean that you want certain common elements to appear on every page, such as banner, footer, navigation links, etc., then look no further than SiteMesh. My team has used it successfully on a couple of internationalised web applications.\n", "If you wrote the applet and have source, then you could try to migrate the Java Applet to a J# Browser control and stuff that in your .net application.  \nHere is a link - http://msdn.microsoft.com/en-us/library/aa290083(VS.71).aspx\n\n", "how-do-i-get-my-java-application-to-shutdown-nicely-in-windows\nThat might be of help\n", "The above seems to be the better answer.\nI can't find any good information on detecting window shutdown events. I guess the best possible method would be to detect weather your application is trying to close, using a window closing event or the like then ask the question.\nhttp://www.javalobby.org/java/forums/t17933\n", "Look for signal handling in java. when Windows closes it will send a signal to the application asking it to terminate most likely a sigterm\nsee here for more about this (I am not the owner of the website)\n", "Write some JNI code to WM_QUERYENDSESSION message. You can get details for this from the MSDN documentation or by googling it.\nIf you don't want to write too much C++ code to do this I can recommend the JNA library click here. Which gives you some nice Java abstractions for C code.\n", "http://java.sun.com/j2se/1.5.0/docs/\n", "There are APIs and tutorials available from Sun.\n", "There's the standard library API at http://download.oracle.com/javase/6/docs/api/ (for Java 1.6) and http://download.oracle.com/javase/7/docs/api/ (for Java 7).\n", "http://www.jdocs.com/ has API info and documentation for lots of common java libraries in addition to the java platform.\n", "Java Tutorials/trails should get you started, if you have some basic experience programming.\n", "Another Javadoc site is DocWeb.\n", "have a look at the book \"Thinking in Java\" by Bruce Eckel. The third edition is free (link)...\n", "The Java language specification is a fairly dry, but useful resource.\n", "Java How to Program, 6/e\nits a good reference for beginners.\n", "I would create a date object for the first day of the NEXT month, and then just subtract a single day from the date object.\n", "Get the number of days for this month:\n\nCalendar cal = Calendar.getInstance();\ncal.setTime(sampleDay.getTime());\nint noOfLastDay = cal.getActualMaximum(Calendar.DAY_OF_MONTH);\n\nSet the Calendar  to the last day of this month:\n\nCalendar cal = Calendar.getInstance();\ncal.setTime(sampleDay.getTime());\ncal.set(Calendar.DAY_OF_MONTH, cal.getActualMaximum(Calendar.DAY_OF_MONTH));\n\n", "It looks like you set the calendar to the first day of the next month, so you need one more line to subtract one day, to get the last day of the month that sampleDay is in:\nCalendar cal = Calendar.getInstance();\ncal.setTime(sampleDay.getTime());\ncal.roll(Calendar.MONTH, true);\ncal.set(Calendar.DAY_OF_MONTH, 0);\ncal.add(Calendar.DAY_OF_MONTH, -1);\n\nIn general, it's much easier to do this kind of thing using Joda Time, eg:\nDateTime date = new DateTime(sampleDay.getTime());\nreturn date.plusMonths(1).withDayOfMonth(0).minusDays(1).getMillis();\n\n", "Use calObject.getActualMaximum(calobject.DAY_OF_MONTH)\nSee Real's Java How-to for more info on this.\n", "This creates a random number generator (SecureRandom). It then creates a byte array (byte[] bytes), length 20 bytes, and populates it with random data.\nThis is then encoded using BASE64 and returned.\nSo, in a nutshell,\n\nGenerate 20 random bytes\nEncode using Base 64\n\n", "It creates a SHA1 based random number generator (RNG), then Base64 encodes the next 20 bytes returned by the RNG.\nI can't tell you why it does this however without some more context :-).\n", "This code gets a cryptographically strong random number that is 20 bytes in length, then Base64 encodes it.  There's a lot of Java library code here, so your guess is as good as mine as to how to do it in VB.\nSecureRandom random = SecureRandom.getInstance(\"SHA1PRNG\");\nbyte[] bytes = new byte[20];\nsynchronized (random) { random.nextBytes(bytes); }\nreturn Base64.encode(bytes);\n\nThe first line creates an instance of the SecureRandom class.  This class provides a cryptographically strong pseudo-random number generator.\nThe second line declares a byte array of length 20.\nThe third line reads the next 20 random bytes into the array created in line 2.  It synchronizes on the SecureRandom object so that there are no conflicts from other threads that may be using the object.  It's not apparent from this code why you need to do this.\nThe fourth line Base64 encodes the resulting byte array.  This is probably for transmission, storage, or display in a known format.\n", "Using code snippets you can get to something like this\n\nDim randomNumGen As RandomNumberGenerator = RNGCryptoServiceProvider.Create()\nDim randomBytes(20) As Byte\nrandomNumGen.GetBytes(randomBytes)\nreturn Convert.ToBase64String(randomBytes)\n\n", "Basically the code above:\n\nCreates a secure random number generator (for VB see link below)\nFills a bytearray of length 20 with random bytes\nBase64 encodes the result (you can probably use Convert.ToBase64String(...))\n\nYou should find some help here:\nhttp://msdn.microsoft.com/en-us/library/system.security.cryptography.rngcryptoserviceprovider.aspx\n", "You might try launching a modal from JavaScript using the JavaScript integration (see http://www.raditha.com/java/mayscript.php for an example). \nThe JavaScript you would need would be something like:\nfunction getPassword() {\n  return prompt(\"Enter Password\");\n}\n\nAnd the Java would be:\npassword = jso.call(\"getPassword\", new String[0]);\n\nUnfortunately that means giving up all hope of having a nice looking modal. Good luck!\n", "Make a background Thread that calls toFront on the Dialog every 2 seconds.\nCode that we use (I hope I got everything):\nclass TestClass {\nprotected void toFrontTimer(JFrame frame) {\n    try {\n        bringToFrontTimer = new java.util.Timer();\n        bringToFrontTask = new BringToFrontTask(frame);\n        bringToFrontTimer.schedule( bringToFrontTask, 300, 300);\n    } catch (Throwable t) {\n        t.printStackTrace();\n    }\n}\n\nclass BringToFrontTask extends TimerTask {\n    private Frame frame;\n    public BringToFrontTask(Frame frame) {\n        this.frame = frame;\n    }\n    public void run()\n    {\n        if(count < 2) {\n            frame.toFront();\n        } else {\n            cancel();\n        }\n        count ++;\n    }\n    private int count = 0;\n}\n\npublic void cleanup() {\n    if(bringToFrontTask != null) {\n        bringToFrontTask.cancel();\n        bringToFrontTask = null;\n    }\n    if(bringToFrontTimer != null) {\n        bringToFrontTimer = null;\n    }\n}\n\njava.util.Timer bringToFrontTimer = null;\njava.util.TimerTask bringToFrontTask = null;\n}\n\n", "This is a shot in the dark as I'm not familiar with applets, but you could take a look at IE's built-in window.showModalDialog method. It's fairly easy to use. Maybe a combination of this and Noah's suggestion?\n", "What argument are you using for the parent?\nYou may have better luck if you use the parent of the Applet.\njavax.swing.SwingUtilities.getWindowAncestor(theApplet)\n\nUsing the getWindowAncestor will skip the applet parents (getRoot(component) will return applets).  In at least some versions of Java there was a Frame that was equivalent to the IE window.  YMMV.\n", "Regular expressions.\n", "It would have to be some kind of a List that you can maintain in sorted order.  You would also have to write your own search algorithm that would give you the index of the first element in the list that matches your search pattern.  Then iterate from that index until the first element that doesn't match and you have your list of possible completions.\nI'd look at TreeList from commons-collections.  It has fast insert and remove times from the middle of the List which you'll want in order to maintain sorted order.  It would probably be fairly easy to write your search function off of the tree that backs that list.\n", "The datastructure you are after is called a Ternary Search Tree.\nThere's a great JavaWorld example at www.javaworld.com/javaworld/jw-02-2001/jw-0216-ternary.html\n", "you should consider to use a PATRICIA trie for the data structure. Search for 'patricia trie' on google and you'll find a lot of information...\n", "No, it isn't true, you can encode XML to any Writer in Java using something similar to:\nchar[] ch;\nAttributesImpl atts = new AttributesImpl();\nWriter writer = new StringWriter();\nStreamResult streamResult = new StreamResult(writer);\nSAXTransformerFactory tf = (SAXTransformerFactory) TransformerFactory.newInstance();\n\n// SAX2.0 ContentHandler\nTransformerHandler transformerHandler = tf.newTransformerHandler();\n\nTransformer serializer = transformerHandler.getTransformer();\n\nserializer.setOutputProperty(OutputKeys.ENCODING, \"UTF-8\");\n// serializer.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, \"nodes.dtd\");\nserializer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n\ntransformerHandler.setResult(streamResult);\n\ntransformerHandler.startDocument();\n\natts.clear();\n// atts.addAttribute(\"\", \"\", \"xmlns\", \"CDATA\", \"http://www.example.com/nodes\");\n// atts.addAttribute(\"\", \"\", \"xmlns:xsi\", \"CDATA\", \"http://www.w3.org/2001/XMLSchema-instance\");\n// atts.addAttribute(\"\", \"\", \"xsi:schemaLocation\", \"CDATA\", \"/nodes.xsd\");\ntransformerHandler.startElement(\"\", \"\", \"node_list\", atts);\n\n// displayName element\nif (displayName != null) {\n    transformerHandler.startElement(\"\", \"\", \"display_name\", null);\n    ch = displayName.toCharArray();\n    transformerHandler.characters(ch, 0, ch.length);\n    transformerHandler.endElement(\"\", \"\", \"display_name\");\n}\n\n// nodes element\ntransformerHandler.startElement(\"\", \"\", \"nodes\", null);\n\natts.clear();\natts.addAttribute(\"\", \"\", \"node_type\", \"CDATA\", \"sometype\");\ntransformerHandler.startElement(\"\", \"\", \"node\", atts);\n\nch = node.getValue().toCharArray();\ntransformerHandler.startElement(\"\", \"\", \"value\", null);\ntransformerHandler.characters(ch, 0, ch.length);\ntransformerHandler.endElement(\"\", \"\", \"value\");\n\ntransformerHandler.endElement(\"\", \"\", \"node\");\n\ntransformerHandler.endElement(\"\", \"\", \"nodes\");\n\ntransformerHandler.endElement(\"\", \"\", \"node_list\");\n\ntransformerHandler.endDocument();\n\nString xml = writer.toString();\n\n", "The SAX handler interfaces were designed to be easy to implement. It's easy to write a class with similar (perhaps wrapping a SAX interface) to make it easy to call - chaining, remembering which element to close, easier attributes, etc.\n", "See the JavaMail API and associated javadocs.\n", "Please see this post \nHow can I send an email by Java application using GMail, Yahoo, or Hotmail?\nIt is specific to gmail but you can substitute your smtp credentials.\n", "See the following tutorial at Java Practices.\nhttp://www.javapractices.com/topic/TopicAction.do?Id=144\n", "Here's an example for Gmail smtp:\nimport java.io.*;\nimport java.net.InetAddress;\nimport java.util.Properties;\nimport java.util.Date;\n\nimport javax.mail.*;\n\nimport javax.mail.internet.*;\n\nimport com.sun.mail.smtp.*;\n\n\npublic class Distribution {\n\n    public static void main(String args[]) throws Exception {\n        Properties props = System.getProperties();\n        props.put(\"mail.smtps.host\",\"smtp.gmail.com\");\n        props.put(\"mail.smtps.auth\",\"true\");\n        Session session = Session.getInstance(props, null);\n        Message msg = new MimeMessage(session);\n        msg.setFrom(new InternetAddress(\"mail@tovare.com\"));;\n        msg.setRecipients(Message.RecipientType.TO,\n        InternetAddress.parse(\"tov.are.jacobsen@iss.no\", false));\n        msg.setSubject(\"Heisann \"+System.currentTimeMillis());\n        msg.setText(\"Med vennlig hilsennTov Are Jacobsen\");\n        msg.setHeader(\"X-Mailer\", \"Tov Are's program\");\n        msg.setSentDate(new Date());\n        SMTPTransport t =\n            (SMTPTransport)session.getTransport(\"smtps\");\n        t.connect(\"smtp.gmail.com\", \"admin@tovare.com\", \"<insert password here>\");\n        t.sendMessage(msg, msg.getAllRecipients());\n        System.out.println(\"Response: \" + t.getLastServerResponse());\n        t.close();\n    }\n}\n\nNow, do it this way only if you would like to keep your project dependencies to a minimum, otherwise i can warmly recommend using classes from apache\nhttp://commons.apache.org/email/ \nRegards\nTov Are Jacobsen\n", "Another way is to use aspirin (https://github.com/masukomi/aspirin) like this:\nMailQue.queMail(MimeMessage message)\n\n..after having constructed your mimemessage as above.\nAspirin is an smtp 'server' so you don't have to configure it. But note that sending email to a broad set of recipients isnt as simple as it appears because of the many different spam filtering rules receiving mail servers and client applications apply. \n", "Spring Dynamic Modules has excellent support for  testing OSGi bundles.\n", "Eclipse has a launch configuration type for running JUnit tests in the context of an Eclipse (i.e. OSGi) application:\nhttp://help.eclipse.org/stable/index.jsp?topic=/org.eclipse.pde.doc.user/guide/tools/launchers/junit_launcher.htm\n", "If you need to test GUI components I've found SWTBot gets the job done.\n", "There is a dedicated open source OSGi testing framework on OPS4J (ops4j.org) called Pax Drone.\nYou might want to have a look at Pax Drone ([http://wiki.ops4j.org/confluence/x/KABo]) which enables you to use all Felix Versions as well as Equinox and Knopflerfish in your tests.\nCheers,\nToni\n", "Treaty is a contract(testing) framework that is pretty academic but has some nice ideas. There are papers that are published on it, and the people currently working on improving it.\n", "I think the best approach here is probably to use build scripts. You can have all your code in one location, and by choosing which files to include, and which not to include, you can choose what version of your code to compile. Note that this may not help if you need finer-grained control than per file.\n", "Not really, but there are workarounds. See\nhttp://forums.sun.com/thread.jspa?threadID=154106&messageID=447625\nThat said, you should stick with at least having one file version for Java 5 and one for Java 6, and include them via a build or make as appropriate. Sticking it all in one big file and trying to get the compiler for 5 to ignore stuff it doesn't understand isn't a good solution.\nHTH\n-- nikki --\n", "This will make all the Java purists cringe (which is fun, heh heh) but i would use the C preprocessor, put #ifdefs in my source.   A makefile, rakefile, or whatever controls your build, would have to run cpp to make a temporary files to feed the compiler.  I have no idea if ant could be made to do this.  \nWhile stackoverflow looks like it'll be the place for all answers, you could wehn no one's looking mosey on over to http://www.javaranch.com for Java wisdom. I imagine this question has been dealt with there, prolly a long time ago.\n", "There is no pre-compiler in Java. Thus, no way to do a #ifdef like in C.\nBuild scripts would be the best way.\n", "You can get conditional compile, but not very nicely - javac will ignore unreachable code. Thus if you structured your code properly, you can get the compiler to ignore parts of your code. To use this properly, you would also need to pass the correct arguments to javac so it doesn't report unreachable code as errors, and refuse to compile :-)\n", "Keep one \"master\" source root that builds under JDK 5. Add a second parallel source root that has to build under JDK 6 or higher. (There should be no overlap, i.e. no classes present in both.) Use an interface to define the entry point between the two, and a tiny bit of reflection.\nFor example:\n---%<--- main/RandomClass.java\n// ...\nif (...is JDK 6+...) {\n    try {\n        JDK6Interface i = (JDK6Interface)\n            Class.forName(\"JDK6Impl\").newInstance();\n        i.browseDesktop(...);\n    } catch (Exception x) {\n        // fall back...\n    }\n}\n---%<--- main/JDK6Interface.java\npublic interface JDK6Interface {\n    void browseDesktop(URI uri);\n}\n---%<--- jdk6/JDK6Impl.java\npublic class JDK6Impl implements JDK6Interface {\n    public void browseDesktop(URI uri) {\n        java.awt.Desktop.getDesktop().browse(uri);\n    }\n}\n---%<---\n\nYou could configure these as separate projects in an IDE using different JDKs, etc. The point is that the main root can be compiled independently and it is very clear what you can use in which root, whereas if you try to compile different parts of a single root separately it is too easy to accidentally \"leak\" usage of JDK 6 into the wrong files.\nRather than using Class.forName like this, you can also use some kind of service registration system - java.util.ServiceLoader (if main could use JDK 6 and you wanted optional support for JDK 7!), NetBeans Lookup, Spring, etc. etc.\nThe same technique can be used to create support for an optional library rather than a newer JDK.\n", "You can probably refactor your code so that conditional compile really isn't needed, just conditional classloading.  Something like this:\npublic interface Opener{\n\npublic void open(File f);\n\n public static class Util{\n        public Opener getOpener(){\n          if(System.getProperty(\"java.version\").beginsWith(\"1.5\")){\n           return new Java5Opener();\n          }\n          try{ \n            return new Java6Opener();\n           }catch(Throwable t){\n            return new Java5Opener();\n           }\n        }\n }\n\n}\n\nThis could be a lot of effort depending on how many version-specific pieces of code you have.\n", "Assuming that the classes have similar functionality with 1.5 vs. 6.0 differences in implementation you could merge them into one class.  Then, without editing the source to comment/uncomment, you can rely on the optimization that the compiler always do. If an if expression is always false, the code in the if statement will not be included in the compilation.\nYou can make a static variable in one of your classes to determine which version you want to run:\npublic static final boolean COMPILED_IN_JAVA_6 = false;\n\nAnd then have the affected classes check that static variable and put the different sections of code in a simple if statement\nif (VersionUtil.COMPILED_IN_JAVA_6) {\n  // Java 6 stuff goes here\n} else {\n  // Java 1.5 stuff goes here\n}\n\nThen when you want to compile the other version you just have to change that one variable and recompile.  It might make the java file larger but it will consolidate your code and eliminate any code duplication that you have.  Your editor may complain about unreachable code or whatever but the compiler should blissfully ignore it.\n", "The public static final solution mentioned above has one additional benefit the author didn't mention--as I understand it, the compiler will recognize it at compile time and compile out any code that is within an if statement that refers to that final variable.\nSo I think that's the exact solution you were looking for.\n", "A simple solution could be:\n\nPlace the divergent classes outside of your normal classpath.\nWrite a simple custom classloader and install it in main as your default.\nFor all classes apart from the 5/6 ones the cassloader can defer to its parent (the normal system classloader)\nFor the 5/6 ones (which should be the only ones that cannot be found by the parent) it can decide which to use via the 'os.name' property or one of your own.\n\n", "It depends on what Java 6 features you want to use. For a simple thing like adding row sorters to JTables, you can actually test at runtime:\nprivate static final double javaVersion =\n         Double.parseDouble(System.getProperty(\"java.version\").substring(0, 3));\nprivate static final boolean supportsRowSorter =\n         (javaVersion >= 1.6);\n\n//...\n\nif (supportsRowSorter) {\n    myTable.setAutoCreateRowSorter(true);\n} else {\n    // not supported\n}\n\nThis code must be compiled with Java 6, but can be run with any version (no new classes are referenced).\nEDIT: to be more correct, it will work with any version since 1.3 (according to this page).\n", "The suggestions about using custom class loaders and dynamically commented code are a bit incredulous when it comes to maintenance and the preservation of the sanity of whichever poor soul picks up the project after you shuffle to pastures new.\nThe solution is easy.  Pull the affected classes out into two separate, independent projects - make sure the package names are the same, and just compile into jars that you can then consume in your main project.  If you keep the package names the same, and the method signatures the same, no problems - just drop whichever version of the jar you need into your deployment script.  I would assume you run separate build scripts or have separate targets in the same script - ant and maven can both easily handle conditionally grabbing files and copying them.\n", "You can do all of your compiling exclusively on Java6 and then use System.getProperty(\"java.version\") to conditionally run either the Java5 or the Java6 code path.\nYou can have Java6-only code in a class and the class will run fine on Java5 as long as the Java6-only code path is not executed.\nThis is a trick that is used to write applets that will run on the ancient MSJVM all the way up to brand-new Java Plug-in JVMs.\n", "You can use reflection API. put all your 1.5 code in one class and 1.6 api in another. In your ant script create two targets one for 1.5 that won't compile the 1.6 class and one for 1.6 that won't compile the class for 1.5. in your code check your java version and load the appropriate class using reflection that way javac won't complain about missing functions. This is how i can compile my MRJ(Mac Runtime for Java) applications on windows.\n", "While this does not answer your initial question, you could perhaps eliminate the hassle of going through java.util.Calendar by doing this:\n// Date d given\nd.setTime(d.getTime()+86400000);\n\n", "You have to either use a scriptlet or write your own tag.  For the record, using Calendar would look like this:\nCalendar cal = Calendar.getInstance();\ncal.setTime (date);\ncal.add (Calendar.DATE, 1);\ndate = cal.getTime ();\n\nTruly horrible.\n", "Unfortunately there is no tag in the standard JSP/JSTL libraries that I know of that would allow you to do this date calculation.\nThe simplest, and most inelegant, solution is to just use some scriptlet code to do the calculation.  You've already stated that you think this is a clunky solution, and I agree with you.  I would probably write a custom JSP taglib to get this if I were you.\n", "I'm not a fan of putting java code in your jsp.\nI'd use a static method and a taglib to accomplish this.\nJust my idea though. There are many ways to solve this problem.\npublic static Date addDay(Date date){\n   //TODO you may want to check for a null date and handle it.\n   Calendar cal = Calendar.getInstance();\n   cal.setTime (date);\n   cal.add (Calendar.DATE, 1);\n   return cal.getTime();\n}\n\nfunctions.tld\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<taglib xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd\"\n  version=\"2.0\">\n  <description>functions library</description>\n  <display-name>functions</display-name>\n  <tlib-version>1.1</tlib-version>\n  <short-name>xfn</short-name>\n  <uri>http://yourdomain/functions.tld</uri>\n  <function>\n    <description>\n      Adds 1 day to a date.\n    </description>\n    <name>addDay</name>\n    <function-class>Functions</function-class>\n    <function-signature>java.util.Date addDay(java.util.Date)</function-signature>\n    <example>\n      ${xfn:addDay(date)}\n    </example>\n  </function>\n</taglib>\n\n", "In general, I think JSPs should not have data logic. They should get all the data they need to display from the Controller and all their logic should be about HOW the data is displayed, not WHAT is displayed. This is usually a lot simpler and a lot less code/XML than adding a custom tag.\nAnd if there isn't any re-use happening, is a tiny scriptlet really that much worse than the taglib XML?\n", "Picasa is a pretty great/free photo management app. It let's you do some pretty impressive editing, and has upload capabilities, though I can't remember if it will upload to anywhere, or just certain popular sites (like Flickr).\n", "You could use Silverlight or Flash or some custom plugin to allow managed uploads, where you can display a progress bar for example. There isn't much you can do about upload speeds but you can at least show them progress while it's going on.\nI don't know of any canned upload programs you can use but it shouldn't be too hard to make one (unless you don't know Flash or Silverlight).\n", "GIMP (http://www.gimp.org/) is a good tool for doing resize and is open source.\n", "I have had good luck with Gallery. It is free, open source, and has all the features you mentioned.\nIt will allow your users to upload photos without any intervention from you.\n", "How about using PhotoShop Online It allows you to edit photos with a web based editor and offers 2GB of storage. I've not used it myself so don't know if it allows for multiple users to access the same account though\n", "Out of curiosity, on what web stack is this to run?  LAMP? 2k3+IIS? etc etc?  Many of the open source solutions out there are cross-platform but others are not...\n", "Another option could be to allow people to upload their photos to whatever service they're used to using (flickr, google, smugmug, or any other), and just accept a username for that service, or a URL for the folder.  \nThen you can have your application grab a copy of those pictures to store locally with a consistent interface.\n", "Is E-mailing the photo in an available option?\nMost people who want to share photos probably already know how to send photos in email. And most email clients has already solved the problems of file uploading.\nJust setup one gmail/whatevermail account and have your website poll the inbox.\nIt's something like what TwitPic does for twitter but your requirements seem to be more simpler than that.\n", "If you are doing this with Flash and using Flickr, then I would check out the AS3 Flickr library:\nhttp://code.google.com/p/as3flickrlib/\nwhich has support for uploading images.\nUpload requires authentication. The library also contains a Flex based control for handling this:\nhttp://www.mikechambers.com/blog/2008/08/12/flex-based-flickr-api-authorization-control/\n(the rest of the library is ActionScript 3 and can be used in Flex or Flash.\nProbably the easiest solution is to just have the images uploaded to Flickr, edited in Picnik (built into Flickr now), and then loaded onto the users site using either the Flickr RSS feeds or APIs:\nhttp://www.flickr.com/help/picnik/\nhttp://www.flickr.com/services/api/\nhope that helps...\nmike chambers\nmesh@adobe.com\n", "Personally most users don't understand DPI and their images even trimmed down end up larger than the php.ini for most hosting companies allow.\nI'm not sure how much control you want to give them or how you want the public side to behave.\nI'd suggest using a dropbox FTP application such as http://etonica.com/dropbox/index.html (tango dropbox)  It's free to your clients and you only have to pay for your version so you can set up the FTP information and secure it.\nI'd have them download something link paint.net (which is FREE) have them edit the photos to the proper size and then just drag and drop them to this application.  it's easy and doesn't require php.ini to be modified.\nYou could also use something like slideshowpro's director application.\n", "I completly agree with zigdon, allow different sites, but only pick up photos from the web.  I you still want to allow uploads, and put a cap on size.\nNow, if you want to throw yourself into something big, I would suggest putting a cap on size, and then using JQuery (or other library) to work with the images.\nJust my 2 cents\n", "You could also have them email the pictures to picasa.  Picasa web has a feature where you can send images to a \"secret\" email that will post them to a picasa account.  Set up a picasa account, distribute the \"secret\" email, and wait for all the pictures to show up.\n", "I'd use an applet. You could do the resizing of the pictures and rotating on the client side.\nIt looks like JUpload may do this for you.\n", "I've used swfupload quite a bit. It's pretty awesome: http://www.swfupload.org/\n", "Going the Flickr route is easy and will work well.\nIf you want to go more advanced, I'd recommend snipshot or picknik (Flickr uses it). Both are free to use and have APIs to use.\n", "Depends on the web server.  If you can use servlets, try this :\n// UploadServlet.java : Proof of Concept - Mike Smith March 2006\n// Accept a file from the client, assume it is an image, rescale it and save it to disk for later display\nimport javax.servlet.http.*;\nimport javax.imageio.*;\nimport java.io.*;\nimport java.util.*;\nimport java.sql.*;\nimport org.apache.commons.fileupload.*;\nimport org.apache.commons.fileupload.disk.*;\nimport org.apache.commons.fileupload.servlet.*;\nimport java.awt.image.*;\nimport java.awt.*;\n\npublic class UploadServlet extends HttpServlet  {\n\npublic static void printHeader(PrintWriter pw)  {\n    pw.println(\"<HEAD><TITLE>Upload Servlet</TITLE><HEAD>\");\n    pw.println(\"<BODY>\");\n}\n\npublic static void printTrailer(PrintWriter pw)  {\n    pw.println(\"<img src=\\\"../images/poweredby.png\\\" align=left>\");\n    pw.println(\"<img src=\\\"../images/tomcat-power.gif\\\" align=right>\");\n    pw.println(\"</BODY></HTML>\");\n}\n\n\npublic void init()  {  // Servlet init() : called when the servlet is LOADED (not when invoked)\n}\n\npublic void service(HttpServletRequest req, HttpServletResponse res)   throws IOException {\n    DiskFileItemFactory dfifact;\n    ServletFileUpload sfu; \n    java.util.List items;\n    Iterator it;\n    FileItem fi;\n    String field, filename, contype;\n    boolean inmem, ismulti;\n    long sz;\n    BufferedImage img;\n    int width, height, nwidth, nheight, pixels;\n    double scaling;\n    final int MAXPIXELS = 350 * 350;\n\n    res.setContentType(\"text/html\");\n    PrintWriter pw = res.getWriter();\n    printHeader(pw);\n\n    ismulti = FileUpload.isMultipartContent(req);\n    if (ismulti)  {\n        pw.println(\"Great! Multipart detected\");\n        dfifact = new DiskFileItemFactory(999999, new File(\"/tmp\"));\n        sfu = new ServletFileUpload(dfifact);\n        try  {\n            items = sfu.parseRequest(req);\n        } catch (FileUploadException e)  {\n            pw.println(\"Failed to parse file, error [\" + e  + \"]\");\n            printTrailer(pw);\n            pw.close();\n            return;\n        }\n        it = items.iterator();\n        while (it.hasNext())  {\n            fi = (FileItem) it.next();\n            if (fi.isFormField())  {\n                pw.println(\"Form field [\" + fi.getFieldName() + \"] value [\" + fi.getString() + \"]\");\n            }\n            else  {  // Its an upload\n                field = fi.getFieldName();\n                filename = fi.getName();\n                contype = fi.getContentType();\n                inmem = fi.isInMemory();\n                sz = fi.getSize();\n                pw.println(\"Upload field=\" + field + \" file=\" + filename + \" content=\" + contype + \" inmem=\" + inmem\n                    + \" size=\" + sz);\n               InputStream istream = fi.getInputStream();\n               img = ImageIO.read(istream);\n               nwidth = width = img.getWidth();\n               nheight = height = img.getHeight();\n               pixels = width * height;\n               if (pixels > MAXPIXELS)  {\n                   scaling = Math.sqrt((double) MAXPIXELS / (double) pixels);\n                   nheight = (int) ((double) height * scaling);\n                   nwidth = (int) ((double) width * scaling);\n               }\n               BufferedImage output = new BufferedImage(nwidth, nheight, BufferedImage.TYPE_3BYTE_BGR);\n               Graphics2D g = output.createGraphics();\n               g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n               g.drawImage(img, 0, 0, nwidth, nheight, null);\n               ImageIO.write(output, \"jpeg\", new File(\"/var/tomcat/webapps/pioneer/demo.jpg\"));\n               istream.close(); \n            }\n        }\n    }\n    else\n        pw.println(\"Bugger! Multipart not detected\");\n        printTrailer(pw);\n        pw.close();\n}\n\npublic void destroy()  {\n}\n}\n\n", "I am currently required to implement the similar requirement as Oli.\nI believe Facebook.com use java applet of some sort, and it work pretty well but I am not sure if the applet available as OSS. I am going to look into JUpload suggested by ScArcher2.\nIf you guy no of any other good applet please keep it coming.\n", "The most common solution for this is a java applet, although most of them are not free. Examples:\n\nhttp://www.jumploader.com/\nhttp://www.aurigma.com/Products/ImageUploader/OnlineDemo.aspx\nhttp://www.javaatwork.com/java-upload-applet/details.html\nJUpload, mentioned by ScArcher2\n\n", "I'd highly suggest using FileBrowser by Lussomo. It's as easy as 'drag and drop' :D\nI've used it for my game development team where we had a raw dump of over 200 concept art images, and we simply extracted FileBrowser to a PHP-enabled webserver and dumped the images in appropriate directories (1 per album), and ran the thumbnailing script. It handles cropping of the images, and optimizing their size for you. So much better than using something like Menalto Gallery where you have to upload them through an awkward upload interface.\n", "Answering my own question, but the answer, sadly, is no.\nhttp://netbeans.org/community/articles/interviews/tom-ball-interview.html\n", "Technically there is nothing to stop you grabbing out the jar files and calling it directly. You just might need to bring a lot of netbeans with it. \n", "What milliseconds? You are providing only minutes information in the first example, whereas your second example grabs current date from the system with milliseconds, what is it you're looking for?\nString date = \"06-04-2007 07:05:00.999\";\nSimpleDateFormat fmt = new SimpleDateFormat(\"MM-dd-yyyy HH:mm:ss.S\");\nDate myDate = fmt.parse(date);\n\nSystem.out.println(myDate); \nlong timestamp = myDate.getTime();\nSystem.out.println(timestamp);\n\n", "agree with above, there shouldn't be any milliseconds. . .\n", "Because simple date format you specified discards the milliseconds. So the resulting Date object does not have that info. So when you print it out, its all 0s.\nOn the other hand, the Date object does retain the milliseconds when you assign it a value with milliseconds (in this case, using new Date()). So when you print them out, it contains the millisecs too.\n", "When you parse a date it only uses the information you provide.\nIn this case it only knows MM-dd-yyyy HH:mm.\nCreating a new date object returns the current system date/time (number of milliseconds since the epoch). \n", "toString() of a Date object does not show you the milliseconds...  But they are there\nSo new Date() is an object with milisecond resolution, as can be seen by:\n  System.out.printf( \"ms = %d\\n\", myDate.getTime() % 1000 ) ;\n\nHowever, when you construct your date with SimpleDateFormat, no milliseconds are passed to it\nAm I missing the question here?\n[edit] Hahaha...way too slow ;)\n", "Date.getTime returns the number of milliseconds since January 1, 1970, 00:00:00 GMT represented by the Date object. So \"06-04-2007 07:05\" - \"01-01-1970 00:00\" is equal to 1180955340000 milliseconds. Since the only concern of your question is about the time portion of the date, a rough way of thinking of this calculation is the number of milliseconds between 07:05 and 00:00 which is 25500000. This is evenly divisible by 1000 since neither time has any milliseconds.\nIn the second date it uses the current time when that line of code is executed. That will use whatever the current milliseconds past the current second are in the calculation. Therefore, Date.getTime will more than likely return a number that is not evenly divisible by 1000.\n", "The getTime() method of Date returns the number of milliseconds since January 1, 1970 (this date is called the \"epoch\" because all computer dates are based off of this date).  It should not be used to display a human-readable version of your Date.\nUse the SimpleDateFormat.format() method instead.  Here is a revised version of part of your code that I think may solve your problem:\nString date = \"06-04-2007 07:05:23:123\";\nSimpleDateFormat fmt = new SimpleDateFormat(\"MM-dd-yyyy HH:mm:ss:S\");\nDate myDate = fmt.parse(date); \n\nSystem.out.println(myDate);  //Mon Jun 04 07:05:23 EDT 2007\nString formattedDate = fmt.format(myDate);\nSystem.out.println(formattedDate); //06-04-2007 07:05:23:123\n\n", "Instead of using the Sun JDK Time/Date libraries (which leave much to be desired) I recommend taking a look at http://joda-time.sourceforge.net.\nThis is a very mature and active sourceforge project and has a very elegant API.\n", "The Java API has classes for manipulating JAR files.\n", "You can use Java's ZipFile and ZipEntry classes to read the contents of a JAR file, then use ZipOutputStream to create a new one.\n", "Sure:\nFile tmp = new File (\"tmp\");\ntmp.mkdirs();\nProcess unjar = new ProcessBuilder (\"jar\", \"-xf\", \"myjar.jar\", tmp.getName ()).start();\nunjar.waitFor();\n// TODO read and update persistence.xml\nProcess jar = new ProcessBuilder (\"jar\", \"-cf\", \"myjar.jar\", tmp.getName()).start();\njar.waitFor();\n\n", "Since the comments in the source already state this shouldn't happen, I think it's a bug in the Template software. Submit a bug report to whoever wrote it.\n", "You need to get the full stack trace of the RuntimeException and its causes.\nPlease edit your answer to add that information.\n", "I have emailed the authors of the code to see if they can provide some insight. I'll make sure to share anything I've learned.\n", "What version of Velocity are you using?  There were some race conditions in old versions that caused this.  Most were squashed in the Velocity 1.5 release.  Though i would personally recommend using Velocity 1.6-beta1.  It has vastly improved performance (memory and speed) and a lot of minor bug fixes that didn't make it into 1.5.\nEdit: Since you say you are using 1.4, then, yes, i'm sure this is the race condition we fixed.  Please consider upgrading.  1.6 is definitely your best bet, as it has the fix for your bug and improved performance.  1.6 final should be out very soon.\n", "I am working on the same bug right now, on our website.\nIt does appear to be a race condition:  I can reproduce it consistently using multiple processes fetching the same page, but never reproduce it if I serialize the requests.\nI am using velocity-1.5;  I tried migrating to 1.6-beta1 but see other errors.\nRESOLVED: see comments below\n", "Check out java.util.concurrent for versions of the standard Collections classes that are engineered to handle concurrency better.\n", "You could try using defensive copying so that modifications to one List don't affect others.\n", "Yes you have to synchronize access to collections objects.\nAlternatively, you can use the synchronized wrappers around any existing object.  See Collections.synchronizedCollection(). For example:\nList<String> safeList = Collections.synchronizedList( originalList );\n\nHowever all code needs to use the safe version, and even so iterating while another thread modifies will result in problems.\nTo solve the iteration problem, copy the list first.  Example:\nfor ( String el : safeList.clone() )\n{ ... }\n\nFor more optimized, thread-safe collections, also look at java.util.concurrent.\n", "Collections.synchronizedList() will render a list nominally thread-safe and java.util.concurrent has more powerful features.\n", "Usually you get a ConcurrentModificationException if you're trying to remove an element from a list whilst it's being iterated through.\nThe easiest way to test this is:\nList<Blah> list = new ArrayList<Blah>();\nfor (Blah blah : list) {\n     list.remove(blah); // will throw the exception\n}\n\nI'm not sure how you'd get around it. You may have to implement your own thread-safe list, or you could create copies of the original list for writing and have a synchronized class that writes to the list.\n", "Wrapping accesses to the collection in a synchronized block is the correct way to do this. Standard programming practice dictates the use of some sort of locking mechanism (semaphore, mutex, etc) when dealing with state that is shared across multiple threads.\nDepending on your use case however you can usually make some optimizations to only lock in certain cases. For example, if you have a collection that is frequently read but rarely written, then you can allow concurrent reads but enforce a lock whenever a write is in progress. Concurrent reads only cause conflicts if the collection is in the process of being modified.\n", "ConcurrentModificationException is best-effort because what you're asking is a hard problem.   There's no good way to do this reliably without sacrificing performance besides proving that your access patterns do not concurrently modify the list.\nSynchronization would likely prevent concurrent modifications, and it may be what you resort to in the end, but it can end up being costly.  The best thing to do is probably to sit down and think for a while about your algorithm.  If you can't come up with a lock-free solution, then resort to synchronization.\n", "Depending on your update frequency one of my favorites is the CopyOnWriteArrayList or CopyOnWriteArraySet. They create a new list/set on updates to avoid concurrent modification exception. \n", "See the implementation. It basically stores an int:\ntransient volatile int modCount;\n\nand that is incremented when there is a 'structural modification' (like remove). If iterator detects that modCount changed it throws Concurrent modification exception. \nSynchronizing (via Collections.synchronizedXXX) won't do good since it does not guarantee iterator safety it only synchronizes writes and reads via put, get, set ...\nSee java.util.concurennt and apache collections framework (it has some classes that are optimized do work correctly in concurrent environment when there is more reads (that are unsynchronized) than writes - see FastHashMap. \n", "This will get rid of your concurrent modification exception. I won't speak to the efficiency however ;)\nList<Blah> list = fillMyList();\nList<Blah> temp = new ArrayList<Blah>();\nfor (Blah blah : list) {\n     //list.remove(blah);  would throw the exception\n     temp.add(blah);\n}\nlist.removeAll(temp);\n\n", "Your original question seems to be asking for an iterator that sees live updates to the underlying collection while remaining thread-safe. This is an incredibly expensive problem to solve in the general case, which is why none of the standard collection classes do it.\nThere are lots of ways of achieving partial solutions to the problem, and in your application, one of those may be sufficient.\nJason gives a specific way to achieve thread safety, and to avoid throwing a ConcurrentModificationException, but only at the expense of liveness.\nJavamann mentions two specific classes in the java.util.concurrent package that solve the same problem in a lock-free way, where scalability is critical. These only shipped with Java 5, but there have been various projects that backport the functionality of the package into earlier Java versions, including this one, though they won't have such good performance in earlier JREs.\nIf you are already using some of the Apache Commons libraries, then as jacekfoo points out, the apache collections framework contains some helpful classes.\nYou might also consider looking at the Google collections framework.\n", "Yes, it's the same I believe...\nHere's a video showing it in action\n", "In this case I think your best bet might be to write a custom classloader to handle all classloading in your application, and whenever an exception class is requested you return a class that wraps the requested exception class. This wrapper calls through to the wrapped exception but also logs the exception event.\n", "The new debugging hooks in Java 1.5 let you do this.  It enables e.g. \"break on any exception\" in debuggers.\nHere's the specific Javadoc you need.\n", "Check out Thread.UncaughtExceptionHandler.  You can set it per thread or a default one for the entire VM.\nThis would at least help you catch the ones you miss.\n", "If you're using a web framework such as Spring then you can delegate in your web.xml to a page and then use the controller to send the email. For example:\nIn web.xml:\n<error-page>\n  <error-code>500</error-code>\n  <location>/error/500.htm</location>\n</error-page>\n\nThen define /error/500.htm as a controller. You can access the exception from the parameter javax.servlet.error.exception:\nException exception = (Exception) request.getAttribute(\"javax.servlet.error.exception\");\n\nIf you're just running a regular Java program, then I would imagine you're stuck with public static void main(String[] args) { try { ... } catch (Exception e) {} }\n", "I assume you don't mean any Exception but rather any uncaught Exception.\nIf this is the case this article on the Sun Website has some ideas.  You need to wrap your top level method in a try-catch block and also do some extra work to handle other Threads.\n", "You probobly don't want to mail on any exception.  There are lots of code in the JDK that actaully depend on exceptions to work normally.  What I presume you are more inerested in are uncaught exceptions.  If you are catching the exceptions you should handle notifications there.\nIn a desktop app there are two places to worry about this, in the event-dispatch-thread (EDT) and outside of the EDT.  Globaly you can register a class implementing java.util.Thread.UncaughtExceptionHandler and register it via java.util.Thread.setDefaultUncaughtExceptionHandler.  This will get called if an exception winds down to the bottom of the stack and the thread hasn't had a handler set on the current thread instance on the thread or the ThreadGroup.\nThe EDT has a different hook for handling exceptions.  A system property 'sun.awt.exception.handler' needs to be registerd with the Fully Qualified Class Name of a class with a zero argument constructor.  This class needs an instance method handle(Throwable) that does your work.  The return type doesn't matter, and since a new instance is created every time, don't count on keeping state.\nSo if you don't care what thread the exception occurred in a sample may look like this:\nclass ExceptionHandler implements Thread.UncaughtExceptionHandler {\n  public void uncaughtException(Thread t, Throwable e) {\n    handle(e);\n  }\n\n  public void handle(Throwable throwable) {\n    try {\n      // insert your e-mail code here\n    } catch (Throwable t) {\n      // don't let the exception get thrown out, will cause infinite looping!\n    }\n  }\n\n  public static void registerExceptionHandler() {\n    Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler());\n    System.setProperty(\"sun.awt.exception.handler\", ExceptionHandler.class.getName());\n  }\n}\n\nAdd this class into some random package, and then call the registerExceptionHandler method and you should be ready to go.\n", "Sending an email may not be possible if you are getting a runtime exception like OutOfMemoryError or StackOverflow.  Most likely you will have to spawn another process and catch any exceptions thrown by it (with the various techniques mentioned above).\n", "If you are using java 1.3/1.4, Thread.UncaughtExceptionHandler is not available. \nIn this case you can use a solution based on AOP to trigger some code when an exception is thrown. Spring and/or aspectJ might be helpful.\n", "Use the Context.addServlet overload that takes a ServletHolder.  ServletHolder is a class that accepts either a Class or a Servlet instance.\nServlet myServlet = new MyServlet();\nServletHolder holder = new ServletHolder(myServlet);\ncontext.addServlet(holder, \"/\");\n\nThis assumes Jetty 6.  I think it will work for Jetty 7 as well.\n", "I'm not sure why using Guice make's Justin's option not work for you.  What exactly is getting injected in?  I'm not sure if this would help you at all because it is very similar to what Justin wrote above but if you do it this way, Jetty will do the actually instantiating.\nContext context = new Context(server, \"/\", Context.NO_SESSIONS);\nServletHolder mainPageViewHolder = new ServletHolder(MainPageView.class);\n// Do this to force Jetty to instantiate the servlet\nmainPageViewHolder.getServlet();  \ncontext.addServlet(mainPageViewHolder, \"/\");\n\n", "Have you checked the logs in runtime/.metadata folder?, Also make sure to validate all plugins in the runtime. Having them as a dependency doesn't necessarily mean they are added to the runtime. This is probably the biggest gotcha when launching an rcp app.\n", "I wasn't able to locate the runtime/.metadata folder, but this very helpful post directed me to add -consoleLog and -noExit to my runtime arguments, which dumped the errors to the console.  Configuration problems.\n", "The parseDate and formatDate tags work, but they work with Date objects.\nYou can call new java.util.Date(longvalue) to get a date object, then pass that to the standard tag.\nsomewhere other than the jsp create your date object.\nlong longvalue = ...;//from database.\njava.util.Date dateValue = new java.util.Date(longvalue);\nrequest.setAttribute(\"dateValue\", dateValue);\n\nput it on the request and then you can access it in your tag like this.\n<fmt:formatDate value=\"${dateValue}\" pattern=\"MM/dd/yyyy HH:mm\"/>\n\n", "I guess you have 2 choices\nIf your use-cases never require updates to both databases within the same transaction, then you can use two JpaTransactionManagers, but I'm not sure you will be able to use the @Transactional approach? In this case, you would need to fallback on the older mechanism of using a simple TransactionProxyFactoryBean to define transaction boundaries, eg:\n<bean id=\"firstRealService\" class=\"com.acme.FirstServiceImpl\"/>\n<bean id=\"firstService\"  \n    class=\"org.springframework.transaction.interceptor.TransactionProxyFactoryBean\">\n    <property name=\"transactionManager\" ref=\"firstJpaTm\"/>\n    <property name=\"target\" ref=\"firstRealService\"/>\n    <property name=\"transactionAttributes\">\n        <props>\n           <prop key=\"insert*\">PROPAGATION_REQUIRED</prop>\n           <prop key=\"update*\">PROPAGATION_REQUIRED</prop>\n           <prop key=\"*\">PROPAGATION_REQUIRED,readOnly</prop>\n        </props>\n    </property>\n</bean>\n<!-- similar for your second service -->\n\nIf you are require a transaction spanning both databases, then you will need to use a JTA transaction manager. The API states:\n\nThis transaction manager is appropriate for applications that use a single JPA EntityManagerFactory for transactional data access. JTA (usually through JtaTransactionManager) is necessary for accessing multiple transactional resources within the same transaction. Note that you need to configure your JPA provider accordingly in order to make it participate in JTA transactions.\n\nWhat this means is that you will need to provide a JTA transaction manager. In our application, we use config similar to the following:\n<tx:annotation-driven transaction-manager=\"txManager\"/>\n\n<bean id=\"txManager\" \n    class=\"org.springframework.transaction.jta.JtaTransactionManager\">\n    <property name=\"transactionManagerName\" value=\"appserver/jndi/path\" />\n</bean>\n\nIf you are deploying within an appserver, then the spring JtaTransactionManager needs to do a lookup to the real XA-compliant JTA transaction manager provided by the appserver. However, you can also use a standalone JTA transaction manager (but I haven't tried this myself yet)\nAs for configuring the Jpa persistence provider, I'm not that familiar. What JPA persistence provider are you using?\nThe code above is based on our approach, where we were using native Hibernate as opposed to Hibernate's JPA implementation. In this case, we were able to get rid of the two HibernateTransactionManager beans, and simply ensure that both SessionFactories were injected with the same JTA TM, and then use the tx:annotation-driven element.\nHope this helps\n", "The only situation in which you can have two Spring transaction managers is if you never have both transactions open at one time.  This is not intrinsically to do with distributed transactions - the same restrictions apply even if you want the two datasources to have completely separate (but potentially overlapping in time) transaction lifecyles.\nInternally Spring's transaction managers all use Spring's TransactionSynchronizationManager which keeps a bunch of critical state in static ThreadLocal variables, so transaction managers are guaranteed to stomp all over each other's state.\n", "I'm not a Dreamweaver expert, but all Spry Accordian requires is the correct HTML structure. E.g.: \n   <div id=\"Accordion1\" class=\"Accordion\">\n            <div class=\"AccordionPanel\">\n                <div class=\"AccordionPanelTab\">Panel 1</div>\n                <div class=\"AccordionPanelContent\">\n                    Panel 1 Content<br/>\n                    Panel 1 Content<br/>\n                    Panel 1 Content<br/>\n                </div>\n            </div>\n    </div>\n\nProvided you have the JavaScript library loaded correctly, that should pretty much be all you need to do.\n", "The only other thing you might check is if your ids are getting munged by JSF.  Obviously that could impact the ability of Spry to wire itself to your accordion html structure.\n+1 to Dave's answer.\n", "Honestly I searched a while and there no decent JVM for windows mobile. The best bet I think is this : http://www2s.biglobe.ne.jp/~dat/java/project/jvm/index_en.html but it's JDK 1.3 compliant the last time I checked.\n", "Yes, I've tried doing things with Java on Windows Mobile. I tried really hard. The best advise I can give you is: Stop right now, and start using .NET Compact Framework.\nAnyway, the two 'good' JVMs for WM are IBM-J9 and NSICom Creme, which still are both terribile to work with. You've already seen Creme - IBM-J9 isn't much better. They are slow, clumsy, not native looking and hard to install for end users. Also don't ever think of doing exotic things like dialing a phonenumber or even launching another application. If you really want to try, there's an evaluation version of J9 available here. (which is identical to the full version).\nI'm not against Java in any way, but on Windows Mobile i recommend saving the trouble and using C#.\n", "You might also look at Skelmir's CEEJ.  It's been several years since I used it, but even then I was impressed with their code coverage and especially the performance.\n", "There are a number of useful methods for calculating the day of the week.  With a little bit of added algebra, one of these should be adaptable to your problem.\n", "That looks like a perfectly acceptable solution. If that works, use it. That is minimal code and there's no reason to optimize it unless you have to. \n", "That won't work. Your loop is going to loop 13 times (0 thru 12).\n", "Slightly easier to read, brute-force approach:\npublic int getLastFriday(int month, int year) {\n    Calendar cal = Calendar.getInstance();\n    cal.set(year, month, 1, 0, 0, 0); // set to first day of the month\n    cal.set(Calendar.MILLISECOND, 0);\n\n    int friday = -1;\n    while (cal.get(Calendar.MONTH) == month) { \n        if (cal.get(Calendar.DAY_OF_WEEK) == Calendar.FRIDAY) { // is it a friday?\n            friday = cal.get(Calendar.DAY_OF_MONTH);\n            cal.add(Calendar.DAY_OF_MONTH, 7); // skip 7 days\n        } else {\n            cal.add(Calendar.DAY_OF_MONTH, 1); // skip 1 day\n        }\n    }\n    return friday;\n}\n\n", "I would use a library like Jodatime. It has a very useful API and it uses normal month numbers. And best of all, it is thread safe.\nI think that you can have a solution with (but possibly not the shortest, but certainly more readable):\nDateTime now = new DateTime();      \nDateTime dt = now.dayOfMonth().withMaximumValue().withDayOfWeek(DateTimeConstants.FRIDAY);\nif (dt.getMonthOfYear() != now.getMonthOfYear()) {\n  dt = dt.minusDays(7);\n}       \nSystem.out.println(dt);\n\n", "You never need to loop to find this out.  For determining the \"last Friday\" date for this month, start with the first day of next month.  Subtract the appropriate number of days depending on what (numerical) day of the week the first day of the month falls on.  There's your \"last Friday.\" I'm pretty sure it can be boiled down to a longish one-liner, but I'm not a java dev.  So I'll leave that to someone else. \n", "Though I agree with scubabbl, here is a version without an inner while.\nint year = 2008;\nfor (int m = Calendar.JANUARY; m <= Calendar.DECEMBER; m++) {\n    Calendar cal = new GregorianCalendar(year, m, 1);\n    cal.set(Calendar.DAY_OF_MONTH, cal.getActualMaximum(Calendar.DAY_OF_MONTH));\n    int diff = Calendar.FRIDAY - cal.get(Calendar.DAY_OF_WEEK);\n    if (diff > 0) {\n        diff -= 7;\n    }\n    cal.add(Calendar.DAY_OF_MONTH, diff);\n    System.out.println(cal.getTime());\n}\n\n", "You need to know two things - the number of days in the month, and the weekday the first of the month falls on.\nIf the first day of the month is a\n\nSunday, then the last Friday is always the 27th.\nMonday, then the last Friday is always the 26th.\nTuesday, then the last Friday is always the 25th.\nWednesday, then the last Friday is the 24th, unless there are 31 days in the month, then it's the 31st\nThursday, then the last Friday is the 23rd, unless there are 30 days or more in the month, then it's the 30th.\nFriday, then the last Friday is the 22nd, unless there are 29 days or more in the month, then it's the 29th.\nSaturday, then the last Friday is always the 28th.\n\nThere are only three special cases.  A single switch statement and three if statements (or ternary operators if you like every case to have a single line...)\nWork it out on paper.  Don't need any special libraries, functions, julian conversions, etc (well, except to get the weekday the 1st falls on, and maybe the number of days that month... )\nAaron implemented it in Java.\n-Adam\n", "Based on marked23's suggestion:\npublic Date getLastFriday( int month, int year ) {\n   Calendar cal = Calendar.getInstance();\n   cal.set( year, month + 1, 1 );\n   cal.add( Calendar.DAY_OF_MONTH, -( cal.get( Calendar.DAY_OF_WEEK ) % 7 + 1 ) );\n   return cal.getTime();\n}\n\n", "ColinD's solution shouldn't work: try running it with December 2008 and it'll try setting the 13th month of a year. However, replacing \"cal.set(...)\" with \"cal.add(Calendar.MONTH, 1)\" should work fine.\n", "code for Adam Davis's algorithm\npublic static int getLastFriday(int month, int year)\n{\nCalendar cal = Calendar.getInstance();\ncal.set(year, month, 1, 0, 0, 0); // set to first day of the month\ncal.set(Calendar.MILLISECOND, 0);\n\nint firstDay = cal.get(Calendar.DAY_OF_WEEK);\nint daysOfMonth = cal.getMaximum(Calendar.DAY_OF_MONTH);\n\nswitch (firstDay)\n{\n    case Calendar.SUNDAY :\n        return 27;\n    case Calendar.MONDAY :\n        return 26;\n    case Calendar.TUESDAY :\n        return 25;\n    case Calendar.WEDNESDAY :\n        if (daysOfMonth == 31) return 31;\n        return 24;\n    case Calendar.THURSDAY :\n        if (daysOfMonth >= 30) return 30;\n        return 23;\n    case Calendar.FRIDAY :\n        if (daysOfMonth >= 29) return 29;\n        return 22;\n    case Calendar.SATURDAY :\n        return 28;\n}\nthrow new RuntimeException(\"what day of the month?\");\n}}\n\n", "I've always had to make a second call using query after the insert.\nYou could use an ORM like hibernate. I think it does this stuff for you.\n", "The following snibblet of code should do ya':\nPreparedStatement stmt = conn.prepareStatement(sql, \n                                 Statement.RETURN_GENERATED_KEYS);\n// ...\n\nResultSet res = stmt.getGeneratedKeys();\nwhile (res.next())\n    System.out.println(\"Generated key: \" + res.getInt(1));\n\nThis is known to work on the following databases\n\nDerby\nMySQL\nSQL Server\n\nFor databases where it doesn't work (HSQLDB, Oracle, PostgreSQL, etc), you will need to futz with database-specific tricks.  For example, on PostgreSQL you would make a call to SELECT NEXTVAL(...) for the sequence in question.\nNote that the parameters for executeUpdate(...) are analogous.\n", "@ScArcher2 : I agree, Hibernate needs to make a second call to get the newly generated identity UNLESS an advanced generator strategy is used (sequence, hilo...)\n", "ResultSet keys = statement.getGeneratedKeys();\n\nLater, just iterate over ResultSet.\n", "@ScArcher2\nMaking a second call is extremely dangerous.  The process of INSERTing and selecting the resultant auto-generated keys must be atomic, otherwise you may receive inconsistent results on the key select.  Consider two asynchronous INSERTs where they both complete before either has a chance to select the generated keys.  Which process gets which list of keys?  Most cross-database ORMs have to do annoying things like in-process thread locking in order to keep results deterministic.  This is not something you want to do by hand, especially if you are using a database which does support atomic generated key retrieval (HSQLDB is the only one I know of which does not).\n", "ArrayList is not thread-safe. From the relevant Javadoc:\n\nNote that this implementation is not\n  synchronized. If multiple threads\n  access an ArrayList instance\n  concurrently, and at least one of the\n  threads modifies the list\n  structurally, it must be synchronized\n  externally.\n\nIf you need a thread-safe implementation of List, there are (at least) two provided in the JDK: CopyOnWriteArrayList and Vector.\n", "ArrayList is not thread-safe. You can obtain a thread-safe List with Collections.synchronizedList. However, it is much simpler to use an AtomicInteger in your case or AtomicReference in a more general case.\nfinal AtomicInteger resultAtomicInteger = new AtomicInteger();\nDisplay.getCurrent().syncExec(new Runnable() { \n    public void run() {\n        MessageBox mb = /* ... */;\n            /* set up messagebox */\n        resultAtomicInteger.set(mb.open());\n}});\nif (SWT.OK == resultAtomicInteger.get()) { /* ... */ }\n\n", "You could use an Integer[1] array to make it more concise but I don't think it can directly update a non-final variable from inside an anonymous inner class.\nfinal Integer[] result = new Integer[1];\n\nI thought that you had to declare results as final (but that change wouldn't affect your code).  Since the current Thread blocks until the inner Thread is finished I don't think you need to worry about synchronization (but you might need to make the variable violate so that you see the result).\n", "If this happens often, you better use subscribe/notify model between your process and view. Your view subscribes to the event which should trigger that message box and gets notified when conditions met.\n", "Using Jad to decompile it is probably your best option. Unless the code has been obfuscated, it will produce an okay result.\n", "That's compiled code, you'll need to use a decompiler like JAD: http://www.kpdus.com/jad.html\n", "You want a java decompiler, you can use the command line tool javap to do this.  Also, Java Decompiler HOW-TO describes how you can decompile a class file.\n", "what you are looking for is a java de-compiler.  I recommend JAD http://www.kpdus.com/jad.html  It's free for non commercial use and gets the job done. \nNote: this isn't going to make the code exactly the same as what was written. i.e. you're going to lose comments and possibly variable names, so it's going to be a little bit harder than just reading normal source code.    If the developer is really secretive they will have obfuscated their code as well, making it even harder to read. \n", "As suggested you can use JAD to decompile it and view the files. To make it easier to read you can use the JADclipse plugin for eclipse to integrate JAD directly to eclipse or use DJ Java Decompiler which is much easier to use than command line JAD\n", "If you don't mind reading bytecode, javap should work fine. It's part of the standard JDK installation.\nUsage: javap <options> <classes>...\n\nwhere options include:\n   -c                        Disassemble the code\n   -classpath <pathlist>     Specify where to find user class files\n   -extdirs <dirs>           Override location of installed extensions\n   -help                     Print this usage message\n   -J<flag>                  Pass <flag> directly to the runtime system\n   -l                        Print line number and local variable tables\n   -public                   Show only public classes and members\n   -protected                Show protected/public classes and members\n   -package                  Show package/protected/public classes\n                             and members (default)\n   -private                  Show all classes and members\n   -s                        Print internal type signatures\n   -bootclasspath <pathlist> Override location of class files loaded\n                             by the bootstrap class loader\n   -verbose                  Print stack size, number of locals and args for methods\n                             If verifying, print reasons for failure\n\n", "JAD is an excellent option if you want readable Java code as a result.  If you really want to dig into the internals of the .class file format though, you're going to want javap.  It's bundled with the JDK and allows you to \"decompile\" the hexadecimal bytecode into readable ASCII.  The language it produces is still bytecode (not anything like Java), but it's fairly readable and extremely instructive.\nAlso, if you really want to, you can open up any .class file in a hex editor and read the bytecode directly.  The result is identical to using javap.\n", "jd-gui is the best decompiler at the moment. it can handle newer features in Java, as compared to the getting-dusty JAD.\n", "You need to use a decompiler.  Others have suggested JAD, there are other options, JAD is the best.\nI'll echo the comments that you may lose a bit compared to the original source code.  It is going to look especially funny if the code used generics, due to erasure.\n", "JAD and/or JADclipse Eclipse plugin, for sure.\n", "There is no need to decompile Applet.class. The public Java API classes sourcecode comes with the JDK (if you choose to install it), and is better readable than decompiled bytecode. You can find compressed in src.zip (located in your JDK installation folder).\n", "If the class file you want to look into is open source, you should not decompile it, but instead attach the source files directly into your IDE. that way, you can just view the code of some library class as if it were your own\n", "EDIT: Cleanup info and summarize\nSummary:\n\nIts a feature, not a bug\nIt can be turned of with -XX:-UsePerfData which might hurt performance\n\nRelevant info:\n\nSun forum\nBugreport\n\n", "Try JVM option -XX:-UsePerfData\nmore info\nThe following might be helpful that is from link https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html\n-XX:+UsePerfData\n\n    Enables the perfdata feature. This option is enabled by default\n    to allow JVM monitoring and performance testing. Disabling it \n    suppresses the creation of the hsperfdata_userid directories. \n    To disable the perfdata feature, specify -XX:-UsePerfData.\n\n", "From svrist's link:\n\nThe first item in http://java.sun.com/performance/jvmstat/faq.html mentions an option which you can turn off to disable the whole suite of features: -XX:-UsePerfData.\n\n", "According to the filed bug report there is a work-around:\n\nThis undocumented option will disable\n  the perfdata feature:\n  -XX:-UsePerfData\n\nIt's worth mentioning that it is a feature though, not a bug. The above work-around just disables the feature.\n", "I think your hope is woefully naive. Specifically, it needs to deal with the issue that Integer can potentially be null, whereas int can not be. That alone is reason enough to store the object pointer.\nThat said, the actual object pointer will be to a immutable int instance, notably for a select subset of integers.\n", "It won't be much slower, but because an Integer[] must accept \"null\" as an entry and int[] doesn't have to, there will be some amount of bookkeeping involved, even if Integer[] is backed by an int[].\nSo if every last ounce of performance matters, user int[]\n", "The reason that Integer can be null, whereas int cannot, is because Integer is a full-fledged Java object, with all of the overhead that includes. There's value in this since you can write\nInteger foo = new Integer();\nfoo = null; \n\nwhich is good for saying that foo will have a value, but it doesn't yet. \nAnother difference is that int performs no overflow calculation. For instance,\nint bar = Integer.MAX_VALUE;\nbar++;\n\nwill merrily increment bar and you end up with a very negative number, which is probably not what you intended in the first place.\nfoo = Integer.MAX_VALUE;\nfoo++;\n\nwill complain, which I think would be better behavior. \nOne last point is that Integer, being a Java object, carries with it the space overhead of an object. I think that someone else may need to chime in here, but I believe that every object consumes 12 bytes for overhead, and then the space for the data storage itself. If you're after performance and space, I wonder whether Integer is the right solution.\n", "John Rose working on fixnums in the JVM to fix this problem.\n", "No VM I know of will store an Integer[] array like an int[] array for the following reasons:\n\nThere can be null Integer objects in the array and you have no bits left for indicating this in an int array. The VM could store this 1-bit information per array slot in a hiden bit-array though.\nYou can synchronize in the elements of an Integer array. This is much harder to overcome as the first point, since you would have to store a monitor object for each array slot.\nThe elements of Integer[] can be compared for identity. You could for example create two Integer objects with the value 1 via new and store them in different array slots and later you retrieve them and compare them via ==. This must lead to false, so you would have to store this information somewhere. Or you keep a reference to one of the Integer objects somewhere and use this for comparison and you have to make sure one of the == comparisons is false and one true. This means the whole concept of object identity is quiet hard to handle for the optimized Integer array.\nYou can cast an Integer[] to e.g. Object[] and pass it to methods expecting just an Object[]. This means all the code which handles Object[] must now be able to handle the special Integer[] object too, making it slower and larger.\n\nTaking all this into account, it would probably be possible to make a special Integer[] which saves some space in comparison to a naive implementation, but the additional complexity will likely affect a lot of other code, making it slower in the end.\nThe overhead of using Integer[] instead of int[] can be quiet large in space and time. On a typical 32 bit VM an Integer object will consume 16 byte (8 byte for the object header, 4 for the payload and 4 additional bytes for alignment) while the Integer[] uses as much space as int[]. In 64 bit VMs (using 64bit pointers, which is not always the case) an Integer object will consume 24 byte (16 for the header, 4 for the payload and 4 for alignment). In addition a slot in the Integer[] will use 8 byte instead of 4 as in the int[]. This means you can expect an overhead of 16 to 28 byte per slot, which is a factor of 4 to 7 compared to plain int arrays.\nThe performance overhead can be significant too for mainly two reasons:\n\nSince you use more memory, you put on much more pressure on the memory subsystem, making it more likely to have cache misses in the case of Integer[]. For example if you traverse the contents of the int[] in a linear manner, the cache will have most of the entries already fetched when you need them (since the layout is linear too). But in case of the Integer array, the Integer objects itself might be scattered randomly in the heap, making it hard for the cache to guess where the next memory reference will point to.\nThe garbage collection has to do much more work because of the additional memory used and because it has to scan and move each Integer object separately, while in the case of int[] it is just one object and the contents of the object doesn't have to be scanned (they contain no reference to other objects).\n\nTo sum it up, using an int[] in performance critical work will be both much faster and memory efficient than using an Integer array in current VMs and it is unlikely this will change much in the near future.\n", "Unfortunately, I don't think that there is a way to do this.  Your best bet would pro ably be to give up in emums altogether and use conventional class extension and static members.  Otherwise, get used to duplicating that code.  Sorry.\n", "It seems like you are actually implementing run time type information. Java provides this as a language feature. \nI suggest you look up RTTI or reflection.\n", "I don't think this is possible. However, you could use the enum's valueOf(String name) method if you were going to use the enum value's name as your code.\n", "How about a static generic method? You could reuse it from within your enum's getByCode() methods or simply use it directly. I always user integer ids for my enums, so my getById() method only has do do this: return values()[id]. It's a lot faster and simpler.\n", "Abstract enums are potentially very useful (and currently not allowed).  But a proposal and prototype exists if you'd like to lobby someone in Sun to add it:\nhttp://freddy33.blogspot.com/2007/11/abstract-enum-ricky-carlson-way.html\nSun RFE:\nhttp://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6570766\n", "I had a similar issue with a localization component that I wrote. My component is designed to access localized messages with enum constants that index into a resource bundle, not a hard problem.\nI found that I was copying and pasting the same \"template\" enum code all over the place. My solution to avoid the duplication is a code generator that accepts an XML configuration file with the enum constant names and constructor args. The output is the Java source code with the \"duplicated\" behaviors.\nNow, I maintain the configuration files and the generator, not all of the duplicated code. Everywhere I would have had enum source code, there is now an XML config file. My build scripts detect out-of-date generated files and invoke the code generator to create the enum code.\nYou can see this component here. The template that I was copying and pasting is factored out into an XSLT stylesheet. The code generator runs the stylesheet transformation. An input file is quite concise compared to the generated enum source code.\nHTH,\nGreg\n", "If you really want inheritance, don't forget that you can implement the enum pattern yourself, like in the bad old Java 1.4 days.\n", "About as close as I got to what you want was to create a template in IntelliJ that would 'implement' the generic code (using enum's valueOf(String name)). Not perfect but works quite well.\n", "You could factor the duplicated code into a CodeableEnumHelper class:\npublic class CodeableEnumHelper {\n    public static CodeableEnum getByCode(String code, CodeableEnum[] values) {\n        for (CodeableEnum e : values) {\n            if (e.getCode().equalsIgnoreCase(code)) {\n                return e;\n            }\n        }\n        return null;\n    }\n}\n\nEach CodeableEnum class would still have to implement a getByCode method, but the actual implementation of the method has at least been centralized to a single place.\npublic enum IMType implements CodeableEnum {\n    ...\n    public IMType getByCode(String code) {\n        return (IMType)CodeableEnumHelper.getByCode(code, this.values());\n    } \n}\n\n", "Create a type-safe utility class which will load enums by code:\nThe interface comes down to:\npublic interface CodeableEnum {\n    String getCode();\n}\n\nThe utility class is:\nimport java.lang.reflect.InvocationTargetException;\n\n\npublic class CodeableEnumUtils {\n    @SuppressWarnings(\"unchecked\")\n    public static <T extends CodeableEnum>  T getByCode(String code, Class<T> enumClass) throws IllegalArgumentException, SecurityException, IllegalAccessException, InvocationTargetException, NoSuchMethodException {\n        T[] allValues = (T[]) enumClass.getMethod(\"values\", new Class[0]).invoke(null, new Object[0]);\n        for (T value : allValues) {\n            if (value.getCode().equals(code)) {\n                return value;\n            }\n        }\n        return null;\n}\n\n}\nA test case demonstrating usage:\nimport junit.framework.TestCase;\n\n\npublic class CodeableEnumUtilsTest extends TestCase {\n    public void testWorks() throws Exception {\n    assertEquals(A.ONE, CodeableEnumUtils.getByCode(\"one\", A.class));\n      assertEquals(null, CodeableEnumUtils.getByCode(\"blah\", A.class));\n    }\n\nenum A implements CodeableEnum {\n    ONE(\"one\"), TWO(\"two\"), THREE(\"three\");\n\n    private String code;\n\n    private A(String code) {\n        this.code = code;\n    }\n\n    public String getCode() {\n        return code;\n    }   \n}\n}\n\nNow you are only duplicating the getCode() method and the getByCode() method is in one place. It might be nice to wrap all the exceptions in a single RuntimeException too :)\n", "To tidy up dave's code:\npublic class CodeableEnumHelper {\n    public static <E extends CodeableEnum> E getByCode(\n        String code, E[] values\n    ) {\n        for (E e : values) {\n            if (e.getCode().equalsIgnoreCase(code)) {\n                return e;\n            }\n        }\n        return null;\n    }\n}\n\npublic enum IMType implements CodableEnum {\n    ...\n    public IMType getByCode(String code) {\n        return CodeableEnumHelper.getByCode(code, values());\n    } \n}\n\nOr more efficiently:\npublic class CodeableEnumHelper {\n    public static <E extends CodeableEnum> Map<String,E> mapByCode(\n        E[] values\n    ) {\n        Map<String,E> map = new HashMap<String,E>();\n        for (E e : values) {\n            map.put(e.getCode().toLowerCase(Locale.ROOT), value) {\n        }\n        return map;\n    }\n}\n\npublic enum IMType implements CodableEnum {\n    ...\n    private static final Map<String,IMType> byCode =\n        CodeableEnumHelper.mapByCode(values());\n    public IMType getByCode(String code) {\n        return byCode.get(code.toLowerCase(Locale.ROOT));\n    } \n}\n\n", "In your specific case, the getCode() / getByCode(String code) methods seems very closed (euphemistically speaking) to the behaviour of the toString() / valueOf(String value) methods provided by all enumeration. Why don't you want to use them?\n", "Array.newInstance(Class componentType, int length)\n\n", "By looking at how ArrayList does it:\npublic <T> T[] toArray(T[] a) {\n    if (a.length < size)\n        a = (T[])java.lang.reflect.Array.newInstance(a.getClass().getComponentType(), size);\n    System.arraycopy(elementData, 0, a, 0, size);\n    if (a.length > size)\n        a[size] = null;\n    return a;\n}\n\n", "Use the static method\njava.lang.reflect.Array.newInstance(Class<?> componentType, int length)\n\nA tutorial on its use can be found here:\nhttp://java.sun.com/docs/books/tutorial/reflect/special/arrayInstance.html\n", "To create a new array of a generic type (which is only known at runtime), you have to create an array of Objects and simply cast it to the generic type and then use it as such. This is a limitation of the generics implementation of Java (erasure).\nT[] newArray = (T[]) new Object[X]; // where X is the number of elements you want.\n\nThe function then takes the array given (a) and uses it (checking it's size beforehand) or creates a new one.\n", "You don't say if your build is run as the currently logged on user. If not, the fact that explorer.exe or other process has the directory shown can cause it to be locked as well. But deleting it in that same explorer.exe process would succeed. Try Unlocker from http://ccollomb.free.fr/unlocker/ to see what processes have the files/directories locked.\n", "Is there something from the Ant process that is holding the files (or directory) open?  This would cause the situation where you could delete them after running ant, but not during.  \n", "It depends ...\n\nThe Ant process doesn't have enough permissions to delete the files (typically because they were created by a different user, perhaps a system user).  Try running your Ant script as an administrative user, using Run As.\nWindows is really bad at cleaning up file locks when processes die or are killed; consequently, Windows thinks the file is locked by a process that died (or was killed).  There's nothing you can do in this situation other than reboot.\nGet better tools to inspect your system state.  I recommend downloading the SysInternals tools and using them instead of the default Windows equivalents.\n\n", "I encountered this problem once.\nIt was because the file i tried to delete was a part of a classpath for another task.\n", "AMF is a messaging protocol commonly used to talk between flash and a backend system. There're several Java implementations, but I haven't used any of them so can't tell you which is best.\n\nBlaze DS\nRed5\nGranite DS\n\nFlash can also talk plain old XML, SOAP or REST to the backend, so depending on your codebase that might be easier.\n", "MERAPI is a bridge framework for communication between Java and Flash.\n", "There is also OpenAMF.  It is very mature, stable, simple and lightweight relative to Blaze, Red5 and Granite.  \nBUT, it is also dated (AMF0 protocol only) and the project is no longer active.  Lots of people are still using it out in the wild.  And the documentation is borderline non-existent.  \n", "Granite DS is a good solution, it will allow you to set up services to communicate not only to POJO's but to EJB3 session beans also. It comes with a GAS code generator for converting your java beans into as3 equivalents and also data push to the client using the gravity side project.\n", "I agree on Granite DS. It was easy to setup and get going. \nI have used it to talk directly with a EJB3 bean communicating with thrift generated objects.\n", "I've been given the impression that Sun wants to discourage the creation of Applets and encourage the usage of Java Web Start.  I think this issue of signing applets is part of the problem.  See this documentation from Sun: Java Web start FAQ.\nI haven't tried this, but could you segment the features that need signing into separate jars that only require permission checks when the user needs the functionality in those jars?\n", "Try splitting your code into an unsigned jar and a signed jar.\n", "In theory you can (signed + unsigned jar), but in practice it will result that your code will be handled as unsigned. The access decision should be made from the thread, not the immediate caller.  If the thread contains in the stack a call made from an object from unsigned code, the whole call should be treated as unsigned.  If you work around this you've found a bug.\nIn other words... No.\nIf I'm not being to curious, may I inquire why do you want to partially sign your code?\n", "Well you can really shoot yourself in the foot with operator overloading. It's like with pointers people make stupid mistakes with them and so it was decided to take the scissors away.\nAt least I think that's the reason.\nI'm on your side anyway. :)\n", "I think this may have been a conscious design choice to force developers to create functions whose names clearly communicate their intentions. In C++ developers would overload operators with functionality that would often have no relation to the commonly accepted nature of the given operator, making it nearly impossible to determine what a piece of code does without looking at the definition of the operator.\n", "The Java designers decided that operator overloading was more trouble than it was worth. Simple as that.\nIn a language where every object variable is actually a reference, operator overloading gets the additional hazard of being quite illogical - to a C++ programmer at least. Compare the situation with C#'s == operator overloading and Object.Equals and Object.ReferenceEquals (or whatever it's called).\n", "Assuming Java as the implementation language then a, b, and c would all be references to type Complex with initial values of null. Also assuming that Complex is immutable as the mentioned BigInteger and similar immutable BigDecimal, I'd I think you mean the following, as you're assigning the reference to the Complex returned from adding b and c, and not comparing this reference to a.\n\nIsn't :\nComplex a, b, c; a = b + c;\n\nmuch simpler than:\nComplex a, b, c; a = b.add(c);\n\n\n", "Groovy has operator overloading, and runs in the JVM. If you don't mind the performance hit (which gets smaller everyday). It's automatic based on method names. e.g., '+' calls the 'plus(argument)' method.\n", "Assuming you wanted to overwrite the previous value of the object referred to by 'a', then a member function would have to be invoked.\nComplex a, b, c;\n...\na = b.add(c)\n\nIn C++, this expression tells the compiler to create 3 objects on the stack, perform addition, and copy the resultant value from the temporary object into the existing object 'a'.\nHowever, in java, operator= doesn't perform value copy for reference types, and users can only create new reference types, not value types.  So for a user-defined type named 'Complex', assignment means to copy a reference to an existing value.\nconsider instead:\nb.set(1, 0); // initialize to real number '1'\na = b; \nb.set(2, 0);\nassert(!a.equals(b));\n\nIn C++, this copies the value, so the comparison will result not-equal.  In Java, operator= performs reference copy, so 'a' and 'b' are now referring to the same value.  As a result, the comparison will produce 'equal', since the object will compare equal to itself.\nThe difference between copies and references only adds to the confusion of operator overloading.  As Sebastian mentioned, Java and C# both have to deal with value and reference equality separately -- operator+ would likely deal with values and objects, but operator= is already implemented to deal with references.\nIn C++, you should only be dealing with one kind of comparison at a time, so it can be less confusing.  For example, on Complex, operator= and operator== are both working on values -- copying values and comparing values respectively.  \n", "James Gosling likened designing Java to the following:\n\n\"There's this principle about moving, when you move from one apartment to another apartment. An interesting experiment is to pack up your apartment and put everything in boxes, then move into the next apartment and not unpack anything until you need it. So you're making your first meal, and you're pulling something out of a box. Then after a month or so you've used that to pretty much figure out what things in your life you actually need, and then you take the rest of the stuff -- forget how much you like it or how cool it is -- and you just throw it away. It's amazing how that simplifies your life, and you can use that principle in all kinds of design issues: not do things just because they're cool or just because they're interesting.\"\n\nYou can read the context of the quote here\nBasically operator overloading is great for a class that models some kind of point, currency or complex number. But after that you start running out of examples fast.\nAnother factor was the abuse of the feature in C++ by developers overloading operators like '&&', '||', the cast operators and of course 'new'. The complexity resulting from combining this with pass by value and exceptions is well covered in the Exceptional C++ book.\n", "Sometimes it would be nice to have operator overloading, friend classes and multiple inheritance.\nHowever I still think it was a good decision. If Java would have had operator overloading then we could never be sure of operator meanings without looking through source code. At present that's not necessary. And I think your example of using methods instead of operator overloading is also quite readable. If you want to make things more clear you could always add a comment above hairy statements.\n// a = b + c\nComplex a, b, c; a = b.add(c);\n\n", "Check out Boost.Units: link text\nIt provides zero-overhead Dimensional analysis through operator overloading. How much clearer can this get?\nquantity<force>     F = 2.0*newton;\nquantity<length>    dx = 2.0*meter;\nquantity<energy>    E = F * dx;\nstd::cout << \"Energy = \" << E << endl;\n\nwould actually output \"Energy = 4 J\" which is correct.\n", "There are a lot of posts complaining about operator overloading.\nI felt I had to clarify the \"operator overloading\" concepts, offering an alternative viewpoint on this concept.\nCode obfuscating?\nThis argument is a fallacy.\nObfuscating is possible in all languages...\nIt is as easy to obfuscate code in C or Java through functions/methods as it is in C++ through operator overloads:\n// C++\nT operator + (const T & a, const T & b) // add ?\n{\n   T c ;\n   c.value = a.value - b.value ; // subtract !!!\n   return c ;\n}\n\n// Java\nstatic T add (T a, T b) // add ?\n{\n   T c = new T() ;\n   c.value = a.value - b.value ; // subtract !!!\n   return c ;\n}\n\n/* C */\nT add (T a, T b) /* add ? */\n{\n   T c ;\n   c.value = a.value - b.value ; /* subtract !!! */\n   return c ;\n}\n\n...Even in Java's standard interfaces\nFor another example, let's see the Cloneable interface in Java:\nYou are supposed to clone the object implementing this interface. But you could lie. And create a different object. In fact, this interface is so weak you could return another type of object altogether, just for the fun of it:\nclass MySincereHandShake implements Cloneable\n{\n    public Object clone()\n    {\n       return new MyVengefulKickInYourHead() ;\n    }\n}\n\nAs the Cloneable interface can be abused/obfuscated, should it be banned on the same grounds C++ operator overloading is supposed to be?\nWe could overload the toString() method of a MyComplexNumber class to have it return the stringified hour of the day. Should the toString() overloading be banned, too? We could sabotage MyComplexNumber.equals to have it return a random value, modify the operands... etc. etc. etc..\nIn Java, as in C++, or whatever language, the programmer must respect a minimum of semantics when writing code. This means implementing a add function that adds, and Cloneable implementation method that clones, and a ++ operator than increments.\nWhat's obfuscating anyway?\nNow that we know that code can be sabotaged even through the pristine Java methods, we can ask ourselves about the real use of operator overloading in C++?\nClear and natural notation: methods vs. operator overloading?\nWe'll compare below, for different cases, the \"same\" code in Java and C++, to have an idea of which kind of coding style is clearer.\nNatural comparisons:\n// C++ comparison for built-ins and user-defined types\nbool    isEqual          = A == B ;\nbool    isNotEqual       = A != B ;\nbool    isLesser         = A <  B ;\nbool    isLesserOrEqual  = A <= B ;\n\n// Java comparison for user-defined types\nboolean isEqual          = A.equals(B) ;\nboolean isNotEqual       = ! A.equals(B) ;\nboolean isLesser         = A.comparesTo(B) < 0 ;\nboolean isLesserOrEqual  = A.comparesTo(B) <= 0 ;\n\nPlease note that A and B could be of any type in C++, as long as the operator overloads are provided. In Java, when A and B are not primitives, the code can become very confusing, even for primitive-like objects (BigInteger, etc.)...\nNatural array/container accessors and subscripting:\n// C++ container accessors, more natural\nvalue        = myArray[25] ;         // subscript operator\nvalue        = myVector[25] ;        // subscript operator\nvalue        = myString[25] ;        // subscript operator\nvalue        = myMap[\"25\"] ;         // subscript operator\nmyArray[25]  = value ;               // subscript operator\nmyVector[25] = value ;               // subscript operator\nmyString[25] = value ;               // subscript operator\nmyMap[\"25\"]  = value ;               // subscript operator\n\n// Java container accessors, each one has its special notation\nvalue        = myArray[25] ;         // subscript operator\nvalue        = myVector.get(25) ;    // method get\nvalue        = myString.charAt(25) ; // method charAt\nvalue        = myMap.get(\"25\") ;     // method get\nmyArray[25]  = value ;               // subscript operator\nmyVector.set(25, value) ;            // method set\nmyMap.put(\"25\", value) ;             // method put\n\nIn Java, we see that for each container to do the same thing (access its content through an index or identifier), we have a different way to do it, which is confusing.\nIn C++, each container uses the same way to access its content, thanks to operator overloading.\nNatural advanced types manipulation\nThe examples below use a Matrix object, found using the first links found on Google for \"Java Matrix object\" and \"c++ Matrix object\":\n// C++ YMatrix matrix implementation on CodeProject\n// http://www.codeproject.com/KB/architecture/ymatrix.aspx\n// A, B, C, D, E, F are Matrix objects;\nE =  A * (B / 2) ;\nE += (A - B) * (C + D) ;\nF =  E ;                  // deep copy of the matrix\n\n// Java JAMA matrix implementation (seriously...)\n// http://math.nist.gov/javanumerics/jama/doc/\n// A, B, C, D, E, F are Matrix objects;\nE = A.times(B.times(0.5)) ;\nE.plusEquals(A.minus(B).times(C.plus(D))) ;\nF = E.copy() ;            // deep copy of the matrix\n\nAnd this is not limited to matrices. The BigInteger and BigDecimal classes of Java suffer from the same confusing verbosity, whereas their equivalents in C++ are as clear as built-in types.\nNatural iterators:\n// C++ Random Access iterators\n++it ;                  // move to the next item\n--it ;                  // move to the previous item\nit += 5 ;               // move to the next 5th item (random access)\nvalue = *it ;           // gets the value of the current item\n*it = 3.1415 ;          // sets the value 3.1415 to the current item\n(*it).foo() ;           // call method foo() of the current item\n\n// Java ListIterator<E> \"bi-directional\" iterators\nvalue = it.next() ;     // move to the next item & return the value\nvalue = it.previous() ; // move to the previous item & return the value\nit.set(3.1415) ;        // sets the value 3.1415 to the current item\n\nNatural functors:\n// C++ Functors\nmyFunctorObject(\"Hello World\", 42) ;\n\n// Java Functors ???\nmyFunctorObject.execute(\"Hello World\", 42) ;\n\nText concatenation:\n// C++ stream handling (with the << operator)\n                    stringStream   << \"Hello \" << 25 << \" World\" ;\n                    fileStream     << \"Hello \" << 25 << \" World\" ;\n                    outputStream   << \"Hello \" << 25 << \" World\" ;\n                    networkStream  << \"Hello \" << 25 << \" World\" ;\nanythingThatOverloadsShiftOperator << \"Hello \" << 25 << \" World\" ;\n\n// Java concatenation\nmyStringBuffer.append(\"Hello \").append(25).append(\" World\") ;\n\nOk, in Java you can use MyString = \"Hello \" + 25 + \" World\" ; too... But, wait a second: This is operator overloading, isn't it? Isn't it cheating???\n:-D\nGeneric code?\nThe same generic code modifying operands should be usable both for built-ins/primitives (which have no interfaces in Java), standard objects (which could not have the right interface), and user-defined objects.\nFor example, calculating the average value of two values of arbitrary types:\n// C++ primitive/advanced types\ntemplate<typename T>\nT getAverage(const T & p_lhs, const T & p_rhs)\n{\n   return (p_lhs + p_rhs) / 2 ;\n}\n\nint     intValue     = getAverage(25, 42) ;\ndouble  doubleValue  = getAverage(25.25, 42.42) ;\ncomplex complexValue = getAverage(cA, cB) ; // cA, cB are complex\nMatrix  matrixValue  = getAverage(mA, mB) ; // mA, mB are Matrix\n\n// Java primitive/advanced types\n// It won't really work in Java, even with generics. Sorry.\n\nDiscussing operator overloading\nNow that we have seen fair comparisons between C++ code using operator overloading, and the same code in Java, we can now discuss \"operator overloading\" as a concept.\nOperator overloading existed since before computers\nEven outside of computer science, there is operator overloading: For example, in mathematics, operators like +, -, *, etc. are overloaded.\nIndeed, the signification of +, -, *, etc. changes depending on the types of the operands (numerics, vectors, quantum wave functions, matrices, etc.).\nMost of us, as part of our science courses, learned multiple significations for operators, depending on the types of the operands. Did we find them confusing, them?\nOperator overloading depends on its operands\nThis is the most important part of operator overloading: Like in mathematics, or in physics, the operation depends on its operands' types.\nSo, know the type of the operand, and you will know the effect of the operation.\nEven C and Java have (hard-coded) operator overloading\nIn C, the real behavior of an operator will change according to its operands. For example, adding two integers is different than adding two doubles, or even one integer and one double. There is even the whole pointer arithmetic domain (without casting, you can add to a pointer an integer, but you cannot add two pointers...).\nIn Java, there is no pointer arithmetic, but someone still found string concatenation without the + operator would be ridiculous enough to justify an exception in the \"operator overloading is evil\" creed.\nIt's just that you, as a C (for historical reasons) or Java (for personal reasons, see below) coder, you can't provide your own.\nIn C++, operator overloading is not optional...\nIn C++, operator overloading for built-in types is not possible (and this is a good thing), but user-defined types can have user-defined operator overloads.\nAs already said earlier, in C++, and to the contrary to Java, user-types are not considered second-class citizens of the language, when compared to built-in types. So, if built-in types have operators, user types should be able to have them, too.\nThe truth is that, like the toString(), clone(), equals() methods are for Java (i.e. quasi-standard-like), C++ operator overloading is so much part of C++ that it becomes as natural as the original C operators, or the before mentioned Java methods.\nCombined with template programming, operator overloading becomes a well known design pattern. In fact, you cannot go very far in STL without using overloaded operators, and overloading operators for your own class.\n...but it should not be abused\nOperator overloading should strive to respect the semantics of the operator. Do not subtract in a + operator (as in \"do not subtract in a add function\", or \"return crap in a clone method\").\nCast overloading can be very dangerous because they can lead to ambiguities. So they should really be reserved for well defined cases. As for && and ||, do not ever overload them unless you really know what you're doing, as you'll lose the the short circuit evaluation that the native operators && and || enjoy.\nSo... Ok... Then why it is not possible in Java?\nBecause James Gosling said so:\n\nI left out operator overloading as a fairly personal choice because I had seen too many people abuse it in C++.\nJames Gosling. Source: http://www.gotw.ca/publications/c_family_interview.htm\n\nPlease compare Gosling's text above with Stroustrup's below:\n\nMany C++ design decisions have their roots in my dislike for forcing people to do things in some particular way [...] Often, I was tempted to outlaw a feature I personally disliked, I refrained from doing so because I did not think I had the right to force my views on others.\nBjarne Stroustrup. Source: The Desing and Evolution of C++ (1.3 General Background)\n\nWould operator overloading benefit Java?\nSome objects would greatly benefit from operator overloading (concrete or numerical types, like BigDecimal, complex numbers, matrices, containers, iterators, comparators, parsers etc.).\nIn C++, you can profit from this benefit because of Stroustrup's humility. In Java, you're simply screwed because of Gosling's personal choice.\nCould it be added to Java?\nThe reasons for not adding operator overloading now in Java could be a mix of internal politics, allergy to the feature, distrust of developers (you know, the saboteur ones that seem to haunt Java teams...), compatibility with the previous JVMs, time to write a correct specification, etc..\nSo don't hold your breath waiting for this feature...\nBut they do it in C#!!!\nYeah...\nWhile this is far from being the only difference between the two languages, this one never fails to amuse me.\nApparently, the C# folks, with their \"every primitive is a struct, and a struct derives from Object\", got it right at first try.\nAnd they do it in other languages!!!\nDespite all the FUD against used defined operator overloading, the following languages support it: Scala, Dart, Python, F#, C#, D, Algol 68, Smalltalk, Groovy, Perl 6, C++, Ruby, Haskell, MATLAB, Eiffel, Lua, Clojure, Fortran 90, Swift, Ada, Delphi 2005...\nSo many languages, with so many different (and sometimes opposing) philosophies, and yet they all agree on that point.\nFood for thought...\n", "Without getting into great detail, you should be looking at Spring and a familiarization with OSGI or the Eclipse RCP frameworks will also give you some fundamental concepts you will need to keep in mind.\n", "They are many way to do it but something simple can be by using Reflection. You write in your XML file name of file (that would be a class in reallity). You can than check what type is it and create it back with reflection. The class could have a common Interface that will let you find if the external file/class is really one of your module. Here is some information about Reflexion.\nYou can also use a precoded framework like this SourceForge onelink text that will give you a first good step to create module/plugin.\n", "You should definitely look at OSGi. It aims at being the component/plugin mechanism for Java. It allows you to modularize your code (in so-called bundles) and update bundles at runtime. You can also completely hide implementation packages from unwanted access by other bundles, eg. only provide the API.\nEclipse was the first major open-source project to implement and use OSGi, but they didn't fully leverage it (no plugin installations/updates without restarts). If you start from scratch though, it will give you a very good framework for a plugin system.\nApache Felix is a complete open-source implementation (and there are others, such as Eclipse Equinox).\n", "Another option is the ServiceLoader added in Java 1.6.  \n", "Short answer: No, they're different.\nLong answer: It's the same sort of certificate and it uses the same crypto software, but the certificate has flags indicating what it is allowed to be used for.  Code signing and web server are different uses.  \n", "When I import a new CA certificate in Firefox (etc.) I have the option of choosing which certificate uses I trust:\n\nSign servers\nSign code (like your applet)\nSign email certificates\n\nSo to me the answer is: Yes, they're the same. Furthermore, why not generate your own with OpenSSL  (man openssl, man x509, man req, etc. on Unix)? Do you want to just quiet down the warnings or do you want other people whom you've never met to trust your code? If you don't need other users to chain trust to the anchor CA's bundled with their browser, OS, etc., then use OpenSSL to generate your own.\nAnd ask \"How do I use OpenSSL to generate my own certificates?\" if the latter is your choice.\n", "Thawte offers code signing certificates here. I imagine other Certificate Authorities offer this service as well. You can also create self-signed certificates, with Java keytool.\n"]}